---
uid: web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-updatepanel-triggers
title: Seznámení s aktivační události pro ASP.NET AJAX UpdatePanel | Microsoft Docs
author: scottcate
description: Při práci se v editoru kódu v sadě Visual Studio, můžete si povšimnout (z IntelliSense), jsou dva podřízené elementy ovládací prvek UpdatePanel. Jeden z shod...
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/12/2008
ms.topic: article
ms.assetid: faab8503-2984-48a9-8a40-7728461abc50
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-updatepanel-triggers
msc.type: authoredcontent
ms.openlocfilehash: f30f2ead402d2f49a89b2caf47cc30b6445d4cfb
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/06/2018
ms.locfileid: "30890746"
---
<a name="understanding-aspnet-ajax-updatepanel-triggers"></a><span data-ttu-id="8bac5-104">Seznámení s ASP.NET AJAX UpdatePanel aktivační události</span><span class="sxs-lookup"><span data-stu-id="8bac5-104">Understanding ASP.NET AJAX UpdatePanel Triggers</span></span>
====================
<span data-ttu-id="8bac5-105">podle [Scott Dikovat](https://github.com/scottcate)</span><span class="sxs-lookup"><span data-stu-id="8bac5-105">by [Scott Cate](https://github.com/scottcate)</span></span>

[<span data-ttu-id="8bac5-106">Stáhnout PDF</span><span class="sxs-lookup"><span data-stu-id="8bac5-106">Download PDF</span></span>](http://download.microsoft.com/download/C/1/9/C19A3451-1D14-477C-B703-54EF22E197EE/AJAX_tutorial02_Triggers_cs.pdf)

> <span data-ttu-id="8bac5-107">Při práci se v editoru kódu v sadě Visual Studio, můžete si povšimnout (z IntelliSense), jsou dva podřízené elementy ovládací prvek UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="8bac5-107">When working in the markup editor in Visual Studio, you may notice (from IntelliSense) that there are two child elements of an UpdatePanel control.</span></span> <span data-ttu-id="8bac5-108">Z nichž jeden je element aktivační události, který určuje ovládacích prvků na stránce (nebo uživatelského ovládacího prvku, pokud ji používáte), aktivují částečné vykreslení ovládacího prvku UpdatePanel, ve kterém se nachází element.</span><span class="sxs-lookup"><span data-stu-id="8bac5-108">One of which is the Triggers element, which specifies the controls on the page (or the user control, if you are using one) that will trigger a partial render of the UpdatePanel control in which the element resides.</span></span>


## <a name="introduction"></a><span data-ttu-id="8bac5-109">Úvod</span><span class="sxs-lookup"><span data-stu-id="8bac5-109">Introduction</span></span>

<span data-ttu-id="8bac5-110">Technologie ASP.NET společnosti Microsoft poskytuje programovací model objektově orientované a událostmi řízené a jednotek s výhod zkompilovaný kód.</span><span class="sxs-lookup"><span data-stu-id="8bac5-110">Microsoft's ASP.NET technology brings an object-oriented and event-driven programming model and unites it with the benefits of compiled code.</span></span> <span data-ttu-id="8bac5-111">Svůj model zpracování na straně serveru, má však několik nevýhody vyplývajících z technologie mnoho z nichž lze řešit novým funkcím zahrnutým v AJAX rozšíření Microsoft ASP.NET 3.5.</span><span class="sxs-lookup"><span data-stu-id="8bac5-111">However, its server-side processing model has several drawbacks inherent in the technology, many of which can be addressed by the new features included in the Microsoft ASP.NET 3.5 AJAX Extensions.</span></span> <span data-ttu-id="8bac5-112">Tato rozšíření umožňují mnoha nových funkcí plně funkčního klienta, včetně částečným vykreslením stránky bez nutnosti celou stránku obnovení, přístup prostřednictvím klientského skriptu (včetně ASP.NET, rozhraní API pro profilaci) a rozhraní API rozsáhlé klientské webové služby určená pro řadu schémata řízení vidět v sadě serverový ovládací prvek ASP.NET zrcadlení.</span><span class="sxs-lookup"><span data-stu-id="8bac5-112">These extensions enable many new rich client features, including partial rendering of pages without requiring a full page refresh, the ability to access Web Services via client script (including the ASP.NET profiling API), and an extensive client-side API designed to mirror many of the control schemes seen in the ASP.NET server-side control set.</span></span>

<span data-ttu-id="8bac5-113">Tento dokument White Paper prozkoumá XML aktivace funkce technologie ASP.NET AJAX `UpdatePanel` součásti.</span><span class="sxs-lookup"><span data-stu-id="8bac5-113">This whitepaper examines the XML Triggers functionality of the ASP.NET AJAX `UpdatePanel` component.</span></span> <span data-ttu-id="8bac5-114">XML aktivační události udělte podrobnou kontrolu nad součásti, které může způsobit částečné vykreslování pro konkrétní ovládací prvky UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="8bac5-114">XML Triggers give granular control over the components that can cause partial rendering for specific UpdatePanel controls.</span></span>

<span data-ttu-id="8bac5-115">Tento dokument White Paper je založen na beta verzi 2 verzi rozhraní .NET Framework 3.5 a Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="8bac5-115">This whitepaper is based on the Beta 2 release of the .NET Framework 3.5 and Visual Studio 2008.</span></span> <span data-ttu-id="8bac5-116">Rozšíření ASP.NET AJAX, dříve sestavení rozšíření zaměřený na technologii ASP.NET 2.0, jsou teď integrované do knihovně tříd rozhraní .NET Framework Base.</span><span class="sxs-lookup"><span data-stu-id="8bac5-116">The ASP.NET AJAX Extensions, previously an add-on assembly targeted at ASP.NET 2.0, are now integrated into the .NET Framework Base Class Library.</span></span> <span data-ttu-id="8bac5-117">Tento dokument White Paper také předpokládá, že budou pracovat se Visual Studio 2008, není Visual Web Developer Express a poskytne návody podle uživatelského rozhraní sady Visual Studio (i když bude zcela kompatibilní bez ohledu na to výpis kódu vývojové prostředí).</span><span class="sxs-lookup"><span data-stu-id="8bac5-117">This whitepaper also assumes that you will be working with Visual Studio 2008, not Visual Web Developer Express, and will provide walkthroughs according to the user interface of Visual Studio (although code listings will be entirely compatible regardless of development environment).</span></span>

## <a name="triggers"></a><span data-ttu-id="8bac5-118">*Triggery*</span><span class="sxs-lookup"><span data-stu-id="8bac5-118">*Triggers*</span></span>

<span data-ttu-id="8bac5-119">Aktivační události pro danou UpdatePanel, ve výchozím nastavení, automaticky zahrnout všechny podřízené ovládací prvky, které vyvolají zpětné volání, včetně (například) ovládací prvky textové pole, které mají své `AutoPostBack` vlastnost nastavena na hodnotu **true**.</span><span class="sxs-lookup"><span data-stu-id="8bac5-119">Triggers for a given UpdatePanel, by default, automatically include any child controls that invoke a postback, including (for example) TextBox controls that have their `AutoPostBack` property set to **true**.</span></span> <span data-ttu-id="8bac5-120">Ale aktivační události může být také součástí deklarativně pomocí značek; To se provádí v rámci `<triggers>` části deklarace UpdatePanel ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="8bac5-120">However, triggers can also be included declaratively using markup; this is done within the `<triggers>` section of the UpdatePanel control declaration.</span></span> <span data-ttu-id="8bac5-121">I když aktivační události je přístupná prostřednictvím `Triggers` vlastnost kolekce se doporučuje registraci žádné aktivační události částečné vykreslování za běhu (například pokud ovládací prvek není k dispozici v době návrhu) pomocí `RegisterAsyncPostBackControl(Control)` metodu Pro vaše stránky v objektu ScriptManager `Page_Load` událostí.</span><span class="sxs-lookup"><span data-stu-id="8bac5-121">Although triggers can be accessed via the `Triggers` collection property, it is recommended that you register any partial render triggers at run-time (for instance, if a control is not available at design time) by using the `RegisterAsyncPostBackControl(Control)` method of the ScriptManager object for your page, within the `Page_Load` event.</span></span> <span data-ttu-id="8bac5-122">Mějte na paměti, jsou bezstavové stránky, a proto byste měli znovu zaregistrovat tyto ovládací prvky pokaždé, když jejich vytvoření.</span><span class="sxs-lookup"><span data-stu-id="8bac5-122">Remember that Pages are stateless, and so you should re-register these controls every time they are created.</span></span>

<span data-ttu-id="8bac5-123">Zahrnutí automatické podřízené aktivační událost můžete také je možné zakázat (podřízených ovládacích prvků, které vytvářejí postback nespouštějí automaticky vykreslí částečné) nastavením `ChildrenAsTriggers` vlastnost **false**.</span><span class="sxs-lookup"><span data-stu-id="8bac5-123">Automatic child trigger inclusion can also be disabled (so that child controls that create postbacks do not automatically trigger partial renders) by setting the `ChildrenAsTriggers` property to **false**.</span></span> <span data-ttu-id="8bac5-124">To vám umožní nejvyšší flexibilitu v přiřazení ovládacích prvků, které konkrétní může vyvolat vykreslení stránky a doporučuje se, tak, aby vývojář bude výslovný souhlas reagovat na událost, nikoli zpracování všech událostí, které by mohlo dojít.</span><span class="sxs-lookup"><span data-stu-id="8bac5-124">This allows you the greatest flexibility in assigning which specific controls may invoke a page render, and is recommended, so that a developer will opt-in to respond to an event, rather than handling any events that may arise.</span></span>

<span data-ttu-id="8bac5-125">Všimněte si, že když jsou vnořené prvky UpdatePanel, když UpdateMode je nastavená na **podmíněného**, pokud se aktivuje podřízené UpdatePanel, ale nadřazená položka nemá, pak pouze podřízené UpdatePanel se aktualizuje.</span><span class="sxs-lookup"><span data-stu-id="8bac5-125">Note that when UpdatePanel controls are nested, when the UpdateMode is set to **Conditional**, if the child UpdatePanel is triggered, but the parent is not, then only the child UpdatePanel will refresh.</span></span> <span data-ttu-id="8bac5-126">Ale pokud nadřazená UpdatePanel aktualizovat, pak podřízené UpdatePanel bude také aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="8bac5-126">However, if the parent UpdatePanel is refreshed, then the child UpdatePanel will also be refreshed.</span></span>

## <a name="the-lttriggersgt-element"></a><span data-ttu-id="8bac5-127">*&lt;Aktivační události&gt; – Element*</span><span class="sxs-lookup"><span data-stu-id="8bac5-127">*The &lt;Triggers&gt; Element*</span></span>

<span data-ttu-id="8bac5-128">Při práci se v editoru kódu v sadě Visual Studio, můžete si povšimnout (z IntelliSense), jsou dva podřízené elementy z `UpdatePanel` ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="8bac5-128">When working in the markup editor in Visual Studio, you may notice (from IntelliSense) that there are two child elements of an `UpdatePanel` control.</span></span> <span data-ttu-id="8bac5-129">Nejčastěji zaznamenané elementu je `<ContentTemplate>` element, který zapouzdřuje v podstatě obsah, který bude uchovávat pomocí panelu aktualizace (obsahu, pro které jsme povolit částečným vykreslením).</span><span class="sxs-lookup"><span data-stu-id="8bac5-129">The most-frequently seen element is the `<ContentTemplate>` element, which essentially encapsulates the content that will be held by the update panel (the content for which we are enabling partial rendering).</span></span> <span data-ttu-id="8bac5-130">Jiného elementu je `<Triggers>` element, který určuje ovládacích prvků na stránce (nebo uživatelského ovládacího prvku, pokud ji používáte), aktivují částečné vykreslení ovládacího prvku UpdatePanel, ve kterém &lt;aktivační události&gt; nachází element.</span><span class="sxs-lookup"><span data-stu-id="8bac5-130">The other element is the `<Triggers>` element, which specifies the controls on the page (or the user control, if you are using one) that will trigger a partial render of the UpdatePanel control in which the &lt;Triggers&gt; element resides.</span></span>

<span data-ttu-id="8bac5-131">`<Triggers>` Element může obsahovat libovolný počet každé dva podřízené uzly: `<asp:AsyncPostBackTrigger>` a `<asp:PostBackTrigger>`.</span><span class="sxs-lookup"><span data-stu-id="8bac5-131">The `<Triggers>` element can contain any number each of two child nodes: `<asp:AsyncPostBackTrigger>` and `<asp:PostBackTrigger>`.</span></span> <span data-ttu-id="8bac5-132">Obě přijmou dva atributy `ControlID` a `EventName`a můžete zadat libovolný ovládací prvek v rámci aktuální jednotka zapouzdření (například pokud vaše UpdatePanel ovládací prvek nachází v uživatelský ovládací prvek webu, byste neměli tak, aby odkazovaly na ovládací prvek Stránka, na kterém se bude nacházet uživatelského ovládacího prvku).</span><span class="sxs-lookup"><span data-stu-id="8bac5-132">They both accept two attributes, `ControlID` and `EventName`, and can specify any Control within the current unit of encapsulation (for instance, if your UpdatePanel control resides within a Web User Control, you should not attempt to reference a Control on the Page on which the User Control will reside).</span></span>

<span data-ttu-id="8bac5-133">`<asp:AsyncPostBackTrigger>` Element je zvláště užitečná v tom, že ho můžete cílit na libovolnou událost z ovládacího prvku, který již existuje jako podřízený *žádné* ovládacího prvku UpdatePanel v jednotce zapouzdření, ne jenom UpdatePanel, pod kterým této aktivační události je podřízená .</span><span class="sxs-lookup"><span data-stu-id="8bac5-133">The `<asp:AsyncPostBackTrigger>` element is particularly useful in that it can target any event from a Control that exists as a child of *any* UpdatePanel control in the unit of encapsulation, not just the UpdatePanel under which this trigger is a child.</span></span> <span data-ttu-id="8bac5-134">Proto můžete provést libovolný ovládací prvek se aktivovala aktualizace části stránky.</span><span class="sxs-lookup"><span data-stu-id="8bac5-134">Thus, any control can be made to trigger a partial page update.</span></span>

<span data-ttu-id="8bac5-135">Podobně `<asp:PostBackTrigger>` element slouží k vykreslení částečná stránka aktivační událost, ale ten, který vyžaduje úplnou round-trip k serveru.</span><span class="sxs-lookup"><span data-stu-id="8bac5-135">Similarly, the `<asp:PostBackTrigger>` element can be used to trigger a partial page render, but one that requires a full round-trip to the server.</span></span> <span data-ttu-id="8bac5-136">Tento element aktivační události lze také vynutit vykreslení celou stránku při ovládacího prvku by jinak normálně aktivovat vykreslování částečná stránka (například když `Button` řízení existuje v `<ContentTemplate>` elementu ovládacího prvku UpdatePanel).</span><span class="sxs-lookup"><span data-stu-id="8bac5-136">This trigger element can also be used to force a full page render when a control would otherwise normally trigger a partial page render (for instance, when a `Button` control exists in the `<ContentTemplate>` element of an UpdatePanel control).</span></span> <span data-ttu-id="8bac5-137">PostBackTrigger element znovu, můžete zadat libovolný ovládací prvek, která je podřízená libovolný ovládací prvek UpdatePanel v aktuální jednotce zapouzdření.</span><span class="sxs-lookup"><span data-stu-id="8bac5-137">Again, the PostBackTrigger element can specify any control that is a child of any UpdatePanel control in the current unit of encapsulation.</span></span>

## <a name="lttriggersgt-element-reference"></a><span data-ttu-id="8bac5-138">*&lt;Aktivační události&gt; odkaz na Element*</span><span class="sxs-lookup"><span data-stu-id="8bac5-138">*&lt;Triggers&gt; Element Reference*</span></span>

<span data-ttu-id="8bac5-139">*Následníky značek:*</span><span class="sxs-lookup"><span data-stu-id="8bac5-139">*Markup Descendants:*</span></span>

| <span data-ttu-id="8bac5-140">**Značka**</span><span class="sxs-lookup"><span data-stu-id="8bac5-140">**Tag**</span></span> | <span data-ttu-id="8bac5-141">**Popis**</span><span class="sxs-lookup"><span data-stu-id="8bac5-141">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="8bac5-142">&lt;asp:AsyncPostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="8bac5-142">&lt;asp:AsyncPostBackTrigger&gt;</span></span> | <span data-ttu-id="8bac5-143">Určuje, řízení a událost, která způsobí, že částečná stránka aktualizace pro UpdatePanel, který obsahuje odkaz na tento aktivační události.</span><span class="sxs-lookup"><span data-stu-id="8bac5-143">Specifies a control and event that will cause a partial page update for the UpdatePanel that contains this trigger reference.</span></span> |
| <span data-ttu-id="8bac5-144">&lt;asp:PostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="8bac5-144">&lt;asp:PostBackTrigger&gt;</span></span> | <span data-ttu-id="8bac5-145">Určuje, řízení a událost, která způsobí, že celou stránku aktualizace (aktualizace celou stránku).</span><span class="sxs-lookup"><span data-stu-id="8bac5-145">Specifies a control and event that will cause a full page update (a full page refresh).</span></span> <span data-ttu-id="8bac5-146">Tato značka slouží k vynucení úplné aktualizace, když ovládacího prvku by jinak aktivovat částečným vykreslením.</span><span class="sxs-lookup"><span data-stu-id="8bac5-146">This tag can be used to force a full refresh when a control would otherwise trigger partial rendering.</span></span> |

## <a name="walkthrough-cross-updatepanel-triggers"></a><span data-ttu-id="8bac5-147">*Návod: Mezi UpdatePanel aktivační události*</span><span class="sxs-lookup"><span data-stu-id="8bac5-147">*Walkthrough: Cross-UpdatePanel Triggers*</span></span>

1. <span data-ttu-id="8bac5-148">Vytvořte novou stránku ASP.NET s objektem ScriptManager nastavit pro povolení částečným vykreslením.</span><span class="sxs-lookup"><span data-stu-id="8bac5-148">Create a new ASP.NET page with a ScriptManager object set to enable partial rendering.</span></span> <span data-ttu-id="8bac5-149">Přidat dvě komponenty UpdatePanel na tuto stránku – v prvním, zahrnují ovládací prvek popisek (Label1) a dvou ovládacích prvků tlačítko (Button1 a Button2).</span><span class="sxs-lookup"><span data-stu-id="8bac5-149">Add two UpdatePanels to this page - in the first, include a Label control ( Label1 ) and two Button controls ( Button1 and Button2 ).</span></span> <span data-ttu-id="8bac5-150">Button1 by mělo být uvedeno klikněte na tlačítko Aktualizovat i a Button2 by mělo být uvedeno klikněte na tlačítko Aktualizovat to nebo něco společně tyto řádky.</span><span class="sxs-lookup"><span data-stu-id="8bac5-150">Button1 should say Click to Update Both and Button2 should say Click to Update This, or something along those lines.</span></span> <span data-ttu-id="8bac5-151">V druhé UpdatePanel zahrnout pouze ovládací prvek popisek (Label2), ale nastaveno něco jiného než výchozí jej odlišit od jeho ForeColor – vlastnost.</span><span class="sxs-lookup"><span data-stu-id="8bac5-151">In the second UpdatePanel, include only a Label control ( Label2 ), but set its ForeColor property to something other than the default to differentiate it.</span></span>
2. <span data-ttu-id="8bac5-152">Nastaví vlastnost UpdateMode obou UpdatePanel značek k **podmíněného**.</span><span class="sxs-lookup"><span data-stu-id="8bac5-152">Set the UpdateMode property of both UpdatePanel tags to **Conditional**.</span></span>

<span data-ttu-id="8bac5-153">**Výpis 1: Kód pro default.aspx:**</span><span class="sxs-lookup"><span data-stu-id="8bac5-153">**Listing 1: Markup for default.aspx:**</span></span> 

[!code-aspx[Main](understanding-asp-net-ajax-updatepanel-triggers/samples/sample1.aspx)]

1. <span data-ttu-id="8bac5-154">V obslužné rutiny události kliknutí pro Button1 nastavte Label1.Text a Label2.Text na něco závislá na čase (například DateTime.Now.ToLongTimeString()).</span><span class="sxs-lookup"><span data-stu-id="8bac5-154">In the Click event handler for Button1, set Label1.Text and Label2.Text to something time-dependent (such as DateTime.Now.ToLongTimeString()).</span></span> <span data-ttu-id="8bac5-155">Pro obslužné rutiny události kliknutí pro Button2 nastavte Label1.Text pouze na hodnotu závislá na čase.</span><span class="sxs-lookup"><span data-stu-id="8bac5-155">For the Click event handler for Button2, set only Label1.Text to the time-dependent value.</span></span>

<span data-ttu-id="8bac5-156">**Výpis 2: Codebehind (oříznut) v default.aspx.cs:**</span><span class="sxs-lookup"><span data-stu-id="8bac5-156">**Listing 2: Codebehind (trimmed) in default.aspx.cs:**</span></span> 

[!code-csharp[Main](understanding-asp-net-ajax-updatepanel-triggers/samples/sample2.cs)]

1. <span data-ttu-id="8bac5-157">Stisknutím klávesy F5 sestavit a spustit projekt.</span><span class="sxs-lookup"><span data-stu-id="8bac5-157">Press F5 to build and run the project.</span></span> <span data-ttu-id="8bac5-158">Všimněte si, že po kliknutí na tlačítko jak panelů aktualizace, jak popisky změnit text; ale po kliknutí na tlačítko Aktualizovat tento Panel, aktualizuje jenom Label1.</span><span class="sxs-lookup"><span data-stu-id="8bac5-158">Note that, when you click Update Both Panels, both labels change text; however, when you click Update This Panel, only Label1 updates.</span></span>


[![](understanding-asp-net-ajax-updatepanel-triggers/_static/image2.png)](understanding-asp-net-ajax-updatepanel-triggers/_static/image1.png)

<span data-ttu-id="8bac5-159">([Kliknutím zobrazit obrázek v plné velikosti](understanding-asp-net-ajax-updatepanel-triggers/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="8bac5-159">([Click to view full-size image](understanding-asp-net-ajax-updatepanel-triggers/_static/image3.png))</span></span>


## <a name="under-the-hood"></a><span data-ttu-id="8bac5-160">*Pod pokličkou*</span><span class="sxs-lookup"><span data-stu-id="8bac5-160">*Under the Hood*</span></span>

<span data-ttu-id="8bac5-161">Použití příklad, který jsme právě vytvořený, můžeme provést pohled na činnosti prvku ASP.NET AJAX a fungování aktivační události naše UpdatePanel mezi panely.</span><span class="sxs-lookup"><span data-stu-id="8bac5-161">Utilizing the example we just constructed, we can take a look at what ASP.NET AJAX is doing and how our UpdatePanel cross-panel triggers work.</span></span> <span data-ttu-id="8bac5-162">K tomu, budeme pracovat s zdroji generovaného stránky HTML, jakož i rozšíření Mozilla Firefox volána FireBug - s, jsme můžete snadno zkontrolovat zpětná volání AJAX.</span><span class="sxs-lookup"><span data-stu-id="8bac5-162">To do so, we will work with the generated page source HTML, as well as the Mozilla Firefox extension called FireBug - with it, we can easily examine the AJAX postbacks.</span></span> <span data-ttu-id="8bac5-163">Budeme používat také nástroj .NET Reflector pomocí Lutz Roeder.</span><span class="sxs-lookup"><span data-stu-id="8bac5-163">We will also use the .NET Reflector tool by Lutz Roeder.</span></span> <span data-ttu-id="8bac5-164">Oba tyto nástroje jsou volně k dispozici online a lze najít pomocí hledání v Internetu.</span><span class="sxs-lookup"><span data-stu-id="8bac5-164">Both of these tools are freely available online, and can be found with an internet search.</span></span>

<span data-ttu-id="8bac5-165">Prozkoumání zdrojového kódu stránky zobrazuje téměř nic neobvyklého; ovládací prvky UpdatePanel se vykresluje jako `<div>` kontejnery a jsme viděli skriptu prostředků obsahuje zadaný pomocí `<asp:ScriptManager>`.</span><span class="sxs-lookup"><span data-stu-id="8bac5-165">An examination of the page source code shows almost nothing out of the ordinary; the UpdatePanel controls are rendered as `<div>` containers, and we can see the script resource includes provided by the `<asp:ScriptManager>`.</span></span> <span data-ttu-id="8bac5-166">Existují také některé nové AJAX konkrétní volání PageRequestManager které jsou interní klientské knihovny skriptu AJAX.</span><span class="sxs-lookup"><span data-stu-id="8bac5-166">There are also some new AJAX-specific calls to the PageRequestManager that are internal to the AJAX client script library.</span></span> <span data-ttu-id="8bac5-167">Nakonec vidíme dva kontejnery UpdatePanel – jednu s vygenerované `<input>` tlačítka s dva `<asp:Label>` ovládací prvky se vykresluje jako `<span>` kontejnery.</span><span class="sxs-lookup"><span data-stu-id="8bac5-167">Finally, we see the two UpdatePanel containers - one with the rendered `<input>` buttons with the two `<asp:Label>` controls rendered as `<span>` containers.</span></span> <span data-ttu-id="8bac5-168">(Je-li si prohlédnout strom CODEDOM v FireBug, si všimněte, že popisky jsou neaktivní označíte, že jejich nejsou generovala viditelný obsah).</span><span class="sxs-lookup"><span data-stu-id="8bac5-168">(If you inspect the DOM tree in FireBug, you will notice that the labels are dimmed to indicate that they are not producing visible content).</span></span>

<span data-ttu-id="8bac5-169">Klikněte na tlačítko Aktualizovat tento Panel a Všimněte si, že nejvyšší UpdatePanel bude aktualizována na aktuální čas serveru.</span><span class="sxs-lookup"><span data-stu-id="8bac5-169">Click the Update This Panel button, and notice the top UpdatePanel will be updated with the current server time.</span></span> <span data-ttu-id="8bac5-170">V FireBug vyberte kartu konzoly tak, aby můžete zkontrolovat žádost.</span><span class="sxs-lookup"><span data-stu-id="8bac5-170">In FireBug, choose the Console tab so that you can examine the request.</span></span> <span data-ttu-id="8bac5-171">Nejprve zkontrolujte parametry požadavku POST:</span><span class="sxs-lookup"><span data-stu-id="8bac5-171">Examine the POST request parameters first:</span></span>


[![](understanding-asp-net-ajax-updatepanel-triggers/_static/image5.png)](understanding-asp-net-ajax-updatepanel-triggers/_static/image4.png)

<span data-ttu-id="8bac5-172">([Kliknutím zobrazit obrázek v plné velikosti](understanding-asp-net-ajax-updatepanel-triggers/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="8bac5-172">([Click to view full-size image](understanding-asp-net-ajax-updatepanel-triggers/_static/image6.png))</span></span>


<span data-ttu-id="8bac5-173">Všimněte si, že UpdatePanel má uvedené kódu AJAX na straně serveru, přesněji byla aktivována, které ovládací prvek stromu pomocí parametru ScriptManager1: `Button1` z `UpdatePanel1` ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="8bac5-173">Note that the UpdatePanel has indicated to the server-side AJAX code precisely which control tree was fired via the ScriptManager1 parameter: `Button1` of the `UpdatePanel1` control.</span></span> <span data-ttu-id="8bac5-174">Nyní klikněte na tlačítko jak panelů aktualizace.</span><span class="sxs-lookup"><span data-stu-id="8bac5-174">Now, click on the Update Both Panels button.</span></span> <span data-ttu-id="8bac5-175">Potom zkoumání odpovědi, vidíme oddělený kanálu řady proměnných nastavit v řetězci; Konkrétně vidíme nejvyšší UpdatePanel `UpdatePanel1`, má celého jeho HTML odesláno prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="8bac5-175">Then, examining the response, we see a pipe-delimited series of variables set in a string; specifically, we see the top UpdatePanel, `UpdatePanel1`, has the entirety of its HTML sent to the browser.</span></span> <span data-ttu-id="8bac5-176">Skript AJAX klientské knihovny nahradí původní HTML prvku UpdatePanel obsahu nového obsahu prostřednictvím `.innerHTML` vlastnost, a, server odešle změněný obsah ze serveru ve formátu HTML.</span><span class="sxs-lookup"><span data-stu-id="8bac5-176">The AJAX client script library substitutes the UpdatePanel's original HTML content with the new content via the `.innerHTML` property, and so the server sends the changed content from the server as HTML.</span></span>

<span data-ttu-id="8bac5-177">Nyní klikněte na tlačítko jak panelů aktualizace a podívejte se na výsledky ze serveru.</span><span class="sxs-lookup"><span data-stu-id="8bac5-177">Now, click on the Update Both Panels button and examine the results from the server.</span></span> <span data-ttu-id="8bac5-178">Výsledky jsou velmi podobné – obě komponenty UpdatePanel příjem nových HTML ze serveru.</span><span class="sxs-lookup"><span data-stu-id="8bac5-178">The results are very similar - both UpdatePanels receive new HTML from the server.</span></span> <span data-ttu-id="8bac5-179">Stejně jako u předchozí zpětné volání, je odeslána stav další stránky.</span><span class="sxs-lookup"><span data-stu-id="8bac5-179">As with the previous callback, additional page state is sent.</span></span>

<span data-ttu-id="8bac5-180">Jak jsme můžete vidět, protože žádný speciální kód je využívat k provedení zpětné volání AJAX, je schopen zachytit zpětná vystavení formuláře bez jakékoli další kód klientské knihovny skriptu AJAX.</span><span class="sxs-lookup"><span data-stu-id="8bac5-180">As we can see, because no special code is utilized to perform an AJAX postback, the AJAX client script library is able to intercept form postbacks without any additional code.</span></span> <span data-ttu-id="8bac5-181">Ovládací prvky serveru automaticky využívat JavaScript tak, aby se neodešlou automaticky formuláře – ASP.NET automaticky vloží kód pro ověřování formuláře a stavu již, především dosáhnout zahrnutí prostředků automatické skriptu, PostBackOptions – třída a třída ClientScriptManager.</span><span class="sxs-lookup"><span data-stu-id="8bac5-181">Server controls automatically utilize JavaScript so that they do not automatically submit the form - ASP.NET automatically injects code for form validation and state already, primarily achieved by automatic script resource inclusion, the PostBackOptions class, and the ClientScriptManager class.</span></span>

<span data-ttu-id="8bac5-182">Zvažte ovládací prvek zaškrtávací políčko; Zkontrolujte zpětný překlad – třída v rozhraní .NET Reflector.</span><span class="sxs-lookup"><span data-stu-id="8bac5-182">For instance, consider a CheckBox control; examine the class disassembly in .NET Reflector.</span></span> <span data-ttu-id="8bac5-183">Uděláte to tak, zajistěte, aby byl váš sestavení System.Web otevřené a přejděte do `System.Web.UI.WebControls.CheckBox` třída, otevřete `RenderInputTag` metoda.</span><span class="sxs-lookup"><span data-stu-id="8bac5-183">To do so, ensure that your System.Web assembly is open, and navigate to the `System.Web.UI.WebControls.CheckBox` class, opening the `RenderInputTag` method.</span></span> <span data-ttu-id="8bac5-184">Vyhledejte podmíněného, která kontroluje `AutoPostBack` vlastnost:</span><span class="sxs-lookup"><span data-stu-id="8bac5-184">Look for a conditional that checks the `AutoPostBack` property:</span></span>


[![](understanding-asp-net-ajax-updatepanel-triggers/_static/image8.png)](understanding-asp-net-ajax-updatepanel-triggers/_static/image7.png)

<span data-ttu-id="8bac5-185">([Kliknutím zobrazit obrázek v plné velikosti](understanding-asp-net-ajax-updatepanel-triggers/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="8bac5-185">([Click to view full-size image](understanding-asp-net-ajax-updatepanel-triggers/_static/image9.png))</span></span>


<span data-ttu-id="8bac5-186">Pokud je zapnutá automatické zpětné volání `CheckBox` řízení (prostřednictvím automatického odesílání vlastnost je true), výsledné `<input>` je proto vykreslen s ASP.NET událostí zpracování skript v jeho `onclick` atribut.</span><span class="sxs-lookup"><span data-stu-id="8bac5-186">When automatic postback is enabled on a `CheckBox` control (via the AutoPostBack property being true), the resultant `<input>` tag is therefore rendered with an ASP.NET event handling script in its `onclick` attribute.</span></span> <span data-ttu-id="8bac5-187">Zachycení odeslání formuláře, pak umožňuje prvku ASP.NET AJAX na stránku vložit nonintrusively, pomáhá vyhnout všechny potenciální nejnovější změny, které můžou nastat s využitím náhradní řetězec možná nepřesný.</span><span class="sxs-lookup"><span data-stu-id="8bac5-187">The interception of the form's submission, then, allows ASP.NET AJAX to be injected into the page nonintrusively, helping to avoid any potential breaking changes that might occur by utilizing a possibly-imprecise string replacement.</span></span> <span data-ttu-id="8bac5-188">Navíc díky *žádné* vlastní ovládací prvek ASP.NET využívat power prvku ASP.NET AJAX bez jakékoli další kód pro podporu jeho použití v rámci kontejner UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="8bac5-188">Furthermore, this enables *any* custom ASP.NET control to utilize the power of ASP.NET AJAX without any additional code to support its use within an UpdatePanel container.</span></span>

<span data-ttu-id="8bac5-189">`<triggers>` Funkce odpovídá na hodnoty v volání PageRequestManager inicializovat \_updateControls (Všimněte si, že skript klientské knihovny ASP.NET AJAX využívá konvence této metody, události a názvy polí, které začínají podtržítkem jsou označeny jako vnitřní a nejsou určené pro použití mimo samotné knihovny).</span><span class="sxs-lookup"><span data-stu-id="8bac5-189">The `<triggers>` functionality corresponds to the values initialized in the PageRequestManager call to \_updateControls (note that the ASP.NET AJAX client script library utilizes the convention that methods, events, and field names that begin with an underscore are marked as internal, and are not meant for use outside of the library itself).</span></span> <span data-ttu-id="8bac5-190">Pomocí něho jsme můžete sledovat ovládacích prvků, které jsou určeny k způsobit zpětná volání AJAX.</span><span class="sxs-lookup"><span data-stu-id="8bac5-190">With it, we can observe which controls are intended to cause AJAX postbacks.</span></span>

<span data-ttu-id="8bac5-191">Umožňuje přidat například dva další ovládací prvky na stránku, a jeden prvek mimo komponenty UpdatePanel zcela a jeden v rámci prvku UpdatePanel nechá.</span><span class="sxs-lookup"><span data-stu-id="8bac5-191">For example, let's add two additional controls to the page, leaving one control outside of the UpdatePanels entirely, and leaving one within an UpdatePanel.</span></span> <span data-ttu-id="8bac5-192">Nemůžeme přidat ovládací prvek zaškrtávací políčko v horní UpdatePanel a vyřadit rozevírací seznam s počtem barvy definované v seznamu.</span><span class="sxs-lookup"><span data-stu-id="8bac5-192">We will add a CheckBox control within the upper UpdatePanel, and drop a DropDownList with a number of colors defined within the list.</span></span> <span data-ttu-id="8bac5-193">Zde je kód nové:</span><span class="sxs-lookup"><span data-stu-id="8bac5-193">Here is the new markup:</span></span>

<span data-ttu-id="8bac5-194">**Výpis 3: Nový kód**</span><span class="sxs-lookup"><span data-stu-id="8bac5-194">**Listing 3: New Markup**</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-updatepanel-triggers/samples/sample3.aspx)]

<span data-ttu-id="8bac5-195">A tady je nové kódu:</span><span class="sxs-lookup"><span data-stu-id="8bac5-195">And here is the new code-behind:</span></span>

<span data-ttu-id="8bac5-196">**Výpis 4: Codebehind**</span><span class="sxs-lookup"><span data-stu-id="8bac5-196">**Listing 4: Codebehind**</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-updatepanel-triggers/samples/sample4.cs)]

<span data-ttu-id="8bac5-197">Cílem této stránky je rozevíracího seznamu vybere mezi tři barvy a zobrazí druhý popis, zaškrtněte políčko určuje, zda je tučné i jestli štítky zobrazují data a také čas.</span><span class="sxs-lookup"><span data-stu-id="8bac5-197">The idea behind this page is that the drop-down list selects one of three colors to show the second label, that the check box determines both whether it is bold, and whether the labels display the date as well as the time.</span></span> <span data-ttu-id="8bac5-198">Zaškrtněte políčko by nemělo způsobit aktualizaci AJAX, ale měli rozevíracího seznamu, i když není umístěné mezi UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="8bac5-198">The check box should not cause an AJAX update, but the drop-down list should, even though it is not housed within an UpdatePanel.</span></span>


[![](understanding-asp-net-ajax-updatepanel-triggers/_static/image11.png)](understanding-asp-net-ajax-updatepanel-triggers/_static/image10.png)

<span data-ttu-id="8bac5-199">([Kliknutím zobrazit obrázek v plné velikosti](understanding-asp-net-ajax-updatepanel-triggers/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="8bac5-199">([Click to view full-size image](understanding-asp-net-ajax-updatepanel-triggers/_static/image12.png))</span></span>


<span data-ttu-id="8bac5-200">Jako, je třeba na výše uvedené snímku obrazovky byla nejnovějšího tlačítko kliknout pravým tlačítkem tento Panel aktualizace, která aktualizuje nejvyšší dobu nezávisle na dolní čas.</span><span class="sxs-lookup"><span data-stu-id="8bac5-200">As is apparent in the above screen shot, the most-recent button to be clicked was the right button Update This Panel, which updated the top time independent of the bottom time.</span></span> <span data-ttu-id="8bac5-201">Datum se také vypnout mezi kliknutím, protože datum je zobrazené v popisku dolní.</span><span class="sxs-lookup"><span data-stu-id="8bac5-201">The date was also switched off between clicks, as the date is visible in the bottom label.</span></span> <span data-ttu-id="8bac5-202">Nakonec zájmu je barva popisků dolní: byl dříve než text popisku, který ukazuje, že stav řízení je důležité, aktualizovat a uživatelé očekávají, že je možné zachovat prostřednictvím zpětná volání AJAX.</span><span class="sxs-lookup"><span data-stu-id="8bac5-202">Finally of interest is the bottom label's color: it was updated more recently than the label's text, which demonstrates that control state is important, and users expect it to be preserved through AJAX postbacks.</span></span> <span data-ttu-id="8bac5-203">*Ale*, čas nebyl aktualizován.</span><span class="sxs-lookup"><span data-stu-id="8bac5-203">*However*, the time was not updated.</span></span> <span data-ttu-id="8bac5-204">Čas se automaticky znovu jej naplnit prostřednictvím perzistence \_ \_pole stavu zobrazení stránky se interpretovat modulem ASP.NET runtime při ovládacího prvku se znovu vykreslené na serveru.</span><span class="sxs-lookup"><span data-stu-id="8bac5-204">The time was automatically repopulated through the persistence of the \_\_VIEWSTATE field of the page being interpreted by the ASP.NET runtime when the control was being re-rendered on the server.</span></span> <span data-ttu-id="8bac5-205">Kód prvku ASP.NET AJAX server nemůže rozpoznat, ve kterém jsou metody ovládací prvky změny stavu; ho jednoduše znovu naplní ze zobrazení stavu a poté spustí události, které jsou vhodné.</span><span class="sxs-lookup"><span data-stu-id="8bac5-205">The ASP.NET AJAX server code does not recognize in which methods the controls are changing state; it simply repopulates from view state and then runs the events that are appropriate.</span></span>

<span data-ttu-id="8bac5-206">Je být zdůraznit, ale, že měl I inicializovat čas v rámci dané stránky\_zatížení událostí čas by byla zvýšena správně.</span><span class="sxs-lookup"><span data-stu-id="8bac5-206">It should be pointed out, however, that had I initialized the time within the Page\_Load event, the time would have been incremented correctly.</span></span> <span data-ttu-id="8bac5-207">V důsledku toho by vývojáři buďte opatrní, že příslušný kód je spuštěn při obslužné rutiny události a vyhněte se použití stránky\_načíst při obslužnou rutinu události ovládacího prvku může být vhodné.</span><span class="sxs-lookup"><span data-stu-id="8bac5-207">Consequently, developers should be wary that the appropriate code is being run during the appropriate event handlers, and avoid use of Page\_Load when a control event handler would be appropriate.</span></span>

## <a name="summary"></a><span data-ttu-id="8bac5-208">Souhrn</span><span class="sxs-lookup"><span data-stu-id="8bac5-208">Summary</span></span>

<span data-ttu-id="8bac5-209">Ovládacího prvku ASP.NET AJAX rozšíření UpdatePanel je univerzální a může využívat několik metod pro identifikaci události ovládacího prvku, které by nemělo způsobit ho aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="8bac5-209">The ASP.NET AJAX Extensions UpdatePanel control is versatile, and can utilize a number of methods for identifying control events that should cause it to be updated.</span></span> <span data-ttu-id="8bac5-210">Podporuje se automaticky aktualizován jeho podřízených ovládacích prvků, ale můžete také reakce na události ovládacího prvku jinde na stránce.</span><span class="sxs-lookup"><span data-stu-id="8bac5-210">It supports being updated automatically by its child controls, but can also respond to control events elsewhere on the page.</span></span>

<span data-ttu-id="8bac5-211">Chcete-li snížit potenciální pro zatížení serveru, je vhodné, `ChildrenAsTriggers` vlastnost UpdatePanel být nastavená na `false`, a že události se vyjádřit výslovný souhlas do místo zahrnuté ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="8bac5-211">To reduce potential for server processing load, it is recommended that the `ChildrenAsTriggers` property of an UpdatePanel be set to `false`, and that events be opted-into rather than included by default.</span></span> <span data-ttu-id="8bac5-212">To zabrání také všechny nepotřebné události z potenciálně nežádoucí účinky, včetně ověření a změny vstupní pole.</span><span class="sxs-lookup"><span data-stu-id="8bac5-212">This also prevents any unneeded events from causing potentially-unwanted effects, including validation, and changes to input fields.</span></span> <span data-ttu-id="8bac5-213">Tyto typy chyb může být obtížné izolovat, protože stránky aktualizace transparentně uživateli a nemusí proto být hned zjevné příčinu.</span><span class="sxs-lookup"><span data-stu-id="8bac5-213">These types of bugs may be difficult to isolate, because the page updates transparently to the user, and the cause may therefore not be immediately obvious.</span></span>

<span data-ttu-id="8bac5-214">Prověřením vnitřního chodu formuláře ASP.NET AJAX konečná modelu zachycení, nebylo možné určit, že ho využívá rozhraní již poskytované ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8bac5-214">By examining the inner workings of the ASP.NET AJAX form post interception model, we were able to determine that it utilizes the framework already provided by ASP.NET.</span></span> <span data-ttu-id="8bac5-215">V to uděláte, se zachovává maximální kompatibility s ovládacími prvky určené pomocí stejné framework a intrudes minimálně na žádné další JavaScript napsané pro stránku.</span><span class="sxs-lookup"><span data-stu-id="8bac5-215">In doing so, it preserves maximum compatibility with controls designed using the same framework, and intrudes minimally on any additional JavaScript written for the page.</span></span>

## <a name="bio"></a><span data-ttu-id="8bac5-216">Bio</span><span class="sxs-lookup"><span data-stu-id="8bac5-216">Bio</span></span>

<span data-ttu-id="8bac5-217">Rob Paveza je senior vývojář aplikace .NET v Terralever ([www.terralever.com](http://www.terralever.com)), počáteční interaktivní marketing firma v Tempe, AZ.</span><span class="sxs-lookup"><span data-stu-id="8bac5-217">Rob Paveza is a senior .NET application developer at Terralever ([www.terralever.com](http://www.terralever.com)), a leading interactive marketing firm in Tempe, AZ.</span></span> <span data-ttu-id="8bac5-218">Dosažitelný v [ robpaveza@gmail.com ](mailto:robpaveza@gmail.com), a se nachází v tomto blogu [ http://geekswithblogs.net/robp/ ](http://geekswithblogs.net/robp/).</span><span class="sxs-lookup"><span data-stu-id="8bac5-218">He can be reached at [robpaveza@gmail.com](mailto:robpaveza@gmail.com), and his blog is located at [http://geekswithblogs.net/robp/](http://geekswithblogs.net/robp/).</span></span>

<span data-ttu-id="8bac5-219">Scott Dikovat pracuje s technologií Microsoft Web od 1997 a je ředitel myKB.com ([www.myKB.com](http://www.myKB.com)) kde mu se specializuje na psaní ASP.NET na základě aplikací, které jsou zaměřené na řešení softwaru znalostní báze Knowledge Base.</span><span class="sxs-lookup"><span data-stu-id="8bac5-219">Scott Cate has been working with Microsoft Web technologies since 1997 and is the President of myKB.com ([www.myKB.com](http://www.myKB.com)) where he specializes in writing ASP.NET based applications focused on Knowledge Base Software solutions.</span></span> <span data-ttu-id="8bac5-220">Scott nelze kontaktovat prostřednictvím e-mailu v [ scott.cate@myKB.com ](mailto:scott.cate@myKB.com) nebo jeho blog na [ScottCate.com](http://ScottCate.com)</span><span class="sxs-lookup"><span data-stu-id="8bac5-220">Scott can be contacted via email at [scott.cate@myKB.com](mailto:scott.cate@myKB.com) or his blog at [ScottCate.com](http://ScottCate.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="8bac5-221">[Předchozí](understanding-partial-page-updates-with-asp-net-ajax.md)
> [další](understanding-asp-net-ajax-authentication-and-profile-application-services.md)</span><span class="sxs-lookup"><span data-stu-id="8bac5-221">[Previous](understanding-partial-page-updates-with-asp-net-ajax.md)
[Next](understanding-asp-net-ajax-authentication-and-profile-application-services.md)</span></span>
