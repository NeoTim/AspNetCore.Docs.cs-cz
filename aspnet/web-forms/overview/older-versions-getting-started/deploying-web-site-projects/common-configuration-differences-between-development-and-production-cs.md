---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/common-configuration-differences-between-development-and-production-cs
title: Běžné konfigurace rozdíly mezi vývojovým týmem a produkční (C#) | Microsoft Docs
author: rick-anderson
description: V dřívějších kurzy jsme nasadili náš web tak, že zkopírujete všechny relevantní soubory z vývojového prostředí do produkčního prostředí. Ale i...
ms.author: aspnetcontent
manager: wpickett
ms.date: 04/01/2009
ms.topic: article
ms.assetid: 721a5c37-7e21-48e0-832e-535c6351dcae
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/common-configuration-differences-between-development-and-production-cs
msc.type: authoredcontent
ms.openlocfilehash: 2694e0dba774a5bca13b9acc6b14c3e47226a064
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/06/2018
ms.locfileid: "30888588"
---
<a name="common-configuration-differences-between-development-and-production-c"></a><span data-ttu-id="fa2c1-104">Běžné konfigurace rozdíly mezi vývojovým týmem a produkční (C#)</span><span class="sxs-lookup"><span data-stu-id="fa2c1-104">Common Configuration Differences Between Development and Production (C#)</span></span>
====================
<span data-ttu-id="fa2c1-105">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="fa2c1-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="fa2c1-106">Stáhnout PDF</span><span class="sxs-lookup"><span data-stu-id="fa2c1-106">Download PDF</span></span>](http://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial05_ConfigDifferences_cs.pdf)

> <span data-ttu-id="fa2c1-107">V dřívějších kurzy jsme nasadili náš web tak, že zkopírujete všechny relevantní soubory z vývojového prostředí do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-107">In earlier tutorials we deployed our website by copying all of the pertinent files from the development environment to the production environment.</span></span> <span data-ttu-id="fa2c1-108">Však není existovat konfigurace rozdíly mezi prostředí, které vyžaduje, aby každé prostředí jedinečný soubor Web.config.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-108">However, it is not uncommon for there to be configuration differences between environments, which necessitates that each environment have a unique Web.config file.</span></span> <span data-ttu-id="fa2c1-109">V tomto kurzu prozkoumá rozdíly obvyklá konfigurace a zjistí strategie pro uchovávání informací samostatné konfigurace.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-109">This tutorial examines typical configuration differences and looks at strategies for maintaining separate configuration information.</span></span>


## <a name="introduction"></a><span data-ttu-id="fa2c1-110">Úvod</span><span class="sxs-lookup"><span data-stu-id="fa2c1-110">Introduction</span></span>


<span data-ttu-id="fa2c1-111">Posledních dvou kurzy projít nasazení jednoduché webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-111">The last two tutorials walked through deploying a simple web application.</span></span> <span data-ttu-id="fa2c1-112">[ *Nasazení vaší lokality pomocí klienta FTP* ](deploying-your-site-using-an-ftp-client-cs.md) kurz vám ukázal, jak zkopírovat potřebné soubory z vývojového prostředí až produkční, použijte samostatné klienta FTP.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-112">The [*Deploying Your Site Using an FTP Client*](deploying-your-site-using-an-ftp-client-cs.md) tutorial showed how to use a stand-alone FTP client to copy the necessary files from the development environment up to production.</span></span> <span data-ttu-id="fa2c1-113">Předchozí kurzu [ *nasazení vaše lokality pomocí sady Visual Studio*](deploying-your-site-using-visual-studio-cs.md), hledá v nasazení pomocí sady Visual Studio nástroj Kopírovat web a možností publikovat.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-113">The preceding tutorial, [*Deploying Your Site Using Visual Studio*](deploying-your-site-using-visual-studio-cs.md), looked at deployment using Visual Studio's Copy Web Site tool and Publish option.</span></span> <span data-ttu-id="fa2c1-114">V obou kurzech každý soubor v produkčním prostředí se kopie souboru ve vývojovém prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-114">In both tutorials every file in the production environment was a copy of a file on the development environment.</span></span> <span data-ttu-id="fa2c1-115">Však není pro konfigurační soubory v provozním prostředí, abyste lišit od těch ve vývojovém prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-115">However, it is not uncommon for configuration files in the production environment to differ from those in the development environment.</span></span> <span data-ttu-id="fa2c1-116">Konfigurace webové aplikace je uložená v `Web.config` souboru a obvykle obsahují informace o externím prostředkům, například databáze, webové a e-mailu servery.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-116">A web application's configuration is stored in the `Web.config` file and typically includes information about external resources, such as database, web, and email servers.</span></span> <span data-ttu-id="fa2c1-117">Také stanoví chování aplikace v určitých situacích, jako je postup, chcete-li provést, když dojde k neošetřené výjimce.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-117">It also spells out the behavior of the application in certain situations, such as the course of action to take when an unhandled exception occurs.</span></span>

<span data-ttu-id="fa2c1-118">Při nasazení webové aplikace je důležité informace o správné konfiguraci skončili v provozním prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-118">When deploying a web application it is important that the correct configuration information end up in the production environment.</span></span> <span data-ttu-id="fa2c1-119">Ve většině případů `Web.config` soubor ve vývojovém prostředí nelze zkopírovat do produkčního prostředí jako-je.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-119">In most cases the `Web.config` file in the development environment cannot be copied to the production environment as-is.</span></span> <span data-ttu-id="fa2c1-120">Místo toho přizpůsobená verze `Web.config` musí být nahrán do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-120">Instead, a customized version of `Web.config` needs to be uploaded to production.</span></span> <span data-ttu-id="fa2c1-121">V tomto kurzu stručně zkontroluje některé z běžnějších konfigurace rozdíly; taky shrnuje některé techniky pro údržbu informace o konfiguraci se mezi těmito prostředími.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-121">This tutorial briefly reviews some of the more common configuration differences; it also summarizes some techniques for maintaining different configuration information between the environments.</span></span>

## <a name="typical-configuration-differences-between-the-development-and-production-environments"></a><span data-ttu-id="fa2c1-122">Obvyklá konfigurace rozdíly mezi vývoje a v produkčním prostředí</span><span class="sxs-lookup"><span data-stu-id="fa2c1-122">Typical Configuration Differences Between the Development and Production Environments</span></span>

<span data-ttu-id="fa2c1-123">`Web.config` Soubor obsahuje širokou konfigurační informace pro aplikace ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-123">The `Web.config` file includes an assortment of configuration information for an ASP.NET application.</span></span> <span data-ttu-id="fa2c1-124">Některé z těchto informací je stejný bez ohledu na prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-124">Some of this configuration information is the same regardless of the environment.</span></span> <span data-ttu-id="fa2c1-125">Například nastavení ověřování a autorizačních pravidel adres URL jako slovo v `Web.config` souboru `<authentication>` a `<authorization>` elementy jsou obvykle stejné bez ohledu na prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-125">For instance, the authentication settings and URL authorization rules spelled out in the `Web.config` file's `<authentication>` and `<authorization>` elements are usually the same regardless of the environment.</span></span> <span data-ttu-id="fa2c1-126">Ale jiné informace o konfiguraci – například informace o externích zdrojů - se obvykle liší v závislosti na prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-126">But other configuration information - such as information about external resources - typically differs depending on the environment.</span></span>

<span data-ttu-id="fa2c1-127">Typickým příkladem informace o konfiguraci, která se liší podle prostředí jsou řetězce připojení databáze.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-127">Database connections strings are a prime example of configuration information that differs based on the environment.</span></span> <span data-ttu-id="fa2c1-128">Když webové aplikace komunikuje se serverem databáze, musíte nejprve vytvořit připojení, a který je dosaženo pomocí [připojovací řetězec](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string).</span><span class="sxs-lookup"><span data-stu-id="fa2c1-128">When a web application communicates with a database server it must first establish a connection, and that is achieved through a [connection string](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string).</span></span> <span data-ttu-id="fa2c1-129">I když je možné zakódovat připojovací řetězec databáze přímo do webové stránky nebo kód, který se připojuje k databázi, je nejvhodnější pro jeho umístění `Web.config`na [ `<connectionStrings>` element](https://msdn.microsoft.com/library/bf7sd233.aspx) tak, aby připojovací řetězec informace jsou v jednom centralizovaného umístění.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-129">While it is possible to hard-code the database connection string directly in the web pages or the code that connects to the database, it is best to place it `Web.config`'s [`<connectionStrings>` element](https://msdn.microsoft.com/library/bf7sd233.aspx) so that the connection string information is in a single, centralized location.</span></span> <span data-ttu-id="fa2c1-130">Často se do jiné databáze používá během vývoje, než se používá v produkčním prostředí; informace o připojovacím řetězci v důsledku toho musí být jedinečný pro každé prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-130">Oftentimes a different database is used during development than is used in production; consequently, the connection string information must be unique for each environment.</span></span>

> [!NOTE]
> <span data-ttu-id="fa2c1-131">Budoucí kurzy prozkoumejte nasazení aplikací datové od této chvíle jsme budete podrobně specifické údaje o tom, jak databázové připojovací řetězce jsou uložené v konfiguračním souboru.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-131">Future tutorials explore deploying data-driven applications, at which point we'll dive into the specifics of how database connection strings are stored in the configuration file.</span></span>


<span data-ttu-id="fa2c1-132">O záměrné chování vývoj a produkční prostředí se podstatně liší.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-132">The intended behavior of the development and production environments differs substantially.</span></span> <span data-ttu-id="fa2c1-133">Webovou aplikaci ve vývojovém prostředí se vytváří, otestovat a vyladěnou podle malá skupina vývojářů.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-133">A web application in the development environment is being created, tested, and debugged by a small group of developers.</span></span> <span data-ttu-id="fa2c1-134">V produkčním prostředí tu samou aplikaci přístupu pomocí mnoha různým uživatelům současně.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-134">In the production environment that same application is being visited by many different simultaneous users.</span></span> <span data-ttu-id="fa2c1-135">Technologie ASP.NET obsahuje řadu funkcí, které pomoci vývojářům při testování a ladění aplikace, ale tyto funkce by mělo být zakázáno z důvodů zabezpečení v provozním prostředí a výkonu.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-135">ASP.NET includes a number of features that help developers in testing and debugging an application, but these features should be disabled for performance and security reasons when in the production environment.</span></span> <span data-ttu-id="fa2c1-136">Podívejme se na několik taková nastavení konfigurace.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-136">Let's look at a few such configuration settings.</span></span>

### <a name="configuration-settings-that-impact-performance"></a><span data-ttu-id="fa2c1-137">Nastavení konfigurace s dopadem na výkon</span><span class="sxs-lookup"><span data-stu-id="fa2c1-137">Configuration Settings That Impact Performance</span></span>

<span data-ttu-id="fa2c1-138">Když je navštívené stránky ASP.NET pro první (nebo při prvním po se změnila), je nutno jeho deklarativní převést na třídu a tato třída musí být zkompilovány.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-138">When an ASP.NET page is visited for the first time (or the first time after it has changed), its declarative markup must be converted into a class and this class must be compiled.</span></span> <span data-ttu-id="fa2c1-139">Pokud webová aplikace používá automatickou kompilaci pak třídy kódu stránky musí být zkompilovány příliš.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-139">If the web application uses automatic compilation then the page's code-behind class needs to be compiled, too.</span></span> <span data-ttu-id="fa2c1-140">Můžete nakonfigurovat širokou možnosti kompilace prostřednictvím `Web.config` souboru [ `<compilation>` element](https://msdn.microsoft.com/library/s10awwz0.aspx).</span><span class="sxs-lookup"><span data-stu-id="fa2c1-140">You can configure an assortment of compilation options via the `Web.config` file's [`<compilation>` element](https://msdn.microsoft.com/library/s10awwz0.aspx).</span></span>

<span data-ttu-id="fa2c1-141">Atribut ladění je jedním z nejdůležitějších atributů `<compilation>` elementu.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-141">The debug attribute is one of the most important attributes in the `<compilation>` element.</span></span> <span data-ttu-id="fa2c1-142">Pokud `debug` atribut je nastaven na hodnotu true, pak kompilované sestavení obsahovat symboly ladění, které jsou potřeba při ladění aplikace v sadě Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-142">If the `debug` attribute is set to "true" then the compiled assemblies include debug symbols, which are needed when debugging an application in Visual Studio.</span></span> <span data-ttu-id="fa2c1-143">Ale symboly ladění zvětšete velikost sestavení a stanovit požadavky další paměť při spuštění kódu.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-143">But debug symbols increase the size of the assembly and impose additional memory requirements when running the code.</span></span> <span data-ttu-id="fa2c1-144">Kromě toho, když `debug` atribut je nastaven na hodnotu true, žádný obsah vrácený `WebResource.axd` není v mezipaměti, což znamená, že pokaždé, když uživatel navštíví stránky, bude nutné znovu stáhnout statický obsah vrácený `WebResource.axd`.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-144">Furthermore, when the `debug` attribute is set to "true" any content returned by `WebResource.axd` is not cached, meaning that each time a user visits a page they will need to re-download the static content returned by `WebResource.axd`.</span></span>

> [!NOTE]
> <span data-ttu-id="fa2c1-145">`WebResource.axd` je integrované obslužná rutina HTTP zavedená v technologii ASP.NET 2.0, ovládací prvky serveru použít k načtení vložené prostředky, jako jsou soubory skriptu, bitové kopie, soubory šablon stylů CSS a jiný obsah.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-145">`WebResource.axd` is a built-in HTTP Handler introduced in ASP.NET 2.0 that server controls use to retrieve embedded resources, such as script files, images, CSS files, and other content.</span></span> <span data-ttu-id="fa2c1-146">Další informace o tom, `WebResource.axd` funguje a jak můžete použít pro přístup vložené prostředky ze vaše vlastní serverové ovládací prvky, najdete v části [přístup k vložených prostředků prostřednictvím adresu URL pomocí `WebResource.axd` ](http://aspnet.4guysfromrolla.com/articles/080906-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="fa2c1-146">For more information on how `WebResource.axd` works and how you can use it to access embedded resources from your custom server controls, see [Accessing Embedded Resources Through a URL Using `WebResource.axd`](http://aspnet.4guysfromrolla.com/articles/080906-1.aspx).</span></span>


<span data-ttu-id="fa2c1-147">`<compilation>` Elementu `debug` je obvykle nastavena na hodnotu "true" ve vývojovém prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-147">The `<compilation>` element's `debug` attribute is usually set to "true" in the development environment.</span></span> <span data-ttu-id="fa2c1-148">Ve skutečnosti tento atribut musí být nastaven na hodnotu true, pokud chcete ladit webové aplikace; Pokud se pokusíte ladění aplikace ASP.NET v sadě Visual Studio a `debug` atribut je nastaven na hodnotu "false", Visual Studio se zobrazí zpráva vysvětlení, že nemůžete dokud ladit aplikace `debug` je nastavena na hodnotu "true" a bude nabídka, aby pro vás provedl tuto změnu.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-148">In fact, this attribute must be set to "true" in order to debug a web application; if you try to debug an ASP.NET application from Visual Studio and the `debug` attribute is set to "false", Visual Studio will display a message explaining that the application cannot be debugged until the `debug` attribute is set to "true" and will offer to make this change for you.</span></span>

<span data-ttu-id="fa2c1-149">Měli byste **nikdy** mít `debug` nastaven atribut na hodnotu "true" v produkčním prostředí kvůli jeho dopad na výkon.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-149">You should **never** have the `debug` attribute set to "true" in a production environment because of its impact on performance.</span></span> <span data-ttu-id="fa2c1-150">Podrobnější informace k tomuto tématu, najdete v části [Scott Guthrie](https://weblogs.asp.net/scottgu/)na příspěvku na blogu [nemáte spustit produkční ASP.NET aplikace s `debug="true"` povoleno](https://weblogs.asp.net/scottgu/442448).</span><span class="sxs-lookup"><span data-stu-id="fa2c1-150">For a more thorough discussion on this topic, refer to [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog post, [Don't Run Production ASP.NET Applications With `debug="true"` Enabled](https://weblogs.asp.net/scottgu/442448).</span></span>

### <a name="custom-errors-and-tracing"></a><span data-ttu-id="fa2c1-151">Vlastní chyby a trasování</span><span class="sxs-lookup"><span data-stu-id="fa2c1-151">Custom Errors and Tracing</span></span>

<span data-ttu-id="fa2c1-152">Když dojde k neošetřené výjimce v aplikaci ASP.NET bubliny až do okamžiku jednu ze tří akcí se stane modulu runtime:</span><span class="sxs-lookup"><span data-stu-id="fa2c1-152">When an unhandled exception occurs in an ASP.NET application it bubbles up to the runtime at which point one of three things happens:</span></span>

- <span data-ttu-id="fa2c1-153">Zobrazí se chybová zpráva obecný modul runtime.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-153">A generic runtime error message is displayed.</span></span> <span data-ttu-id="fa2c1-154">Tato stránka informuje uživatele, že existuje došlo k chybě modulu runtime, ale neobsahuje žádné podrobnosti o této chybě.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-154">This page informs the user that there was a runtime error, but does not provide any details about the error.</span></span>
- <span data-ttu-id="fa2c1-155">Zobrazí se zprávou výjimky podrobnosti, což zahrnuje informace o výjimku, která se právě vyvolala.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-155">An exception details message is displayed, which includes information on the exception that was just thrown.</span></span>
- <span data-ttu-id="fa2c1-156">Zobrazí se vlastní chybovou stránku, která je stránka technologie ASP.NET, kterou vytvoříte, zobrazí jakékoli zprávy, které očekáváte.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-156">A custom error page is displayed, which is an ASP.NET page that you create that displays any message you desire.</span></span>

<span data-ttu-id="fa2c1-157">Co se stane při krátkodobém nezpracovanou výjimku odvíjí `Web.config` souboru [ `<customErrors>` části](https://msdn.microsoft.com/library/h0hfz6fc.aspx).</span><span class="sxs-lookup"><span data-stu-id="fa2c1-157">What happens in the face of an unhandled exception depends on the `Web.config` file's [`<customErrors>` section](https://msdn.microsoft.com/library/h0hfz6fc.aspx).</span></span>

<span data-ttu-id="fa2c1-158">Při vývoji a testování aplikace pomáhá zobrazíte podrobnosti jakékoli výjimky v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-158">When developing and testing an application it helps to see details of any exception in the browser.</span></span> <span data-ttu-id="fa2c1-159">Zobrazuje podrobnosti o výjimce v aplikaci na produkční je však představuje potenciální bezpečnostní riziko.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-159">However, showing exception details in an application on production is a potential security risk.</span></span> <span data-ttu-id="fa2c1-160">Kromě toho je unflattering a umožňuje neprofesionálně webu.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-160">Moreover, it's unflattering and makes your website look unprofessional.</span></span> <span data-ttu-id="fa2c1-161">V ideálním případě by v případě neošetřené výjimky webové aplikace ve vývojovém prostředí se zobrazí podrobnosti výjimky při stejnou aplikaci v produkčním prostředí se zobrazí vlastní chybovou stránku.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-161">Ideally, in the event of an unhandled exception a web application in the development environment will show the exception's details while the same application in production will show a custom error page.</span></span>

> [!NOTE]
> <span data-ttu-id="fa2c1-162">Výchozí hodnota `<customErrors>` část nastavení zobrazuje podrobnosti o výjimce zprávy jenom v případě, že na stránce přístupu prostřednictvím místního hostitele a zobrazí se chybová stránka Obecné runtime jinak.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-162">The default `<customErrors>` section setting shows the exception details message only when the page is being visited through localhost, and shows the generic runtime error page otherwise.</span></span> <span data-ttu-id="fa2c1-163">Tato akce není ideální, ale je zajištění vědět, že výchozí chování není odhalit podrobnosti výjimky pro návštěvníky není místní.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-163">This isn't ideal, but it's assuring to know that the default behavior doesn't reveal exception details to non-local visitors.</span></span> <span data-ttu-id="fa2c1-164">Prozkoumá budoucí kurz `<customErrors>` části podrobněji a ukazuje, jak mají vlastní chybovou stránku zobrazí, když dojde k chybě v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-164">A future tutorial examines the `<customErrors>` section in more detail and shows how to have a custom error page shown when an error occurs in production.</span></span>


<span data-ttu-id="fa2c1-165">Jiné funkce ASP.NET, které jsou užitečné při vývoji je trasování.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-165">Another ASP.NET feature that is useful during development is tracing.</span></span> <span data-ttu-id="fa2c1-166">Trasování, pokud je povoleno, zaznamenává informace o jednotlivých příchozích požadavků a obsahuje speciální webové stránky, `Trace.axd`, k zobrazení nedávné podrobnosti požadavku.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-166">Tracing, if enabled, records information about each incoming request and provides a special web page, `Trace.axd`, for viewing recent request details.</span></span> <span data-ttu-id="fa2c1-167">Můžete zapnout a konfigurovat trasování prostřednictvím [ `<trace>` element](https://msdn.microsoft.com/library/6915t83k.aspx) v `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-167">You can turn on and configure tracing via the [`<trace>` element](https://msdn.microsoft.com/library/6915t83k.aspx) in `Web.config`.</span></span>

<span data-ttu-id="fa2c1-168">Pokud povolíte trasování Ujistěte se, že to je zakázané v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-168">If you enable tracing make sure that it is disabled in production.</span></span> <span data-ttu-id="fa2c1-169">Informace o trasování zahrnuje soubory cookie, data relace a další potenciálně citlivé informace, a proto je důležité pro vypnutí trasování v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-169">Because the trace information includes cookies, session data, and other potentially sensitive information, it is important to disable tracing in production.</span></span> <span data-ttu-id="fa2c1-170">Dobrá zpráva je, že ve výchozím nastavení, trasování je zakázáno a `Trace.axd` souboru je k dispozici pouze prostřednictvím místního hostitele.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-170">The good news is that, by default, tracing is disabled and the `Trace.axd` file is only accessible through localhost.</span></span> <span data-ttu-id="fa2c1-171">Změníte-li tato výchozí nastavení v vývoj Ujistěte se, že jsou vypnuté zpět v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-171">If you change these default settings in development make sure that they are turned back off in production.</span></span>

## <a name="techniques-for-maintaining-separate-configuration-information"></a><span data-ttu-id="fa2c1-172">Techniky pro uchovávání informací samostatné konfigurace</span><span class="sxs-lookup"><span data-stu-id="fa2c1-172">Techniques for Maintaining Separate Configuration Information</span></span>

<span data-ttu-id="fa2c1-173">S jinou konfiguraci nastavení v prostředí vývoje a produkční komplikuje procesu nasazení.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-173">Having different configuration settings in the development and production environments complicates the deployment process.</span></span> <span data-ttu-id="fa2c1-174">V předchozích dvou kurzech procesu nasazení zahrnuta, všechny potřebné soubory kopírování z vývojového do produkčního prostředí, ale tento postup funguje jenom v případě, že informace o konfiguraci je stejná v obou prostředích.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-174">In the previous two tutorials the deployment process involved copying all of the necessary files from development to production, but that approach only works if the configuration information is the same in both environments.</span></span> <span data-ttu-id="fa2c1-175">Existují různé postupy nasazení aplikace s různými informace o konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-175">There are a variety of techniques for deploying an application with varying configuration information.</span></span> <span data-ttu-id="fa2c1-176">Pojďme katalogu některé z těchto možností pro hostované webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-176">Let's catalog some of these options for hosted web applications.</span></span>

### <a name="manually-deploying-the-production-environment-configuration-file"></a><span data-ttu-id="fa2c1-177">Ruční nasazení konfiguračního souboru produkční prostředí</span><span class="sxs-lookup"><span data-stu-id="fa2c1-177">Manually Deploying the Production Environment Configuration File</span></span>

<span data-ttu-id="fa2c1-178">Nejjednodušší způsob je udržovat dvě verze `Web.config` souboru: jeden pro vývojové prostředí a jeden pro produkční prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-178">The simplest approach is to maintain two versions of the `Web.config` file: one for the development environment and one for the production environment.</span></span> <span data-ttu-id="fa2c1-179">Nasazení lokality do produkčního prostředí zahrnuje kopírování všech souborů na provozním serveru ve vývojovém prostředí *s výjimkou* pro `Web.config` souboru.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-179">Deploying a site to production entails copying all of the files to the production server in the development environment *except* for the `Web.config` file.</span></span> <span data-ttu-id="fa2c1-180">Místo toho produkční prostředí specifické pro `Web.config` soubor zkopírován do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-180">Instead, the production environment-specific `Web.config` file would be copied to production.</span></span>

<span data-ttu-id="fa2c1-181">Tento přístup není velmi složité, ale lze snadno implementovat, protože informace o konfiguraci změní zřídka.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-181">This approach is not very sophisticated, but it is easy to implement because configuration information changes infrequently.</span></span> <span data-ttu-id="fa2c1-182">Je nejvhodnější pro aplikace s malé vývojový tým, které jsou hostované na jednom webovém serveru a jejichž informace o konfiguraci se zřídka mění.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-182">It works best for applications with a small development team that are hosted on a single web server and whose configuration information is infrequently changed.</span></span> <span data-ttu-id="fa2c1-183">Většina chráněném je při nasazování ručně pomocí klienta FTP samostatné soubory aplikace.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-183">It's most tenable when manually deploying the application files using a stand-alone FTP client.</span></span> <span data-ttu-id="fa2c1-184">Při použití nástroje Kopírovat web nebo možností publikovat sady Visual Studio budete muset nejdřív vyměnit specifické pro nasazení `Web.config` soubor s jedním specifické pro produkční před nasazením a pak je Prohodit zpět po dokončení nasazení.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-184">When using Visual Studio's Copy Web Site tool or Publish option you'll need to first swap out the deployment-specific `Web.config` file with the production-specific one before deploying, and then swap them back after deployment completes.</span></span>

### <a name="change-the-configuration-during-the-build-or-deployment-process"></a><span data-ttu-id="fa2c1-185">Změna konfigurace během sestavení nebo procesu nasazení</span><span class="sxs-lookup"><span data-stu-id="fa2c1-185">Change the Configuration During the Build or Deployment Process</span></span>

<span data-ttu-id="fa2c1-186">Diskuse doposud mít předpokládá procesem sestavení a nasazení ad hoc.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-186">The discussions thus far have assumed an ad-hoc build and deployment process.</span></span> <span data-ttu-id="fa2c1-187">Mnoho větší softwaru projekty mají více stanovení procesy, které používá open source, zvětšil domovské nebo nástroje třetích stran.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-187">Many larger software projects have more formalized processes that make use of open-source, home-grown, or third-party tools.</span></span> <span data-ttu-id="fa2c1-188">Pro tyto projekty můžete přizpůsobit pravděpodobně procesu sestavení nebo nasazení odpovídajícím způsobem upravit informace o konfiguraci, než je vložena do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-188">For such projects you can likely customize the build or deployment process to appropriately modify the configuration information before it is pushed to production.</span></span> <span data-ttu-id="fa2c1-189">Pokud vytvoříte webovou aplikaci pomocí [MSBuild](http://en.wikipedia.org/wiki/MSBuild), [NAnt](http://nant.sourceforge.net/), nebo nějaký jiný nástroj sestavení je pravděpodobně přidat krok sestavení změnit `Web.config` souboru produkční specifická nastavení.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-189">If you build your web application using [MSBuild](http://en.wikipedia.org/wiki/MSBuild), [NAnt](http://nant.sourceforge.net/), or some other build tool, you can likely add a build step to modify the `Web.config` file to include the production-specific settings.</span></span> <span data-ttu-id="fa2c1-190">Pracovní postup nasazení může prostřednictvím kódu programu připojit k řízení zdrojového serveru a načíst odpovídající `Web.config` souboru.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-190">Or your deployment workflow could programmatically connect to the source control server and retrieve the appropriate `Web.config` file.</span></span>

<span data-ttu-id="fa2c1-191">Široce závislosti na nástroje a pracovní postup se liší skutečné přístup pro získávání informací o správné konfiguraci do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-191">The actual approach for getting the appropriate configuration information to production varies widely based on your tools and workflow.</span></span> <span data-ttu-id="fa2c1-192">Jako takový jsme nebude pustíte do dále v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-192">As such, we will not delve into this topic further.</span></span> <span data-ttu-id="fa2c1-193">Pokud jsou pomocí Oblíbené sestavení nástroje, například nástroje MSBuild nebo NAnt najdete články nasazení a kurzy specifická pro tyto nástroje prostřednictvím vyhledávání na webu.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-193">If you are using a popular build tool like MSBuild or NAnt you can find deployment articles and tutorials specific to these tools through a web search.</span></span>

### <a name="managing-configuration-differences-via-the-web-deployment-project-add-in"></a><span data-ttu-id="fa2c1-194">Správa konfigurace rozdíly prostřednictvím nasazení webového projektu doplňku</span><span class="sxs-lookup"><span data-stu-id="fa2c1-194">Managing Configuration Differences via the Web Deployment Project Add-In</span></span>

<span data-ttu-id="fa2c1-195">V 2006 Společnost Microsoft vydala webové vývoj projektu doplňku pro Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-195">In 2006 Microsoft released the Web Development Project Add-In for Visual Studio 2005.</span></span> <span data-ttu-id="fa2c1-196">Doplněk pro Visual Studio 2008 byla vydána v 2008.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-196">An Add-In for Visual Studio 2008 was released in 2008.</span></span> <span data-ttu-id="fa2c1-197">Add-In umožňuje vývojářům ASP.NET vytvořit samostatné nasazení webového projektu spolu s jejich projekt webové aplikace, která, pokud vytvořené, explicitně zkompiluje webové aplikace a zkopíruje soubory, které chcete nasadit do místní výstupního adresáře.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-197">This Add-In allows for ASP.NET developers to create a separate Web Deployment Project alongside their web application project that, when built, explicitly compiles the web application and copies the files to deploy to a local output directory.</span></span> <span data-ttu-id="fa2c1-198">Projekt webové aplikace pomocí nástroje MSBuild na pozadí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-198">The Web Application Project uses MSBuild behind the scenes.</span></span>

<span data-ttu-id="fa2c1-199">Ve výchozím nastavení, vývojového prostředí pro `Web.config` soubor zkopírován do výstupního adresáře, ale můžete nastavit nasazení webového projektu k přizpůsobení</span><span class="sxs-lookup"><span data-stu-id="fa2c1-199">By default, the development environment's `Web.config` file is copied to the output directory, but you can setup the Web Deployment Project to customize the</span></span>

<span data-ttu-id="fa2c1-200">informace o konfiguraci, která se zkopírují do tohoto adresáře následujícími způsoby:</span><span class="sxs-lookup"><span data-stu-id="fa2c1-200">configuration information that gets copied to this directory in the following ways:</span></span>

- <span data-ttu-id="fa2c1-201">Prostřednictvím `Web.config` souboru nahrazení části, ve kterém můžete zadat oddílu, který má nahradit a soubor XML, který obsahuje Nahrazovací text.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-201">Via `Web.config` file section replacement, in which you specify the section to replace and an XML file that contains the replacement text.</span></span>
- <span data-ttu-id="fa2c1-202">Tím, že poskytuje cestu ke zdrojové externí konfigurační soubor.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-202">By providing a path to an external configuration source file.</span></span> <span data-ttu-id="fa2c1-203">Vybraná tato možnost zkopíruje webového projektu nasazení konkrétní `Web.config` souboru do výstupního adresáře (místo `Web.config` soubor použitý ve vývojovém prostředí).</span><span class="sxs-lookup"><span data-stu-id="fa2c1-203">With this option selected, the Web Deployment Project copies a particular `Web.config` file to the output directory (rather than the `Web.config` file used in the development environment).</span></span>
- <span data-ttu-id="fa2c1-204">Přidáním vlastní pravidla k souboru MSBuild používané webovým projektem nasazení.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-204">By adding custom rules to the MSBuild file used by the Web Deployment Project.</span></span>

<span data-ttu-id="fa2c1-205">Nasazení webové aplikace sestavení webového projektu nasazení a poté zkopírujte soubory ze složky projektu výstup do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-205">To deploy the web application build the Web Deployment Project and then copy the files from the project's output folder to the production environment.</span></span>

<span data-ttu-id="fa2c1-206">Další informace o použití nasazení webového projektu podívejte se na [v tomto článku webové projekty nasazení](https://msdn.microsoft.com/magazine/cc163448.aspx) z vydání duben 2007 [Časopis MSDN](https://msdn.microsoft.com/magazine/default.aspx), nebo se podívejte na odkazy v části Další čtení na konce tohoto kurzu.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-206">To learn more about using the Web Deployment Project check out [this Web Deployment Projects article](https://msdn.microsoft.com/magazine/cc163448.aspx) from the April 2007 issue of [MSDN Magazine](https://msdn.microsoft.com/magazine/default.aspx), or consult the links in the Further Reading section at the end of this tutorial.</span></span>

> [!NOTE]
> <span data-ttu-id="fa2c1-207">Nasazení webového projektu nelze použít s Visual Web Developer, protože webový projekt nasazení je implementovaný jako Visual Studio Add-In a Visual Studio Express Edition (včetně Visual Web Developer) nepodporují doplňků.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-207">You cannot use the Web Deployment Project with Visual Web Developer because the Web Deployment Project is implemented as a Visual Studio Add-In and the Visual Studio Express Editions (including Visual Web Developer) do not support Add-Ins.</span></span>


## <a name="summary"></a><span data-ttu-id="fa2c1-208">Souhrn</span><span class="sxs-lookup"><span data-stu-id="fa2c1-208">Summary</span></span>

<span data-ttu-id="fa2c1-209">Externí zdroje a chování při vývoji webové aplikace se obvykle liší od Pokud stejná aplikace je v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-209">The external resources and behavior of a web application in development are typically different than when the same application is in production.</span></span> <span data-ttu-id="fa2c1-210">Například databázové připojovací řetězce, možnosti kompilace a chování, když dojde k neošetřené výjimce běžně liší mezi prostředími.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-210">For instance, database connection strings, compilation options, and the behavior when an unhandled exception occurs commonly differ between environments.</span></span> <span data-ttu-id="fa2c1-211">Proces nasazení musí zohlednit tyto rozdíly.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-211">The deployment process must accommodate these differences.</span></span> <span data-ttu-id="fa2c1-212">Jak již bylo zmíněno v tomto kurzu, je nejjednodušší je ručně zkopírovat soubor alternativní konfigurací do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-212">As we discussed in this tutorial, the simplest approach is to manually copy an alternate configuration file to the production environment.</span></span> <span data-ttu-id="fa2c1-213">Je možné více elegantní řešení, když používáte Web nasazení projektu doplňku nebo s více formalizovanou procesu sestavení nebo nasazení, který zvládne takové úpravy.</span><span class="sxs-lookup"><span data-stu-id="fa2c1-213">More elegant solutions are possible when using the Web Deployment Project Add-In or with a more formalized build or deployment process that can accommodate such customizations.</span></span>

<span data-ttu-id="fa2c1-214">Radostí programování!</span><span class="sxs-lookup"><span data-stu-id="fa2c1-214">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="fa2c1-215">Další čtení</span><span class="sxs-lookup"><span data-stu-id="fa2c1-215">Further Reading</span></span>

<span data-ttu-id="fa2c1-216">Další informace o tématech popsané v tomto kurzu najdete v následujících zdrojích informací:</span><span class="sxs-lookup"><span data-stu-id="fa2c1-216">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="fa2c1-217">Vysvětlení připojovací řetězce</span><span class="sxs-lookup"><span data-stu-id="fa2c1-217">Connection Strings Explained</span></span>](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string)
- [<span data-ttu-id="fa2c1-218">Připojení k databázi řetězce @ ConnectionStrings.com</span><span class="sxs-lookup"><span data-stu-id="fa2c1-218">Database Connection Strings @ ConnectionStrings.com</span></span>](http://www.connectionstrings.com/)
- [<span data-ttu-id="fa2c1-219">Nespouštět produkční aplikace ASP.NET s `debug="true"` povoleno</span><span class="sxs-lookup"><span data-stu-id="fa2c1-219">Don't Run Production ASP.NET Applications with `debug="true"` Enabled</span></span>](https://weblogs.asp.net/scottgu/Don_1920_t-run-production-ASP.NET-Applications-with-debug_3D001D20_true_1D20_-enabled)
- [<span data-ttu-id="fa2c1-220">Řádně neodpovídá na požadavky neošetřených výjimek - zobrazení uživatelsky přívětivý chybové stránky</span><span class="sxs-lookup"><span data-stu-id="fa2c1-220">Gracefully Responding to Unhandled Exceptions - Displaying User-Friendly Error Pages</span></span>](http://aspnet.4guysfromrolla.com/articles/090606-1.aspx)
- [<span data-ttu-id="fa2c1-221">Jak na: použití projekt webové nasazení sady Visual Studio 2008?</span><span class="sxs-lookup"><span data-stu-id="fa2c1-221">How Do I: Use a Visual Studio 2008 Web Deployment Project?</span></span>](../../../videos/how-do-i/how-do-i-use-a-visual-studio-2008-web-deployment-project.md)
- [<span data-ttu-id="fa2c1-222">Nastavení klíče konfigurace při nasazení databází</span><span class="sxs-lookup"><span data-stu-id="fa2c1-222">Key Configuration Settings When Deploying a Database</span></span>](http://aspnet.4guysfromrolla.com/articles/121008-1.aspx)
- <span data-ttu-id="fa2c1-223">[Visual Studio 2008 nasazení projekty stažením z webu](https://www.microsoft.com/downloads/details.aspx?FamilyId=0AA30AE8-C73B-4BDD-BB1B-FE697256C459&amp;displaylang=en) | [Visual Studio 2005 nasazení projekty stažením z webu](https://download.microsoft.com/download/9/4/9/9496adc4-574e-4043-bb70-bc841e27f13c/WebDeploymentSetup.msi)</span><span class="sxs-lookup"><span data-stu-id="fa2c1-223">[Visual Studio 2008 Web Deployment Projects Download](https://www.microsoft.com/downloads/details.aspx?FamilyId=0AA30AE8-C73B-4BDD-BB1B-FE697256C459&amp;displaylang=en) | [Visual Studio 2005 Web Deployment Projects Download](https://download.microsoft.com/download/9/4/9/9496adc4-574e-4043-bb70-bc841e27f13c/WebDeploymentSetup.msi)</span></span>
- <span data-ttu-id="fa2c1-224">[Projekty nasazení webu 2008 VS](https://weblogs.asp.net/scottgu/archive/2005/11/06/429723.aspx) | [VS 2008 webového projektu podpora nasazení vydání](https://weblogs.asp.net/scottgu/archive/2008/01/28/vs-2008-web-deployment-project-support-released.aspx)</span><span class="sxs-lookup"><span data-stu-id="fa2c1-224">[VS 2008 Web Deployment Projects](https://weblogs.asp.net/scottgu/archive/2005/11/06/429723.aspx) | [VS 2008 Web Deployment Project Support Released](https://weblogs.asp.net/scottgu/archive/2008/01/28/vs-2008-web-deployment-project-support-released.aspx)</span></span>
- [<span data-ttu-id="fa2c1-225">Projekty nasazení webu</span><span class="sxs-lookup"><span data-stu-id="fa2c1-225">Web Deployment Projects</span></span>](https://msdn.microsoft.com/magazine/cc163448.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="fa2c1-226">[Předchozí](deploying-your-site-using-visual-studio-cs.md)
> [další](core-differences-between-iis-and-the-asp-net-development-server-cs.md)</span><span class="sxs-lookup"><span data-stu-id="fa2c1-226">[Previous](deploying-your-site-using-visual-studio-cs.md)
[Next](core-differences-between-iis-and-the-asp-net-development-server-cs.md)</span></span>
