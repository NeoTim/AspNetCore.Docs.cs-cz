---
uid: web-forms/overview/moving-to-aspnet-20/master-pages
title: Stránky předlohy | Microsoft Docs
author: microsoft
description: Mezi klíčové součásti, které úspěšná webu je konzistentní vzhled a chování. V technologii ASP.NET 1.x, vývojáři použít uživatelské ovládací prvky replikace běžné elem. stránky...
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/20/2005
ms.topic: article
ms.assetid: 9c0cce4d-efd9-4c14-b0e8-a1a140abb3f4
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/master-pages
msc.type: authoredcontent
ms.openlocfilehash: f45dd9704f665244d2a48ec000326f6e98984e4f
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/06/2018
ms.locfileid: "30885101"
---
<a name="master-pages"></a><span data-ttu-id="ba2d7-104">Stránky předlohy</span><span class="sxs-lookup"><span data-stu-id="ba2d7-104">Master Pages</span></span>
====================
<span data-ttu-id="ba2d7-105">podle [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="ba2d7-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="ba2d7-106">Mezi klíčové součásti, které úspěšná webu je konzistentní vzhled a chování.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-106">One of the key components to a successful Web site is a consistent look and feel.</span></span> <span data-ttu-id="ba2d7-107">V technologii ASP.NET 1.x, vývojáři použít uživatelských ovládacích prvků k replikaci společné prvky stránky do webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-107">In ASP.NET 1.x, developers used user controls to replicate common page elements across a Web application.</span></span> <span data-ttu-id="ba2d7-108">Přesto, že je určitě použitelnou řešení, pomocí uživatelské ovládací prvky mít některé nevýhody.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-108">While that is certainly a workable solution, using user controls does have some drawbacks.</span></span> <span data-ttu-id="ba2d7-109">Například ke změně pozice uživatelského ovládacího prvku vyžaduje změnu více stránek v lokalitě.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-109">For example, a change in position of a user control requires a change to multiple pages across a site.</span></span> <span data-ttu-id="ba2d7-110">Uživatelské ovládací prvky se nevykreslí také v zobrazení návrhu po vkládání na stránce.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-110">User controls are also not rendered in Design view after being inserted on a page.</span></span>


<span data-ttu-id="ba2d7-111">Mezi klíčové součásti, které úspěšná webu je konzistentní vzhled a chování.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-111">One of the key components to a successful Web site is a consistent look and feel.</span></span> <span data-ttu-id="ba2d7-112">V technologii ASP.NET 1.x, vývojáři použít uživatelských ovládacích prvků k replikaci společné prvky stránky do webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-112">In ASP.NET 1.x, developers used user controls to replicate common page elements across a Web application.</span></span> <span data-ttu-id="ba2d7-113">Přesto, že je určitě použitelnou řešení, pomocí uživatelské ovládací prvky mít některé nevýhody.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-113">While that is certainly a workable solution, using user controls does have some drawbacks.</span></span> <span data-ttu-id="ba2d7-114">Například ke změně pozice uživatelského ovládacího prvku vyžaduje změnu více stránek v lokalitě.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-114">For example, a change in position of a user control requires a change to multiple pages across a site.</span></span> <span data-ttu-id="ba2d7-115">Uživatelské ovládací prvky se nevykreslí také v zobrazení návrhu po vkládání na stránce.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-115">User controls are also not rendered in Design view after being inserted on a page.</span></span>

<span data-ttu-id="ba2d7-116">Technologie ASP.NET 2.0 přináší hlavní stránky jako způsob zachování konzistentní vzhled a chování a jako vám brzy zobrazí, hlavní stránky představují výrazným vylepšením přes metodu řízení uživatele.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-116">ASP.NET 2.0 introduces Master pages as a way of maintaining a consistent look and feel, and as you'll soon see, Master pages represent a significant improvement over the user control method.</span></span>

## <a name="why-master-pages"></a><span data-ttu-id="ba2d7-117">Proč hlavní stránky?</span><span class="sxs-lookup"><span data-stu-id="ba2d7-117">Why Master Pages?</span></span>

<span data-ttu-id="ba2d7-118">Asi vás zajímá, proč nebylo potřeba hlavní stránky v aplikaci ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-118">You may be wondering why master pages were needed in ASP.NET 2.0.</span></span> <span data-ttu-id="ba2d7-119">Po všech webu vývojáři už používáte uživatelských ovládacích prvků technologie ASP.NET 1.x pro sdílení obsahu oblasti mezi stránkami.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-119">After all, Web site developers are already using user controls in ASP.NET 1.x to share content areas between pages.</span></span> <span data-ttu-id="ba2d7-120">Tady je ve skutečnosti několik důvodů, proč uživatelské ovládací prvky jsou méně než optimální řešení pro vytváření běžné rozložení.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-120">There are actually several reasons why user controls are a less-than-optimal solution for creating a common layout.</span></span>

<span data-ttu-id="ba2d7-121">Uživatelské ovládací prvky nejsou ve skutečnosti definovat rozložení stránky.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-121">User controls don't actually define page layout.</span></span> <span data-ttu-id="ba2d7-122">Místo toho že definují rozložení a funkce pro část stránky.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-122">Instead, they define the layout and functionality for a portion of a page.</span></span> <span data-ttu-id="ba2d7-123">Mezi tyto dva rozdíl je důležité, protože možnosti správy řešení řízení uživatele je mnohem obtížnější.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-123">The distinction between these two is important because it makes manageability of a user control solution much more difficult.</span></span> <span data-ttu-id="ba2d7-124">Například pokud chcete změnit umístění uživatelského ovládacího prvku na stránku, je nutné upravit Skutečná stránka, na kterém se zobrazí uživatelského ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-124">For example, when you want to change the position of a user control on your page, you must edit the actual page on which the user control appears.</span></span> <span data-ttu-id="ba2d7-125">Thats přesně, pokud máte pouze několik stránek, ale u velkých webů, bude rychle při důvodů správy lokality!</span><span class="sxs-lookup"><span data-stu-id="ba2d7-125">Thats fine if you have only a few pages, but in large sites, it quickly becomes a site management nightmare!</span></span>

<span data-ttu-id="ba2d7-126">Jiné nevýhodou uživatelské ovládací prvky pro definování běžné rozložení se zobrazuje v architektuře ASP.NET sám sebe.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-126">Another drawback of using user controls for defining a common layout is rooted in the architecture of ASP.NET itself.</span></span> <span data-ttu-id="ba2d7-127">Pokud dojde ke změně žádný veřejný člen uživatelského ovládacího prvku, se vyžaduje, abyste znovu zkompiluje všechny stránky, které používají uživatelského ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-127">If any public member of a user control is changed, it requires you to recompile all of the pages that use the user control.</span></span> <span data-ttu-id="ba2d7-128">Pak ASP.NET se pak znovu JIT svoje stránky při prvním přístup.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-128">In turn, ASP.NET will then re-JIT your pages when they are first accessed.</span></span> <span data-ttu-id="ba2d7-129">To, znovu vytvoří-škálovatelná architektura a problém Správa lokality pro větší lokalit.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-129">This, once again, produces a non-scalable architecture and a site management problem for larger sites.</span></span>

<span data-ttu-id="ba2d7-130">Oba tyto problémy (a mnoho dalších) jsou vhodně řešit hlavní stránky v aplikaci ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-130">Both of these problems (and many more) are nicely addressed by master pages in ASP.NET 2.0.</span></span>

## <a name="how-master-pages-work"></a><span data-ttu-id="ba2d7-131">Jak fungují stránky předlohy</span><span class="sxs-lookup"><span data-stu-id="ba2d7-131">How Master Pages Work</span></span>

<span data-ttu-id="ba2d7-132">Stránky předlohy je obdobou šablonu pro jiné stránky.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-132">A master page is analogous to a template for other pages.</span></span> <span data-ttu-id="ba2d7-133">Prvky stránky, které by měl být sdílen dalších stránek (tj. nabídky, ohraničení atd.) se přidají k hlavní stránce.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-133">Page elements that should be shared among other pages (i.e. menus, borders, etc.) are added to the master page.</span></span> <span data-ttu-id="ba2d7-134">Po přidání nové stránky na web, můžete je přidružit se stránkou předlohy.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-134">When new pages are added to the site, you can associate them with a master page.</span></span> <span data-ttu-id="ba2d7-135">Je volána stránku, která je přidružena k hlavní stránce **obsahu stránce**.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-135">A page that is associated with a master page is called a **content page**.</span></span> <span data-ttu-id="ba2d7-136">Ve výchozím nastavení stránky obsahu bude vzhled ze stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-136">By default, a content page takes on the appearance from the master page.</span></span> <span data-ttu-id="ba2d7-137">Ale když vytvoříte stránky předlohy, můžete definovat části stránky, která stránky obsahu můžete nahradit vlastní obsah.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-137">However, when you create a master page, you can define portions of the page that the content page can replace with its own content.</span></span> <span data-ttu-id="ba2d7-138">Tyto části jsou definovány pomocí ovládacího prvku nové byla zavedená v technologii ASP.NET 2.0; **ContentPlaceHolder** ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-138">These portions are defined using a new control introduced in ASP.NET 2.0; the **ContentPlaceHolder** control.</span></span>

<span data-ttu-id="ba2d7-139">Na hlavní stránce může obsahovat libovolný počet ovládacích prvků ContentPlaceHolder (nebo none na všechny.) Na stránce obsahu, zobrazí se obsah z obsahuje rozložení uvnitř **obsah** ovládací prvky, jiné nový ovládací prvek v technologii ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-139">A master page can contain any number of ContentPlaceHolder controls (or none at all.) On the content page, the content from the ContentPlaceHolder controls appears inside of **Content** controls, another new control in ASP.NET 2.0.</span></span> <span data-ttu-id="ba2d7-140">Ve výchozím nastavení jsou obsahu stránky, které řídí obsah tak, aby můžete zadat vlastní obsah prázdné.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-140">By default, the content pages Content controls are empty so that you can provide your own content.</span></span> <span data-ttu-id="ba2d7-141">Pokud chcete používat obsah ze stránky předlohy uvnitř ovládací prvky obsahu, můžete to udělat tak, jak uvidíte později v tomto modulu.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-141">If you want to use the content from the master page inside of the Content controls, you can do so as you will see later in this module.</span></span> <span data-ttu-id="ba2d7-142">Ovládací prvek obsahu je namapována na ovládací prvek ContentPlaceHolder prostřednictvím atribut ContentPlaceHolderID obsahu ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-142">The Content control is mapped to the ContentPlaceHolder control via the ContentPlaceHolderID attribute of the Content control.</span></span> <span data-ttu-id="ba2d7-143">Kód pod mapy obsahu řízení do ovládacího prvku ContentPlaceHolder nazývá mainBody na hlavní stránce.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-143">The code below maps a Content control to a ContentPlaceHolder control called mainBody on a master page.</span></span>

[!code-aspx[Main](master-pages/samples/sample1.aspx)]

> [!NOTE]
> <span data-ttu-id="ba2d7-144">Budou často slyšet osoby, které popisují hlavní stránky jako základní třída pro jiné stránky.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-144">You will often hear people describe master pages as being a base class for other pages.</span></span> <span data-ttu-id="ba2d7-145">Thats ve skutečnosti není pravda.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-145">Thats actually not true.</span></span> <span data-ttu-id="ba2d7-146">Vztah mezi hlavní stránky a stránky obsahu není jedním z dědičnosti.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-146">The relationship between master pages and content pages is not one of inheritance.</span></span>


<span data-ttu-id="ba2d7-147">**Obrázek 1** zobrazuje stránku předlohy a stránku obsahu přidružené, jak jsou v sadě Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-147">**Figure 1** shows a master page and an associated content page as they appear in Visual Studio 2005.</span></span> <span data-ttu-id="ba2d7-148">Zobrazí ovládací prvek ContentPlaceHolder stránky předlohy a odpovídající obsah ovládacího prvku obsahu stránce.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-148">You can see the ContentPlaceHolder control in the master page and the corresponding Content control in the content page.</span></span> <span data-ttu-id="ba2d7-149">Všimněte si, že je hlavní stránky obsahu, který je mimo ContentPlaceHolder viditelné, ale šedě na stránce obsahu.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-149">Notice that the master pages content that is outside of the ContentPlaceHolder is visible but grayed out in the content page.</span></span> <span data-ttu-id="ba2d7-150">Pouze obsah, uvnitř ContentPlaceHolder může být nahrazen stránky obsahu.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-150">Only the content inside of the ContentPlaceHolder can be supplanted by the content page.</span></span> <span data-ttu-id="ba2d7-151">Veškerý obsah, který přichází z stránky předlohy se nedá změnit.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-151">All other content that comes from the master page is immutable.</span></span>


![Hlavní stránky a jeho přidružené obsahu stránky](master-pages/_static/image1.jpg)

<span data-ttu-id="ba2d7-153">**Obrázek 1**: hlavní stránky a jeho přidružené obsahu stránky</span><span class="sxs-lookup"><span data-stu-id="ba2d7-153">**Figure 1**: A master page and its associated content page</span></span>


## <a name="creating-a-master-page"></a><span data-ttu-id="ba2d7-154">Vytvoření stránky předlohy</span><span class="sxs-lookup"><span data-stu-id="ba2d7-154">Creating a Master Page</span></span>

<span data-ttu-id="ba2d7-155">Pokud chcete vytvořit novou stránku předlohy:</span><span class="sxs-lookup"><span data-stu-id="ba2d7-155">To create a new master page:</span></span>

1. <span data-ttu-id="ba2d7-156">Otevřete Visual Studio 2005 a vytvořit nový web.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-156">Open Visual Studio 2005 and create a new Web site.</span></span>
2. <span data-ttu-id="ba2d7-157">Klikněte na soubor, nový, soubor.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-157">Click File, New, File.</span></span>
3. <span data-ttu-id="ba2d7-158">Vyberte soubor předlohové z dialogového okna Přidat novou položku, jak je znázorněno v **obrázek 2**.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-158">Choose Master File from the Add New Item dialog as shown in **figure 2**.</span></span>
4. <span data-ttu-id="ba2d7-159">Klikněte na tlačítko Přidat.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-159">Click Add.</span></span>


![Vytvoření nové stránky předlohy](master-pages/_static/image2.jpg)

<span data-ttu-id="ba2d7-161">**Obrázek 2**: vytvoření nové stránky předlohy</span><span class="sxs-lookup"><span data-stu-id="ba2d7-161">**Figure 2**: Creating a New Master Page</span></span>


<span data-ttu-id="ba2d7-162">Všimněte si, že přípona souboru pro hlavní stránky je <em>.master</em>.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-162">Notice that the file extension for a master page is <em>.master</em>.</span></span> <span data-ttu-id="ba2d7-163">Toto je jedním ze způsobů, který na hlavní stránce se liší od obyčejnou stránky.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-163">This is one of the ways that a master page differs from an ordinary page.</span></span> <span data-ttu-id="ba2d7-164">Základní rozdíl je, že v lieu z @Page direktivy, obsahuje stránky předlohy @Master – direktiva.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-164">The other primary difference is that in lieu of a @Page directive, the master page contains a @Master directive.</span></span> <span data-ttu-id="ba2d7-165">Přepněte do zobrazení zdroje pro hlavní stránky, které jste právě vytvořili a zkontrolujte kód.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-165">Switch to Source View for the master page youve just created and review the code.</span></span>

<span data-ttu-id="ba2d7-166">Novou stránku předlohy bude mít jeden prvek ContentPlaceHolder ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-166">A new master page will have one ContentPlaceHolder control by default.</span></span> <span data-ttu-id="ba2d7-167">Ve většině případů je vhodnější nejprve vytvořte společné prvky stránky a pak vložení ovládacích prvků ContentPlaceHolder kde je žádoucí vlastní obsah.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-167">In most cases, it makes more sense to create the common page elements first and then insert ContentPlaceHolder controls where custom content is desired.</span></span> <span data-ttu-id="ba2d7-168">V takových případech bude vývojáři chcete odstranit ovládací prvek ContentPlaceHolder výchozí a vkládání nových jako vyvinutý stránky.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-168">In those cases, developers will want to delete the default ContentPlaceHolder control and insert new ones as the page is developed.</span></span> <span data-ttu-id="ba2d7-169">Ovládací prvky ContentPlaceHolder nejsou s možností změny velikosti přes skutečnost, že se zobrazí úchyty.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-169">ContentPlaceHolder controls are not resizable despite the fact that they do display sizing handles.</span></span> <span data-ttu-id="ba2d7-170">Velikosti ovládacího prvku ContentPlaceHolder automaticky podle obsahu, který obsahuje s jednou výjimkou; Pokud jste například buňky tabulky ovládacího prvku ContentPlaceHolder v blokovém elementu, bude velikost na základě velikosti elementu.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-170">The ContentPlaceHolder control sizes automatically based upon the content that it contains with one exception; if you place a ContentPlaceHolder control inside of a block element such as a table cell, it will size according to the size of the element.</span></span>

## <a name="lab-1-working-with-master-pages"></a><span data-ttu-id="ba2d7-171">Laboratoř 1 práce stránky předlohy</span><span class="sxs-lookup"><span data-stu-id="ba2d7-171">Lab 1 Working with Master Pages</span></span>

<span data-ttu-id="ba2d7-172">V tomto testovacím prostředí vytvoříte novou stránku předlohy a definovat tři ContentPlaceHolder ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-172">In this lab, you will create a new master page and define three ContentPlaceHolder controls.</span></span> <span data-ttu-id="ba2d7-173">Pak vytvoříte nové stránky obsahu a nahradí obsah alespoň jednu z obsahuje rozložení.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-173">You will then create a new Content page and replace the content from at least one of the ContentPlaceHolder controls.</span></span>

1. <span data-ttu-id="ba2d7-174">Vytvoření stránky předlohy a vložení ContentPlaceHolder ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-174">Create a master page and insert ContentPlaceHolder controls.</span></span> 

    1. <span data-ttu-id="ba2d7-175">Vytvořte novou stránku předlohy, jak je popsáno výše.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-175">Create a new master page as described above.</span></span>
    2. <span data-ttu-id="ba2d7-176">Odstraňte ovládací prvek ContentPlaceHolder výchozí.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-176">Delete the default ContentPlaceHolder control.</span></span>
    3. <span data-ttu-id="ba2d7-177">Vyberte ovládací prvek ContentPlaceHolder kliknutím šedou barvou horního okraje ovládacího prvku a pak ji odstraňte zasažení DEL klíč na klávesnici.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-177">Select the ContentPlaceHolder control by clicking the shaded top border of the control and then delete it by hitting the DEL key on your keyboard.</span></span>
    4. <span data-ttu-id="ba2d7-178">Vložit novou tabulku pomocí *záhlaví a straně* šablony, jak je znázorněno na obrázku 3.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-178">Insert a new table using the *Header and side* template as shown in figure 3.</span></span> <span data-ttu-id="ba2d7-179">Změňte šířku a výšku na 90 % a celá tabulka je viditelný v návrháři.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-179">Change the width and height to 90% each so that the entire table is visible in the designer.</span></span>


![](master-pages/_static/image3.jpg)

<span data-ttu-id="ba2d7-180">**Obrázek 3**</span><span class="sxs-lookup"><span data-stu-id="ba2d7-180">**Figure 3**</span></span>


1. <span data-ttu-id="ba2d7-181">Umístěte kurzor do jednotlivých buněk tabulky a nastavte *valign* vlastnost *horní*.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-181">Place the cursor into each cell of the table and set the *valign* property to *top*.</span></span>
2. <span data-ttu-id="ba2d7-182">Z panelu nástrojů vložení ovládacího prvku ContentPlaceHolder na horní buňku v tabulce (záhlaví buňky.)</span><span class="sxs-lookup"><span data-stu-id="ba2d7-182">From the Toolbox, insert a ContentPlaceHolder control in the top cell of the table (the header cell.)</span></span>
3. <span data-ttu-id="ba2d7-183">Po vložení tohoto ovládacího prvku ContentPlaceHolder si všimnete, že výšku řádku bude trvat téměř celý stránku, jak je znázorněno na obrázku 4.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-183">When you insert this ContentPlaceHolder control, you will notice that the row height will take up almost the entire page as shown in figure 4.</span></span> <span data-ttu-id="ba2d7-184">Dont se starat o který v tomto okamžiku.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-184">Dont be concerned about that at this point.</span></span>


![Prázdné místo je do jedné buňky jako ContentPlaceHolder](master-pages/_static/image1.gif)

<span data-ttu-id="ba2d7-186">**Obrázek 4**: prázdné místo je do jedné buňky jako ContentPlaceHolder</span><span class="sxs-lookup"><span data-stu-id="ba2d7-186">**Figure 4**: The empty space is in the same cell as the ContentPlaceHolder</span></span>


1. <span data-ttu-id="ba2d7-187">Umístěte ovládací prvek ContentPlaceHolder dvě buňky.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-187">Place a ContentPlaceHolder control in the other two cells.</span></span> <span data-ttu-id="ba2d7-188">Po vložení jiných ContentPlaceHolder ovládacích prvků, měl by být velikost buněk tabulky byste očekávali.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-188">Once the other ContentPlaceHolder controls have been inserted, the size of the table cells should be as you would expect.</span></span> <span data-ttu-id="ba2d7-189">Stránka by měl nyní vypadat stránka zobrazená v **obrázek 5**.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-189">The page should now look like the page shown in **figure 5**.</span></span>


![Hlavní s všechny ovládací prvky ContentPlaceHolder.](master-pages/_static/image2.gif)

<span data-ttu-id="ba2d7-192">**Obrázek 5**: Master The s všechny ovládací prvky ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-192">**Figure 5**: The Master with all ContentPlaceHolder controls.</span></span> <span data-ttu-id="ba2d7-193">Všimněte si, že je výška buňky pro datovou buňku teď by měla být</span><span class="sxs-lookup"><span data-stu-id="ba2d7-193">Notice that the cell height for the header cell is now what it should be</span></span>


1. <span data-ttu-id="ba2d7-194">Zadejte text zvoleného do každé tři ovládacích prvků ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-194">Enter some text of your choice into each of the three ContentPlaceHolder controls.</span></span>
2. <span data-ttu-id="ba2d7-195">Uložte jako exercise1.master stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-195">Save the master page as exercise1.master.</span></span>
3. <span data-ttu-id="ba2d7-196">Vytvořit nový webový formulář a přidružte ji k hlavní stránce exercise1.master.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-196">Create a new Web Form and associate it with the exercise1.master master page.</span></span>
4. <span data-ttu-id="ba2d7-197">Vyberte soubor, nový, souborů v sadě Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-197">Select File, New, File in Visual Studio 2005.</span></span>
5. <span data-ttu-id="ba2d7-198">Vyberte **webového formuláře** v dialogovém okně Přidat novou položku.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-198">Select **Web Form** in the Add New Item dialog.</span></span>
6. <span data-ttu-id="ba2d7-199">Ujistěte se, že je zaškrtnuté políčko vyberte stránku předlohy, jak je znázorněno na obrázku 6.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-199">Make sure that the Select master page checkbox is checked as shown in figure 6.</span></span>


![Přidání nové stránky obsahu](master-pages/_static/image3.gif)

<span data-ttu-id="ba2d7-201">**Obrázek 6**: Přidání nové stránky obsahu</span><span class="sxs-lookup"><span data-stu-id="ba2d7-201">**Figure 6**: Adding a new Content Page</span></span>


1. <span data-ttu-id="ba2d7-202">Klikněte na tlačítko Přidat.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-202">Click Add.</span></span>
2. <span data-ttu-id="ba2d7-203">Vyberte exercise1.master vyberte v dialogovém okně stránky předlohy jak je znázorněno na obrázku 7.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-203">Select exercise1.master in the Select a master page dialog as shown in figure 7.</span></span>
3. <span data-ttu-id="ba2d7-204">Klikněte na OK přidáte nové stránky obsahu.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-204">Click OK to add the new content page.</span></span>

<span data-ttu-id="ba2d7-205">Nová stránka obsahu se zobrazí v sadě Visual Studio obsahuje jeden prvek obsahu pro každý ovládací prvek ContentPlaceHolder na hlavní stránce.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-205">The new content page appears in Visual Studio with one Content control for each ContentPlaceHolder control on the master page.</span></span> <span data-ttu-id="ba2d7-206">Ve výchozím nastavení jsou ovládací prvky obsahu tak, aby můžete přidat vlastní obsah prázdné.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-206">By default, the Content controls are empty so that you can add your own content.</span></span> <span data-ttu-id="ba2d7-207">Pokud se pro ně k používání obsahu z ovládacího prvku ContentPlaceHolder na hlavní stránce jako youd, jednoduše klikněte na symbol inteligentní značky (malé černou šipku v pravém horním rohu ovládacího prvku) a zvolte *výchozí obsah hlavních serverů* ze inteligentní značky, jak je uvedené v **obrázek 8**.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-207">If youd like for them to use the content from the ContentPlaceHolder control on the master page, simply click on the smart tag symbol (the small black arrow in the upper-right corner of the control) and choose *Default to Masters Content* from the smart tag as shown in **figure 8**.</span></span> <span data-ttu-id="ba2d7-208">Pokud tak učiníte, položky nabídky se změní na *vytvořit vlastní obsah*.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-208">When you do so, the menu item changes to *Create Custom Content*.</span></span> <span data-ttu-id="ba2d7-209">Kliknutím na v tomto bodě odebere obsah z hlavní stránky umožňuje definovat vlastní obsah pro konkrétní ovládací prvek obsahu.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-209">Clicking it at that point removes the content from the master page allowing you to define custom content for that particular Content control.</span></span>


![Nastavení ovládacího prvku obsahu jako výchozí obsah stránky předlohy](master-pages/_static/image4.gif)

<span data-ttu-id="ba2d7-211">**Obrázek 7**: nastavení ovládacího prvku obsahu na výchozí obsah stránky předlohy</span><span class="sxs-lookup"><span data-stu-id="ba2d7-211">**Figure 7**: Setting a Content Control to Default to the Master Pages Content</span></span>


## <a name="connecting-master-page-and-content-pages"></a><span data-ttu-id="ba2d7-212">Připojení stránky předlohy a stránky obsahu</span><span class="sxs-lookup"><span data-stu-id="ba2d7-212">Connecting Master Page and Content Pages</span></span>

<span data-ttu-id="ba2d7-213">Přidružení mezi stránky předlohy a stránky obsahu mohou být konfigurovány v jednom z znázorněné různé způsoby:</span><span class="sxs-lookup"><span data-stu-id="ba2d7-213">The association between a master page and a content page can be configured in one of four different ways:</span></span>

- <span data-ttu-id="ba2d7-214"><strong>MasterPageFile</strong> atribut @Page – direktiva</span><span class="sxs-lookup"><span data-stu-id="ba2d7-214">The <strong>MasterPageFile</strong> attribute of the @Page directive</span></span>
- <span data-ttu-id="ba2d7-215">Nastavení **Page.MasterPageFile** vlastností v kódu.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-215">Setting the **Page.MasterPageFile** property in code.</span></span>
- <span data-ttu-id="ba2d7-216">**&lt;Stránky&gt;** element v konfiguračním souboru aplikace (web.config v kořenové složce aplikace)</span><span class="sxs-lookup"><span data-stu-id="ba2d7-216">The **&lt;pages&gt;** element in the applications configuration file (web.config in the root folder of the application)</span></span>
- <span data-ttu-id="ba2d7-217">**&lt;Stránky&gt;** element v konfiguračním souboru podsložky (soubor web.config v podsložce)</span><span class="sxs-lookup"><span data-stu-id="ba2d7-217">The **&lt;pages&gt;** element in a subfolders configuration file (web.config in a subfolder)</span></span>

## <a name="masterpagefile-attribute"></a><span data-ttu-id="ba2d7-218">Atribut MasterPageFile</span><span class="sxs-lookup"><span data-stu-id="ba2d7-218">MasterPageFile Attribute</span></span>

<span data-ttu-id="ba2d7-219">Atribut MasterPageFile snadno použít stránku předlohy na konkrétní stránku ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-219">The MasterPageFile attribute makes it easy to apply a master page to a particular ASP.NET page.</span></span> <span data-ttu-id="ba2d7-220">Je také metodu použitou k použití stránky předlohy, pokud zaškrtnete **vyberte stránku předlohy** políčko jako jste postupovali při cvičení 1.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-220">It is also the method used to apply the master page when you check the **Select Master Page** checkbox as you did in Exercise 1.</span></span>

## <a name="setting-pagemasterpagefile-in-code"></a><span data-ttu-id="ba2d7-221">Nastavení Page.MasterPageFile v kódu</span><span class="sxs-lookup"><span data-stu-id="ba2d7-221">Setting Page.MasterPageFile in Code</span></span>

<span data-ttu-id="ba2d7-222">Nastavením vlastnost MasterPageFile v kódu můžete použít konkrétní stránky předlohy k vašemu obsahu za běhu.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-222">By setting the MasterPageFile property in code, you can apply a particular master page to your content at runtime.</span></span> <span data-ttu-id="ba2d7-223">To je užitečné v případech, kdy budete muset použít na konkrétní stránku předlohy, které jsou na základě role uživatele nebo jiných kritérií.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-223">This is useful in cases where you may need to apply a specific master page based upon a users role or some other criteria.</span></span> <span data-ttu-id="ba2d7-224">V metodě PreInit musí nastavit vlastnost MasterPageFile.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-224">The MasterPageFile property must be set in the PreInit method.</span></span> <span data-ttu-id="ba2d7-225">Pokud je nastavené po metodě PreInit, bude vyvolána výjimkou InvalidOperationException.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-225">If it is set after the PreInit method, an InvalidOperationException will be thrown.</span></span> <span data-ttu-id="ba2d7-226">Stránka, na kterém je tato vlastnost nastavena musí také mít obsah ovládacího prvku jako ovládací prvek nejvyšší úrovně pro stránku.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-226">The page on which this property is being set must also have a Content control as the top-level control for the page.</span></span> <span data-ttu-id="ba2d7-227">HttpException jinak bude vyvolána, pokud je vlastnost MasterPageFile nastavena.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-227">Otherwise an HttpException will be thrown when the MasterPageFile property is set.</span></span>

## <a name="using-the-ltpagesgt-element"></a><span data-ttu-id="ba2d7-228">Pomocí &lt;stránky&gt; – Element</span><span class="sxs-lookup"><span data-stu-id="ba2d7-228">Using the &lt;pages&gt; Element</span></span>

<span data-ttu-id="ba2d7-229">Na hlavní stránce můžete nakonfigurovat pro stránky nastavením atributu masterPageFile v &lt;stránky&gt; element v souboru web.config.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-229">You can configure a master page for your pages by setting the masterPageFile attribute in the &lt;pages&gt; element of the web.config file.</span></span> <span data-ttu-id="ba2d7-230">Při použití této metody, mějte na paměti, soubory web.config nižší ve struktuře aplikace můžete toto nastavení přepsat.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-230">When using this method, keep in mind that web.config files lower in the application structure can override this setting.</span></span> <span data-ttu-id="ba2d7-231">Všechny atributy MasterPageFile, nastavte v @Page – direktiva bude toto nastavení také přepsat.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-231">Any MasterPageFile attribute set in a @Page directive will also override this setting.</span></span> <span data-ttu-id="ba2d7-232">Pomocí &lt;stránky&gt; element můžete snadno vytvořit <em>hlavní</em> stránky předlohy, který může být přepsána nastaveními v případě potřeby v konkrétní složek nebo souborů.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-232">Using the &lt;pages&gt; element makes it simple to create a <em>master</em> master page that can be overridden if necessary in particular folders or files.</span></span>

## <a name="properties-in-master-pages"></a><span data-ttu-id="ba2d7-233">Vlastnosti stránky předlohy</span><span class="sxs-lookup"><span data-stu-id="ba2d7-233">Properties in Master Pages</span></span>

<span data-ttu-id="ba2d7-234">Na hlavní stránce můžete vystavení vlastností pouhou tyto vlastnosti veřejné v rámci stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-234">A master page can expose properties by simply making those properties public within the master page.</span></span> <span data-ttu-id="ba2d7-235">Například následující kód definuje vlastnost s názvem SomeProperty:</span><span class="sxs-lookup"><span data-stu-id="ba2d7-235">For example, the following code defines a property called SomeProperty:</span></span>

[!code-csharp[Main](master-pages/samples/sample2.cs)]

<span data-ttu-id="ba2d7-236">Pro přístup k vlastnosti SomeProperty ze stránky obsahu, budete muset použít hlavní vlastnost takto:</span><span class="sxs-lookup"><span data-stu-id="ba2d7-236">To access the SomeProperty property from the Content page, you will need to use the Master property like so:</span></span>

[!code-csharp[Main](master-pages/samples/sample3.cs)]

## <a name="nesting-master-pages"></a><span data-ttu-id="ba2d7-237">Stránky předlohy vnoření</span><span class="sxs-lookup"><span data-stu-id="ba2d7-237">Nesting Master Pages</span></span>

<span data-ttu-id="ba2d7-238">Hlavní stránky jsou ideální řešení pro zajištění běžné vzhled a chování napříč velkou webovou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-238">Master pages are the perfect solution for ensuring a common look and feel across a large Web application.</span></span> <span data-ttu-id="ba2d7-239">Však není do mají některé části sdílenou složku velké lokality společné rozhraní, zatímco ostatní části sdílet jiné rozhraní.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-239">However, it's not uncommon to have certain parts of a large site share a common interface while other parts share a different interface.</span></span> <span data-ttu-id="ba2d7-240">Chcete-li vyřešit tuto potřebu, více hlavní stránky jsou ideální řešení.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-240">To address that need, multiple master pages are the perfect solution.</span></span> <span data-ttu-id="ba2d7-241">Ale že stále není adres fakt, že velké aplikace může mít některé součásti (například nabídky, např.), které jsou sdíleny mezi všechny stránky a další součásti, které jsou sdíleny pouze určité části webu.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-241">However, that still doesn't address the fact that a large application may have certain components (such as a menu, for example) that are shared among all pages and other components that are shared only among certain sections of the site.</span></span> <span data-ttu-id="ba2d7-242">Pro tento typ situaci vyplní vnořené hlavní stránky vhodně potřeba.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-242">For that type of situation, nested master pages fill the need nicely.</span></span> <span data-ttu-id="ba2d7-243">Už víte, se skládá ze stránky předlohy a stránky obsahu normální stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-243">As you've seen, a normal master page consists of a master page and a content page.</span></span> <span data-ttu-id="ba2d7-244">V situaci, vnořené hlavní stránky existují dvě hlavní stránky; hlavní nadřazené a podřízené hlavní.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-244">In a nested master page situation, there are two master pages; a parent master and a child master.</span></span> <span data-ttu-id="ba2d7-245">Podřízená stránka předlohy je také stránky obsahu a jeho hlavní server je nadřazená stránka předlohy.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-245">The child master page is also a content page and its master is the parent master page.</span></span>

<span data-ttu-id="ba2d7-246">Tady je kód pro typické hlavní stránky:</span><span class="sxs-lookup"><span data-stu-id="ba2d7-246">Here is the code for a typical master page:</span></span>

[!code-aspx[Main](master-pages/samples/sample4.aspx)]

<span data-ttu-id="ba2d7-247">Ve scénáři vnořené hlavní bude hlavní nadřazené.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-247">In a nested master scenario, this would be the parent master.</span></span> <span data-ttu-id="ba2d7-248">Jiné stránky předlohy by tato stránka slouží jako jeho hlavní stránky a tento kód bude vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="ba2d7-248">Another master page would use this page as its master page, and that code would look like this:</span></span>

[!code-aspx[Main](master-pages/samples/sample5.aspx)]

<span data-ttu-id="ba2d7-249">Všimněte si, že se v tomto scénáři, hlavní podřízené je také obsahu stránce pro hlavní nadřazený server.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-249">Note that in this scenario, the child master is also a content page for the parent master.</span></span> <span data-ttu-id="ba2d7-250">Všechny podřízené hlavního obsahu se zobrazí uvnitř ovládacího prvku obsahu, který získá jeho obsah z ovládacího prvku ContentPlaceHolder nadřazeného objektu.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-250">All of the child master's content appears inside of a Content control that gets its content from the parent's ContentPlaceHolder control.</span></span>

> [!NOTE]
> <span data-ttu-id="ba2d7-251">Podpora návrháře není dostupné pro vnořené hlavní stránky.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-251">Designer support is not available for nested master pages.</span></span> <span data-ttu-id="ba2d7-252">Pokud vyvíjíte pomocí vnořené hlavních serverů, budou muset použít zobrazení zdroje.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-252">When you are developing using nested masters, you will need to use source view.</span></span>


<span data-ttu-id="ba2d7-253">Toto video ukazuje návod k používání vnořené hlavní stránky.</span><span class="sxs-lookup"><span data-stu-id="ba2d7-253">This video shows a walkthrough of using nested master pages.</span></span>


![](master-pages/_static/image1.png)


[<span data-ttu-id="ba2d7-254">Open Full-Screen Video</span><span class="sxs-lookup"><span data-stu-id="ba2d7-254">Open Full-Screen Video</span></span>](master-pages/_static/nested1.wmv)


![Vyberte stránku předlohy](master-pages/_static/image4.jpg)

<span data-ttu-id="ba2d7-256">**Obrázek 8**: Výběr stránky předlohy</span><span class="sxs-lookup"><span data-stu-id="ba2d7-256">**Figure 8**: Selecting a Master Page</span></span>
