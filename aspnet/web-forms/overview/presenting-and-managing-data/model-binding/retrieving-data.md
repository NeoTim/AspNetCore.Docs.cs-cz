---
uid: web-forms/overview/presenting-and-managing-data/model-binding/retrieving-data
title: Načtení a zobrazení dat ovládacím prvkem modelu vazby a webových formulářů | Dokumentace Microsoftu
author: Rick-Anderson
description: V této sérii kurzů ukazuje základní aspekty v použití vazby modelu s projektem aplikace webových formulářů ASP.NET. Data interakce díky vazby modelu další přímo-...
ms.author: riande
ms.date: 02/27/2014
ms.assetid: 9f24fb82-c7ac-48da-b8e2-51b3da17e365
msc.legacyurl: /web-forms/overview/presenting-and-managing-data/model-binding/retrieving-data
msc.type: authoredcontent
ms.openlocfilehash: b05f3780d7c4e4734b35c0d9377a89d6f3edb0f8
ms.sourcegitcommit: 2d3e5422d530203efdaf2014d1d7df31f88d08d0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/05/2018
ms.locfileid: "51021336"
---
<a name="retrieving-and-displaying-data-with-model-binding-and-web-forms"></a><span data-ttu-id="a4e8b-104">Načtení a zobrazení dat ovládacím prvkem vazby modelu a webové formuláře</span><span class="sxs-lookup"><span data-stu-id="a4e8b-104">Retrieving and displaying data with model binding and web forms</span></span>
====================
<span data-ttu-id="a4e8b-105">podle [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="a4e8b-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="a4e8b-106">V této sérii kurzů ukazuje základní aspekty v použití vazby modelu s projektem aplikace webových formulářů ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-106">This tutorial series demonstrates basic aspects of using model binding with an ASP.NET Web Forms project.</span></span> <span data-ttu-id="a4e8b-107">Vazby modelu díky dat interakce více přímočaré než pracující s daty objektů zdroje (například ObjectDataSource nebo SqlDataSource).</span><span class="sxs-lookup"><span data-stu-id="a4e8b-107">Model binding makes data interaction more straight-forward than dealing with data source objects (such as ObjectDataSource or SqlDataSource).</span></span> <span data-ttu-id="a4e8b-108">Tato série začíná úvodní materiály a přesune pokročilejších pojmech v budoucích kurzech.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-108">This series starts with introductory material and moves to more advanced concepts in later tutorials.</span></span>
> 
> <span data-ttu-id="a4e8b-109">Vzoru vazby modelu funguje s technologií přístupu všechny data.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-109">The model binding pattern works with any data access technology.</span></span> <span data-ttu-id="a4e8b-110">V tomto kurzu budete používat Entity Framework, ale můžete použít technologii přístup data, která je nejvíc známými.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-110">In this tutorial, you will use Entity Framework, but you could use the data access technology that is most familiar to you.</span></span> <span data-ttu-id="a4e8b-111">Z ovládacího prvku serveru vázané na data, jako je například ovládacího prvku GridView, ListView, DetailsView nebo FormView zadáte názvy metod používaných pro výběr, aktualizace, odstraňování a vytváření data.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-111">From a data-bound server control, such as a GridView, ListView, DetailsView, or FormView control, you specify the names of the methods to use for selecting, updating, deleting, and creating data.</span></span> <span data-ttu-id="a4e8b-112">V tomto kurzu můžete zadat hodnotu pro metody SelectMethod.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-112">In this tutorial, you will specify a value for the SelectMethod.</span></span>
> 
> <span data-ttu-id="a4e8b-113">V rámci této metody pro načítání dat zadáte logiku.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-113">Within that method, you provide the logic for retrieving the data.</span></span> <span data-ttu-id="a4e8b-114">V dalším kurzu nastavíte hodnoty pro UpdateMethod a DeleteMethod InsertMethod.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-114">In the next tutorial, you will set values for UpdateMethod, DeleteMethod and InsertMethod.</span></span>
> 
> <span data-ttu-id="a4e8b-115">Je možné [Stáhnout](https://go.microsoft.com/fwlink/?LinkId=286116) dokončený projekt v jazyce C# nebo VB.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-115">You can [download](https://go.microsoft.com/fwlink/?LinkId=286116) the complete project in C# or VB.</span></span> <span data-ttu-id="a4e8b-116">Ke stažení kódu funguje pomocí sady Visual Studio 2012 nebo Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-116">The downloadable code works with either Visual Studio 2012 or Visual Studio 2013.</span></span> <span data-ttu-id="a4e8b-117">Používá šablonu Visual Studio 2012, která se trochu liší od sady Visual Studio 2013 šablonu uvedenou v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-117">It uses the Visual Studio 2012 template, which is slightly different than the Visual Studio 2013 template shown in this tutorial.</span></span>
> 
> <span data-ttu-id="a4e8b-118">V tomto kurzu spustíte aplikaci v sadě Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-118">In the tutorial you run the application in Visual Studio.</span></span> <span data-ttu-id="a4e8b-119">Můžete také zpřístupnit aplikace přes Internet nasazením k poskytovateli hostingu.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-119">You can also make the application available over the Internet by deploying it to a hosting provider.</span></span> <span data-ttu-id="a4e8b-120">Společnost Microsoft nabízí bezplatné webových hostitelských služeb pro až 10 webových serverů ve</span><span class="sxs-lookup"><span data-stu-id="a4e8b-120">Microsoft offers free web hosting for up to 10 web sites in a</span></span>  
>  <span data-ttu-id="a4e8b-121">[Bezplatný zkušební účet Azure](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span><span class="sxs-lookup"><span data-stu-id="a4e8b-121">[free Azure trial account](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span></span> <span data-ttu-id="a4e8b-122">Informace o tom, jak nasadit webový projekt sady Visual Studio do Azure App Service Web Apps, najdete v článku [nasazení webu ASP.NET pomocí sady Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md) řady.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-122">For information about how to deploy a Visual Studio web project to Azure App Service Web Apps, see the [ASP.NET Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md) series.</span></span> <span data-ttu-id="a4e8b-123">Tento kurz také ukazuje způsob použití migrace Entity Framework Code First pro nasazení databáze SQL serveru do služby Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-123">That tutorial also shows how to use Entity Framework Code First Migrations to deploy your SQL Server database to Azure SQL Database.</span></span>
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="a4e8b-124">V tomto kurzu použili verze softwaru</span><span class="sxs-lookup"><span data-stu-id="a4e8b-124">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="a4e8b-125">Microsoft Visual Studio 2013 nebo Microsoft Visual Studio Express 2013 for Web</span><span class="sxs-lookup"><span data-stu-id="a4e8b-125">Microsoft Visual Studio 2013 or Microsoft Visual Studio Express 2013 for Web</span></span>
>   
> 
> <span data-ttu-id="a4e8b-126">V tomto kurzu funguje taky s Visual Studio 2012, ale bude existovat několik rozdílů v šabloně uživatelského rozhraní a projektu.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-126">This tutorial also works with Visual Studio 2012 but there will be some differences in the user interface and project template.</span></span>


## <a name="what-youll-build"></a><span data-ttu-id="a4e8b-127">Co budete vytvářet</span><span class="sxs-lookup"><span data-stu-id="a4e8b-127">What you'll build</span></span>

<span data-ttu-id="a4e8b-128">V tomto kurzu budete:</span><span class="sxs-lookup"><span data-stu-id="a4e8b-128">In this tutorial, you'll:</span></span>

1. <span data-ttu-id="a4e8b-129">Vytváření datových objektů, které odpovídají vysoké školy se zúčastnili studenti zapsáni na kurzy</span><span class="sxs-lookup"><span data-stu-id="a4e8b-129">Build data objects that reflect a university with students enrolled in courses</span></span>
2. <span data-ttu-id="a4e8b-130">Vytváření databázových tabulek z objektů</span><span class="sxs-lookup"><span data-stu-id="a4e8b-130">Build database tables from the objects</span></span>
3. <span data-ttu-id="a4e8b-131">Naplnění databáze testovací data</span><span class="sxs-lookup"><span data-stu-id="a4e8b-131">Populate the database with test data</span></span>
4. <span data-ttu-id="a4e8b-132">Zobrazení dat v webového formuláře</span><span class="sxs-lookup"><span data-stu-id="a4e8b-132">Display data in a web form</span></span>

## <a name="set-up-project"></a><span data-ttu-id="a4e8b-133">Nastavení projektu</span><span class="sxs-lookup"><span data-stu-id="a4e8b-133">Set up project</span></span>

<span data-ttu-id="a4e8b-134">V sadě Visual Studio 2013, vytvořte nový **webová aplikace ASP.NET** volá **ContosoUniversityModelBinding**.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-134">In Visual Studio 2013, create a new **ASP.NET Web Application** called **ContosoUniversityModelBinding**.</span></span>

![Vytvoření projektu](retrieving-data/_static/image2.png)

<span data-ttu-id="a4e8b-136">Výběr šablony webových formulářů a nechte výchozí možnosti.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-136">Select the Web Forms template, and leave the other default options.</span></span> <span data-ttu-id="a4e8b-137">Klikněte na tlačítko OK pro nastavení projektu.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-137">Click OK to setup the project.</span></span>

![Vyberte webových formulářů](retrieving-data/_static/image3.png)

<span data-ttu-id="a4e8b-139">Nejprve vytvoříte několik malých změn, aby přizpůsobit vzhled webu.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-139">First, you will make a couple of small changes to customize the appearance of the site.</span></span> <span data-ttu-id="a4e8b-140">Otevřít **Site.Master** soubor a změňte nadpis na patří společnosti Contoso University místo Moje aplikace technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-140">Open the **Site.Master** file, and change the title to include Contoso University instead of My ASP.NET Application.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample1.aspx?highlight=1)]

<span data-ttu-id="a4e8b-141">Změňte text záhlaví z **název_aplikace** k **Contoso University**.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-141">Then, change the header text from **Application name** to **Contoso University**.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample2.aspx?highlight=7)]

<span data-ttu-id="a4e8b-142">Také v Site.Master, změňte navigační odkazy, které se zobrazí v záhlaví tak, aby odrážely stránek, které jsou relevantní pro tuto lokalitu.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-142">Also in Site.Master, change the navigation links that appear in the header to reflect the pages that are relevant to this site.</span></span> <span data-ttu-id="a4e8b-143">Nebudete potřebovat buď **o** stránky nebo **kontakt** stránky je možné tyto odkazy odebrat.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-143">You will not need either the **About** page or the **Contact** page so those links can be removed.</span></span> <span data-ttu-id="a4e8b-144">Místo toho budete potřebovat odkaz na stránku s názvem **studenty**.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-144">Instead, you will need a link to a page called **Students**.</span></span> <span data-ttu-id="a4e8b-145">Tato stránka ještě nebyl vytvořen.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-145">This page has not been created yet.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample3.aspx)]

<span data-ttu-id="a4e8b-146">Uložte a zavřete Site.Master.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-146">Save and close Site.Master.</span></span>

<span data-ttu-id="a4e8b-147">Teď vytvoříte webový formulář pro zobrazení údajů studentů.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-147">Now, you'll create the web form for displaying student data.</span></span> <span data-ttu-id="a4e8b-148">Klikněte pravým tlačítkem na váš projekt a **přidat** **nová položka**.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-148">Right-click your project, and **Add** a **New Item**.</span></span> <span data-ttu-id="a4e8b-149">Vyberte **webové formuláře se stránkou předlohy** šablony a pojmenujte ho **Students.aspx**.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-149">Select the **Web Form with Master Page** template, and name it **Students.aspx**.</span></span>

![Vytvoření stránky](retrieving-data/_static/image5.png)

<span data-ttu-id="a4e8b-151">Vyberte **Site.Master** jako hlavní stránka nového webového formuláře.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-151">Select **Site.Master** as the master page for the new web form.</span></span>

## <a name="create-the-data-models-and-database"></a><span data-ttu-id="a4e8b-152">Vytvoření datové modely a databáze</span><span class="sxs-lookup"><span data-stu-id="a4e8b-152">Create the data models and database</span></span>

<span data-ttu-id="a4e8b-153">Migrace Code First použije k vytvoření objektů a odpovídající databázových tabulek.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-153">You will use Code First Migrations to create objects and the corresponding database tables.</span></span> <span data-ttu-id="a4e8b-154">Tyto tabulky uloží informace o studenty a jejich přípravy.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-154">These tables will store information about the students and their courses.</span></span>

<span data-ttu-id="a4e8b-155">Ve složce modely, přidejte novou třídu s názvem **UniversityModels.cs**.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-155">In the Models folder, add a new class named **UniversityModels.cs**.</span></span>

![Vytvoření tříd modelu](retrieving-data/_static/image7.png)

<span data-ttu-id="a4e8b-157">V tomto souboru Definujte třídy SchoolContext, studenty, registrace a kurzu následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="a4e8b-157">In this file, define the SchoolContext, Student, Enrollment, and Course classes as follows:</span></span>

[!code-csharp[Main](retrieving-data/samples/sample4.cs)]

<span data-ttu-id="a4e8b-158">SchoolContext třída je odvozena od položky DbContext, který spravuje připojení k databázi a změny v datech.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-158">The SchoolContext class derives from DbContext, which manages the database connection and changes in the data.</span></span>

<span data-ttu-id="a4e8b-159">Ve třídě studentů, Všimněte si, že atributy, které se použily **FirstName**, **LastName**, a **rok** vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-159">In the Student class, notice the attributes that have been applied to the **FirstName**, **LastName**, and **Year** properties.</span></span> <span data-ttu-id="a4e8b-160">Tyto atributy se použije pro ověřování dat v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-160">These attributes will be used for data validation in this tutorial.</span></span> <span data-ttu-id="a4e8b-161">Pro zjednodušení kódu pro tento ukázkový projekt, jenom tyto vlastnosti byly označeny ověření dat atributy.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-161">To simplify the code for this demonstration project, only these properties were marked with data-validation attributes.</span></span> <span data-ttu-id="a4e8b-162">V projektu aplikace skutečný platit pro všechny vlastnosti, které je třeba ověřenými daty, například vlastnosti v třídách registrace a kurzu atributů ověření.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-162">In a real project, you would apply validation attributes to all properties that need validated data, such as properties in the Enrollment and Course classes.</span></span>

<span data-ttu-id="a4e8b-163">Uložte UniversityModels.cs.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-163">Save UniversityModels.cs.</span></span>

<span data-ttu-id="a4e8b-164">K nastavení databáze založené na těchto tříd budou používat nástroje pro migrace Code First.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-164">You will use the tools for Code First Migrations to set up a database based on these classes.</span></span>

<span data-ttu-id="a4e8b-165">V **Konzola správce balíčků**, spusťte příkaz:</span><span class="sxs-lookup"><span data-stu-id="a4e8b-165">In **Package Manager Console**, run the command:</span></span>  
`enable-migrations -ContextTypeName ContosoUniversityModelBinding.Models.SchoolContext`

<span data-ttu-id="a4e8b-166">Pokud se příkaz úspěšně dokončí. zobrazí se zpráva s informacemi o tom, že povolíte migrace</span><span class="sxs-lookup"><span data-stu-id="a4e8b-166">If the command completes successfully you will receive a message stating migrations have been enabled,</span></span>

![povolení migrace](retrieving-data/_static/image8.png)

<span data-ttu-id="a4e8b-168">Všimněte si, že se nový soubor s názvem **Configuration.cs** se vytvořil.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-168">Notice that a new file named **Configuration.cs** has been created.</span></span> <span data-ttu-id="a4e8b-169">V sadě Visual Studio je tento soubor otevřít automaticky po jeho vytvoření.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-169">In Visual Studio, this file is automatically opened after it is created.</span></span> <span data-ttu-id="a4e8b-170">Obsahuje třídu konfigurace **počáteční hodnoty** metodu, která umožňuje k předběžnému naplnění tabulky databáze s testovací data.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-170">The Configuration class contains a **Seed** method which enables you to pre-populate the database tables with test data.</span></span>

<span data-ttu-id="a4e8b-171">Přidejte následující kód k metodě počáteční hodnoty.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-171">Add the following code to the Seed method.</span></span> <span data-ttu-id="a4e8b-172">Bude potřeba přidat **pomocí** příkaz **ContosoUniversityModelBinding.Models** obor názvů.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-172">You'll need to add a **using** statement for the **ContosoUniversityModelBinding.Models** namespace.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample5.cs)]

<span data-ttu-id="a4e8b-173">Uložte Configuration.cs.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-173">Save Configuration.cs.</span></span>

<span data-ttu-id="a4e8b-174">V konzole Správce balíčků, spusťte příkaz `add-migration initial`.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-174">In the Package Manager Console, run the command `add-migration initial`.</span></span>

<span data-ttu-id="a4e8b-175">Potom spusťte příkaz `update-database`.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-175">Then, run the command `update-database`.</span></span>

<span data-ttu-id="a4e8b-176">Pokud se zobrazí výjimka při spuštění tohoto příkazu, je možné, že mají různé hodnoty pro StudentID a CourseID z hodnot v metodě počáteční hodnoty.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-176">If you receive an exception when running this command, it is possible that the values for StudentID and CourseID have varied from the values in the Seed method.</span></span> <span data-ttu-id="a4e8b-177">Otevření těchto tabulek v databázi a najděte existující hodnoty pro StudentID a CourseID.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-177">Open those tables in the database and find existing values for StudentID and CourseID.</span></span> <span data-ttu-id="a4e8b-178">Přidejte tyto hodnoty v kódu pro synchronizace replik indexů tabulce registrace.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-178">Add those values in the code for seeding the Enrollments table.</span></span>

<span data-ttu-id="a4e8b-179">Soubor databáze byl přidán, ale aktuálně je skryté v projektu.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-179">The database file has been added, but it is currently hidden in the project.</span></span> <span data-ttu-id="a4e8b-180">Klikněte na tlačítko **zobrazit všechny soubory** k zobrazení souboru.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-180">Click **Show All Files** to display the file.</span></span>

![Zobrazit všechny soubory](retrieving-data/_static/image10.png)

<span data-ttu-id="a4e8b-182">Všimněte si, že soubor .mdf se teď zobrazí v aplikaci\_složku Data.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-182">Notice the .mdf file now appears in the App\_Data folder.</span></span>

![soubor databáze](retrieving-data/_static/image12.png)

<span data-ttu-id="a4e8b-184">Poklikejte na soubor MDF a otevřete Průzkumníka serveru.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-184">Double-click the .mdf file and open the Server Explorer.</span></span> <span data-ttu-id="a4e8b-185">Tabulky nyní existují a jsou naplněný daty.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-185">The tables now exist and are populated with data.</span></span>

![tabulky databáze](retrieving-data/_static/image14.png)

## <a name="display-data-from-students-and-related-tables"></a><span data-ttu-id="a4e8b-187">Zobrazení dat z studenty a související tabulky</span><span class="sxs-lookup"><span data-stu-id="a4e8b-187">Display data from Students and related tables</span></span>

<span data-ttu-id="a4e8b-188">S daty v databázi nyní jste připraveni k načtení těchto dat a zobrazení na webové stránce.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-188">With data in the database, you are now ready to retrieve that data and display it in a web page.</span></span> <span data-ttu-id="a4e8b-189">Budete používat **GridView** ovládací prvek pro zobrazení dat ve sloupci a řádky.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-189">You will use a **GridView** control to display the data in columns and rows.</span></span>

<span data-ttu-id="a4e8b-190">Otevřete Students.aspx a vyhledejte **MainContent** zástupný symbol.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-190">Open Students.aspx, and locate the **MainContent** placeholder.</span></span> <span data-ttu-id="a4e8b-191">V rámci tohoto zástupného symbolu, přidejte **GridView** ovládací prvek, který obsahuje následující kód.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-191">Within that placeholder, add a **GridView** control that includes the following code.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample6.aspx)]

<span data-ttu-id="a4e8b-192">Existuje několik důležitých konceptů v tomto kódu značek můžete setkat.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-192">There are a couple of important concepts in this markup code for you to notice.</span></span> <span data-ttu-id="a4e8b-193">Napřed si všimněte, že je hodnota pro **metoda SelectMethod** vlastnost v prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-193">First, notice that a value is set for the **SelectMethod** property in the GridView element.</span></span> <span data-ttu-id="a4e8b-194">Tato hodnota určuje název metody, která se používá k načítání dat pro prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-194">This value specifies the name of the method that is used for retrieving data for the GridView.</span></span> <span data-ttu-id="a4e8b-195">Tato metoda vytvoří v dalším kroku.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-195">You will create this method in the next step.</span></span> <span data-ttu-id="a4e8b-196">Za druhé, Všimněte si, že **ItemType** je nastavena na třídu Student, který jste vytvořili dříve.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-196">Second, notice that the **ItemType** property is set to the Student class that you created earlier.</span></span> <span data-ttu-id="a4e8b-197">Nastavením této hodnoty mohou odkazovat na vlastnosti této třídy v kódu značek.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-197">By setting this value, you can refer to properties of that class in the markup code.</span></span> <span data-ttu-id="a4e8b-198">Například třída Student obsahuje kolekci s názvem registrace.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-198">For example, the Student class contains a collection named Enrollments.</span></span> <span data-ttu-id="a4e8b-199">Můžete použít **Item.Enrollments** načíst tuto kolekci a pak použijte syntaxi LINQ k načtení souhrnu zaregistrovaná kredity pro každého studenta.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-199">You can use **Item.Enrollments** to retrieve that collection and then use LINQ syntax to retrieve the sum of enrolled credits for each student.</span></span>

<span data-ttu-id="a4e8b-200">V souboru kódu na pozadí, je třeba přidat metodu, která je určená pro **metoda SelectMethod** hodnotu.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-200">In the code-behind file, you need to add the method that is specified for the **SelectMethod** value.</span></span> <span data-ttu-id="a4e8b-201">Otevřít **Students.aspx.cs**a přidejte **pomocí** příkazů **ContosoUniversityModelBinding.Models** a **System.Data.Entity**obory názvů.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-201">Open **Students.aspx.cs**, and add **using** statements for the **ContosoUniversityModelBinding.Models** and **System.Data.Entity** namespaces.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample7.cs)]

<span data-ttu-id="a4e8b-202">Potom přidejte následující metodu.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-202">Then, add the following method.</span></span> <span data-ttu-id="a4e8b-203">Všimněte si, že název této metody odpovídá názvu, kterou jste zadali pro metody SelectMethod.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-203">Notice that the name of this method matches the name you provided for SelectMethod.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample8.cs)]

<span data-ttu-id="a4e8b-204">**Zahrnout** klauzule zlepšuje výkon tohoto dotazu, ale není nezbytné pro dotaz můžete pracovat.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-204">The **Include** clause improves the performance of this query but is not essential for the query to work.</span></span> <span data-ttu-id="a4e8b-205">Bez klauzule zahrnout by se data obnovit pomocí opožděné načtení, což zahrnuje odesílání samostatný dotaz do databáze pokaždé, když týkající se, že se data načítají.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-205">Without the Include clause, the data would be retrieved using lazy loading, which involves sending a separate query to the database each time related data is retrieved.</span></span> <span data-ttu-id="a4e8b-206">Poskytnutím klauzule zahrnutí jsou data načtena pomocí předběžné načítání, což znamená, že všechna související data je získat pomocí jediného dotazu databáze.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-206">By providing the Include clause, the data is retrieved using eager loading, which means all of the related data is retrieved through a single query of the database.</span></span> <span data-ttu-id="a4e8b-207">V případech, kde je většina souvisejících dat nesmí být použit, nemůžou dočkat, až načítání může být méně efektivní, protože je načíst další data.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-207">In cases where most of the related data is not be used, eager loading can be less efficient because more data is retrieved.</span></span> <span data-ttu-id="a4e8b-208">Nicméně v tomto případě předběžné načítání poskytuje nejlepší výkon vzhledem k tomu, že se pro každý záznam zobrazí související data.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-208">However, in this case, eager loading provides the best performance because the related data is displayed for each record.</span></span>

<span data-ttu-id="a4e8b-209">Další informace o posouzení výkonu při načítání související data, najdete v článku v části s názvem **opožděné Eager a explicitní načítání souvisejících dat** v [čtení souvisejících dat s Entity Framework v ASP Aplikace .NET MVC](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/reading-related-data-with-the-entity-framework-in-an-asp-net-mvc-application.md) tématu.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-209">For more information about performance consideration when loading related data, see the section titled **Lazy, Eager, and Explicit Loading of Related Data** in the [Reading Related Data with the Entity Framework in an ASP.NET MVC Application](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/reading-related-data-with-the-entity-framework-in-an-asp-net-mvc-application.md) topic.</span></span>

<span data-ttu-id="a4e8b-210">Ve výchozím nastavení data seřazené podle hodnoty vlastnosti označeným jako klíč.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-210">By default, the data is sorted by the values of the property marked as the key.</span></span> <span data-ttu-id="a4e8b-211">Můžete přidat klauzuli OrderBy zadat jinou hodnotu pro řazení.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-211">You can add an OrderBy clause to specify a different value for sorting.</span></span> <span data-ttu-id="a4e8b-212">V tomto příkladu se používá výchozí vlastnost StudentID pro řazení.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-212">In this example, the default StudentID property is used for sorting.</span></span> <span data-ttu-id="a4e8b-213">V [řazení, stránkování a filtrování dat](sorting-paging-and-filtering-data.md) tématu, vám umožní uživateli vybrat sloupec pro řazení.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-213">In the [Sorting, Paging, and Filtering Data](sorting-paging-and-filtering-data.md) topic, you will enable the user to select a column for sorting.</span></span>

<span data-ttu-id="a4e8b-214">Spuštění webové aplikace a přejděte na stránku pro studenty.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-214">Run your web application, and navigate to the Students page.</span></span> <span data-ttu-id="a4e8b-215">Na stránce studenty zobrazí následující informace studentů.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-215">The Students page displays the following student information.</span></span>

![zobrazení dat](retrieving-data/_static/image16.png)

## <a name="automatic-generation-of-model-binding-methods"></a><span data-ttu-id="a4e8b-217">Automatické generování metody vazby modelu</span><span class="sxs-lookup"><span data-stu-id="a4e8b-217">Automatic generation of model binding methods</span></span>

<span data-ttu-id="a4e8b-218">Při práci prostřednictvím v této sérii kurzů, můžete jednoduše zkopírovat kód z kurzu do projektu.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-218">When working through this tutorial series, you can simply copy the code from the tutorial to your project.</span></span> <span data-ttu-id="a4e8b-219">Jednou z nevýhod tohoto přístupu je, že nemusí se dozvěděli o funkci poskytovaný sadou Visual Studio k automatickému generování kódu pro metody vazby modelu.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-219">However, one disadvantage of this approach is that you may not become aware of the feature provided by Visual Studio to automatically generate code for model binding methods.</span></span> <span data-ttu-id="a4e8b-220">Při práci na vašich vlastních projektů, automatické generování kódu můžete vám ušetří čas a nápovědu získáte představu o tom, jak implementovat operace.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-220">When working on your own projects, automatic code generation can save you time and help you gain a sense of how to implement an operation.</span></span> <span data-ttu-id="a4e8b-221">Tato část popisuje funkci generování automatických kódu.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-221">This section describes the automatic code generation feature.</span></span> <span data-ttu-id="a4e8b-222">Tato část je pouze informativní a neobsahuje žádný kód, který budete muset implementovat ve vašem projektu.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-222">This section is only informational and does not contain any code you need to implement in your project.</span></span>

<span data-ttu-id="a4e8b-223">Při nastavování hodnoty pro **metoda SelectMethod**, **UpdateMethod**, **InsertMethod**, nebo **DeleteMethod** vlastností v kódu značek můžete vybrat **vytvořit novou metodu** možnost.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-223">When setting a value for the **SelectMethod**, **UpdateMethod**, **InsertMethod**, or **DeleteMethod** properties in the markup code, you can select the **Create New Method** option.</span></span>

![Vytvořit novou metodu](retrieving-data/_static/image18.png)

<span data-ttu-id="a4e8b-225">Visual Studio nejen vytvoří metodu v kódu s správný podpis, ale také vygeneruje implementační kód, abychom vám s prováděním operace.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-225">Visual Studio not only creates a method in the code-behind with the proper signature, but also generates implementation code to assist you with performing the operation.</span></span> <span data-ttu-id="a4e8b-226">Pokud nejprve nastavíte **ItemType** vlastnost před použitím funkci generování automatických kód vygenerovaný kód bude používat tento typ pro operace.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-226">If you first set the **ItemType** property before using the automatic code generation feature, the generated code will use that type for the operations.</span></span> <span data-ttu-id="a4e8b-227">Například při nastavení vlastnosti UpdateMethod, následující kód je automaticky generován:</span><span class="sxs-lookup"><span data-stu-id="a4e8b-227">For example, when setting the UpdateMethod property, the following code is automatically generated:</span></span>

[!code-csharp[Main](retrieving-data/samples/sample9.cs)]

<span data-ttu-id="a4e8b-228">Výše uvedený kód znovu, nemusí být přidány do projektu.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-228">Again, the above code does not need to be added to your project.</span></span> <span data-ttu-id="a4e8b-229">V dalším kurzu budete implementovat metod pro aktualizaci, odstranění a přidání nová data.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-229">In the next tutorial, you will implement methods for updating, deleting and adding new data.</span></span>

## <a name="conclusion"></a><span data-ttu-id="a4e8b-230">Závěr</span><span class="sxs-lookup"><span data-stu-id="a4e8b-230">Conclusion</span></span>

<span data-ttu-id="a4e8b-231">V tomto kurzu jste vytvořili tříd datových modelů a generují databázi z těchto tříd.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-231">In this tutorial, you created data model classes and generated a database from those classes.</span></span> <span data-ttu-id="a4e8b-232">Naplní tabulek databáze se testovací data.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-232">You filled the database tables with test data.</span></span> <span data-ttu-id="a4e8b-233">Vazby modelu se používá k načtení dat z databáze a pak se zobrazují data v GridView.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-233">You used model binding to retrieve data from the database, and then displayed the data in a GridView.</span></span>

<span data-ttu-id="a4e8b-234">V dalším [kurzu](updating-deleting-and-creating-data.md) v této sérii, vám umožní aktualizace, odstraňování a vytváření data.</span><span class="sxs-lookup"><span data-stu-id="a4e8b-234">In the next [tutorial](updating-deleting-and-creating-data.md) in this series, you will enable updating, deleting, and creating data.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="a4e8b-235">Next</span><span class="sxs-lookup"><span data-stu-id="a4e8b-235">Next</span></span>](updating-deleting-and-creating-data.md)
