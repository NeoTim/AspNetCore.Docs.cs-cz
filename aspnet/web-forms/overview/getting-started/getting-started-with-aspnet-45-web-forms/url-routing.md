---
uid: web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/url-routing
title: Směrování adres URL | Microsoft Docs
author: Erikre
description: Tento kurz řady naučit se základy vytváření aplikace webových formulářů ASP.NET pomocí technologie ASP.NET 4.5 a Microsoft Visual Studio Express 2013 pro jsme...
ms.author: aspnetcontent
manager: wpickett
ms.date: 09/08/2014
ms.topic: article
ms.assetid: 4f4bf092-c400-471f-a876-78fda0417890
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/url-routing
msc.type: authoredcontent
ms.openlocfilehash: a195b36517bcae4bbeaf43fe7386e7787fd00212
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/06/2018
---
<a name="url-routing"></a><span data-ttu-id="4e80b-103">Směrování adres URL</span><span class="sxs-lookup"><span data-stu-id="4e80b-103">URL Routing</span></span>
====================
<span data-ttu-id="4e80b-104">Podle [Erik Reitan](https://github.com/Erikre)</span><span class="sxs-lookup"><span data-stu-id="4e80b-104">by [Erik Reitan](https://github.com/Erikre)</span></span>

<span data-ttu-id="4e80b-105">[Stáhnout adresář Wingtip Toys ukázkového projektu (C#)](http://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) nebo [stáhnout elektronická kniha (PDF)](http://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span><span class="sxs-lookup"><span data-stu-id="4e80b-105">[Download Wingtip Toys Sample Project (C#)](http://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) or [Download E-book (PDF)](http://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span></span>

> <span data-ttu-id="4e80b-106">Tento kurz řady naučit se základy vytváření aplikace webových formulářů ASP.NET pomocí technologie ASP.NET 4.5 a Microsoft Visual Studio Express 2013 pro Web.</span><span class="sxs-lookup"><span data-stu-id="4e80b-106">This tutorial series will teach you the basics of building an ASP.NET Web Forms application using ASP.NET 4.5 and Microsoft Visual Studio Express 2013 for Web.</span></span> <span data-ttu-id="4e80b-107">Visual Studio 2013 [projekt pomocí zdrojového kódu C#](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) dispozici je pro tento kurz řady.</span><span class="sxs-lookup"><span data-stu-id="4e80b-107">A Visual Studio 2013 [project with C# source code](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) is available to accompany this tutorial series.</span></span>


<span data-ttu-id="4e80b-108">V tomto kurzu budete upravovat adresář Wingtip Toys ukázkovou aplikaci pro podporu směrování adres URL.</span><span class="sxs-lookup"><span data-stu-id="4e80b-108">In this tutorial, you will modify the Wingtip Toys sample application to support URL routing.</span></span> <span data-ttu-id="4e80b-109">Směrování umožňuje webové aplikace pomocí adresy URL, které jsou popisný, usnadňují mějte na paměti a lépe nepodporuje vyhledávacích webů.</span><span class="sxs-lookup"><span data-stu-id="4e80b-109">Routing enables your web application to use URLs that are friendly, easier to remember, and better supported by search engines.</span></span> <span data-ttu-id="4e80b-110">V tomto kurzu vychází z předchozí kurz "A Správa členství" a je součástí řady kurz adresář Wingtip Toys.</span><span class="sxs-lookup"><span data-stu-id="4e80b-110">This tutorial builds on the previous tutorial "Membership and Administration" and is part of the Wingtip Toys tutorial series.</span></span>

## <a name="what-youll-learn"></a><span data-ttu-id="4e80b-111">Získáte informace:</span><span class="sxs-lookup"><span data-stu-id="4e80b-111">What you'll learn:</span></span>

- <span data-ttu-id="4e80b-112">Postup registrace trasy pro aplikace webových formulářů ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="4e80b-112">How to register routes for an ASP.NET Web Forms application.</span></span>
- <span data-ttu-id="4e80b-113">Jak přidat trasy na webovou stránku.</span><span class="sxs-lookup"><span data-stu-id="4e80b-113">How to add routes to a web page.</span></span>
- <span data-ttu-id="4e80b-114">Jak vybrat data z databáze pro podporu trasy.</span><span class="sxs-lookup"><span data-stu-id="4e80b-114">How to select data from a database to support routes.</span></span>

## <a name="aspnet-routing-overview"></a><span data-ttu-id="4e80b-115">Přehled směrování ASP.NET</span><span class="sxs-lookup"><span data-stu-id="4e80b-115">ASP.NET Routing Overview</span></span>

<span data-ttu-id="4e80b-116">Směrování adres URL umožňuje nakonfigurovat aplikaci tak, aby přijímal žádosti adresy URL, které nelze namapovat na fyzické soubory.</span><span class="sxs-lookup"><span data-stu-id="4e80b-116">URL routing allows you to configure an application to accept request URLs that do not map to physical files.</span></span> <span data-ttu-id="4e80b-117">Adresu URL požadavku je jednoduše adresa URL, uživatel zadá do svého prohlížeče na stránce najít na webu.</span><span class="sxs-lookup"><span data-stu-id="4e80b-117">A request URL is simply the URL a user enters into their browser to find a page on your web site.</span></span> <span data-ttu-id="4e80b-118">Používáte směrování k definování adresy URL, které jsou sémanticky smysl pro uživatele a které mohou pomoci s optimalizací vyhledávání (vyhledávací weby SEO).</span><span class="sxs-lookup"><span data-stu-id="4e80b-118">You use routing to define URLs that are semantically meaningful to users and that can help with search-engine optimization (SEO).</span></span>

<span data-ttu-id="4e80b-119">Ve výchozím nastavení, šablony webových formulářů zahrnuje [přátelské adresy URL technologie ASP.NET](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/).</span><span class="sxs-lookup"><span data-stu-id="4e80b-119">By default, the Web Forms template includes [ASP.NET Friendly URLs](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/).</span></span> <span data-ttu-id="4e80b-120">Velká část základní Směrování práce se implementovaná pomocí *přátelské adresy URL*.</span><span class="sxs-lookup"><span data-stu-id="4e80b-120">Much of the basic routing work will be implemented by using *Friendly URLs*.</span></span> <span data-ttu-id="4e80b-121">V tomto kurzu přizpůsobené směrování možnosti přidáte.</span><span class="sxs-lookup"><span data-stu-id="4e80b-121">However, in this tutorial you will add customized routing capabilities.</span></span>

<span data-ttu-id="4e80b-122">Než začnete s přizpůsobováním směrování adres URL, adresář Wingtip Toys ukázkovou aplikaci můžete propojit produktu pomocí následující adresu URL:</span><span class="sxs-lookup"><span data-stu-id="4e80b-122">Before customizing URL routing, the Wingtip Toys sample application can link to a product using the following URL:</span></span>

`https://localhost:44300/ProductDetails.aspx?productID=2`

<span data-ttu-id="4e80b-123">Přizpůsobením směrování adres URL ukázkovou aplikaci adresář Wingtip Toys odkaz na stejnou produktu pomocí snadněji číst adresy URL:</span><span class="sxs-lookup"><span data-stu-id="4e80b-123">By customizing URL routing, the Wingtip Toys sample application will link to the same product using an easier to read URL:</span></span>

`https://localhost:44300/Product/Convertible%20Car`

### <a name="routes"></a><span data-ttu-id="4e80b-124">Trasy</span><span class="sxs-lookup"><span data-stu-id="4e80b-124">Routes</span></span>

<span data-ttu-id="4e80b-125">Trasa je vzor adresy URL, který je namapovaný na obslužnou rutinu.</span><span class="sxs-lookup"><span data-stu-id="4e80b-125">A route is a URL pattern that is mapped to a handler.</span></span> <span data-ttu-id="4e80b-126">Obslužná rutina může být fyzického souboru, jako je soubor .aspx v aplikaci Web Forms.</span><span class="sxs-lookup"><span data-stu-id="4e80b-126">The handler can be a physical file, such as an .aspx file in a Web Forms application.</span></span> <span data-ttu-id="4e80b-127">Obslužná rutina může být také třídu, která zpracuje požadavek.</span><span class="sxs-lookup"><span data-stu-id="4e80b-127">A handler can also be a class that processes the request.</span></span> <span data-ttu-id="4e80b-128">K definování trasy, vytvoření instance třídy trasy zadáním vzor adresy URL, obslužná rutina a volitelně název trasy.</span><span class="sxs-lookup"><span data-stu-id="4e80b-128">To define a route, you create an instance of the Route class by specifying the URL pattern, the handler, and optionally a name for the route.</span></span>

<span data-ttu-id="4e80b-129">Přidat trasy k aplikaci tak, že přidáte `Route` objekt, který má statické `Routes` vlastnost `RouteTable` třídy.</span><span class="sxs-lookup"><span data-stu-id="4e80b-129">You add the route to the application by adding the `Route` object to the static `Routes` property of the `RouteTable` class.</span></span> <span data-ttu-id="4e80b-130">Vlastnost trasy `RouteCollection` objektu, která ukládá všechny tras pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="4e80b-130">The Routes property is a `RouteCollection` object that stores all the routes for the application.</span></span>

### <a name="url-patterns"></a><span data-ttu-id="4e80b-131">Vzory adres URL</span><span class="sxs-lookup"><span data-stu-id="4e80b-131">URL Patterns</span></span>

<span data-ttu-id="4e80b-132">Vzor adresy URL může obsahovat hodnoty literály a zástupné symboly proměnných (označované jako parametry adresy URL).</span><span class="sxs-lookup"><span data-stu-id="4e80b-132">A URL pattern can contain literal values and variable placeholders (referred to as URL parameters).</span></span> <span data-ttu-id="4e80b-133">Literály a zástupné symboly umístěné v segmentů adresy URL, které jsou odděleny lomítkem (`/`) znaků.</span><span class="sxs-lookup"><span data-stu-id="4e80b-133">The literals and placeholders are located in segments of the URL which are delimited by the slash (`/`) character.</span></span>

<span data-ttu-id="4e80b-134">Při požadavku na webovou aplikaci, adresa URL je analyzován do segmentů a zástupné symboly a hodnoty proměnných jsou dostupné na žádost o obslužnou rutinu.</span><span class="sxs-lookup"><span data-stu-id="4e80b-134">When a request to your web application is made, the URL is parsed into segments and placeholders, and the variable values are provided to the request handler.</span></span> <span data-ttu-id="4e80b-135">Tento proces je podobný jako data v řetězci dotazu je analyzovat a předaný obslužné rutiny požadavku.</span><span class="sxs-lookup"><span data-stu-id="4e80b-135">This process is similar to the way the data in a query string is parsed and passed to the request handler.</span></span> <span data-ttu-id="4e80b-136">V obou případech se informace o proměnných v adrese URL a předaný obslužná rutina ve formě páry klíč hodnota.</span><span class="sxs-lookup"><span data-stu-id="4e80b-136">In both cases, variable information is included in the URL and passed to the handler in the form of key-value pairs.</span></span> <span data-ttu-id="4e80b-137">Pro řetězce dotazů klíče a hodnoty jsou v adrese URL.</span><span class="sxs-lookup"><span data-stu-id="4e80b-137">For query strings, both the keys and the values are in the URL.</span></span> <span data-ttu-id="4e80b-138">Pro trasy u klíčů se zástupný symbol názvy definované v vzor adresy URL a pouze hodnoty jsou v adrese URL.</span><span class="sxs-lookup"><span data-stu-id="4e80b-138">For routes, the keys are the placeholder names defined in the URL pattern, and only the values are in the URL.</span></span>

<span data-ttu-id="4e80b-139">Ve vzoru adresy URL definujete zástupné symboly uzavřené v závorkách ( `{` a `}` ).</span><span class="sxs-lookup"><span data-stu-id="4e80b-139">In a URL pattern, you define placeholders by enclosing them in braces ( `{` and `}` ).</span></span> <span data-ttu-id="4e80b-140">Můžete definovat více než jeden zástupný symbol v segmentu, ale zástupné symboly musí být odděleny literálovou hodnotou.</span><span class="sxs-lookup"><span data-stu-id="4e80b-140">You can define more than one placeholder in a segment, but the placeholders must be separated by a literal value.</span></span> <span data-ttu-id="4e80b-141">Například `{language}-{country}/{action}` je vzor platná trasa.</span><span class="sxs-lookup"><span data-stu-id="4e80b-141">For example, `{language}-{country}/{action}` is a valid route pattern.</span></span> <span data-ttu-id="4e80b-142">Ale `{language}{country}/{action}` není platný vzor, protože není hodnota literálu nebo odděleny zástupné symboly.</span><span class="sxs-lookup"><span data-stu-id="4e80b-142">However, `{language}{country}/{action}` is not a valid pattern, because there is no literal value or delimiter between the placeholders.</span></span> <span data-ttu-id="4e80b-143">Proto směrování nemůže určit, kde oddělit hodnotu zástupného textu jazyk z hodnoty pro zástupný symbol země.</span><span class="sxs-lookup"><span data-stu-id="4e80b-143">Therefore, routing cannot determine where to separate the value for the language placeholder from the value for the country placeholder.</span></span>

### <a name="mapping-and-registering-routes"></a><span data-ttu-id="4e80b-144">Mapování a registraci trasy</span><span class="sxs-lookup"><span data-stu-id="4e80b-144">Mapping and Registering Routes</span></span>

<span data-ttu-id="4e80b-145">Předtím, než mohou být trasy na stránky adresář Wingtip Toys ukázkové aplikace, je nutné zaregistrovat trasy při spuštění aplikace.</span><span class="sxs-lookup"><span data-stu-id="4e80b-145">Before you can include routes to pages of the Wingtip Toys sample application, you must register the routes when the application starts.</span></span> <span data-ttu-id="4e80b-146">Pokud chcete zaregistrovat trasy, můžete upravit `Application_Start` obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="4e80b-146">To register the routes, you will modify the `Application_Start` event handler.</span></span>

1. <span data-ttu-id="4e80b-147">V **Průzkumníku řešení**sady Visual Studio, najít a otevřít *Global.asax.cs* souboru.</span><span class="sxs-lookup"><span data-stu-id="4e80b-147">In **Solution Explorer**of Visual Studio, find and open the *Global.asax.cs* file.</span></span>
2. <span data-ttu-id="4e80b-148">Přidejte kód zvýrazněných v žlutý k *Global.asax.cs* následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="4e80b-148">Add the code highlighted in yellow to the *Global.asax.cs* file as follows:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample1.cs?highlight=30-31,34-46)]

<span data-ttu-id="4e80b-149">Adresář Wingtip Toys ukázkové aplikace spustí, zavolá `Application_Start` obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="4e80b-149">When the Wingtip Toys sample application starts, it calls the `Application_Start` event handler.</span></span> <span data-ttu-id="4e80b-150">Na konci této obslužné rutiny události `RegisterCustomRoutes` metoda je volána.</span><span class="sxs-lookup"><span data-stu-id="4e80b-150">At the end of this event handler, the `RegisterCustomRoutes` method is called.</span></span> <span data-ttu-id="4e80b-151">`RegisterCustomRoutes` Metoda přidá každý postup voláním `MapPageRoute` metodu `RouteCollection` objektu.</span><span class="sxs-lookup"><span data-stu-id="4e80b-151">The `RegisterCustomRoutes` method adds each route by calling the `MapPageRoute` method of the `RouteCollection` object.</span></span> <span data-ttu-id="4e80b-152">Trasy jsou definovány pomocí názvu trasy, adresa URL trasy a fyzické adresy URL.</span><span class="sxs-lookup"><span data-stu-id="4e80b-152">Routes are defined using a route name, a route URL and a physical URL.</span></span>

<span data-ttu-id="4e80b-153">První parametr ("`ProductsByCategoryRoute`") je název trasy.</span><span class="sxs-lookup"><span data-stu-id="4e80b-153">The first parameter ("`ProductsByCategoryRoute`") is the route name.</span></span> <span data-ttu-id="4e80b-154">Slouží k volání trasy, pokud je to potřeba.</span><span class="sxs-lookup"><span data-stu-id="4e80b-154">It is used to call the route when it is needed.</span></span> <span data-ttu-id="4e80b-155">Druhý parametr ("`Category/{categoryName}`") definuje popisný nahrazení adresa URL, která může být dynamické založené na kódu.</span><span class="sxs-lookup"><span data-stu-id="4e80b-155">The second parameter ("`Category/{categoryName}`") defines the friendly replacement URL that can be dynamic based on code.</span></span> <span data-ttu-id="4e80b-156">Tato trasa se používají, když se vyplní ovládací prvek dat s odkazy, které jsou generované na základě dat.</span><span class="sxs-lookup"><span data-stu-id="4e80b-156">You use this route when you are populating a data control with links that are generated based on data.</span></span> <span data-ttu-id="4e80b-157">Trasa se zobrazí následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="4e80b-157">A route is shown as follows:</span></span>

[!code-csharp[Main](url-routing/samples/sample2.cs)]

<span data-ttu-id="4e80b-158">Druhý parametr trasy, která zahrnuje dynamické hodnoty zadané ve složených závorkách (`{ }`).</span><span class="sxs-lookup"><span data-stu-id="4e80b-158">The second parameter of the route includes a dynamic value specified by braces (`{ }`).</span></span> <span data-ttu-id="4e80b-159">V takovém případě `categoryName` je proměnná, která se použije k určení správné cestu směrování.</span><span class="sxs-lookup"><span data-stu-id="4e80b-159">In this case, the `categoryName` is a variable that will be used to determine the proper routing path.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="4e80b-160">**Optional**</span><span class="sxs-lookup"><span data-stu-id="4e80b-160">**Optional**</span></span>
> 
> <span data-ttu-id="4e80b-161">Může být snadněji spravovat váš kód přesunutím `RegisterCustomRoutes` metodu pro samostatné třídy.</span><span class="sxs-lookup"><span data-stu-id="4e80b-161">You might find it easier to manage your code by moving the `RegisterCustomRoutes` method to a separate class.</span></span> <span data-ttu-id="4e80b-162">V *logiku* složky, vytvořte samostatné `RouteActions` třídy.</span><span class="sxs-lookup"><span data-stu-id="4e80b-162">In the *Logic* folder, create a separate `RouteActions` class.</span></span> <span data-ttu-id="4e80b-163">Přesunout výše `RegisterCustomRoutes` metoda z *Global.asax.cs* souboru do nové `RoutesActions` třídy.</span><span class="sxs-lookup"><span data-stu-id="4e80b-163">Move the above `RegisterCustomRoutes` method from the *Global.asax.cs* file into the new `RoutesActions` class.</span></span> <span data-ttu-id="4e80b-164">Použití `RoleActions` třídy a `createAdmin` jako příklad toho, jak volat metodu `RegisterCustomRoutes` metoda z *Global.asax.cs* souboru.</span><span class="sxs-lookup"><span data-stu-id="4e80b-164">Use the `RoleActions` class and the `createAdmin` method as an example of how to call the `RegisterCustomRoutes` method from the *Global.asax.cs* file.</span></span>


<span data-ttu-id="4e80b-165">Může také dojít k tomu `RegisterRoutes` pomocí volání metody `RouteConfig` objektu na začátku `Application_Start` obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="4e80b-165">You may also have noticed the `RegisterRoutes` method call using the `RouteConfig` object at the beginning of the `Application_Start` event handler.</span></span> <span data-ttu-id="4e80b-166">Při volání implementovat výchozí směrování.</span><span class="sxs-lookup"><span data-stu-id="4e80b-166">This call is made to implement default routing.</span></span> <span data-ttu-id="4e80b-167">Zahrnuta jako výchozí kód byl při vytvoření aplikace pomocí šablony sady Visual Studio webových formulářů.</span><span class="sxs-lookup"><span data-stu-id="4e80b-167">It was included as default code when you created the application using Visual Studio's Web Forms template.</span></span>

## <a name="retrieving-and-using-route-data"></a><span data-ttu-id="4e80b-168">Načítání a používání dat trasy</span><span class="sxs-lookup"><span data-stu-id="4e80b-168">Retrieving and Using Route Data</span></span>

<span data-ttu-id="4e80b-169">Jak je uvedeno nahoře, může být definováno trasy.</span><span class="sxs-lookup"><span data-stu-id="4e80b-169">As mentioned above, routes can be defined.</span></span> <span data-ttu-id="4e80b-170">Kód, který jste přidali do `Application_Start` obslužné rutiny událostí v *Global.asax.cs* soubor načte definovatelným trasy.</span><span class="sxs-lookup"><span data-stu-id="4e80b-170">The code that you added to the `Application_Start` event handler in the *Global.asax.cs* file loads the definable routes.</span></span>

### <a name="setting-routes"></a><span data-ttu-id="4e80b-171">Nastavení směrování</span><span class="sxs-lookup"><span data-stu-id="4e80b-171">Setting Routes</span></span>

<span data-ttu-id="4e80b-172">Trasy vyžadují můžete přidat další kód.</span><span class="sxs-lookup"><span data-stu-id="4e80b-172">Routes require you to add additional code.</span></span> <span data-ttu-id="4e80b-173">V tomto kurzu budete používat vazby modelu k načtení `RouteValueDictionary` objekt, který se používá při generování tras pomocí dat z ovládacího prvku data.</span><span class="sxs-lookup"><span data-stu-id="4e80b-173">In this tutorial, you will use model binding to retrieve a `RouteValueDictionary` object that is used when generating the routes using data from a data control.</span></span> <span data-ttu-id="4e80b-174">`RouteValueDictionary` Objektu bude obsahovat seznam názvů produktů, které patří do určité kategorie produktů.</span><span class="sxs-lookup"><span data-stu-id="4e80b-174">The `RouteValueDictionary` object will contain a list of product names that belong to a specific category of products.</span></span> <span data-ttu-id="4e80b-175">Vytvoří se propojení pro jednotlivé produkty na základě dat a trasy.</span><span class="sxs-lookup"><span data-stu-id="4e80b-175">A link is created for each product based on the data and route.</span></span>

#### <a name="enable-routes-for-categories-and-products"></a><span data-ttu-id="4e80b-176">Povolit trasy pro kategorií a produkty</span><span class="sxs-lookup"><span data-stu-id="4e80b-176">Enable Routes for Categories and Products</span></span>

<span data-ttu-id="4e80b-177">Dále budete aktualizovat aplikaci, aby používala `ProductsByCategoryRoute` k určení správné trasy, která má obsahovat pro každý odkaz kategorii produktu.</span><span class="sxs-lookup"><span data-stu-id="4e80b-177">Next, you'll update the application to use the `ProductsByCategoryRoute` to determine the correct route to include for each product category link.</span></span> <span data-ttu-id="4e80b-178">Budete také aktualizovat *ProductList.aspx* stránky vložte směrované odkaz pro každý produkt.</span><span class="sxs-lookup"><span data-stu-id="4e80b-178">You'll also update the *ProductList.aspx* page to include a routed link for each product.</span></span> <span data-ttu-id="4e80b-179">Odkazy se zobrazí jako byly před provedením změny, ale odkazy nyní využívat směrování adres URL.</span><span class="sxs-lookup"><span data-stu-id="4e80b-179">The links will be displayed as they were before the change, however the links will now use URL routing.</span></span>

1. <span data-ttu-id="4e80b-180">V **Průzkumníku řešení**, otevřete *Site.Master* stránky, pokud ještě není otevřené.</span><span class="sxs-lookup"><span data-stu-id="4e80b-180">In **Solution Explorer**, open the *Site.Master* page if it is not already open.</span></span>
2. <span data-ttu-id="4e80b-181">Aktualizace **ListView** ovládací prvek s názvem "`categoryList`" se změnami zvýrazněných v žlutý, takže kód vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="4e80b-181">Update the **ListView** control named "`categoryList`" with the changes highlighted in yellow, so the markup appears as follows:</span></span>   

    [!code-aspx[Main](url-routing/samples/sample3.aspx?highlight=7-9)]
3. <span data-ttu-id="4e80b-182">V **Průzkumníku řešení**, otevřete *ProductList.aspx* stránky.</span><span class="sxs-lookup"><span data-stu-id="4e80b-182">In **Solution Explorer**, open the *ProductList.aspx* page.</span></span>
4. <span data-ttu-id="4e80b-183">Aktualizace `ItemTemplate` element *ProductList.aspx* stránky s aktualizacemi zvýrazněných v žlutý, takže kód zobrazí následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="4e80b-183">Update the `ItemTemplate` element of the *ProductList.aspx* page with the updates highlighted in yellow, so the markup appears as follows:</span></span>   

    [!code-aspx[Main](url-routing/samples/sample4.aspx?highlight=6-9,14-16)]
5. <span data-ttu-id="4e80b-184">Otevřete kódu z *ProductList.aspx.cs* a přidejte následující oboru názvů jako zvýrazněných v žlutý:</span><span class="sxs-lookup"><span data-stu-id="4e80b-184">Open the code-behind of *ProductList.aspx.cs* and add the following namespace as highlighted in yellow:</span></span>  

    [!code-csharp[Main](url-routing/samples/sample5.cs?highlight=9)]
6. <span data-ttu-id="4e80b-185">Nahraďte `GetProducts` metoda modelu code-behind (*ProductList.aspx.cs*) s následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="4e80b-185">Replace the `GetProducts` method of the code-behind (*ProductList.aspx.cs*) with the following code:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample6.cs)]

#### <a name="add-code-for-product-details"></a><span data-ttu-id="4e80b-186">Přidejte kód pro podrobnosti o produktu</span><span class="sxs-lookup"><span data-stu-id="4e80b-186">Add Code for Product Details</span></span>

<span data-ttu-id="4e80b-187">Nyní, aktualizovat modelu code-behind (*ProductDetails.aspx.cs*) pro *ProductDetails.aspx* stránky používat data trasy.</span><span class="sxs-lookup"><span data-stu-id="4e80b-187">Now, update the code-behind (*ProductDetails.aspx.cs*) for the *ProductDetails.aspx* page to use route data.</span></span> <span data-ttu-id="4e80b-188">Všimněte si, že nové `GetProduct` metoda přijímá také hodnotu řetězce dotazu pro případ, kde uživatel má odkaz aktuálně přihlášeni, který používá starší nepřátelských, nesměrovaný adresu URL.</span><span class="sxs-lookup"><span data-stu-id="4e80b-188">Notice that the new `GetProduct` method also accepts a query string value for the case where the user has a link bookmarked that uses the older non-friendly, non-routed URL.</span></span>

1. <span data-ttu-id="4e80b-189">Nahraďte `GetProduct` metoda modelu code-behind (*ProductDetails.aspx.cs*) s následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="4e80b-189">Replace the `GetProduct` method of the code-behind (*ProductDetails.aspx.cs*) with the following code:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample7.cs)]

## <a name="running-the-application"></a><span data-ttu-id="4e80b-190">Spuštění aplikace</span><span class="sxs-lookup"><span data-stu-id="4e80b-190">Running the Application</span></span>

<span data-ttu-id="4e80b-191">Můžete spustit nyní aplikaci zobrazíte aktualizované trasy.</span><span class="sxs-lookup"><span data-stu-id="4e80b-191">You can run the application now to see the updated routes.</span></span>

1. <span data-ttu-id="4e80b-192">Stiskněte klávesu **F5** ke spuštění ukázkové aplikace adresář Wingtip Toys.</span><span class="sxs-lookup"><span data-stu-id="4e80b-192">Press **F5** to run the Wingtip Toys sample application.</span></span>  
 <span data-ttu-id="4e80b-193">Otevře se prohlížeč a ukazuje *Default.aspx* stránky.</span><span class="sxs-lookup"><span data-stu-id="4e80b-193">The browser opens and shows the *Default.aspx* page.</span></span>
2. <span data-ttu-id="4e80b-194">Klikněte **produkty** odkaz v horní části stránky.</span><span class="sxs-lookup"><span data-stu-id="4e80b-194">Click the **Products** link at the top of the page.</span></span>  
 <span data-ttu-id="4e80b-195">Zobrazí se na všechny produkty *ProductList.aspx* stránky.</span><span class="sxs-lookup"><span data-stu-id="4e80b-195">All products are displayed on the *ProductList.aspx* page.</span></span> <span data-ttu-id="4e80b-196">Zobrazí se následující adresu URL (s použitím vaše číslo portu) pro prohlížeč:</span><span class="sxs-lookup"><span data-stu-id="4e80b-196">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/ProductList`
3. <span data-ttu-id="4e80b-197">Klikněte na tlačítko **aut** kategorie odkaz v horní části stránky.</span><span class="sxs-lookup"><span data-stu-id="4e80b-197">Next, click the **Cars** category link near the top of the page.</span></span>  
 <span data-ttu-id="4e80b-198">Zobrazí se pouze automobilů na *ProductList.aspx* stránky.</span><span class="sxs-lookup"><span data-stu-id="4e80b-198">Only cars are displayed on the *ProductList.aspx* page.</span></span> <span data-ttu-id="4e80b-199">Zobrazí se následující adresu URL (s použitím vaše číslo portu) pro prohlížeč:</span><span class="sxs-lookup"><span data-stu-id="4e80b-199">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/Category/Cars`
4. <span data-ttu-id="4e80b-200">Kliknutím na odkaz, který obsahuje název prvního auta uvedené na stránce ("**převoditelné Car**") Chcete-li zobrazit podrobnosti o produktu.</span><span class="sxs-lookup"><span data-stu-id="4e80b-200">Click the link containing the name of the first car listed on the page ("**Convertible Car**") to display the product details.</span></span>  
 <span data-ttu-id="4e80b-201">Zobrazí se následující adresu URL (s použitím vaše číslo portu) pro prohlížeč:</span><span class="sxs-lookup"><span data-stu-id="4e80b-201">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/Product/Convertible%20Car`
5. <span data-ttu-id="4e80b-202">Potom zadejte následující nesměrovaný adresu URL (s použitím vaše číslo portu) do prohlížeče:</span><span class="sxs-lookup"><span data-stu-id="4e80b-202">Next, enter the following non-routed URL (using your port number) into the browser:</span></span>  
    `https://localhost:44300/ProductDetails.aspx?productID=2`  
 <span data-ttu-id="4e80b-203">Kód stále rozpozná adresu URL, která obsahuje řetězec dotazu pro případ, kdy uživatel, který má odkaz aktuálně přihlášeni.</span><span class="sxs-lookup"><span data-stu-id="4e80b-203">The code still recognizes a URL that includes a query string, for the case where a user has a link bookmarked.</span></span>

## <a name="summary"></a><span data-ttu-id="4e80b-204">Souhrn</span><span class="sxs-lookup"><span data-stu-id="4e80b-204">Summary</span></span>

<span data-ttu-id="4e80b-205">V tomto kurzu jste přidali trasy pro kategorií a produkty.</span><span class="sxs-lookup"><span data-stu-id="4e80b-205">In this tutorial, you have added routes for categories and products.</span></span> <span data-ttu-id="4e80b-206">Jste se naučili, jak trasy lze integrovat s ovládacími prvky dat, které používají vazby modelu.</span><span class="sxs-lookup"><span data-stu-id="4e80b-206">You have learned how routes can be integrated with data controls that use model binding.</span></span> <span data-ttu-id="4e80b-207">V dalším kurzu budete implementovat zpracování globální chyb.</span><span class="sxs-lookup"><span data-stu-id="4e80b-207">In the next tutorial, you will implement global error handling.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="4e80b-208">Další prostředky</span><span class="sxs-lookup"><span data-stu-id="4e80b-208">Additional Resources</span></span>

[<span data-ttu-id="4e80b-209">ASP.NET přátelské adresy URL</span><span class="sxs-lookup"><span data-stu-id="4e80b-209">ASP.NET Friendly URLs</span></span>](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/)  
[<span data-ttu-id="4e80b-210">Nasazení aplikace zabezpečení rozhraní ASP.NET Web Forms členství, OAuth a databáze SQL Azure App Service</span><span class="sxs-lookup"><span data-stu-id="4e80b-210">Deploy a Secure ASP.NET Web Forms App with Membership, OAuth, and SQL Database to Azure App Service</span></span>](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-webforms-app-membership-oauth-sql-database/)  
[<span data-ttu-id="4e80b-211">Microsoft Azure – bezplatná zkušební verze</span><span class="sxs-lookup"><span data-stu-id="4e80b-211">Microsoft Azure - Free Trial</span></span>](https://azure.microsoft.com/pricing/free-trial/)

> [!div class="step-by-step"]
> <span data-ttu-id="4e80b-212">[Předchozí](membership-and-administration.md)
> [další](aspnet-error-handling.md)</span><span class="sxs-lookup"><span data-stu-id="4e80b-212">[Previous](membership-and-administration.md)
[Next](aspnet-error-handling.md)</span></span>
