---
uid: web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/shopping-cart
title: Nákupní košík | Microsoft Docs
author: Erikre
description: Tento kurz řady naučit se základy vytváření aplikace webových formulářů ASP.NET pomocí technologie ASP.NET 4.5 a Microsoft Visual Studio Express 2013 pro jsme...
ms.author: aspnetcontent
manager: wpickett
ms.date: 09/08/2014
ms.topic: article
ms.assetid: 6898c601-6c31-432f-8388-e6843f8a17cb
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/shopping-cart
msc.type: authoredcontent
ms.openlocfilehash: a8e96da7737cdf649575711a464c4f7726cb6ded
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/06/2018
---
<a name="shopping-cart"></a><span data-ttu-id="09801-103">Nákupní košík</span><span class="sxs-lookup"><span data-stu-id="09801-103">Shopping Cart</span></span>
====================
<span data-ttu-id="09801-104">Podle [Erik Reitan](https://github.com/Erikre)</span><span class="sxs-lookup"><span data-stu-id="09801-104">by [Erik Reitan](https://github.com/Erikre)</span></span>

<span data-ttu-id="09801-105">[Stáhnout adresář Wingtip Toys ukázkového projektu (C#)](http://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) nebo [stáhnout elektronická kniha (PDF)](http://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span><span class="sxs-lookup"><span data-stu-id="09801-105">[Download Wingtip Toys Sample Project (C#)](http://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) or [Download E-book (PDF)](http://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span></span>

> <span data-ttu-id="09801-106">Tento kurz řady naučit se základy vytváření aplikace webových formulářů ASP.NET pomocí technologie ASP.NET 4.5 a Microsoft Visual Studio Express 2013 pro Web.</span><span class="sxs-lookup"><span data-stu-id="09801-106">This tutorial series will teach you the basics of building an ASP.NET Web Forms application using ASP.NET 4.5 and Microsoft Visual Studio Express 2013 for Web.</span></span> <span data-ttu-id="09801-107">Visual Studio 2013 [projekt pomocí zdrojového kódu C#](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) dispozici je pro tento kurz řady.</span><span class="sxs-lookup"><span data-stu-id="09801-107">A Visual Studio 2013 [project with C# source code](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) is available to accompany this tutorial series.</span></span>


<span data-ttu-id="09801-108">Tento kurz popisuje obchodní logiky potřebné k přidání nákupní košík na adresář Wingtip Toys ukázkovou aplikaci webových formulářů ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="09801-108">This tutorial describes the business logic required to add a shopping cart to the Wingtip Toys sample ASP.NET Web Forms application.</span></span> <span data-ttu-id="09801-109">V tomto kurzu vychází předchozí kurzu "Zobrazení dat položky a podrobnosti" a je součástí řady kurz Wingtip hračka úložiště.</span><span class="sxs-lookup"><span data-stu-id="09801-109">This tutorial builds on the previous tutorial "Display Data Items and Details" and is part of the Wingtip Toy Store tutorial series.</span></span> <span data-ttu-id="09801-110">Po dokončení tohoto kurzu, nebudou uživatelé ukázkové aplikace k přidání, odebrání a změna produkty v jejich nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-110">When you've completed this tutorial, the users of your sample app will be able to add, remove, and modify the products in their shopping cart.</span></span>

## <a name="what-youll-learn"></a><span data-ttu-id="09801-111">Získáte informace:</span><span class="sxs-lookup"><span data-stu-id="09801-111">What you'll learn:</span></span>

1. <span data-ttu-id="09801-112">Jak vytvořit nákupní košík pro webovou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="09801-112">How to create a shopping cart for the web application.</span></span>
2. <span data-ttu-id="09801-113">Postup povolení uživatelům k přidávání položek do nákupního košíku.</span><span class="sxs-lookup"><span data-stu-id="09801-113">How to enable users to add items to the shopping cart.</span></span>
3. <span data-ttu-id="09801-114">Postup přidání [GridView](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview(v=vs.110).aspx#introduction) řízení zobrazit podrobnosti o nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-114">How to add a [GridView](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview(v=vs.110).aspx#introduction) control to display shopping cart details.</span></span>
4. <span data-ttu-id="09801-115">Postup výpočtu a zobrazení celkové pořadí.</span><span class="sxs-lookup"><span data-stu-id="09801-115">How to calculate and display the order total.</span></span>
5. <span data-ttu-id="09801-116">Postup odstranění a aktualizace položek v nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-116">How to remove and update items in the shopping cart.</span></span>
6. <span data-ttu-id="09801-117">Jak se zahrnuje nákupní košík čítače.</span><span class="sxs-lookup"><span data-stu-id="09801-117">How to include a shopping cart counter.</span></span>

## <a name="code-features-in-this-tutorial"></a><span data-ttu-id="09801-118">Funkce kód v tomto kurzu:</span><span class="sxs-lookup"><span data-stu-id="09801-118">Code features in this tutorial:</span></span>

1. <span data-ttu-id="09801-119">Rozhraní Entity Framework Code First</span><span class="sxs-lookup"><span data-stu-id="09801-119">Entity Framework Code First</span></span>
2. <span data-ttu-id="09801-120">Datových poznámek</span><span class="sxs-lookup"><span data-stu-id="09801-120">Data Annotations</span></span>
3. <span data-ttu-id="09801-121">Ovládací prvky datových silného typu</span><span class="sxs-lookup"><span data-stu-id="09801-121">Strongly typed data controls</span></span>
4. <span data-ttu-id="09801-122">Vazby modelu</span><span class="sxs-lookup"><span data-stu-id="09801-122">Model binding</span></span>

## <a name="creating-a-shopping-cart"></a><span data-ttu-id="09801-123">Vytváření nákupní košík</span><span class="sxs-lookup"><span data-stu-id="09801-123">Creating a Shopping Cart</span></span>

<span data-ttu-id="09801-124">Dříve v této série kurzu jste přidali stránky a kód pro zobrazení dat produktu z databáze.</span><span class="sxs-lookup"><span data-stu-id="09801-124">Earlier in this tutorial series, you added pages and code to view product data from a database.</span></span> <span data-ttu-id="09801-125">V tomto kurzu vytvoříte nákupní košík ke správě produktů, že jsou uživatelé zájem o nákupu.</span><span class="sxs-lookup"><span data-stu-id="09801-125">In this tutorial, you'll create a shopping cart to manage the products that users are interested in buying.</span></span> <span data-ttu-id="09801-126">Uživatelé můžou Procházet a přidání položek do nákupního košíku, i když nejsou registrované nebo přihlášení.</span><span class="sxs-lookup"><span data-stu-id="09801-126">Users will be able to browse and add items to the shopping cart even if they are not registered or logged in.</span></span> <span data-ttu-id="09801-127">Ke správě přístupu nákupní košík, přiřadíte uživatelům jedinečný `ID` pomocí globálně jedinečný identifikátor (GUID), když uživatel získá přístup k nákupního košíku poprvé.</span><span class="sxs-lookup"><span data-stu-id="09801-127">To manage shopping cart access, you will assign users a unique `ID` using a globally unique identifier (GUID) when the user accesses the shopping cart for the first time.</span></span> <span data-ttu-id="09801-128">Budete uložit tento `ID` pomocí stavu relace ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="09801-128">You'll store this `ID` using the ASP.NET Session state.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="09801-129">Stavu relace ASP.NET je vhodné místo k uložení informace specifické pro uživatele, který vyprší po uživatel odejde webu.</span><span class="sxs-lookup"><span data-stu-id="09801-129">The ASP.NET Session state is a convenient place to store user-specific information which will expire after the user leaves the site.</span></span> <span data-ttu-id="09801-130">Při zneužití stav relace může mít vliv na výkon na větší lokalit, light použití relace stavu funguje dobře pro demonstrační účely.</span><span class="sxs-lookup"><span data-stu-id="09801-130">While misuse of session state can have performance implications on larger sites, light use of session state works well for demonstration purposes.</span></span> <span data-ttu-id="09801-131">Ukázkový projekt adresář Wingtip Toys ukazuje, jak se používání stavu relace bez externího poskytovatele, kde je stav relace uložené v procesu na webovém serveru hostícím webu.</span><span class="sxs-lookup"><span data-stu-id="09801-131">The Wingtip Toys sample project shows how to use session state without an external provider, where session state is stored in-process on the web server hosting the site.</span></span> <span data-ttu-id="09801-132">Pro větší weby, které poskytují více instancí aplikace nebo lokalit, které používají více instancí aplikace na různé servery, zvažte použití **služba systému Windows Azure mezipaměti**.</span><span class="sxs-lookup"><span data-stu-id="09801-132">For larger sites that provide multiple instances of an application or for sites that run multiple instances of an application on different servers, consider using **Windows Azure Cache Service**.</span></span> <span data-ttu-id="09801-133">Tato služba mezipaměti poskytuje Distribuovaná služba ukládání do mezipaměti, která je externí k webu a řeší problém použití stavu relace v procesu.</span><span class="sxs-lookup"><span data-stu-id="09801-133">This Cache Service provides a distributed caching service that is external to the web site and solves the problem of using in-process session state.</span></span> <span data-ttu-id="09801-134">Další informace najdete v tématu [postup používání stavu relace ASP.NET s weby systému Windows Azure](https://docs.microsoft.com/azure/redis-cache/cache-aspnet-session-state-provider).</span><span class="sxs-lookup"><span data-stu-id="09801-134">For more information see, [How to Use ASP.NET Session State with Windows Azure Web Sites](https://docs.microsoft.com/azure/redis-cache/cache-aspnet-session-state-provider).</span></span>


### <a name="add-cartitem-as-a-model-class"></a><span data-ttu-id="09801-135">Přidat CartItem jako třídu modelu</span><span class="sxs-lookup"><span data-stu-id="09801-135">Add CartItem as a Model Class</span></span>

<span data-ttu-id="09801-136">Dříve v této série kurz definované schéma pro data kategorie a produktu vytvořením `Category` a `Product` třídy v *modely* složky.</span><span class="sxs-lookup"><span data-stu-id="09801-136">Earlier in this tutorial series, you defined the schema for the category and product data by creating the `Category` and `Product` classes in the *Models* folder.</span></span> <span data-ttu-id="09801-137">Nyní přidejte novou třídu definovat schéma pro nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-137">Now, add a new class to define the schema for the shopping cart.</span></span> <span data-ttu-id="09801-138">Později v tomto kurzu budete přidávat třídy pro zpracování přístupu k datům `CartItem` tabulky.</span><span class="sxs-lookup"><span data-stu-id="09801-138">Later in this tutorial, you will add a class to handle data access to the `CartItem` table.</span></span> <span data-ttu-id="09801-139">Tato třída bude poskytovat obchodní logiky k přidání, odebrání a aktualizovat položky v nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-139">This class will provide the business logic to add, remove, and update items in the shopping cart.</span></span>

1. <span data-ttu-id="09801-140">Klikněte pravým tlačítkem myši *modely* složky a vyberte **přidat**  - &gt; **novou položku**.</span><span class="sxs-lookup"><span data-stu-id="09801-140">Right-click the *Models* folder and select **Add** -&gt; **New Item**.</span></span> 

    ![Nákupní košík – nová položka](shopping-cart/_static/image1.png)
2. <span data-ttu-id="09801-142">**Přidat novou položku** se zobrazí dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="09801-142">The **Add New Item** dialog box is displayed.</span></span> <span data-ttu-id="09801-143">Vyberte **kód**a potom vyberte **třída**.</span><span class="sxs-lookup"><span data-stu-id="09801-143">Select **Code**, and then select **Class**.</span></span> 

    ![Nákupní košík - přidat novou položku – dialogové okno](shopping-cart/_static/image2.png)
3. <span data-ttu-id="09801-145">Název tato nová třída *CartItem.cs*.</span><span class="sxs-lookup"><span data-stu-id="09801-145">Name this new class *CartItem.cs*.</span></span>
4. <span data-ttu-id="09801-146">Klikněte na tlačítko **přidat**.</span><span class="sxs-lookup"><span data-stu-id="09801-146">Click **Add**.</span></span>  
   <span data-ttu-id="09801-147">Nový soubor třídy se zobrazí v editoru.</span><span class="sxs-lookup"><span data-stu-id="09801-147">The new class file is displayed in the editor.</span></span>
5. <span data-ttu-id="09801-148">Ve výchozím kódu nahraďte následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="09801-148">Replace the default code with the following code:</span></span>   

    [!code-csharp[Main](shopping-cart/samples/sample1.cs)]

<span data-ttu-id="09801-149">`CartItem` Třída obsahuje schéma, které definují jednotlivé produkty uživatel přidá do nákupního košíku.</span><span class="sxs-lookup"><span data-stu-id="09801-149">The `CartItem` class contains the schema that will define each product a user adds to the shopping cart.</span></span> <span data-ttu-id="09801-150">Tato třída je podobná jiné třídy schématu, které jste vytvořili dříve v této série kurzu.</span><span class="sxs-lookup"><span data-stu-id="09801-150">This class is similar to the other schema classes you created earlier in this tutorial series.</span></span> <span data-ttu-id="09801-151">Podle konvence Entity Framework Code First očekává, primární klíč pro `CartItem` tabulka bude buď `CartItemId` nebo `ID`.</span><span class="sxs-lookup"><span data-stu-id="09801-151">By convention, Entity Framework Code First expects that the primary key for the `CartItem` table will be either `CartItemId` or `ID`.</span></span> <span data-ttu-id="09801-152">Ale kód přepisuje výchozí chování pomocí datové poznámky `[Key]` atribut.</span><span class="sxs-lookup"><span data-stu-id="09801-152">However, the code overrides the default behavior by using the data annotation `[Key]` attribute.</span></span> <span data-ttu-id="09801-153">`Key` Atribut ItemId vlastnost určuje, že `ItemID` vlastnost je primární klíč.</span><span class="sxs-lookup"><span data-stu-id="09801-153">The `Key` attribute of the ItemId property specifies that the `ItemID` property is the primary key.</span></span>

<span data-ttu-id="09801-154">`CartId` Určuje vlastnost `ID` uživatele, který je přidružená k položce k nákupu.</span><span class="sxs-lookup"><span data-stu-id="09801-154">The `CartId` property specifies the `ID` of the user that is associated with the item to purchase.</span></span> <span data-ttu-id="09801-155">Přidáte kód k vytvoření tohoto uživatele `ID` když uživatel přistupuje k nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-155">You'll add code to create this user `ID` when the user accesses the shopping cart.</span></span> <span data-ttu-id="09801-156">To `ID` také se uloží jako na proměnnou relace ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="09801-156">This `ID` will also be stored as an ASP.NET Session variable.</span></span>

### <a name="update-the-product-context"></a><span data-ttu-id="09801-157">Aktualizace produktu kontextu</span><span class="sxs-lookup"><span data-stu-id="09801-157">Update the Product Context</span></span>

<span data-ttu-id="09801-158">Kromě přidání `CartItem` třída, budete muset aktualizovat třídy kontextu databáze, která spravuje tříd entit, který poskytuje přístup k datům do databáze.</span><span class="sxs-lookup"><span data-stu-id="09801-158">In addition to adding the `CartItem` class, you will need to update the database context class that manages the entity classes and that provides data access to the database.</span></span> <span data-ttu-id="09801-159">K tomu budete přidávat nově vytvořený `CartItem` třída na modelu `ProductContext` třídy.</span><span class="sxs-lookup"><span data-stu-id="09801-159">To do this, you will add the newly created `CartItem` model class to the `ProductContext` class.</span></span>

1. <span data-ttu-id="09801-160">V **Průzkumníku řešení**, najít a otevřít *ProductContext.cs* v soubor *modely* složky.</span><span class="sxs-lookup"><span data-stu-id="09801-160">In **Solution Explorer**, find and open the *ProductContext.cs* file in the *Models* folder.</span></span>
2. <span data-ttu-id="09801-161">Přidejte zvýrazněný kód, který *ProductContext.cs* následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="09801-161">Add the highlighted code to the *ProductContext.cs* file as follows:</span></span>  

    [!code-csharp[Main](shopping-cart/samples/sample2.cs?highlight=14)]

<span data-ttu-id="09801-162">Jak je uvedeno nahoře v kurzu této série, kód v *ProductContext.cs* přidá soubor `System.Data.Entity` obor názvů tak, aby měli přístup k základním funkcím Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="09801-162">As mentioned previously in this tutorial series, the code in the *ProductContext.cs* file adds the `System.Data.Entity` namespace so that you have access to all the core functionality of the Entity Framework.</span></span> <span data-ttu-id="09801-163">Tato funkce zahrnuje schopnost dotazovat, vložit, aktualizovat a odstranit data ve spolupráci s objektů se silným typem.</span><span class="sxs-lookup"><span data-stu-id="09801-163">This functionality includes the capability to query, insert, update, and delete data by working with strongly typed objects.</span></span> <span data-ttu-id="09801-164">`ProductContext` Třída přidává přístup k nově přidaný `CartItem` třída modelu.</span><span class="sxs-lookup"><span data-stu-id="09801-164">The `ProductContext` class adds access to the newly added `CartItem` model class.</span></span>

### <a name="managing-the-shopping-cart-business-logic"></a><span data-ttu-id="09801-165">Správa nákupní košík obchodní logiky</span><span class="sxs-lookup"><span data-stu-id="09801-165">Managing the Shopping Cart Business Logic</span></span>

<span data-ttu-id="09801-166">V dalším kroku vytvoříte `ShoppingCart` – třída v nové *logiku* složky.</span><span class="sxs-lookup"><span data-stu-id="09801-166">Next, you'll create the `ShoppingCart` class in a new *Logic* folder.</span></span> <span data-ttu-id="09801-167">`ShoppingCart` Třída zpracovává přístupu k datům `CartItem` tabulky.</span><span class="sxs-lookup"><span data-stu-id="09801-167">The `ShoppingCart` class handles data access to the `CartItem` table.</span></span> <span data-ttu-id="09801-168">Třída bude také obsahovat obchodní logiku pro přidání, odebrání a aktualizovat položky v nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-168">The class will also include the business logic to add, remove, and update items in the shopping cart.</span></span>

<span data-ttu-id="09801-169">Nákupní košík logiky, která přidáte bude obsahovat funkci ke správě následující akce:</span><span class="sxs-lookup"><span data-stu-id="09801-169">The shopping cart logic that you will add will contain the functionality to manage the following actions:</span></span>

1. <span data-ttu-id="09801-170">Přidávání položek do nákupního košíku</span><span class="sxs-lookup"><span data-stu-id="09801-170">Adding items to the shopping cart</span></span>
2. <span data-ttu-id="09801-171">Odebírání položek z nákupní košík</span><span class="sxs-lookup"><span data-stu-id="09801-171">Removing items from the shopping cart</span></span>
3. <span data-ttu-id="09801-172">Získání ID nákupní košík</span><span class="sxs-lookup"><span data-stu-id="09801-172">Getting the shopping cart ID</span></span>
4. <span data-ttu-id="09801-173">Načítání položek ze nákupní košík</span><span class="sxs-lookup"><span data-stu-id="09801-173">Retrieving items from the shopping cart</span></span>
5. <span data-ttu-id="09801-174">Součtem množství všechny nákupní košík položky</span><span class="sxs-lookup"><span data-stu-id="09801-174">Totaling the amount of all the shopping cart items</span></span>
6. <span data-ttu-id="09801-175">Aktualizace dat nákupní košík</span><span class="sxs-lookup"><span data-stu-id="09801-175">Updating the shopping cart data</span></span>

<span data-ttu-id="09801-176">Na stránce nákupní košík (*ShoppingCart.aspx*) a třídu nákupního košíku se bude používat pro přístup k datům nákupní košík společně.</span><span class="sxs-lookup"><span data-stu-id="09801-176">A shopping cart page (*ShoppingCart.aspx*) and the shopping cart class will be used together to access shopping cart data.</span></span> <span data-ttu-id="09801-177">Nákupní košík stránce se zobrazí všechny položky, které uživatel přidá do nákupního košíku.</span><span class="sxs-lookup"><span data-stu-id="09801-177">The shopping cart page will display all the items the user adds to the shopping cart.</span></span> <span data-ttu-id="09801-178">Kromě nákupního košíku stránky a třídy, vytvoříte stránky (*AddToCart.aspx*) přidejte produkty nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-178">Besides the shopping cart page and class, you'll create a page (*AddToCart.aspx*) to add products to the shopping cart.</span></span> <span data-ttu-id="09801-179">Přidejte také kód pro *ProductList.aspx* stránky a *ProductDetails.aspx* stránky, která bude obsahovat odkaz na *AddToCart.aspx* stránky, takže uživatel může přidávat produkty do nákupního košíku.</span><span class="sxs-lookup"><span data-stu-id="09801-179">You will also add code to the *ProductList.aspx* page and the *ProductDetails.aspx* page that will provide a link to the *AddToCart.aspx* page, so that the user can add products to the shopping cart.</span></span>

<span data-ttu-id="09801-180">Následující diagram znázorňuje základní proces, který nastane, když uživatel přidá do nákupního košíku produkt.</span><span class="sxs-lookup"><span data-stu-id="09801-180">The following diagram shows the basic process that occurs when the user adds a product to the shopping cart.</span></span>

![Nákupní košík – přidání do nákupní košík](shopping-cart/_static/image3.png)

<span data-ttu-id="09801-182">Když uživatel klikne **přidat do košíku** odkaz na buď *ProductList.aspx* stránky nebo *ProductDetails.aspx* stránky, aplikace bude přejděte do *AddToCart.aspx* stránky a potom automaticky na *ShoppingCart.aspx* stránky.</span><span class="sxs-lookup"><span data-stu-id="09801-182">When the user clicks the **Add To Cart** link on either the *ProductList.aspx* page or the *ProductDetails.aspx* page, the application will navigate to the *AddToCart.aspx* page and then automatically to the *ShoppingCart.aspx* page.</span></span> <span data-ttu-id="09801-183">*AddToCart.aspx* stránky voláním metody ve třídě ShoppingCart přidá vyberte produkt do nákupního košíku.</span><span class="sxs-lookup"><span data-stu-id="09801-183">The *AddToCart.aspx* page will add the select product to the shopping cart by calling a method in the ShoppingCart class.</span></span> <span data-ttu-id="09801-184">*ShoppingCart.aspx* stránky se zobrazí produkty, které byly přidány do nákupního košíku.</span><span class="sxs-lookup"><span data-stu-id="09801-184">The *ShoppingCart.aspx* page will display the products that have been added to the shopping cart.</span></span>

#### <a name="creating-the-shopping-cart-class"></a><span data-ttu-id="09801-185">Vytvoření třídy nákupní košík</span><span class="sxs-lookup"><span data-stu-id="09801-185">Creating the Shopping Cart Class</span></span>

<span data-ttu-id="09801-186">`ShoppingCart` Třída přidána do samostatné složky v aplikaci tak, že bude jasně odlišit modelu (složku modely), na stránkách (do kořenové složky) a logiku (logiku složky).</span><span class="sxs-lookup"><span data-stu-id="09801-186">The `ShoppingCart` class will be added to a separate folder in the application so that there will be a clear distinction between the model (Models folder), the pages (root folder) and the logic (Logic folder).</span></span>

1. <span data-ttu-id="09801-187">V **Průzkumníku řešení**, klikněte pravým tlačítkem myši **Northwind**projektu a vyberte **přidat**-&gt;**novou složku**.</span><span class="sxs-lookup"><span data-stu-id="09801-187">In **Solution Explorer**, right-click the **WingtipToys**project and select **Add**-&gt;**New Folder**.</span></span> <span data-ttu-id="09801-188">Název nové složky *logiku*.</span><span class="sxs-lookup"><span data-stu-id="09801-188">Name the new folder *Logic*.</span></span>
2. <span data-ttu-id="09801-189">Klikněte pravým tlačítkem myši *logiku* složku a potom vyberte **přidat**  - &gt; **novou položku**.</span><span class="sxs-lookup"><span data-stu-id="09801-189">Right-click the *Logic* folder and then select **Add** -&gt; **New Item**.</span></span>
3. <span data-ttu-id="09801-190">Přidat nový soubor třídy s názvem *ShoppingCartActions.cs*.</span><span class="sxs-lookup"><span data-stu-id="09801-190">Add a new class file named *ShoppingCartActions.cs*.</span></span>
4. <span data-ttu-id="09801-191">Ve výchozím kódu nahraďte následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="09801-191">Replace the default code with the following code:</span></span>   

    [!code-csharp[Main](shopping-cart/samples/sample3.cs)]

<span data-ttu-id="09801-192">`AddToCart` Metoda umožňuje jednotlivé produkty, které mají být zahrnuty do nákupního košíku na základě produktu `ID`.</span><span class="sxs-lookup"><span data-stu-id="09801-192">The `AddToCart` method enables individual products to be included in the shopping cart based on the product `ID`.</span></span> <span data-ttu-id="09801-193">Produkt je přidat do košíku nebo pokud košíku již obsahuje položku pro daný produkt, se zvyšuje množství.</span><span class="sxs-lookup"><span data-stu-id="09801-193">The product is added to the cart, or if the cart already contains an item for that product, the quantity is incremented.</span></span>

<span data-ttu-id="09801-194">`GetCartId` Metoda vrátí košíku `ID` pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="09801-194">The `GetCartId` method returns the cart `ID` for the user.</span></span> <span data-ttu-id="09801-195">Košíku `ID` slouží ke sledování položky, které má uživatel v jejich nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-195">The cart `ID` is used to track the items that a user has in their shopping cart.</span></span> <span data-ttu-id="09801-196">Pokud uživatel nemá stávající košíku `ID`, nové košíku `ID` je pro ně byly vytvořeny.</span><span class="sxs-lookup"><span data-stu-id="09801-196">If the user does not have an existing cart `ID`, a new cart `ID` is created for them.</span></span> <span data-ttu-id="09801-197">Pokud je uživatel přihlášený jako registrovaný uživatel košíku `ID` nastavena na své uživatelské jméno.</span><span class="sxs-lookup"><span data-stu-id="09801-197">If the user is signed in as a registered user, the cart `ID` is set to their user name.</span></span> <span data-ttu-id="09801-198">Ale pokud uživatel není přihlášený v košíku `ID` je nastavená na hodnotu jedinečný (GUID).</span><span class="sxs-lookup"><span data-stu-id="09801-198">However, if the user is not signed in, the cart `ID` is set to a unique value (a GUID).</span></span> <span data-ttu-id="09801-199">Identifikátor GUID zajišťuje, že pouze jeden košíku se vytvoří pro každého uživatele, založené na relaci.</span><span class="sxs-lookup"><span data-stu-id="09801-199">A GUID ensures that only one cart is created for each user, based on session.</span></span>

<span data-ttu-id="09801-200">`GetCartItems` Metoda vrátí seznam hodnot nákupního košíku položky pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="09801-200">The `GetCartItems` method returns a list of shopping cart items for the user.</span></span> <span data-ttu-id="09801-201">Později v tomto kurzu, uvidíte, že vazby modelu se používá k zobrazení košíku položek do nákupního košíku pomocí `GetCartItems` metoda.</span><span class="sxs-lookup"><span data-stu-id="09801-201">Later in this tutorial, you will see that model binding is used to display the cart items in the shopping cart using the `GetCartItems` method.</span></span>

### <a name="creating-the-add-to-cart-functionality"></a><span data-ttu-id="09801-202">Vytváření funkci přidat do košíku</span><span class="sxs-lookup"><span data-stu-id="09801-202">Creating the Add-To-Cart Functionality</span></span>

<span data-ttu-id="09801-203">Jak už bylo zmíněno dříve, vytvoříte zpracování stránky s názvem *AddToCart.aspx* který se použije pro přidání nové produkty do nákupního košíku uživatele.</span><span class="sxs-lookup"><span data-stu-id="09801-203">As mentioned earlier, you will create a processing page named *AddToCart.aspx* that will be used to add new products to the shopping cart of the user.</span></span> <span data-ttu-id="09801-204">Tato stránka vám zavoláme `AddToCart` metoda v `ShoppingCart` třídy, kterou jste právě vytvořili.</span><span class="sxs-lookup"><span data-stu-id="09801-204">This page will call the `AddToCart` method in the `ShoppingCart` class that you just created.</span></span> <span data-ttu-id="09801-205">*AddToCart.aspx* stránky se očekávat, který produkt `ID` je do ní předán.</span><span class="sxs-lookup"><span data-stu-id="09801-205">The *AddToCart.aspx* page will expect that a product `ID` is passed to it.</span></span> <span data-ttu-id="09801-206">Tento produkt `ID` se použije při volání metody `AddToCart` metoda v `ShoppingCart` třídy.</span><span class="sxs-lookup"><span data-stu-id="09801-206">This product `ID` will be used when calling the `AddToCart` method in the `ShoppingCart` class.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="09801-207">Chystáte se změnit modelu code-behind (*AddToCart.aspx.cs*) pro tuto stránku není stránka uživatelského rozhraní (*AddToCart.aspx*).</span><span class="sxs-lookup"><span data-stu-id="09801-207">You will be modifying the code-behind (*AddToCart.aspx.cs*) for this page, not the page UI (*AddToCart.aspx*).</span></span>


#### <a name="to-create-the-add-to-cart-functionality"></a><span data-ttu-id="09801-208">Chcete-li vytvořit přidat do košíku funkce:</span><span class="sxs-lookup"><span data-stu-id="09801-208">To create the Add-To-Cart functionality:</span></span>

1. <span data-ttu-id="09801-209">V **Průzkumníku řešení**, klikněte pravým tlačítkem myši **Northwind**projektu, klikněte na tlačítko **přidat**  - &gt; **novou položku**.</span><span class="sxs-lookup"><span data-stu-id="09801-209">In **Solution Explorer**, right-click the **WingtipToys**project, click **Add** -&gt; **New Item**.</span></span>  
   <span data-ttu-id="09801-210">**Přidat novou položku** se zobrazí dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="09801-210">The **Add New Item** dialog box is displayed.</span></span>
2. <span data-ttu-id="09801-211">Přidat standardní novou stránku (webového formuláře) pro aplikaci s názvem *AddToCart.aspx*.</span><span class="sxs-lookup"><span data-stu-id="09801-211">Add a standard new page (Web Form) to the application named *AddToCart.aspx*.</span></span> 

    ![Nákupní košík – přidání webového formuláře](shopping-cart/_static/image4.png)
3. <span data-ttu-id="09801-213">V **Průzkumníku řešení**, klikněte pravým tlačítkem myši *AddToCart.aspx* a pak klikněte na tlačítko **kód zobrazení**.</span><span class="sxs-lookup"><span data-stu-id="09801-213">In **Solution Explorer**, right-click the *AddToCart.aspx* page and then click **View Code**.</span></span> <span data-ttu-id="09801-214">*AddToCart.aspx.cs* otevření souboru kódu v editoru.</span><span class="sxs-lookup"><span data-stu-id="09801-214">The *AddToCart.aspx.cs* code-behind file is opened in the editor.</span></span>
4. <span data-ttu-id="09801-215">Nahraďte stávající kód v *AddToCart.aspx.cs* kódu následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="09801-215">Replace the existing code in the *AddToCart.aspx.cs* code-behind with the following:</span></span>   

    [!code-csharp[Main](shopping-cart/samples/sample4.cs)]

<span data-ttu-id="09801-216">Když *AddToCart.aspx* načtení stránky produktu `ID` se načítají z řetězce dotazu.</span><span class="sxs-lookup"><span data-stu-id="09801-216">When the *AddToCart.aspx* page is loaded, the product `ID` is retrieved from the query string.</span></span> <span data-ttu-id="09801-217">V dalším kroku instance třídy nákupního košíku se vytvoří a používá k volání `AddToCart` metoda, kterou jste přidali dříve v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="09801-217">Next, an instance of the shopping cart class is created and used to call the `AddToCart` method that you added earlier in this tutorial.</span></span> <span data-ttu-id="09801-218">`AddToCart` Metody, které jsou součástí *ShoppingCartActions.cs* souboru, obsahuje logiku pro přidání vybrané produktu do nákupního košíku nebo zvýšit množství produktu vybrané produktu.</span><span class="sxs-lookup"><span data-stu-id="09801-218">The `AddToCart` method, contained in the *ShoppingCartActions.cs* file, includes the logic to add the selected product to the shopping cart or increment the product quantity of the selected product.</span></span> <span data-ttu-id="09801-219">Pokud produkt nebyl přidán do nákupního košíku, je produkt přidán do `CartItem` tabulky databáze.</span><span class="sxs-lookup"><span data-stu-id="09801-219">If the product hasn't been added to the shopping cart, the product is added to the `CartItem` table of the database.</span></span> <span data-ttu-id="09801-220">Pokud uživatel přidá další položku stejného produktu produktu již byla přidána do nákupního košíku, objemu produktu se zvýší v `CartItem` tabulky.</span><span class="sxs-lookup"><span data-stu-id="09801-220">If the product has already been added to the shopping cart and the user adds an additional item of the same product, the product quantity is incremented in the `CartItem` table.</span></span> <span data-ttu-id="09801-221">Nakonec stránce přesměruje zpět *ShoppingCart.aspx* stránky, která přidáte v dalším kroku, kde uživateli se zobrazí aktualizovaný seznam položky v košíku.</span><span class="sxs-lookup"><span data-stu-id="09801-221">Finally, the page redirects back to the *ShoppingCart.aspx* page that you'll add in the next step, where the user sees an updated list of items in the cart.</span></span>

<span data-ttu-id="09801-222">Jak už jsme zmínili, uživatel `ID` slouží k identifikaci produkty, které jsou spojeny s konkrétním uživatelem.</span><span class="sxs-lookup"><span data-stu-id="09801-222">As previously mentioned, a user `ID` is used to identify the products that are associated with a specific user.</span></span> <span data-ttu-id="09801-223">To `ID` se přidá řádek v `CartItem` tabulky pokaždé, když uživatel přidá do nákupního košíku produkt.</span><span class="sxs-lookup"><span data-stu-id="09801-223">This `ID` is added to a row in the `CartItem` table each time the user adds a product to the shopping cart.</span></span>

### <a name="creating-the-shopping-cart-ui"></a><span data-ttu-id="09801-224">Vytváření nákupní košík uživatelského rozhraní</span><span class="sxs-lookup"><span data-stu-id="09801-224">Creating the Shopping Cart UI</span></span>

<span data-ttu-id="09801-225">*ShoppingCart.aspx* stránky se zobrazí produkty, které uživatel přidal do jejich nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-225">The *ShoppingCart.aspx* page will display the products that the user has added to their shopping cart.</span></span> <span data-ttu-id="09801-226">Také zajistí možnost přidat, odebrat a aktualizaci položky v nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-226">It will also provide the ability to add, remove and update items in the shopping cart.</span></span>

1. <span data-ttu-id="09801-227">V **Průzkumníku řešení**, klikněte pravým tlačítkem na **Northwind**, klikněte na tlačítko **přidat**  - &gt; **novou položku**.</span><span class="sxs-lookup"><span data-stu-id="09801-227">In **Solution Explorer**, right-click **WingtipToys**, click **Add** -&gt; **New Item**.</span></span>  
   <span data-ttu-id="09801-228">**Přidat novou položku** se zobrazí dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="09801-228">The **Add New Item** dialog box is displayed.</span></span>
2. <span data-ttu-id="09801-229">Přidat novou stránku (webového formuláře) zahrnující hlavní stránky tak, že vyberete **webového formuláře pomocí stránky předlohy**.</span><span class="sxs-lookup"><span data-stu-id="09801-229">Add a new page (Web Form) that includes a master page by selecting **Web Form using Master Page**.</span></span> <span data-ttu-id="09801-230">Zadejte název nové stránky *ShoppingCart.aspx*.</span><span class="sxs-lookup"><span data-stu-id="09801-230">Name the new page *ShoppingCart.aspx*.</span></span>
3. <span data-ttu-id="09801-231">Vyberte **Site.Master** připojit stránky předlohy pro nově vytvořený *.aspx* stránky.</span><span class="sxs-lookup"><span data-stu-id="09801-231">Select **Site.Master** to attach the master page to the newly created *.aspx* page.</span></span>
4. <span data-ttu-id="09801-232">V *ShoppingCart.aspx* stránky, nahraďte existující kód následující kód:</span><span class="sxs-lookup"><span data-stu-id="09801-232">In the *ShoppingCart.aspx* page, replace the existing markup with the following markup:</span></span>   

    [!code-aspx[Main](shopping-cart/samples/sample5.aspx)]

<span data-ttu-id="09801-233">*ShoppingCart.aspx* stránka obsahuje **GridView** ovládací prvek s názvem `CartList`.</span><span class="sxs-lookup"><span data-stu-id="09801-233">The *ShoppingCart.aspx* page includes a **GridView** control named `CartList`.</span></span> <span data-ttu-id="09801-234">Tento ovládací prvek pro vazbu nákupní košík data z databáze, která se používá vazby modelu **GridView** ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="09801-234">This control uses model binding to bind the shopping cart data from the database to the **GridView** control.</span></span> <span data-ttu-id="09801-235">Když nastavíte `ItemType` vlastnost **GridView** řídit, vazby dat výraz `Item` je k dispozici v kódu ovládacího prvku a řízení se stane silného typu.</span><span class="sxs-lookup"><span data-stu-id="09801-235">When you set the `ItemType` property of the **GridView** control, the data-binding expression `Item` is available in the markup of the control and the control becomes strongly typed.</span></span> <span data-ttu-id="09801-236">Jak je uvedeno výše v této série kurz, můžete vybrat podrobnosti `Item` pomocí IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="09801-236">As mentioned earlier in this tutorial series, you can select details of the `Item` object using IntelliSense.</span></span> <span data-ttu-id="09801-237">Pokud chcete konfigurovat ovládací prvek dat pomocí vazby modelu vyberte data, můžete nastavit `SelectMethod` vlastností ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="09801-237">To configure a data control to use model binding to select data, you set the `SelectMethod` property of the control.</span></span> <span data-ttu-id="09801-238">Ve výše uvedené značky, nastavíte `SelectMethod` lze pomocí této metody GetShoppingCartItems, který vrátí seznam hodnot `CartItem` objekty.</span><span class="sxs-lookup"><span data-stu-id="09801-238">In the markup above, you set the `SelectMethod` to use the GetShoppingCartItems method which returns a list of `CartItem` objects.</span></span> <span data-ttu-id="09801-239">**GridView** ovládací prvek pro datové volá metodu v příslušnou dobu v životním cyklu stránky a automaticky vytvoří vazbu vrácená data.</span><span class="sxs-lookup"><span data-stu-id="09801-239">The **GridView** data control calls the method at the appropriate time in the page life cycle and automatically binds the returned data.</span></span> <span data-ttu-id="09801-240">`GetShoppingCartItems` Metoda musí být přidán.</span><span class="sxs-lookup"><span data-stu-id="09801-240">The `GetShoppingCartItems` method must still be added.</span></span>

#### <a name="retrieving-the-shopping-cart-items"></a><span data-ttu-id="09801-241">Načítání položek nákupní košík</span><span class="sxs-lookup"><span data-stu-id="09801-241">Retrieving the Shopping Cart Items</span></span>

<span data-ttu-id="09801-242">Dále přidáte kód, který *ShoppingCart.aspx.cs* kódu k načtení a naplnit rozhraní nákupního košíku.</span><span class="sxs-lookup"><span data-stu-id="09801-242">Next, you add code to the *ShoppingCart.aspx.cs* code-behind to retrieve and populate the Shopping Cart UI.</span></span>

1. <span data-ttu-id="09801-243">V **Průzkumníku řešení**, klikněte pravým tlačítkem myši *ShoppingCart.aspx* a pak klikněte na tlačítko **kód zobrazení**.</span><span class="sxs-lookup"><span data-stu-id="09801-243">In **Solution Explorer**, right-click the *ShoppingCart.aspx* page and then click **View Code**.</span></span> <span data-ttu-id="09801-244">*ShoppingCart.aspx.cs* otevření souboru kódu v editoru.</span><span class="sxs-lookup"><span data-stu-id="09801-244">The *ShoppingCart.aspx.cs* code-behind file is opened in the editor.</span></span>
2. <span data-ttu-id="09801-245">Nahraďte stávající kód s následujícími službami:</span><span class="sxs-lookup"><span data-stu-id="09801-245">Replace the existing code with the following:</span></span>  

    [!code-csharp[Main](shopping-cart/samples/sample6.cs)]

<span data-ttu-id="09801-246">Jak je uvedeno nahoře, `GridView` data řízení volání `GetShoppingCartItems` metoda v příslušnou dobu v stránky životní cyklus a automaticky váže vrácená data.</span><span class="sxs-lookup"><span data-stu-id="09801-246">As mentioned above, the `GridView` data control calls the `GetShoppingCartItems` method at the appropriate time in the page life cycle and automatically binds the returned data.</span></span> <span data-ttu-id="09801-247">`GetShoppingCartItems` Metoda vytvoří instanci `ShoppingCartActions` objektu.</span><span class="sxs-lookup"><span data-stu-id="09801-247">The `GetShoppingCartItems` method creates an instance of the `ShoppingCartActions` object.</span></span> <span data-ttu-id="09801-248">Potom kód používá tuto instanci k vrácení položky v košíku voláním `GetCartItems` metoda.</span><span class="sxs-lookup"><span data-stu-id="09801-248">Then, the code uses that instance to return the items in the cart by calling the `GetCartItems` method.</span></span>

### <a name="adding-products-to-the-shopping-cart"></a><span data-ttu-id="09801-249">Přidání produktů do nákupní košík</span><span class="sxs-lookup"><span data-stu-id="09801-249">Adding Products to the Shopping Cart</span></span>

<span data-ttu-id="09801-250">Když buď *ProductList.aspx* nebo *ProductDetails.aspx* zobrazí se stránka, uživatel bude moct přidat produktu nákupního košíku pomocí odkazu.</span><span class="sxs-lookup"><span data-stu-id="09801-250">When either the *ProductList.aspx* or the *ProductDetails.aspx* page is displayed, the user will be able to add the product to the shopping cart using a link.</span></span> <span data-ttu-id="09801-251">Po kliknutí na odkaz, aplikace přejde na stránku zpracování s názvem *AddToCart.aspx*.</span><span class="sxs-lookup"><span data-stu-id="09801-251">When they click the link, the application navigates to the processing page named *AddToCart.aspx*.</span></span> <span data-ttu-id="09801-252">*AddToCart.aspx* stránky zavolá `AddToCart` metoda v `ShoppingCart` třídu, která jste přidali dříve v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="09801-252">The *AddToCart.aspx* page will call the `AddToCart` method in the `ShoppingCart` class that you added earlier in this tutorial.</span></span>

<span data-ttu-id="09801-253">Nyní přidáte **přidat do košíku** odkaz na obě *ProductList.aspx* stránky a *ProductDetails.aspx* stránky.</span><span class="sxs-lookup"><span data-stu-id="09801-253">Now, you'll add an **Add to Cart** link to both the *ProductList.aspx* page and the *ProductDetails.aspx* page.</span></span> <span data-ttu-id="09801-254">Tento odkaz bude obsahovat produktu `ID` , je načtena z databáze.</span><span class="sxs-lookup"><span data-stu-id="09801-254">This link will include the product `ID` that is retrieved from the database.</span></span>

1. <span data-ttu-id="09801-255">V **Průzkumníku řešení**, najít a otevřít stránku s názvem *ProductList.aspx*.</span><span class="sxs-lookup"><span data-stu-id="09801-255">In **Solution Explorer**, find and open the page named *ProductList.aspx*.</span></span>
2. <span data-ttu-id="09801-256">Přidání značek zvýrazněných v žlutý k *ProductList.aspx* stránky tak, aby se celá stránka vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="09801-256">Add the markup highlighted in yellow to the *ProductList.aspx* page so that the entire page appears as follows:</span></span>  

    [!code-aspx[Main](shopping-cart/samples/sample7.aspx?highlight=50-54)]

### <a name="testing-the-shopping-cart"></a><span data-ttu-id="09801-257">Testování nákupní košík</span><span class="sxs-lookup"><span data-stu-id="09801-257">Testing the Shopping Cart</span></span>

<span data-ttu-id="09801-258">Spuštění aplikace, abyste viděli, jak přidat produkty do nákupního košíku.</span><span class="sxs-lookup"><span data-stu-id="09801-258">Run the application to see how you add products to the shopping cart.</span></span>

1. <span data-ttu-id="09801-259">Stiskněte klávesu **F5** ke spuštění aplikace.</span><span class="sxs-lookup"><span data-stu-id="09801-259">Press **F5** to run the application.</span></span>  
 <span data-ttu-id="09801-260">Po projekt znovu vytvoří databázi, bude v prohlížeči otevřít a zobrazit *Default.aspx* stránky.</span><span class="sxs-lookup"><span data-stu-id="09801-260">After the project recreates the database, the browser will open and show the *Default.aspx* page.</span></span>
2. <span data-ttu-id="09801-261">Vyberte **aut** v navigační nabídce kategorie.</span><span class="sxs-lookup"><span data-stu-id="09801-261">Select **Cars** from the category navigation menu.</span></span>  
 <span data-ttu-id="09801-262">*ProductList.aspx* se zobrazí stránka zobrazuje jenom produkty, které jsou zahrnuty v kategorii "Aut".</span><span class="sxs-lookup"><span data-stu-id="09801-262">The *ProductList.aspx* page is displayed showing only products included in the "Cars" category.</span></span> 

    ![Nákupní košík - automobilů](shopping-cart/_static/image5.png)
3. <span data-ttu-id="09801-264">Klikněte **přidat do košíku** odkaz vedle první produktu uvedené (převést car).</span><span class="sxs-lookup"><span data-stu-id="09801-264">Click the **Add to Cart** link next to the first product listed (the convertible car).</span></span>   
 <span data-ttu-id="09801-265">*ShoppingCart.aspx* se zobrazí stránka zobrazující výběr v nákupního košíku.</span><span class="sxs-lookup"><span data-stu-id="09801-265">The *ShoppingCart.aspx* page is displayed, showing the selection in your shopping cart.</span></span> 

    ![Nákupní košík - košíku](shopping-cart/_static/image6.png)
4. <span data-ttu-id="09801-267">Zobrazit další produkty výběrem **roviny** v navigační nabídce kategorie.</span><span class="sxs-lookup"><span data-stu-id="09801-267">View additional products by selecting **Planes** from the category navigation menu.</span></span>
5. <span data-ttu-id="09801-268">Klikněte **přidat do košíku** odkaz vedle první produktu uvedené.</span><span class="sxs-lookup"><span data-stu-id="09801-268">Click the **Add to Cart** link next to the first product listed.</span></span>  
 <span data-ttu-id="09801-269">*ShoppingCart.aspx* se zobrazí stránka s další položky.</span><span class="sxs-lookup"><span data-stu-id="09801-269">The *ShoppingCart.aspx* page is displayed with the additional item.</span></span>
6. <span data-ttu-id="09801-270">Zavřete prohlížeč.</span><span class="sxs-lookup"><span data-stu-id="09801-270">Close the browser.</span></span>

### <a name="calculating-and-displaying-the-order-total"></a><span data-ttu-id="09801-271">Výpočet a zobrazení celkové pořadí</span><span class="sxs-lookup"><span data-stu-id="09801-271">Calculating and Displaying the Order Total</span></span>

<span data-ttu-id="09801-272">Kromě přidání produktů do nákupního košíku, přidáte `GetTotal` metodu `ShoppingCart` třídy a zobrazit velikost celkové pořadí na stránce nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-272">In addition to adding products to the shopping cart, you will add a `GetTotal` method to the `ShoppingCart` class and display the total order amount in the shopping cart page.</span></span>

1. <span data-ttu-id="09801-273">V **Průzkumníku řešení**, otevřete *ShoppingCartActions.cs* v soubor *logiku* složky.</span><span class="sxs-lookup"><span data-stu-id="09801-273">In **Solution Explorer**, open the *ShoppingCartActions.cs* file in the *Logic* folder.</span></span>
2. <span data-ttu-id="09801-274">Přidejte následující `GetTotal` metoda zvýrazněných v žlutý k `ShoppingCart` třídy, tak, aby třída vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="09801-274">Add the following `GetTotal` method highlighted in yellow to the `ShoppingCart` class, so that the class appears as follows:</span></span>   

    [!code-csharp[Main](shopping-cart/samples/sample8.cs?highlight=85-97)]

<span data-ttu-id="09801-275">Nejdřív `GetTotal` metoda získá ID nákupní košík pro daného uživatele.</span><span class="sxs-lookup"><span data-stu-id="09801-275">First, the `GetTotal` method gets the ID of the shopping cart for the user.</span></span> <span data-ttu-id="09801-276">Potom metoda získá košíku celkový vynásobením cena produktu množství produktu pro každý produkt uvedený v košíku.</span><span class="sxs-lookup"><span data-stu-id="09801-276">Then the method gets the cart total by multiplying the product price by the product quantity for each product listed in the cart.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="09801-277">Výše uvedený kód používá typ s možnou hodnotou Null "`int?`".</span><span class="sxs-lookup"><span data-stu-id="09801-277">The above code uses the nullable type "`int?`".</span></span> <span data-ttu-id="09801-278">Typy s možnou hodnotou Null může představovat všechny hodnoty základní typ a také jako hodnotu null.</span><span class="sxs-lookup"><span data-stu-id="09801-278">Nullable types can represent all the values of an underlying type, and also as a null value.</span></span> <span data-ttu-id="09801-279">Další informace najdete v tématu [pomocí typy s možnou hodnotou Null](https://msdn.microsoft.com/library/2cf62fcy(v=vs.110).aspx).</span><span class="sxs-lookup"><span data-stu-id="09801-279">For more information see, [Using Nullable Types](https://msdn.microsoft.com/library/2cf62fcy(v=vs.110).aspx).</span></span>


### <a name="modify-the-shopping-cart-display"></a><span data-ttu-id="09801-280">Upravit zobrazení nákupní košík</span><span class="sxs-lookup"><span data-stu-id="09801-280">Modify the Shopping Cart Display</span></span>

<span data-ttu-id="09801-281">Dále budete upravovat kód pro *ShoppingCart.aspx* stránky k volání `GetTotal` metoda a zobrazení, které na celkový počet *ShoppingCart.aspx* stránka při načtení stránky.</span><span class="sxs-lookup"><span data-stu-id="09801-281">Next you'll modify the code for the *ShoppingCart.aspx* page to call the `GetTotal` method and display that total on the *ShoppingCart.aspx* page when the page loads.</span></span>

1. <span data-ttu-id="09801-282">V **Průzkumníku řešení**, klikněte pravým tlačítkem myši *ShoppingCart.aspx* a vyberte **kód zobrazení**.</span><span class="sxs-lookup"><span data-stu-id="09801-282">In **Solution Explorer**, right-click the *ShoppingCart.aspx* page and select **View Code**.</span></span>
2. <span data-ttu-id="09801-283">V *ShoppingCart.aspx.cs* souboru, aktualizovat `Page_Load` obslužná rutina přidáním následujícího kódu zvýrazněných v žlutý:</span><span class="sxs-lookup"><span data-stu-id="09801-283">In the *ShoppingCart.aspx.cs* file, update the `Page_Load` handler by adding the following code highlighted in yellow:</span></span>   

    [!code-csharp[Main](shopping-cart/samples/sample9.cs?highlight=16-31)]

<span data-ttu-id="09801-284">Když *ShoppingCart.aspx* stránka načte, načte nákupní košík objekt a potom načte nákupní košík celkem voláním `GetTotal` metodu `ShoppingCart` – třída.</span><span class="sxs-lookup"><span data-stu-id="09801-284">When the *ShoppingCart.aspx* page loads, it loads the shopping cart object and then retrieves the shopping cart total by calling the `GetTotal` method of the `ShoppingCart` class.</span></span> <span data-ttu-id="09801-285">Pokud je prázdný nákupní košík, se zobrazí za tímto účelem zprávu.</span><span class="sxs-lookup"><span data-stu-id="09801-285">If the shopping cart is empty, a message to that effect is displayed.</span></span>

### <a name="testing-the-shopping-cart-total"></a><span data-ttu-id="09801-286">Testování nákupní košík celkem</span><span class="sxs-lookup"><span data-stu-id="09801-286">Testing the Shopping Cart Total</span></span>

<span data-ttu-id="09801-287">Spusťte aplikaci teď chcete zobrazit, jak nelze pouze přidat produkt do nákupního košíku, ale zobrazí celkový počet nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-287">Run the application now to see how you can not only add a product to the shopping cart, but you can see the shopping cart total.</span></span>

1. <span data-ttu-id="09801-288">Stiskněte klávesu **F5** ke spuštění aplikace.</span><span class="sxs-lookup"><span data-stu-id="09801-288">Press **F5** to run the application.</span></span>  
 <span data-ttu-id="09801-289">Prohlížeč a zobrazit *Default.aspx* stránky.</span><span class="sxs-lookup"><span data-stu-id="09801-289">The browser will open and show the *Default.aspx* page.</span></span>
2. <span data-ttu-id="09801-290">Vyberte **aut** v navigační nabídce kategorie.</span><span class="sxs-lookup"><span data-stu-id="09801-290">Select **Cars** from the category navigation menu.</span></span>
3. <span data-ttu-id="09801-291">Klikněte **přidat do košíku** odkaz vedle první produktu.</span><span class="sxs-lookup"><span data-stu-id="09801-291">Click the **Add To Cart** link next to the first product.</span></span>   
 <span data-ttu-id="09801-292">*ShoppingCart.aspx* se zobrazí stránka s celkem pořadí.</span><span class="sxs-lookup"><span data-stu-id="09801-292">The *ShoppingCart.aspx* page is displayed with the order total.</span></span> 

    ![Nákupní košík - celkový počet košíku](shopping-cart/_static/image7.png)
4. <span data-ttu-id="09801-294">Některé jiné produkty (například roviny) přidáte do košíku.</span><span class="sxs-lookup"><span data-stu-id="09801-294">Add some other products (for example, a plane) to the cart.</span></span>
5. <span data-ttu-id="09801-295">*ShoppingCart.aspx* se zobrazí stránka s aktualizovaný součet pro všechny produkty, které jste přidali.</span><span class="sxs-lookup"><span data-stu-id="09801-295">The *ShoppingCart.aspx* page is displayed with an updated total for all the products you've added.</span></span> 

    ![Nákupní košík - více produktů](shopping-cart/_static/image8.png)
6. <span data-ttu-id="09801-297">Zastavte spuštěné aplikaci ukončením okna prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="09801-297">Stop the running app by closing the browser window.</span></span>

### <a name="adding-update-and-checkout-buttons-to-the-shopping-cart"></a><span data-ttu-id="09801-298">Přidání tlačítka najdete v článku věnovaném a aktualizace do nákupní košík</span><span class="sxs-lookup"><span data-stu-id="09801-298">Adding Update and Checkout Buttons to the Shopping Cart</span></span>

<span data-ttu-id="09801-299">Povolit uživatelům změnit nákupní košík, přidáte **aktualizace** tlačítko a **najdete v článku věnovaném** tlačítko na stránku nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-299">To allow the users to modify the shopping cart, you'll add an **Update** button and a **Checkout** button to the shopping cart page.</span></span> <span data-ttu-id="09801-300">**Najdete v článku věnovaném** tlačítko nepoužívá až později z této série kurzu.</span><span class="sxs-lookup"><span data-stu-id="09801-300">The **Checkout** button is not used until later in this tutorial series.</span></span>

1. <span data-ttu-id="09801-301">V **Průzkumníku řešení**, otevřete *ShoppingCart.aspx* stránky v kořenu projektu webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="09801-301">In **Solution Explorer**, open the *ShoppingCart.aspx* page in the root of the web application project.</span></span>
2. <span data-ttu-id="09801-302">Chcete-li přidat **aktualizace** tlačítko a **najdete v článku věnovaném** tlačítko k *ShoppingCart.aspx* přidejte značku zvýrazněných v žlutý na existující značky, jak je znázorněno v Následující kód:</span><span class="sxs-lookup"><span data-stu-id="09801-302">To add the **Update** button and the **Checkout** button to the *ShoppingCart.aspx* page, add the markup highlighted in yellow to the existing markup, as shown in the following code:</span></span>   

    [!code-aspx[Main](shopping-cart/samples/sample10.aspx?highlight=36-45)]

<span data-ttu-id="09801-303">Když uživatel klikne **aktualizace** tlačítko `UpdateBtn_Click` bude volána obslužná rutina události.</span><span class="sxs-lookup"><span data-stu-id="09801-303">When the user clicks the **Update** button, the `UpdateBtn_Click` event handler will be called.</span></span> <span data-ttu-id="09801-304">Této obslužné rutiny události bude volat kód, který přidáte v dalším kroku.</span><span class="sxs-lookup"><span data-stu-id="09801-304">This event handler will call the code that you'll add in the next step.</span></span>

<span data-ttu-id="09801-305">Dále můžete aktualizovat kód součástí *ShoppingCart.aspx.cs* souboru můžete procházet košíku položky a volání `RemoveItem` a `UpdateItem` metody.</span><span class="sxs-lookup"><span data-stu-id="09801-305">Next, you can update the code contained in the *ShoppingCart.aspx.cs* file to loop through the cart items and call the `RemoveItem` and `UpdateItem` methods.</span></span>

1. <span data-ttu-id="09801-306">V **Průzkumníku řešení**, otevřete *ShoppingCart.aspx.cs* soubor v kořenu projektu webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="09801-306">In **Solution Explorer**, open the *ShoppingCart.aspx.cs* file in the root of the web application project.</span></span>
2. <span data-ttu-id="09801-307">Přidejte následující kód části zvýrazněných v žlutý k *ShoppingCart.aspx.cs* souboru:</span><span class="sxs-lookup"><span data-stu-id="09801-307">Add the following code sections highlighted in yellow to the *ShoppingCart.aspx.cs* file:</span></span>   

    [!code-csharp[Main](shopping-cart/samples/sample11.cs?highlight=9-11,33,44-89)]

<span data-ttu-id="09801-308">Když uživatel klikne **aktualizace** tlačítko *ShoppingCart.aspx* stránky, je volána metoda UpdateCartItems.</span><span class="sxs-lookup"><span data-stu-id="09801-308">When the user clicks the **Update** button on the *ShoppingCart.aspx* page, the UpdateCartItems method is called.</span></span> <span data-ttu-id="09801-309">Metoda UpdateCartItems získá aktualizovanými hodnotami pro každou položku v nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-309">The UpdateCartItems method gets the updated values for each item in the shopping cart.</span></span> <span data-ttu-id="09801-310">Pak zavolá metodu UpdateCartItems `UpdateShoppingCartDatabase` – metoda (Přidat a vysvětlené v dalším kroku) můžete přidat nebo odebrat položky z nákupního košíku.</span><span class="sxs-lookup"><span data-stu-id="09801-310">Then, the UpdateCartItems method calls the `UpdateShoppingCartDatabase` method (added and explained in the next step) to either add or remove items from the shopping cart.</span></span> <span data-ttu-id="09801-311">Jakmile databáze je aktualizovaná tak, aby odrážela aktualizace nákupní košík **GridView** řízení se aktualizuje na stránce nákupní košík voláním `DataBind` metodu pro **rutina GridView**.</span><span class="sxs-lookup"><span data-stu-id="09801-311">Once the database has been updated to reflect the updates to the shopping cart, the **GridView** control is updated on the shopping cart page by calling the `DataBind` method for the **GridView**.</span></span> <span data-ttu-id="09801-312">Velikost celkové pořadí na stránce nákupní košík je také aktualizovat tak, aby odrážela aktualizovaný seznam položek.</span><span class="sxs-lookup"><span data-stu-id="09801-312">Also, the total order amount on the shopping cart page is updated to reflect the updated list of items.</span></span>

### <a name="updating-and-removing-shopping-cart-items"></a><span data-ttu-id="09801-313">Aktualizace a odstranění nákupního košíku položky</span><span class="sxs-lookup"><span data-stu-id="09801-313">Updating and Removing Shopping Cart Items</span></span>

<span data-ttu-id="09801-314">Na *ShoppingCart.aspx* stránce se zobrazí ovládací prvky byly přidány pro aktualizace množství položky a odebrání položky.</span><span class="sxs-lookup"><span data-stu-id="09801-314">On the *ShoppingCart.aspx* page, you can see controls have been added for updating the quantity of an item and removing an item.</span></span> <span data-ttu-id="09801-315">Nyní přidáte kód, který bude tyto ovládací prvky fungovat.</span><span class="sxs-lookup"><span data-stu-id="09801-315">Now, add the code that will make these controls work.</span></span>

1. <span data-ttu-id="09801-316">V **Průzkumníku řešení**, otevřete *ShoppingCartActions.cs* v soubor *logiku* složky.</span><span class="sxs-lookup"><span data-stu-id="09801-316">In **Solution Explorer**, open the *ShoppingCartActions.cs* file in the *Logic* folder.</span></span>
2. <span data-ttu-id="09801-317">Přidejte následující kód zvýrazněných v žlutý k *ShoppingCartActions.cs* soubor třídy:</span><span class="sxs-lookup"><span data-stu-id="09801-317">Add the following code highlighted in yellow to the *ShoppingCartActions.cs* class file:</span></span>   

    [!code-csharp[Main](shopping-cart/samples/sample12.cs?highlight=99-213)]

<span data-ttu-id="09801-318">`UpdateShoppingCartDatabase` Metody volat z `UpdateCartItems` metodu *ShoppingCart.aspx.cs* stránky, obsahuje logiku pro aktualizace nebo odebrání položek z nákupního košíku.</span><span class="sxs-lookup"><span data-stu-id="09801-318">The `UpdateShoppingCartDatabase` method, called from the `UpdateCartItems` method on the *ShoppingCart.aspx.cs* page, contains the logic to either update or remove items from the shopping cart.</span></span> <span data-ttu-id="09801-319">`UpdateShoppingCartDatabase` Metoda prochází všechny řádky v seznamu nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-319">The `UpdateShoppingCartDatabase` method iterates through all the rows within the shopping cart list.</span></span> <span data-ttu-id="09801-320">Pokud položku nákupního košíku byla označena k odebrání nebo množství je nižší než jednou, `RemoveItem` metoda je volána.</span><span class="sxs-lookup"><span data-stu-id="09801-320">If a shopping cart item has been marked to be removed, or the quantity is less than one, the `RemoveItem` method is called.</span></span> <span data-ttu-id="09801-321">Jinak se kontroluje nákupní košík položky na aktualizace, když `UpdateItem` metoda je volána.</span><span class="sxs-lookup"><span data-stu-id="09801-321">Otherwise, the shopping cart item is checked for updates when the `UpdateItem` method is called.</span></span> <span data-ttu-id="09801-322">Po položce nákupní košík byl odebrán nebo aktualizovat, ukládají se změny databáze.</span><span class="sxs-lookup"><span data-stu-id="09801-322">After the shopping cart item has been removed or updated, the database changes are saved.</span></span>

<span data-ttu-id="09801-323">`ShoppingCartUpdates` Struktura se používá k ukládání všech nákupní košík položky.</span><span class="sxs-lookup"><span data-stu-id="09801-323">The `ShoppingCartUpdates` structure is used to hold all the shopping cart items.</span></span> <span data-ttu-id="09801-324">`UpdateShoppingCartDatabase` Používá metoda `ShoppingCartUpdates` struktura k určení, pokud některou z položek muset aktualizovat nebo odebrat.</span><span class="sxs-lookup"><span data-stu-id="09801-324">The `UpdateShoppingCartDatabase` method uses the `ShoppingCartUpdates` structure to determine if any of the items need to be updated or removed.</span></span>

<span data-ttu-id="09801-325">V dalším kurzu budete používat `EmptyCart` metoda zrušte nákupního košíku po zakoupení produkty.</span><span class="sxs-lookup"><span data-stu-id="09801-325">In the next tutorial, you will use the `EmptyCart` method to clear the shopping cart after purchasing products.</span></span> <span data-ttu-id="09801-326">Ale prozatím se bude používat `GetCount` metoda, kterou jste právě přidali *ShoppingCartActions.cs* soubor k určení, kolik položek jsou v nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-326">But for now, you will use the `GetCount` method that you just added to the *ShoppingCartActions.cs* file to determine how many items are in the shopping cart.</span></span>

### <a name="adding-a-shopping-cart-counter"></a><span data-ttu-id="09801-327">Přidání nákupní košík čítače</span><span class="sxs-lookup"><span data-stu-id="09801-327">Adding a Shopping Cart Counter</span></span>

<span data-ttu-id="09801-328">Povolit uživatelům zobrazit celkový počet položek v nákupní košík, přidáte čítače k *Site.Master* stránky.</span><span class="sxs-lookup"><span data-stu-id="09801-328">To allow the user to view the total number of items in the shopping cart, you will add a counter to the *Site.Master* page.</span></span> <span data-ttu-id="09801-329">Tento čítač se slouží také jako odkaz na nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-329">This counter will also act as a link to the shopping cart.</span></span>

1. <span data-ttu-id="09801-330">V **Průzkumníku řešení**, otevřete *Site.Master* stránky.</span><span class="sxs-lookup"><span data-stu-id="09801-330">In **Solution Explorer**, open the *Site.Master* page.</span></span>
2. <span data-ttu-id="09801-331">Upravte kód tak, že přidáte odkaz čítač nákupní košík, jak je znázorněno v žlutý do části navigace, zobrazí se následující:</span><span class="sxs-lookup"><span data-stu-id="09801-331">Modify the markup by adding the shopping cart counter link as shown in yellow to the navigation section so it appears as follows:</span></span>  

    [!code-html[Main](shopping-cart/samples/sample13.html?highlight=6)]
3. <span data-ttu-id="09801-332">Potom aktualizujte kódu z *Site.Master.cs* souboru tak, že přidáte kód zvýrazněných v žlutý následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="09801-332">Next, update the code-behind of the *Site.Master.cs* file by adding the code highlighted in yellow as follows:</span></span>  

    [!code-csharp[Main](shopping-cart/samples/sample14.cs?highlight=11,77-84)]

<span data-ttu-id="09801-333">Předtím, než ve formátu HTML, vykreslení stránky `Page_PreRender` událost se vyvolá.</span><span class="sxs-lookup"><span data-stu-id="09801-333">Before the page is rendered as HTML, the `Page_PreRender` event is raised.</span></span> <span data-ttu-id="09801-334">V `Page_PreRender` obslužnou rutinu, celkový počet nákupní košík je dáno volání `GetCount` metoda.</span><span class="sxs-lookup"><span data-stu-id="09801-334">In the `Page_PreRender` handler, the total count of the shopping cart is determined by calling the `GetCount` method.</span></span> <span data-ttu-id="09801-335">Vrácená hodnota se přidá na `cartCount` rozpětí součástí z kódu *Site.Master* stránky.</span><span class="sxs-lookup"><span data-stu-id="09801-335">The returned value is added to the `cartCount` span included in the markup of the *Site.Master* page.</span></span> <span data-ttu-id="09801-336">`<span>` Značky umožňuje vnitřní prvky, které mají být vykreslen správně.</span><span class="sxs-lookup"><span data-stu-id="09801-336">The `<span>` tags enables the inner elements to be properly rendered.</span></span> <span data-ttu-id="09801-337">Při zobrazení stránky pro všechny lokality, se zobrazí celkový počet nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-337">When any page of the site is displayed, the shopping cart total will be displayed.</span></span> <span data-ttu-id="09801-338">Uživatele můžete také kliknout na nákupní košík celkem zobrazíte nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-338">The user can also click the shopping cart total to display the shopping cart.</span></span>

## <a name="testing-the-completed-shopping-cart"></a><span data-ttu-id="09801-339">Testování dokončené nákupní košík</span><span class="sxs-lookup"><span data-stu-id="09801-339">Testing the Completed Shopping Cart</span></span>

<span data-ttu-id="09801-340">Můžete spustit nyní aplikaci zobrazíte přidání, odstranění a aktualizace položek v nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-340">You can run the application now to see how you can add, delete, and update items in the shopping cart.</span></span> <span data-ttu-id="09801-341">Celkový počet nákupního košíku se projeví celkové náklady na všechny položky v nákupní košík.</span><span class="sxs-lookup"><span data-stu-id="09801-341">The shopping cart total will reflect the total cost of all items in the shopping cart.</span></span>

1. <span data-ttu-id="09801-342">Stiskněte klávesu **F5** ke spuštění aplikace.</span><span class="sxs-lookup"><span data-stu-id="09801-342">Press **F5** to run the application.</span></span>  
 <span data-ttu-id="09801-343">Otevře se prohlížeč a ukazuje *Default.aspx* stránky.</span><span class="sxs-lookup"><span data-stu-id="09801-343">The browser opens and shows the *Default.aspx* page.</span></span>
2. <span data-ttu-id="09801-344">Vyberte **aut** v navigační nabídce kategorie.</span><span class="sxs-lookup"><span data-stu-id="09801-344">Select **Cars** from the category navigation menu.</span></span>
3. <span data-ttu-id="09801-345">Klikněte **přidat do košíku** odkaz vedle první produktu.</span><span class="sxs-lookup"><span data-stu-id="09801-345">Click the **Add To Cart** link next to the first product.</span></span>   
 <span data-ttu-id="09801-346">*ShoppingCart.aspx* se zobrazí stránka s celkem pořadí.</span><span class="sxs-lookup"><span data-stu-id="09801-346">The *ShoppingCart.aspx* page is displayed with the order total.</span></span>
4. <span data-ttu-id="09801-347">Vyberte **roviny** v navigační nabídce kategorie.</span><span class="sxs-lookup"><span data-stu-id="09801-347">Select **Planes** from the category navigation menu.</span></span>
5. <span data-ttu-id="09801-348">Klikněte **přidat do košíku** odkaz vedle první produktu.</span><span class="sxs-lookup"><span data-stu-id="09801-348">Click the **Add To Cart** link next to the first product.</span></span>
6. <span data-ttu-id="09801-349">Nastavit množství první položky v nákupní košík na 3 a vyberte **odebrat položky** políčko druhý položky.<a id="a"></a></span><span class="sxs-lookup"><span data-stu-id="09801-349">Set the quantity of the first item in the shopping cart to 3 and select the **Remove Item** check box of the second item.<a id="a"></a></span></span>
7. <span data-ttu-id="09801-350">Klikněte **aktualizovat** tlačítko Aktualizovat stránku nákupní košík a zobrazí nový celkový pořadí.</span><span class="sxs-lookup"><span data-stu-id="09801-350">Click the **Update** button to update the shopping cart page and display the new order total.</span></span> 

    ![Nákupní košík - košíku aktualizace](shopping-cart/_static/image9.png)

## <a name="summary"></a><span data-ttu-id="09801-352">Souhrn</span><span class="sxs-lookup"><span data-stu-id="09801-352">Summary</span></span>

<span data-ttu-id="09801-353">V tomto kurzu jste vytvořili nákupní košík pro ukázkovou aplikaci Wingtip Toys webových formulářů.</span><span class="sxs-lookup"><span data-stu-id="09801-353">In this tutorial, you have created a shopping cart for the Wingtip Toys Web Forms sample application.</span></span> <span data-ttu-id="09801-354">Při tomto kurzu jste už použili Entity Framework Code First, datových poznámek, ovládací prvky silného typu dat a vazby modelu.</span><span class="sxs-lookup"><span data-stu-id="09801-354">During this tutorial you have used Entity Framework Code First, data annotations, strongly typed data controls, and model binding.</span></span>

<span data-ttu-id="09801-355">Nákupní košík podporuje přidávání, odstraňování a aktualizaci položky, které uživatel vybral zakoupit.</span><span class="sxs-lookup"><span data-stu-id="09801-355">The shopping cart supports adding, deleting, and updating items that the user has selected for purchase.</span></span> <span data-ttu-id="09801-356">Kromě implementace funkci nákupní košík, jste se naučili nákupní košík položky v zobrazení **GridView** řízení a vypočítat celkové pořadí.</span><span class="sxs-lookup"><span data-stu-id="09801-356">In addition to implementing the shopping cart functionality, you have learned how to display shopping cart items in a **GridView** control and calculate the order total.</span></span>

## <a name="addition-information"></a><span data-ttu-id="09801-357">Další informace</span><span class="sxs-lookup"><span data-stu-id="09801-357">Addition Information</span></span>

[<span data-ttu-id="09801-358">Přehled stavu relace ASP.NET</span><span class="sxs-lookup"><span data-stu-id="09801-358">ASP.NET Session State Overview</span></span>](https://msdn.microsoft.com/library/ms178581.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="09801-359">[Předchozí](display_data_items_and_details.md)
> [další](checkout-and-payment-with-paypal.md)</span><span class="sxs-lookup"><span data-stu-id="09801-359">[Previous](display_data_items_and_details.md)
[Next](checkout-and-payment-with-paypal.md)</span></span>
