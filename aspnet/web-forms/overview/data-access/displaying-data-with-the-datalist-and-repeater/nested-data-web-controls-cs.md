---
uid: web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/nested-data-web-controls-cs
title: Vnořená Data webové ovládací prvky (C#) | Microsoft Docs
author: rick-anderson
description: V tomto kurzu se podíváme na použití prvku Repeater vnořit do jiné opakovače. Příklady ilustruje způsob naplnění vnitřní opakovače obou d...
ms.author: aspnetcontent
manager: wpickett
ms.date: 09/13/2006
ms.topic: article
ms.assetid: ad3cb0ec-26cf-42d7-b81b-184a34ec9f86
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/nested-data-web-controls-cs
msc.type: authoredcontent
ms.openlocfilehash: 4957f555691efaeaafa5bcf92141e0bef1cb1de9
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/06/2018
---
<a name="nested-data-web-controls-c"></a><span data-ttu-id="ae8a6-104">Ovládací prvky webového vnořená Data (C#)</span><span class="sxs-lookup"><span data-stu-id="ae8a6-104">Nested Data Web Controls (C#)</span></span>
====================
<span data-ttu-id="ae8a6-105">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="ae8a6-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="ae8a6-106">[Stáhněte si ukázkovou aplikaci](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_32_CS.exe) nebo [stáhnout PDF](nested-data-web-controls-cs/_static/datatutorial32cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="ae8a6-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_32_CS.exe) or [Download PDF](nested-data-web-controls-cs/_static/datatutorial32cs1.pdf)</span></span>

> <span data-ttu-id="ae8a6-107">V tomto kurzu se podíváme na použití prvku Repeater vnořit do jiné opakovače.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-107">In this tutorial we will explore how to use a Repeater nested inside another Repeater.</span></span> <span data-ttu-id="ae8a6-108">Příklady ilustruje způsob naplnění vnitřní opakovače deklarativně i prostřednictvím kódu programu.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-108">The examples will illustrate how to populate the inner Repeater both declaratively and programmatically.</span></span>


## <a name="introduction"></a><span data-ttu-id="ae8a6-109">Úvod</span><span class="sxs-lookup"><span data-stu-id="ae8a6-109">Introduction</span></span>

<span data-ttu-id="ae8a6-110">Kromě statické HTML a syntaxe vazby dat šablony mohou také obsahovat ovládací prvky webového a uživatelské ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-110">In addition to static HTML and databinding syntax, templates can also include Web controls and User Controls.</span></span> <span data-ttu-id="ae8a6-111">Tyto ovládací prvky webového může mít jejich vlastnosti přiřazené prostřednictvím syntaxe deklarativní, vazby dat, nebo je možné programově přistupovat v obslužné rutiny odpovídající událost na straně serveru.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-111">These Web controls can have their properties assigned via declarative, databinding syntax, or can be accessed programmatically in the appropriate server-side event handlers.</span></span>

<span data-ttu-id="ae8a6-112">Vložením ovládacích prvků v rámci šablon můžete přizpůsobit vzhled a uživatelské prostředí a v porovnání s.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-112">By embedding controls within a template, the appearance and user experience can be customized and improved upon.</span></span> <span data-ttu-id="ae8a6-113">Například v [pomocí TemplateFields v ovládacím prvku GridView](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) kurz, jsme viděli, jak přizpůsobit zobrazení GridView s přidáním ovládacího prvku kalendář v TemplateField do zaměstnanec s přijetím datum; ve [přidání Ověřovací ovládací prvky pro úpravy a vkládání rozhraní](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) a [přizpůsobení rozhraní pro úpravu dat](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) kurzy, jsme viděli postup přizpůsobení, úpravu a vkládání rozhraní přidáním ověření ovládací prvky, textových polí, DropDownLists a jiných webových ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-113">For example, in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial, we saw how to customize the GridView s display by adding a Calendar control in a TemplateField to show an employee s hire date; in the [Adding Validation Controls to the Editing and Inserting Interfaces](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) and [Customizing the Data Modification Interface](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) tutorials, we saw how to customize the editing and inserting interfaces by adding validation controls, TextBoxes, DropDownLists, and other Web controls.</span></span>

<span data-ttu-id="ae8a6-114">Šablony může také obsahovat další data ovládací prvky webového.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-114">Templates can also contain other data Web controls.</span></span> <span data-ttu-id="ae8a6-115">To znamená, že jsme může mít DataList, který obsahuje jiné DataList (nebo opakovače nebo GridView nebo DetailsView a tak dále) v rámci jeho šablony.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-115">That is, we can have a DataList that contains another DataList (or Repeater or GridView or DetailsView, and so on) within its templates.</span></span> <span data-ttu-id="ae8a6-116">Problém s takového rozhraní se navazuje příslušná data vnitřních dat ovládací prvek webu.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-116">The challenge with such an interface is binding the appropriate data to the inner data Web control.</span></span> <span data-ttu-id="ae8a6-117">Nejsou k dispozici od deklarativní možnosti pomocí ObjectDataSource chcete programový několik různý přístup.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-117">There are a few different approaches available, ranging from declarative options using the ObjectDataSource to programmatic ones.</span></span>

<span data-ttu-id="ae8a6-118">V tomto kurzu se podíváme na použití prvku Repeater vnořit do jiné opakovače.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-118">In this tutorial we will explore how to use a Repeater nested inside another Repeater.</span></span> <span data-ttu-id="ae8a6-119">Vnější opakovače bude obsahovat položky pro každou kategorii v databázi, zobrazení kategorie s název a popis.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-119">The outer Repeater will contain an item for each category in the database, displaying the category s name and description.</span></span> <span data-ttu-id="ae8a6-120">Každá položka kategorie s vnitřní opakovače se zobrazí informace pro jednotlivé produkty z této kategorie (viz obrázek 1) v seznamu s odrážkami.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-120">Each category item s inner Repeater will display information for each product belonging to that category (see Figure 1) in a bulleted list.</span></span> <span data-ttu-id="ae8a6-121">Příklady ilustruje způsob naplnění vnitřní opakovače deklarativně i prostřednictvím kódu programu.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-121">Our examples will illustrate how to populate the inner Repeater both declaratively and programmatically.</span></span>


<span data-ttu-id="ae8a6-122">[![Každou kategorii, společně s jeho produktů, jsou uvedeny.](nested-data-web-controls-cs/_static/image2.png)](nested-data-web-controls-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="ae8a6-122">[![Each Category, Along with its Products, are Listed](nested-data-web-controls-cs/_static/image2.png)](nested-data-web-controls-cs/_static/image1.png)</span></span>

<span data-ttu-id="ae8a6-123">**Obrázek 1**: každou kategorii, společně s jeho produktů, jsou uvedeny ([Kliknutím zobrazit obrázek v plné velikosti](nested-data-web-controls-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="ae8a6-123">**Figure 1**: Each Category, Along with its Products, are Listed ([Click to view full-size image](nested-data-web-controls-cs/_static/image3.png))</span></span>


## <a name="step-1-creating-the-category-listing"></a><span data-ttu-id="ae8a6-124">Krok 1: Vytvoření seznamu Kategorie</span><span class="sxs-lookup"><span data-stu-id="ae8a6-124">Step 1: Creating the Category Listing</span></span>

<span data-ttu-id="ae8a6-125">Při vytváření stránky, která používá vnořené ovládací prvky webového data, I být užitečné při návrhu, vytvoření a testování ovládací prvek webu nejkrajnější dat nejprve bez obav i o informacích o vnitřní vnořené řízení.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-125">When building a page that uses nested data Web controls, I find it helpful to design, create, and test the outermost data Web control first, without even worrying about the inner nested control.</span></span> <span data-ttu-id="ae8a6-126">Proto umožní s začněte tím, že s návodem kroky potřebné k přidání prvku Repeater na stránku, který zobrazí název a popis pro každou kategorii.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-126">Therefore, let s start by walking through the steps necessary to add a Repeater to the page that lists the name and description for each category.</span></span>

<span data-ttu-id="ae8a6-127">Začněte otevřením `NestedControls.aspx` stránku `DataListRepeaterBasics` složky a přidejte na stránku nastavení ovládacího prvku opakovače jeho `ID` vlastnost, která má `CategoryList`.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-127">Start by opening the `NestedControls.aspx` page in the `DataListRepeaterBasics` folder and add a Repeater control to the page, setting its `ID` property to `CategoryList`.</span></span> <span data-ttu-id="ae8a6-128">Z opakovače s inteligentním, můžete vytvořit nové ObjectDataSource s názvem `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-128">From the Repeater s smart tag, choose to create a new ObjectDataSource named `CategoriesDataSource`.</span></span>


<span data-ttu-id="ae8a6-129">[![Název nové ObjectDataSource CategoriesDataSource](nested-data-web-controls-cs/_static/image5.png)](nested-data-web-controls-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="ae8a6-129">[![Name the New ObjectDataSource CategoriesDataSource](nested-data-web-controls-cs/_static/image5.png)](nested-data-web-controls-cs/_static/image4.png)</span></span>

<span data-ttu-id="ae8a6-130">**Obrázek 2**: název nové ObjectDataSource `CategoriesDataSource` ([Kliknutím zobrazit obrázek v plné velikosti](nested-data-web-controls-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="ae8a6-130">**Figure 2**: Name the New ObjectDataSource `CategoriesDataSource` ([Click to view full-size image](nested-data-web-controls-cs/_static/image6.png))</span></span>


<span data-ttu-id="ae8a6-131">Nakonfigurovat ObjectDataSource tak, aby ho získává jeho data ze `CategoriesBLL` třídu s `GetCategories` metoda.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-131">Configure the ObjectDataSource so that it pulls its data from the `CategoriesBLL` class s `GetCategories` method.</span></span>


<span data-ttu-id="ae8a6-132">[![Konfigurace ObjectDataSource lze pomocí této metody GetCategories CategoriesBLL třídu s](nested-data-web-controls-cs/_static/image8.png)](nested-data-web-controls-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="ae8a6-132">[![Configure the ObjectDataSource to Use the CategoriesBLL Class s GetCategories Method](nested-data-web-controls-cs/_static/image8.png)](nested-data-web-controls-cs/_static/image7.png)</span></span>

<span data-ttu-id="ae8a6-133">**Obrázek 3**: Konfigurace ObjectDataSource pro použití `CategoriesBLL` třídu s `GetCategories` – metoda ([Kliknutím zobrazit obrázek v plné velikosti](nested-data-web-controls-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="ae8a6-133">**Figure 3**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class s `GetCategories` Method ([Click to view full-size image](nested-data-web-controls-cs/_static/image9.png))</span></span>


<span data-ttu-id="ae8a6-134">Chcete-li určit šablonu opakovače s obsahu musíme přejděte do zobrazení zdroje a ručně zadejte deklarativní syntaxi.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-134">To specify the Repeater s template content we need to go to the Source view and manually enter the declarative syntax.</span></span> <span data-ttu-id="ae8a6-135">Přidat `ItemTemplate` který zobrazí název kategorie s v `<h4>` elementu a popis kategorie s v element odstavce (`<p>`).</span><span class="sxs-lookup"><span data-stu-id="ae8a6-135">Add an `ItemTemplate` that displays the category s name in an `<h4>` element and the category s description in a paragraph element (`<p>`).</span></span> <span data-ttu-id="ae8a6-136">Navíc umožňují s oddělit každou kategorii vodorovné pravítko (`<hr>`).</span><span class="sxs-lookup"><span data-stu-id="ae8a6-136">Furthermore, let s separate each category with a horizontal rule (`<hr>`).</span></span> <span data-ttu-id="ae8a6-137">Po provedení těchto změn vaše stránka by měla obsahovat deklarativní syntaxe pro opakovače a ObjectDataSource, který je podobný následujícímu:</span><span class="sxs-lookup"><span data-stu-id="ae8a6-137">After making these changes your page should contain declarative syntax for the Repeater and ObjectDataSource that is similar to the following:</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample1.aspx)]

<span data-ttu-id="ae8a6-138">Obrázek 4 ukazuje naše průběh při zobrazení prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-138">Figure 4 shows our progress when viewed through a browser.</span></span>


<span data-ttu-id="ae8a6-139">[![Každou kategorii s název a popis je uvedena, oddělených vodorovné pravítko](nested-data-web-controls-cs/_static/image11.png)](nested-data-web-controls-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="ae8a6-139">[![Each Category s Name and Description is Listed, Separated by a Horizontal Rule](nested-data-web-controls-cs/_static/image11.png)](nested-data-web-controls-cs/_static/image10.png)</span></span>

<span data-ttu-id="ae8a6-140">**Obrázek 4**: s každou kategorii název a popis je uvedena, oddělených vodorovné pravítko ([Kliknutím zobrazit obrázek v plné velikosti](nested-data-web-controls-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="ae8a6-140">**Figure 4**: Each Category s Name and Description is Listed, Separated by a Horizontal Rule ([Click to view full-size image](nested-data-web-controls-cs/_static/image12.png))</span></span>


## <a name="step-2-adding-the-nested-product-repeater"></a><span data-ttu-id="ae8a6-141">Krok 2: Přidání opakovače vnořené produktu</span><span class="sxs-lookup"><span data-stu-id="ae8a6-141">Step 2: Adding the Nested Product Repeater</span></span>

<span data-ttu-id="ae8a6-142">V kategorii výpis dokončení, je přidání opakovače k naše další úlohy `CategoryList` s `ItemTemplate` který zobrazí informace o těchto produktů, které patří k příslušné kategorii.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-142">With the category listing complete, our next task is to add a Repeater to the `CategoryList` s `ItemTemplate` that displays information about those products belonging to the appropriate category.</span></span> <span data-ttu-id="ae8a6-143">Existuje několik způsobů můžeme načíst data pro tento vnitřní opakovače dvě z nich jsme budete prozkoumat za chvíli.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-143">There are a number of ways we can retrieve the data for this inner Repeater, two of which we'll explore shortly.</span></span> <span data-ttu-id="ae8a6-144">Teď, umožňují s jenom vytvářet produkty opakovače v rámci `CategoryList` opakovače s `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-144">For now, let s just create the products Repeater within the `CategoryList` Repeater s `ItemTemplate`.</span></span> <span data-ttu-id="ae8a6-145">Konkrétně umožní s mít produktu opakovače zobrazení každý produkt v seznamu s odrážkami s jednotlivými položka seznamu včetně názvu produktu s a ceny.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-145">Specifically, let s have the product Repeater display each product in a bulleted list with each list item including the product s name and price.</span></span>

<span data-ttu-id="ae8a6-146">Chcete-li vytvořit tuto opakovače, je potřeba zadat ručně vnitřní opakovače s deklarativní syntaxe a šablony do `CategoryList` s `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-146">To create this Repeater we need to manually enter the inner Repeater s declarative syntax and templates into the `CategoryList` s `ItemTemplate`.</span></span> <span data-ttu-id="ae8a6-147">Přidejte následující kód v rámci `CategoryList` opakovače s `ItemTemplate`:</span><span class="sxs-lookup"><span data-stu-id="ae8a6-147">Add the following markup within the `CategoryList` Repeater s `ItemTemplate`:</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample2.aspx)]

## <a name="step-3-binding-the-category-specific-products-to-the-productsbycategorylist-repeater"></a><span data-ttu-id="ae8a6-148">Krok 3: Vytvoření vazby podle kategorií produktů opakovače ProductsByCategoryList</span><span class="sxs-lookup"><span data-stu-id="ae8a6-148">Step 3: Binding the Category-Specific Products to the ProductsByCategoryList Repeater</span></span>

<span data-ttu-id="ae8a6-149">Pokud v tomto okamžiku můžete navštívit stránku prostřednictvím prohlížeče, obrazovce bude vypadají stejně jako na obrázku 4 protože jsme jste zatím k vytvoření vazby. všechna data opakovače.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-149">If you visit the page through a browser at this point, your screen will look the same as in Figure 4 because we ve yet to bind any data to the Repeater.</span></span> <span data-ttu-id="ae8a6-150">Existuje několik způsobů, můžeme získat záznamy příslušnému produktu a navázat je opakovače, některé efektivnější než jiné.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-150">There are a few ways that we can grab the appropriate product records and bind them to the Repeater, some more efficient than others.</span></span> <span data-ttu-id="ae8a6-151">Hlavní těžkostí je moct vrátit vhodné produkty pro zadané kategorii.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-151">The main challenge here is getting back the appropriate products for the specified category.</span></span>

<span data-ttu-id="ae8a6-152">Data pro vazbu k ovládacímu prvku opakovače vnitřní se dá buď dostat deklarativně, ObjectDataSource v `CategoryList` opakovače s `ItemTemplate`, nebo prostřednictvím kódu programu, ze stránky ASP.NET stránky s kódem v pozadí.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-152">The data to bind to the inner Repeater control can either be accessed declaratively, through an ObjectDataSource in the `CategoryList` Repeater s `ItemTemplate`, or programmatically, from the ASP.NET page s code-behind page.</span></span> <span data-ttu-id="ae8a6-153">Podobně, tato data mohou být vázány na vnitřní opakovače buď deklarativně - prostřednictvím vnitřní opakovače s `DataSourceID` vlastnost nebo prostřednictvím syntaxe deklarativní vazby dat, nebo prostřednictvím kódu programu pod položkou vnitřní opakovače v `CategoryList` opakovače s `ItemDataBound` obslužné rutiny události prostřednictvím kódu programu nastavení jeho `DataSource` vlastnost a volání jeho `DataBind()` metoda.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-153">Similarly, this data can be bound to the inner Repeater either declaratively - through the inner Repeater s `DataSourceID` property or through declarative databinding syntax or programmatically by referencing the inner Repeater in the `CategoryList` Repeater s `ItemDataBound` event handler, programmatically setting its `DataSource` property, and calling its `DataBind()` method.</span></span> <span data-ttu-id="ae8a6-154">Umožní s prozkoumat jednotlivých přístupů.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-154">Let s explore each of these approaches.</span></span>

## <a name="accessing-the-data-declaratively-with-an-objectdatasource-control-and-theitemdataboundevent-handler"></a><span data-ttu-id="ae8a6-155">Přístup k datům deklarativně pomocí ovládacího prvku ObjectDataSource a`ItemDataBound`obslužné rutiny události</span><span class="sxs-lookup"><span data-stu-id="ae8a6-155">Accessing the Data Declaratively with an ObjectDataSource Control and the`ItemDataBound`Event Handler</span></span>

<span data-ttu-id="ae8a6-156">Protože jsme použít sunout ObjectDataSource hojně v rámci tohoto kurzu řady nejvíce přirozené volba pro přístup k datům v tomto příkladu je přilepit s ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-156">Since we ve used the ObjectDataSource extensively throughout this tutorial series, the most natural choice for accessing data for this example is to stick with the ObjectDataSource.</span></span> <span data-ttu-id="ae8a6-157">`ProductsBLL` Třída má `GetProductsByCategoryID(categoryID)` metodu, která vrátí informace o těchto produktů, které patří do zadané *`categoryID`*.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-157">The `ProductsBLL` class has a `GetProductsByCategoryID(categoryID)` method that returns information about those products that belong to the specified *`categoryID`*.</span></span> <span data-ttu-id="ae8a6-158">Proto jsme můžete přidat ObjectDataSource k `CategoryList` opakovače s `ItemTemplate` a nakonfigurujte ho pro přístup k jeho data z této třídy s metody.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-158">Therefore, we can add an ObjectDataSource to the `CategoryList` Repeater s `ItemTemplate` and configure it to access its data from this class s method.</span></span>

<span data-ttu-id="ae8a6-159">Bohužel t nemá opakovače povolí jeho šablony k provádění úprav prostřednictvím zobrazení návrhu, takže je potřeba ručně přidat deklarativní syntaxe tohoto ovládacího prvku ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-159">Unfortunately, the Repeater doesn t allow its templates to be edited through the Design view so we need to add the declarative syntax for this ObjectDataSource control by hand.</span></span> <span data-ttu-id="ae8a6-160">Následující syntaxe ukazuje `CategoryList` opakovače s `ItemTemplate` po přidání tohoto nového ObjectDataSource (`ProductsByCategoryDataSource`):</span><span class="sxs-lookup"><span data-stu-id="ae8a6-160">The following syntax shows the `CategoryList` Repeater s `ItemTemplate` after adding this new ObjectDataSource (`ProductsByCategoryDataSource`):</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample3.aspx)]

<span data-ttu-id="ae8a6-161">Při použití ObjectDataSource přístup, je potřeba nastavit `ProductsByCategoryList` opakovače s `DataSourceID` vlastnost, která má `ID` prvku ObjectDataSource (`ProductsByCategoryDataSource`).</span><span class="sxs-lookup"><span data-stu-id="ae8a6-161">When using the ObjectDataSource approach we need to set the `ProductsByCategoryList` Repeater s `DataSourceID` property to the `ID` of the ObjectDataSource (`ProductsByCategoryDataSource`).</span></span> <span data-ttu-id="ae8a6-162">Navíc Všimněte si, že je naše ObjectDataSource `<asp:Parameter>` element, který určuje *`categoryID`* hodnotu, která se předají do `GetProductsByCategoryID(categoryID)` metoda.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-162">Also, notice that our ObjectDataSource has an `<asp:Parameter>` element that specifies the *`categoryID`* value that will be passed into the `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="ae8a6-163">Ale jak jsme tuto hodnotu zadat?</span><span class="sxs-lookup"><span data-stu-id="ae8a6-163">But how do we specify this value?</span></span> <span data-ttu-id="ae8a6-164">V ideálním případě jsme d moct stačí nastavit `DefaultValue` vlastnost `<asp:Parameter>` elementu s použitím syntaxe vazby dat, například takto:</span><span class="sxs-lookup"><span data-stu-id="ae8a6-164">Ideally, we d be able to just set the `DefaultValue` property of the `<asp:Parameter>` element using databinding syntax, like so:</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample4.aspx)]

<span data-ttu-id="ae8a6-165">Bohužel Syntaxe vazby dat je platná pouze v ovládacích prvcích, které mají `DataBinding` událostí.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-165">Unfortunately, databinding syntax is only valid in controls that have a `DataBinding` event.</span></span> <span data-ttu-id="ae8a6-166">`Parameter` Třída chybí takové události, a proto výše uvedené syntaxe je neplatný a výsledkem bude chyba za běhu.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-166">The `Parameter` class lacks such an event and therefore the above syntax is illegal and will result in a runtime error.</span></span>

<span data-ttu-id="ae8a6-167">Pokud chcete nastavit tuto hodnotu, je potřeba vytvořit obslužnou rutinu události pro `CategoryList` opakovače s `ItemDataBound` událostí.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-167">To set this value, we need to create an event handler for the `CategoryList` Repeater s `ItemDataBound` event.</span></span> <span data-ttu-id="ae8a6-168">Odvolat, který `ItemDataBound` událost aktivuje jednou pro každou položku vázána na opakovače.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-168">Recall that the `ItemDataBound` event fires once for each item bound to the Repeater.</span></span> <span data-ttu-id="ae8a6-169">Proto pokaždé, když tato událost aktivuje pro vnější opakovače jsme můžete přiřadit aktuální `CategoryID` hodnotu `ProductsByCategoryDataSource` ObjectDataSource s `CategoryID` parametr.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-169">Therefore, each time this event fires for the outer Repeater we can assign the current `CategoryID` value to the `ProductsByCategoryDataSource` ObjectDataSource s `CategoryID` parameter.</span></span>

<span data-ttu-id="ae8a6-170">Vytvoření obslužné rutiny událostí `CategoryList` opakovače s `ItemDataBound` událostí s následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="ae8a6-170">Create an event handler for the `CategoryList` Repeater s `ItemDataBound` event with the following code:</span></span>


[!code-csharp[Main](nested-data-web-controls-cs/samples/sample5.cs)]

<span data-ttu-id="ae8a6-171">Spustí se zajištěním jsme re práci daty položky místo položky záhlaví, zápatí nebo oddělovač této obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-171">This event handler starts by ensuring that we re dealing with a data item rather than the header, footer, or separator item.</span></span> <span data-ttu-id="ae8a6-172">V dalším kroku jsme odkazovat na skutečnou `CategoriesRow` instanci, která právě bylo svázáno se aktuální `RepeaterItem`.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-172">Next, we reference the actual `CategoriesRow` instance that has just been bound to the current `RepeaterItem`.</span></span> <span data-ttu-id="ae8a6-173">Nakonec jsme odkazovat ObjectDataSource v `ItemTemplate` a přiřaďte jeho `CategoryID` hodnotu parametru `CategoryID` aktuálního `RepeaterItem`.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-173">Finally, we reference the ObjectDataSource in the `ItemTemplate` and assign its `CategoryID` parameter value to the `CategoryID` of the current `RepeaterItem`.</span></span>

<span data-ttu-id="ae8a6-174">Pomocí této obslužné rutiny události `ProductsByCategoryList` opakovače v každé `RepeaterItem` je vázána na tyto produkty ve `RepeaterItem` s kategorie.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-174">With this event handler, the `ProductsByCategoryList` Repeater in each `RepeaterItem` is bound to those products in the `RepeaterItem` s category.</span></span> <span data-ttu-id="ae8a6-175">Obrázek 5 ukazuje snímek obrazovky výsledný výstup.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-175">Figure 5 shows a screen shot of the resulting output.</span></span>


<span data-ttu-id="ae8a6-176">[![Vnější opakovače uvádí každou kategorii; Vnitřní jeden seznamy produktů, pro danou kategorii](nested-data-web-controls-cs/_static/image14.png)](nested-data-web-controls-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="ae8a6-176">[![The Outer Repeater Lists Each Category; the Inner One Lists the Products for that Category](nested-data-web-controls-cs/_static/image14.png)](nested-data-web-controls-cs/_static/image13.png)</span></span>

<span data-ttu-id="ae8a6-177">**Obrázek 5**: vnější opakovače uvádí každou kategorii; jeden seznamy vnitřní produkty pro danou kategorii ([Kliknutím zobrazit obrázek v plné velikosti](nested-data-web-controls-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="ae8a6-177">**Figure 5**: The Outer Repeater Lists Each Category; the Inner One Lists the Products for that Category ([Click to view full-size image](nested-data-web-controls-cs/_static/image15.png))</span></span>


## <a name="accessing-the-products-by-category-data-programmatically"></a><span data-ttu-id="ae8a6-178">Přístup k produkty podle kategorie dat prostřednictvím kódu programu</span><span class="sxs-lookup"><span data-stu-id="ae8a6-178">Accessing the Products by Category Data Programmatically</span></span>

<span data-ttu-id="ae8a6-179">Místo použití ObjectDataSource načíst produktů pro aktuální kategorii, jsme může vytvoření metody ve třídě kódu stránky s naše ASP.NET (nebo v `App_Code` složku nebo v samostatné projektu knihovny tříd), který vrací příslušné sady produkty při předaná `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-179">Instead of using an ObjectDataSource to retrieve the products for the current category, we could create a method in our ASP.NET page s code-behind class (or in the `App_Code` folder or in a separate Class Library project) that returns the appropriate set of products when passed in a `CategoryID`.</span></span> <span data-ttu-id="ae8a6-180">Představte si jsme měli tato metoda v Naše třída kódu stránky s ASP.NET a že se s názvem `GetProductsInCategory(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-180">Imagine that we had such a method in our ASP.NET page s code-behind class and that it was named `GetProductsInCategory(categoryID)`.</span></span> <span data-ttu-id="ae8a6-181">Tato metoda zavedené jsme může produktů pro aktuální kategorii svázat s vnitřní opakovače pomocí deklarativní syntaxi:</span><span class="sxs-lookup"><span data-stu-id="ae8a6-181">With this method in place we could bind the products for the current category to the inner Repeater using the following declarative syntax:</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample6.aspx)]

<span data-ttu-id="ae8a6-182">Opakovače s `DataSource` vlastnost se používá syntaxe datové vazby k označení, že jeho data pocházejí z `GetProductsInCategory(categoryID)` metoda.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-182">The Repeater s `DataSource` property uses the databinding syntax to indicate that its data comes from the `GetProductsInCategory(categoryID)` method.</span></span> <span data-ttu-id="ae8a6-183">Vzhledem k tomu `Eval("CategoryID")` vrátí hodnotu typu `Object`, nemůžeme převést objekt, který má `Integer` před předáním do `GetProductsInCategory(categoryID)` metoda.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-183">Since `Eval("CategoryID")` returns a value of type `Object`, we cast the object to an `Integer` before passing it into the `GetProductsInCategory(categoryID)` method.</span></span> <span data-ttu-id="ae8a6-184">Všimněte si, že `CategoryID` používaná tady prostřednictvím vazby dat je syntaxe `CategoryID` v *vnější* opakovače (`CategoryList`), že s vázána na záznamy v `Categories` tabulky.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-184">Note that the `CategoryID` accessed here via the databinding syntax is the `CategoryID` in the *outer* Repeater (`CategoryList`), the one that s bound to the records in the `Categories` table.</span></span> <span data-ttu-id="ae8a6-185">Proto jsme vědět, že `CategoryID` nelze databázi `NULL` hodnotu, kterou je důvod, proč může slepě přetypovat `Eval` metoda bez kontroly, pokud jsme re práci s `DBNull`.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-185">Therefore, we know that `CategoryID` cannot be a database `NULL` value, which is why we can blindly cast the `Eval` method without checking if we re dealing with a `DBNull`.</span></span>

<span data-ttu-id="ae8a6-186">S tímto přístupem, je potřeba vytvořit `GetProductsInCategory(categoryID)` metoda a mějte ho načíst příslušné sady produktů zadané zadaných *`categoryID`*.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-186">With this approach, we need to create the `GetProductsInCategory(categoryID)` method and have it retrieve the appropriate set of products given the supplied *`categoryID`*.</span></span> <span data-ttu-id="ae8a6-187">Jsme to můžete udělat jednoduše vrácení `ProductsDataTable` vrácený `ProductsBLL` třídu s `GetProductsByCategoryID(categoryID)` metoda.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-187">We can do this by simply returning the `ProductsDataTable` returned by the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="ae8a6-188">Umožní s vytvořit `GetProductsInCategory(categoryID)` metodu v třídě kódu pro naše `NestedControls.aspx` stránky.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-188">Let s create the `GetProductsInCategory(categoryID)` method in the code-behind class for our `NestedControls.aspx` page.</span></span> <span data-ttu-id="ae8a6-189">Učinit pomocí následujícího kódu:</span><span class="sxs-lookup"><span data-stu-id="ae8a6-189">Do so using the following code:</span></span>


[!code-csharp[Main](nested-data-web-controls-cs/samples/sample7.cs)]

<span data-ttu-id="ae8a6-190">Tato metoda jednoduše vytvoří instanci `ProductsBLL` metodu a vrátí výsledky `GetProductsByCategoryID(categoryID)` metoda.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-190">This method simply creates an instance of the `ProductsBLL` method and returns the results of the `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="ae8a6-191">Všimněte si, že metoda musí být označen `Public` nebo `Protected`; Pokud je označena jako metodu `Private`, nebude dostupný z deklarativní kódu stránky s technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-191">Note that the method must be marked `Public` or `Protected`; if the method is marked `Private`, it will not be accessible from the ASP.NET page s declarative markup.</span></span>

<span data-ttu-id="ae8a6-192">Po provedení těchto změn pro použití této nové techniky, pozorně zobrazit stránku prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-192">After making these changes to use this new technique, take a moment to view the page through a browser.</span></span> <span data-ttu-id="ae8a6-193">Výstup by měl být stejný jako výstup při použití ObjectDataSource a `ItemDataBound` přístup obslužné rutiny události (odkazuje zpět na obrázku 5 zobrazíte snímku obrazovky).</span><span class="sxs-lookup"><span data-stu-id="ae8a6-193">The output should be identical to the output when using the ObjectDataSource and `ItemDataBound` event handler approach (refer back to Figure 5 to see a screen shot).</span></span>

> [!NOTE]
> <span data-ttu-id="ae8a6-194">To může jevit jako busywork vytvořit `GetProductsInCategory(categoryID)` metodu v třídě kódu stránky s ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-194">It may seem like busywork to create the `GetProductsInCategory(categoryID)` method in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="ae8a6-195">Po všech, tato metoda jednoduše vytvoří instanci `ProductsBLL` třídy a vrátí výsledky z jeho `GetProductsByCategoryID(categoryID)` metoda.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-195">After all, this method simply creates an instance of the `ProductsBLL` class and returns the results of its `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="ae8a6-196">Proč právě tato metoda není volána přímo z Syntaxe datové vazby v informacích o vnitřní opakovače, jako je: `DataSource='<%# ProductsBLL.GetProductsByCategoryID((int)(Eval("CategoryID"))) %>'`?</span><span class="sxs-lookup"><span data-stu-id="ae8a6-196">Why not just call this method directly from the databinding syntax in the inner Repeater, like: `DataSource='<%# ProductsBLL.GetProductsByCategoryID((int)(Eval("CategoryID"))) %>'`?</span></span> <span data-ttu-id="ae8a6-197">I když tato syntaxe won t pracují s naše aktuální implementace `ProductsBLL` – třída (vzhledem k tomu, `GetProductsByCategoryID(categoryID)` metoda je metoda instance), může změnit `ProductsBLL` chcete zahrnout statický `GetProductsByCategoryID(categoryID)` metoda nebo mají třídu zahrnují statického `Instance()` metoda vrátí novou instanci třídy `ProductsBLL` třídy.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-197">Although this syntax won t work with our current implementation of the `ProductsBLL` class (since the `GetProductsByCategoryID(categoryID)` method is an instance method), you could modify `ProductsBLL` to include a static `GetProductsByCategoryID(categoryID)` method or have the class include a static `Instance()` method to return a new instance of the `ProductsBLL` class.</span></span>


<span data-ttu-id="ae8a6-198">Když tyto změny by eliminovat potřebu `GetProductsInCategory(categoryID)` metodu v třídě kódu stránky s ASP.NET, metody třídy kódu nám poskytuje flexibilitu při práci s daty načíst, protože jsme krátce zobrazí.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-198">While such modifications would eliminate the need for the `GetProductsInCategory(categoryID)` method in the ASP.NET page s code-behind class, the code-behind class method gives us more flexibility in working with the data retrieved, as we'll see shortly.</span></span>

## <a name="retrieving-all-of-the-product-information-at-once"></a><span data-ttu-id="ae8a6-199">Načítání všechny informace o produktu najednou</span><span class="sxs-lookup"><span data-stu-id="ae8a6-199">Retrieving All of the Product Information at Once</span></span>

<span data-ttu-id="ae8a6-200">Dvě techniky zkontrolují jsme sunout zkontrolován získat tyto produkty pro aktuální kategorii tím, že zavoláte na `ProductsBLL` třídu s `GetProductsByCategoryID(categoryID)` – metoda (první přístup se tak prostřednictvím ObjectDataSource, druhý prostřednictvím `GetProductsInCategory(categoryID)` metoda v třída kódu).</span><span class="sxs-lookup"><span data-stu-id="ae8a6-200">The two pervious techniques we ve examined grab those products for the current category by making a call to the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method (the first approach did so through an ObjectDataSource, the second through the `GetProductsInCategory(categoryID)` method in the code-behind class).</span></span> <span data-ttu-id="ae8a6-201">Pokaždé, když tato metoda je volána, volání vrstvu obchodní logiky dolů Data Access Layer, který dotazuje databázi s příkazem SQL, která vrací řádky z `Products` tabulky, jehož `CategoryID` pole odpovídá zadané vstupní parametr.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-201">Each time this method is invoked, the Business Logic Layer calls down to the Data Access Layer, which queries the database with a SQL statement that returns rows from the `Products` table whose `CategoryID` field matches the supplied input parameter.</span></span>

<span data-ttu-id="ae8a6-202">Zadané *N* kategorií v systému, tento přístup propojí *N* + 1 volání databáze jeden databázový dotaz získat všechny kategorie a potom *N* volání k získání produktů specifické pro jednotlivé kategorie.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-202">Given *N* categories in the system, this approach nets *N* + 1 calls to the database one database query to get all of the categories and then *N* calls to get the products specific to each category.</span></span> <span data-ttu-id="ae8a6-203">Můžeme však načíst všechna potřebná data v ještě dvě databáze volání jednoho volání získat všechny kategorie a jiné získat všechny produkty.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-203">We can, however, retrieve all the needed data in just two database calls one call to get all of the categories and another to get all of the products.</span></span> <span data-ttu-id="ae8a6-204">Jakmile jsme všechny produkty, jsme tyto produkty filtrovat tak pouze produkty odpovídající aktuální `CategoryID` je vázána na této kategorie s vnitřní opakovače.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-204">Once we have all of the products, we can filter those products so that only the products matching the current `CategoryID` are bound to that category s inner Repeater.</span></span>

<span data-ttu-id="ae8a6-205">Abyste si mohli tuto funkci, musíme pouze provedete mírné změny `GetProductsInCategory(categoryID)` metodu v třídě kódu stránky s naše technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-205">To provide this functionality, we only need to make a slight modification to the `GetProductsInCategory(categoryID)` method in our ASP.NET page s code-behind class.</span></span> <span data-ttu-id="ae8a6-206">Místo slepě vrací výsledky `ProductsBLL` třídu s `GetProductsByCategoryID(categoryID)` metoda, můžeme místo toho nejdřív Přejít *všechny* produkty (Pokud se nebyla některá t byla získat přístup k již) a pak se vraťte právě filtrované zobrazení na předané na základě produktů `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-206">Rather than blindly returning the results of the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method, we can instead first access *all* of the products (if they haven t been accessed already) and then return just the filtered view of the products based on the passed-in `CategoryID`.</span></span>


[!code-csharp[Main](nested-data-web-controls-cs/samples/sample8.cs)]

<span data-ttu-id="ae8a6-207">Poznámka: Přidání proměnné úrovni stránky `allProducts`.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-207">Note the addition of the page-level variable, `allProducts`.</span></span> <span data-ttu-id="ae8a6-208">Ukládá informace o všech produktů a je vyplněný poprvé `GetProductsInCategory(categoryID)` metoda je volána.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-208">This holds information about all of the products and is populated the first time the `GetProductsInCategory(categoryID)` method is invoked.</span></span> <span data-ttu-id="ae8a6-209">Po zajištění, že `allProducts` objekt byly vytvořeny a naplněny, metoda vyfiltruje výsledky s DataTable tak, aby pouze ty řádků, jehož `CategoryID` odpovídá zadané `CategoryID` jsou dostupné.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-209">After ensuring that the `allProducts` object has been created and populated, the method filters the DataTable s results such that only those rows whose `CategoryID` matches the specified `CategoryID` are accessible.</span></span> <span data-ttu-id="ae8a6-210">Tento přístup snižuje počet databáze je k němu přistupovat z *N* + 1 dolů dva.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-210">This approach reduces the number of times the database is accessed from *N* + 1 down to two.</span></span>

<span data-ttu-id="ae8a6-211">Toto vylepšení nezavádí všechny změny do vykreslované značky stránky, ani přináší záznamy zpět méně než ostatní přístup.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-211">This enhancement does not introduce any change to the rendered markup of the page, nor does it bring back fewer records than the other approach.</span></span> <span data-ttu-id="ae8a6-212">Jednoduše snižuje počet volání do databáze.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-212">It simply reduces the number of calls to the database.</span></span>

> [!NOTE]
> <span data-ttu-id="ae8a6-213">Jeden může intuitivně důvodu, že snižuje počet přístupům do databáze by assuredly zlepšit výkon.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-213">One might intuitively reason that reducing the number of database accesses would assuredly improve performance.</span></span> <span data-ttu-id="ae8a6-214">To však nemusí být tento případ.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-214">However, this might not be the case.</span></span> <span data-ttu-id="ae8a6-215">Pokud máte velký počet produktů, jejichž `CategoryID` je `NULL`pro příklad, pak volání `GetProducts` metoda vrátí počet produktů, které se nikdy zobrazují.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-215">If you have a large number of products whose `CategoryID` is `NULL`, for example, then the call to the `GetProducts` method returns a number of products that are never displayed.</span></span> <span data-ttu-id="ae8a6-216">Vrací všechny produkty, lze plýtvání-li níž zobrazuje pouze podmnožinu kategorií, které může být v případě, pokud jste implementovali stránkování.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-216">Moreover, returning all of the products can be wasteful if you re only showing a subset of the categories, which might be the case if you have implemented paging.</span></span>


<span data-ttu-id="ae8a6-217">Vždy, když jde o Analýza výkonu dvě techniky, pouze surefire míry se řízené testy přizpůsobit pro vaše aplikace s běžných scénářích případů.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-217">As always, when it comes to analyzing the performance of two techniques, the only surefire measure is to run controlled tests tailored for your application s common case scenarios.</span></span>

## <a name="summary"></a><span data-ttu-id="ae8a6-218">Souhrn</span><span class="sxs-lookup"><span data-stu-id="ae8a6-218">Summary</span></span>

<span data-ttu-id="ae8a6-219">V tomto kurzu jsme viděli jak lze vnořit jeden datový ovládací prvek webu v rámci druhého, konkrétně zkoumání jak vám má vnější opakovače položku pro každou kategorii zobrazení se vnitřní opakovače výpis produktů pro každou kategorii v seznamu s odrážkami.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-219">In this tutorial we saw how to nest one data Web control within another, specifically examining how to have an outer Repeater display an item for each category with an inner Repeater listing the products for each category in a bulleted list.</span></span> <span data-ttu-id="ae8a6-220">Hlavní těžkostí při vytváření vnořených uživatelské rozhraní je v přístupu k a správná data vytvoření vazby na ovládací prvek webu vnitřní data.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-220">The main challenge in building a nested user interface lies in accessing and binding the correct data to the inner data Web control.</span></span> <span data-ttu-id="ae8a6-221">Existuje mnoho různých technik k dispozici, dvě z nich jsme se zaměřili v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-221">There are a variety of techniques available, two of which we examined in this tutorial.</span></span> <span data-ttu-id="ae8a6-222">Prvním přístupem zkontrolován použít ObjectDataSource ve vnější data ovládací prvek webu s `ItemTemplate` která byla vázána na ovládací prvek webu vnitřních dat prostřednictvím jeho `DataSourceID` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-222">The first approach examined used an ObjectDataSource in the outer data Web control s `ItemTemplate` that was bound to the inner data Web control through its `DataSourceID` property.</span></span> <span data-ttu-id="ae8a6-223">Druhý způsob spočívá používaná data prostřednictvím metody ve třídě ASP.NET stránky s kódem v pozadí.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-223">The second technique accessed the data via a method in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="ae8a6-224">Tato metoda může být pak vázaný na vnitřních dat ovládací prvek webu s `DataSource` vlastnosti prostřednictvím syntaxe datové vazby.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-224">This method can then be bound to the inner data Web control s `DataSource` property through databinding syntax.</span></span>

<span data-ttu-id="ae8a6-225">Při vnořené uživatelské rozhraní v tomto kurzu prvku Repeater vnořené v rámci prvku Repeater, tyto postupy lze rozšířit na jiné webové ovládací prvky pro data.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-225">While the nested user interface examined in this tutorial used a Repeater nested within a Repeater, these techniques can be extended to the other data Web controls.</span></span> <span data-ttu-id="ae8a6-226">Lze vnořit opakovače v rámci GridView nebo GridView v rámci DataList a tak dále.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-226">You can nest a Repeater within a GridView, or a GridView within a DataList, and so on.</span></span>

<span data-ttu-id="ae8a6-227">Radostí programování!</span><span class="sxs-lookup"><span data-stu-id="ae8a6-227">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="ae8a6-228">O autorovi</span><span class="sxs-lookup"><span data-stu-id="ae8a6-228">About the Author</span></span>

<span data-ttu-id="ae8a6-229">[Scott Meisnerová](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor sedm ASP/ASP.NET knih a zakladatele z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje s technologií Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-229">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="ae8a6-230">Scott funguje jako nezávislé poradce, trainer a zapisovače.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-230">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="ae8a6-231">Jeho nejnovější seznam k [ *Edice nakladatelství Sams naučit sami technologii ASP.NET 2.0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="ae8a6-231">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="ae8a6-232">Dosažitelný v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) nebo prostřednictvím svého blogu, který najdete na [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="ae8a6-232">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="ae8a6-233">Zvláštní poděkování</span><span class="sxs-lookup"><span data-stu-id="ae8a6-233">Special Thanks To</span></span>

<span data-ttu-id="ae8a6-234">Tento kurz řady byla zkontrolovány uživatelem mnoho užitečné kontrolorů.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-234">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="ae8a6-235">Vést kontroloři pro účely tohoto kurzu byly Zack Petr a Liz Shulok.</span><span class="sxs-lookup"><span data-stu-id="ae8a6-235">Lead reviewers for this tutorial were Zack Jones and Liz Shulok.</span></span> <span data-ttu-id="ae8a6-236">Kontrola Moje nadcházející články MSDN máte zájem?</span><span class="sxs-lookup"><span data-stu-id="ae8a6-236">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="ae8a6-237">Pokud ano, vyřaďte mi řádek v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="ae8a6-237">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="ae8a6-238">[Předchozí](showing-multiple-records-per-row-with-the-datalist-control-cs.md)
> [další](displaying-data-with-the-datalist-and-repeater-controls-vb.md)</span><span class="sxs-lookup"><span data-stu-id="ae8a6-238">[Previous](showing-multiple-records-per-row-with-the-datalist-control-cs.md)
[Next](displaying-data-with-the-datalist-and-repeater-controls-vb.md)</span></span>
