---
uid: web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-vb
title: Přidat sloupec GridView všech políček (VB) | Microsoft Docs
author: rick-anderson
description: V tomto kurzu vypadá na tom, jak přidat sloupec zaškrtávacích políček do ovládacího prvku GridView poskytnout intuitivní způsob této výběru více řádků G. uživatele...
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/06/2007
ms.topic: article
ms.assetid: 39253d05-75c0-41c7-b9d4-a6c58ecf69ce
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-vb
msc.type: authoredcontent
ms.openlocfilehash: beb28de901805e07365f336192d20e914eeebb1e
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/06/2018
ms.locfileid: "30892735"
---
<a name="adding-a-gridview-column-of-checkboxes-vb"></a><span data-ttu-id="7df5b-103">Přidat sloupec GridView všech políček (VB)</span><span class="sxs-lookup"><span data-stu-id="7df5b-103">Adding a GridView Column of Checkboxes (VB)</span></span>
====================
<span data-ttu-id="7df5b-104">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="7df5b-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="7df5b-105">[Stáhněte si ukázkovou aplikaci](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_VB.exe) nebo [stáhnout PDF](adding-a-gridview-column-of-checkboxes-vb/_static/datatutorial52vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="7df5b-105">[Download Sample App](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_VB.exe) or [Download PDF](adding-a-gridview-column-of-checkboxes-vb/_static/datatutorial52vb1.pdf)</span></span>

> <span data-ttu-id="7df5b-106">V tomto kurzu vypadá na tom, jak přidat sloupec zaškrtávacích políček do ovládacího prvku GridView poskytnout intuitivní způsob této výběru více řádků GridView uživatele.</span><span class="sxs-lookup"><span data-stu-id="7df5b-106">This tutorial looks at how to add a column of check boxes to a GridView control to provide the user with an intuitive way of selecting multiple rows of the GridView.</span></span>


## <a name="introduction"></a><span data-ttu-id="7df5b-107">Úvod</span><span class="sxs-lookup"><span data-stu-id="7df5b-107">Introduction</span></span>

<span data-ttu-id="7df5b-108">V předchozím kurzu jsme se zaměřili jak přidat sloupec přepínačů do GridView pro účely výběrem konkrétního záznamu.</span><span class="sxs-lookup"><span data-stu-id="7df5b-108">In the preceding tutorial we examined how to add a column of radio buttons to the GridView for the purpose of selecting a particular record.</span></span> <span data-ttu-id="7df5b-109">Sloupec přepínačů je vhodné uživatelské rozhraní, když uživatel je omezený výběr maximálně jednu položku z mřížky.</span><span class="sxs-lookup"><span data-stu-id="7df5b-109">A column of radio buttons is a suitable user interface when the user is limited to choosing at most one item from the grid.</span></span> <span data-ttu-id="7df5b-110">V některých případech ale může chceme uživateli umožní vybrat libovolný počet položek mřížky.</span><span class="sxs-lookup"><span data-stu-id="7df5b-110">At times, however, we may want to allow the user to pick an arbitrary number of items from the grid.</span></span> <span data-ttu-id="7df5b-111">Webové e-mailové klienty, například obvykle zobrazí seznam zpráv se sloupcem zaškrtávací políčka.</span><span class="sxs-lookup"><span data-stu-id="7df5b-111">Web-based email clients, for example, typically display the list of messages with a column of checkboxes.</span></span> <span data-ttu-id="7df5b-112">Uživatele můžete vybrat libovolný počet zpráv a potom provést některé akce, například přesun e-maily do jiné složky nebo jejich odstranění.</span><span class="sxs-lookup"><span data-stu-id="7df5b-112">The user can select an arbitrary number of messages and then perform some action, such as moving the emails to another folder or deleting them.</span></span>

<span data-ttu-id="7df5b-113">V tomto kurzu jsme se zobrazí, jak přidat sloupec zaškrtávací políčka a o tom, jaké zaškrtávací políčka zaškrtnuty na zpětné volání.</span><span class="sxs-lookup"><span data-stu-id="7df5b-113">In this tutorial we will see how to add a column of checkboxes and how to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="7df5b-114">Konkrétně jsme budete vytvářet příklad, který úzce napodobuje uživatelské rozhraní klienta e-mailové zprávy.</span><span class="sxs-lookup"><span data-stu-id="7df5b-114">In particular, we'll build an example that closely mimics the web-based email client user interface.</span></span> <span data-ttu-id="7df5b-115">Náš příklad bude obsahovat stránkové GridView výpis produkty ve `Products` databázové tabulky s zaškrtávací políčko v každém řádku (viz obrázek 1).</span><span class="sxs-lookup"><span data-stu-id="7df5b-115">Our example will include a paged GridView listing the products in the `Products` database table with a checkbox in each row (see Figure 1).</span></span> <span data-ttu-id="7df5b-116">Tlačítko Odstranit vybrané produkty, při kliknutí na, dojde k odstranění těchto produktů.</span><span class="sxs-lookup"><span data-stu-id="7df5b-116">A Delete Selected Products button, when clicked, will delete those products selected.</span></span>


<span data-ttu-id="7df5b-117">[![Každý řádek produkt obsahuje zaškrtávací políčko](adding-a-gridview-column-of-checkboxes-vb/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="7df5b-117">[![Each Product Row Includes a Checkbox](adding-a-gridview-column-of-checkboxes-vb/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image1.png)</span></span>

<span data-ttu-id="7df5b-118">**Obrázek 1**: zaškrtávací políčko obsahuje každý řádek produktu ([Kliknutím zobrazit obrázek v plné velikosti](adding-a-gridview-column-of-checkboxes-vb/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="7df5b-118">**Figure 1**: Each Product Row Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image2.png))</span></span>


## <a name="step-1-adding-a-paged-gridview-that-lists-product-information"></a><span data-ttu-id="7df5b-119">Krok 1: Přidání stránkové GridView, které jsou uvedeny informace o produktu</span><span class="sxs-lookup"><span data-stu-id="7df5b-119">Step 1: Adding a Paged GridView that Lists Product Information</span></span>

<span data-ttu-id="7df5b-120">Před jsme starat o přidání sloupce zaškrtávací políčka, umožní s první zaměřit se na seznam produktů v GridView, který podporuje stránkování.</span><span class="sxs-lookup"><span data-stu-id="7df5b-120">Before we worry about adding a column of checkboxes, let s first focus on listing the products in a GridView that supports paging.</span></span> <span data-ttu-id="7df5b-121">Začněte otevřením `CheckBoxField.aspx` stránku `EnhancedGridView` složku a přetáhněte GridView z panelu nástrojů na návrháře nastavení jeho `ID` k `Products`.</span><span class="sxs-lookup"><span data-stu-id="7df5b-121">Start by opening the `CheckBoxField.aspx` page in the `EnhancedGridView` folder and drag a GridView from the Toolbox onto the Designer, setting its `ID` to `Products`.</span></span> <span data-ttu-id="7df5b-122">V dalším kroku vyberte pro vazbu GridView nové ObjectDataSource s názvem `ProductsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="7df5b-122">Next, choose to bind the GridView to a new ObjectDataSource named `ProductsDataSource`.</span></span> <span data-ttu-id="7df5b-123">Konfigurace ObjectDataSource používat `ProductsBLL` třídy, volání `GetProducts()` metoda vrátit data.</span><span class="sxs-lookup"><span data-stu-id="7df5b-123">Configure the ObjectDataSource to use the `ProductsBLL` class, calling the `GetProducts()` method to return the data.</span></span> <span data-ttu-id="7df5b-124">Vzhledem k tomu, že tato rutina GridView budou jen pro čtení, nastavte rozevírací seznamy v aktualizaci UPDATE, INSERT a odstranit karty na (žádný).</span><span class="sxs-lookup"><span data-stu-id="7df5b-124">Since this GridView will be read-only, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) .</span></span>


<span data-ttu-id="7df5b-125">[![Vytvořit nový ObjectDataSource s názvem ProductsDataSource](adding-a-gridview-column-of-checkboxes-vb/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="7df5b-125">[![Create a New ObjectDataSource Named ProductsDataSource](adding-a-gridview-column-of-checkboxes-vb/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image3.png)</span></span>

<span data-ttu-id="7df5b-126">**Obrázek 2**: vytvoření nové ObjectDataSource s názvem `ProductsDataSource` ([Kliknutím zobrazit obrázek v plné velikosti](adding-a-gridview-column-of-checkboxes-vb/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="7df5b-126">**Figure 2**: Create a New ObjectDataSource Named `ProductsDataSource` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image4.png))</span></span>


<span data-ttu-id="7df5b-127">[![Konfigurace ObjectDataSource k načtení dat pomocí metody GetProducts()](adding-a-gridview-column-of-checkboxes-vb/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="7df5b-127">[![Configure the ObjectDataSource to Retrieve Data Using the GetProducts() Method](adding-a-gridview-column-of-checkboxes-vb/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image5.png)</span></span>

<span data-ttu-id="7df5b-128">**Obrázek 3**: Konfigurace ObjectDataSource k načtení dat pomocí `GetProducts()` – metoda ([Kliknutím zobrazit obrázek v plné velikosti](adding-a-gridview-column-of-checkboxes-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="7df5b-128">**Figure 3**: Configure the ObjectDataSource to Retrieve Data Using the `GetProducts()` Method ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image6.png))</span></span>


<span data-ttu-id="7df5b-129">[![Nastavte rozevírací seznamy v aktualizaci UPDATE, INSERT a odstranit karty na (žádný)](adding-a-gridview-column-of-checkboxes-vb/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="7df5b-129">[![Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None)](adding-a-gridview-column-of-checkboxes-vb/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image7.png)</span></span>

<span data-ttu-id="7df5b-130">**Obrázek 4**: rozevíracího seznamu jsou uvedeny ve UPDATE, INSERT a odstranit karty na hodnotu (žádná) ([Kliknutím zobrazit obrázek v plné velikosti](adding-a-gridview-column-of-checkboxes-vb/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="7df5b-130">**Figure 4**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None) ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image8.png))</span></span>


<span data-ttu-id="7df5b-131">Po dokončení průvodce Konfigurace zdroje dat, Visual Studio automaticky vytvoří BoundColumns a CheckBoxColumn pro týkající se produktu datová pole.</span><span class="sxs-lookup"><span data-stu-id="7df5b-131">After completing the Configure Data Source wizard, Visual Studio will automatically create BoundColumns and a CheckBoxColumn for the product-related data fields.</span></span> <span data-ttu-id="7df5b-132">Postupem uvedeným v tomto kurzu předchozí, odeberte všechny ale na `ProductName`, `CategoryName`, a `UnitPrice` BoundFields a změňte `HeaderText` vlastností produktu, kategorie a ceny.</span><span class="sxs-lookup"><span data-stu-id="7df5b-132">Like we did in the previous tutorial, remove all but the `ProductName`, `CategoryName`, and `UnitPrice` BoundFields, and change the `HeaderText` properties to Product, Category, and Price.</span></span> <span data-ttu-id="7df5b-133">Konfigurace `UnitPrice` BoundField tak, aby její hodnota je formátován jako měny.</span><span class="sxs-lookup"><span data-stu-id="7df5b-133">Configure the `UnitPrice` BoundField so that its value is formatted as a currency.</span></span> <span data-ttu-id="7df5b-134">Také nakonfigurujte GridView pro podporu stránkování zaškrtnutím políčka Povolit stránkování ze inteligentní značky.</span><span class="sxs-lookup"><span data-stu-id="7df5b-134">Also configure the GridView to support paging by checking the Enable Paging checkbox from the smart tag.</span></span>

<span data-ttu-id="7df5b-135">Umožní s také přidat uživatelské rozhraní pro odstranění vybrané produkty.</span><span class="sxs-lookup"><span data-stu-id="7df5b-135">Let s also add the user interface for deleting the selected products.</span></span> <span data-ttu-id="7df5b-136">Přidání ovládacího prvku tlačítko webové pod GridView, nastavení jeho `ID` k `DeleteSelectedProducts` a jeho `Text` vlastnost odstranit vybrané produkty.</span><span class="sxs-lookup"><span data-stu-id="7df5b-136">Add a Button Web control beneath the GridView, setting its `ID` to `DeleteSelectedProducts` and its `Text` property to Delete Selected Products.</span></span> <span data-ttu-id="7df5b-137">Místo skutečného odstranění produkty z databáze, v tomto příkladu budete právě, zobrazuje se zpráva s oznámením, produkty, které by byly odstraněny.</span><span class="sxs-lookup"><span data-stu-id="7df5b-137">Rather than actually deleting products from the database, for this example we'll just display a message stating the products that would have been deleted.</span></span> <span data-ttu-id="7df5b-138">K tomuto požadavku vyhovělo, přidání ovládacího prvku popisek webové pod tlačítko.</span><span class="sxs-lookup"><span data-stu-id="7df5b-138">To accommodate this, add a Label Web control beneath the Button.</span></span> <span data-ttu-id="7df5b-139">Nastavit jeho ID na `DeleteResults`, zrušte na jeho `Text` vlastnost a nastavte její `Visible` a `EnableViewState` vlastnosti, které chcete `False`.</span><span class="sxs-lookup"><span data-stu-id="7df5b-139">Set its ID to `DeleteResults`, clear out its `Text` property, and set its `Visible` and `EnableViewState` properties to `False`.</span></span>

<span data-ttu-id="7df5b-140">Po provedení těchto změn, by měl GridView, ObjectDataSource, tlačítka a štítek s deklarativní podobný následujícímu:</span><span class="sxs-lookup"><span data-stu-id="7df5b-140">After making these changes, the GridView, ObjectDataSource, Button, and Label s declarative markup should similar to the following:</span></span>


[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-vb/samples/sample1.aspx)]

<span data-ttu-id="7df5b-141">Za chvíli zobrazíte stránku v prohlížeči (viz obrázek 5).</span><span class="sxs-lookup"><span data-stu-id="7df5b-141">Take a moment to view the page in a browser (see Figure 5).</span></span> <span data-ttu-id="7df5b-142">Měli byste vidět v tomto okamžiku název, kategorie a cena prvních deset produktů.</span><span class="sxs-lookup"><span data-stu-id="7df5b-142">At this point you should see the name, category, and price of the first ten products.</span></span>


<span data-ttu-id="7df5b-143">[![Název, kategorie a cena první deset produkty jsou uvedeny.](adding-a-gridview-column-of-checkboxes-vb/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="7df5b-143">[![The Name, Category, and Price of the First Ten Products are Listed](adding-a-gridview-column-of-checkboxes-vb/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image9.png)</span></span>

<span data-ttu-id="7df5b-144">**Obrázek 5**: Name, kategorie a cena první deset produkty jsou uvedeny ([Kliknutím zobrazit obrázek v plné velikosti](adding-a-gridview-column-of-checkboxes-vb/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="7df5b-144">**Figure 5**: The Name, Category, and Price of the First Ten Products are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image10.png))</span></span>


## <a name="step-2-adding-a-column-of-checkboxes"></a><span data-ttu-id="7df5b-145">Krok 2: Přidání sloupce zaškrtávací políčka</span><span class="sxs-lookup"><span data-stu-id="7df5b-145">Step 2: Adding a Column of Checkboxes</span></span>

<span data-ttu-id="7df5b-146">Vzhledem k tomu, že technologie ASP.NET 2.0 obsahuje třídy CheckBoxField, jeden může myslíte, že ho může použít k přidání sloupce zaškrtávací políčka do GridView.</span><span class="sxs-lookup"><span data-stu-id="7df5b-146">Since ASP.NET 2.0 includes a CheckBoxField, one might think that it could be used to add a column of checkboxes to a GridView.</span></span> <span data-ttu-id="7df5b-147">Bohužel, která není tak, jako třída CheckBoxField je navržen pro práci s polem Boolean – datový.</span><span class="sxs-lookup"><span data-stu-id="7df5b-147">Unfortunately, that is not the case, as the CheckBoxField is designed to work with a Boolean data field.</span></span> <span data-ttu-id="7df5b-148">Chcete-li použít vlastnost CheckBoxField jsme to znamená, musíte zadat základní datové pole, jehož hodnota je ohled tehdy, chcete-li zjistit, zda vykreslené zaškrtávací políčko je zaškrtnuto.</span><span class="sxs-lookup"><span data-stu-id="7df5b-148">That is, in order to use the CheckBoxField we must specify the underlying data field whose value is consulted to determine whether the rendered checkbox is checked.</span></span> <span data-ttu-id="7df5b-149">Nemůžeme použít vlastnost CheckBoxField právě zahrnout sloupec není zaškrtnuto zaškrtávací políčka.</span><span class="sxs-lookup"><span data-stu-id="7df5b-149">We cannot use the CheckBoxField to just include a column of unchecked checkboxes.</span></span>

<span data-ttu-id="7df5b-150">Místo toho jsme musíte přidat TemplateField a přidat ovládací prvek zaškrtávací políčko webového k jeho `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="7df5b-150">Instead, we must add a TemplateField and add a CheckBox Web control to its `ItemTemplate`.</span></span> <span data-ttu-id="7df5b-151">Pokračovat a přidat TemplateField k `Products` GridView a nastavit jej jako první pole (úplně zprava doleva).</span><span class="sxs-lookup"><span data-stu-id="7df5b-151">Go ahead and add a TemplateField to the `Products` GridView and make it the first (far-left) field.</span></span> <span data-ttu-id="7df5b-152">Z s GridView inteligentních značek, klikněte na odkaz Upravit šablony a poté přetáhněte ovládací prvek zaškrtávací políčko webového z panelu nástrojů do `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="7df5b-152">From the GridView s smart tag, click on the Edit Templates link and then drag a CheckBox Web control from the Toolbox into the `ItemTemplate`.</span></span> <span data-ttu-id="7df5b-153">Nastavit toto zaškrtávací políčko s `ID` vlastnost `ProductSelector`.</span><span class="sxs-lookup"><span data-stu-id="7df5b-153">Set this CheckBox s `ID` property to `ProductSelector`.</span></span>


<span data-ttu-id="7df5b-154">[![Přidání ovládacího prvku webového zaškrtávací políčko s názvem ProductSelector k TemplateField s ItemTemplate](adding-a-gridview-column-of-checkboxes-vb/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="7df5b-154">[![Add a CheckBox Web Control Named ProductSelector to the TemplateField s ItemTemplate](adding-a-gridview-column-of-checkboxes-vb/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image11.png)</span></span>

<span data-ttu-id="7df5b-155">**Obrázek 6**: Přidání zaškrtávací políčko webové ovládací prvek s názvem `ProductSelector` k TemplateField s `ItemTemplate` ([Kliknutím zobrazit obrázek v plné velikosti](adding-a-gridview-column-of-checkboxes-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="7df5b-155">**Figure 6**: Add a CheckBox Web Control Named `ProductSelector` to the TemplateField s `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image12.png))</span></span>


<span data-ttu-id="7df5b-156">Každý řádek s TemplateField a zaškrtávací políčko webové ovládací prvek přidán, teď obsahuje zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="7df5b-156">With the TemplateField and CheckBox Web control added, each row now includes a checkbox.</span></span> <span data-ttu-id="7df5b-157">Obrázek 7 znázorňuje tuto stránku při zobrazení prostřednictvím prohlížeče, po přidání TemplateField a zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="7df5b-157">Figure 7 shows this page, when viewed through a browser, after the TemplateField and CheckBox have been added.</span></span>


<span data-ttu-id="7df5b-158">[![Každý řádek produktu nyní zahrnuje zaškrtávací políčko](adding-a-gridview-column-of-checkboxes-vb/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="7df5b-158">[![Each Product Row Now Includes a Checkbox](adding-a-gridview-column-of-checkboxes-vb/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image13.png)</span></span>

<span data-ttu-id="7df5b-159">**Obrázek 7**: každý řádek produktu nyní zahrnuje zaškrtávací políčko ([Kliknutím zobrazit obrázek v plné velikosti](adding-a-gridview-column-of-checkboxes-vb/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="7df5b-159">**Figure 7**: Each Product Row Now Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image14.png))</span></span>


## <a name="step-3-determining-what-checkboxes-were-checked-on-postback"></a><span data-ttu-id="7df5b-160">Krok 3: Určení, jaké zaškrtávací políčka zaškrtnuty na zpětné volání</span><span class="sxs-lookup"><span data-stu-id="7df5b-160">Step 3: Determining What Checkboxes Were Checked On Postback</span></span>

<span data-ttu-id="7df5b-161">V tuto chvíli nemáme sloupec zaškrtávací políčka, ale žádný způsob, jak zjistit, jaké zaškrtávací políčka zaškrtnuty na zpětné volání.</span><span class="sxs-lookup"><span data-stu-id="7df5b-161">At this point we have a column of checkboxes but no way to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="7df5b-162">Při kliknutí na tlačítko Odstranit vybrané produkty, ale je potřeba vědět, jaké zaškrtávací políčka zaškrtnuty Chcete-li odstranit tyto produkty.</span><span class="sxs-lookup"><span data-stu-id="7df5b-162">When the Delete Selected Products button is clicked, though, we need to know what checkboxes were checked in order to delete those products.</span></span>

<span data-ttu-id="7df5b-163">Rutina GridView s [ `Rows` vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.rows.aspx) poskytuje přístup k řádky dat v GridView.</span><span class="sxs-lookup"><span data-stu-id="7df5b-163">The GridView s [`Rows` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.rows.aspx) provides access to the data rows in the GridView.</span></span> <span data-ttu-id="7df5b-164">Jsme iterace tyto řádky prostřednictvím kódu programu přistupovat ovládacího prvku CheckBox a poté se podívejte jeho `Checked` vlastnosti k určení, zda bylo zaškrtnuto políčko.</span><span class="sxs-lookup"><span data-stu-id="7df5b-164">We can iterate through these rows, programmatically access the CheckBox control, and then consult its `Checked` property to determine whether the CheckBox has been selected.</span></span>

<span data-ttu-id="7df5b-165">Vytvoření obslužné rutiny událostí `DeleteSelectedProducts` ovládací prvek tlačítko webu s `Click` událostí a přidejte následující kód:</span><span class="sxs-lookup"><span data-stu-id="7df5b-165">Create an event handler for the `DeleteSelectedProducts` Button Web control s `Click` event and add the following code:</span></span>


[!code-vb[Main](adding-a-gridview-column-of-checkboxes-vb/samples/sample2.vb)]

<span data-ttu-id="7df5b-166">`Rows` Vlastnost vrátí kolekci `GridViewRow` instance tento způsob vytvoření řádky dat s GridView.</span><span class="sxs-lookup"><span data-stu-id="7df5b-166">The `Rows` property returns a collection of `GridViewRow` instances that makeup the GridView s data rows.</span></span> <span data-ttu-id="7df5b-167">`For Each` Smyčky tady zobrazí tuto kolekci.</span><span class="sxs-lookup"><span data-stu-id="7df5b-167">The `For Each` loop here enumerates this collection.</span></span> <span data-ttu-id="7df5b-168">Pro každou `GridViewRow` objektu řádek s zaškrtávací políčko je programově přistupovat pomocí `row.FindControl("controlID")`.</span><span class="sxs-lookup"><span data-stu-id="7df5b-168">For each `GridViewRow` object, the row s CheckBox is programmatically accessed using `row.FindControl("controlID")`.</span></span> <span data-ttu-id="7df5b-169">Pokud je zaškrtnuté políčko, odpovídající řádek s `ProductID` hodnota je načten z `DataKeys` kolekce.</span><span class="sxs-lookup"><span data-stu-id="7df5b-169">If the CheckBox is checked, the row s corresponding `ProductID` value is retrieved from the `DataKeys` collection.</span></span> <span data-ttu-id="7df5b-170">V tomto cvičení zobrazujeme jednoduše informativní zprávy v `DeleteResults` označení, i když v funkční aplikaci jsme d místo toho proveďte volání `ProductsBLL` třídu s `DeleteProduct(productID)` metoda.</span><span class="sxs-lookup"><span data-stu-id="7df5b-170">In this exercise, we simply display an informative message in the `DeleteResults` Label, although in a working application we d instead make a call to the `ProductsBLL` class s `DeleteProduct(productID)` method.</span></span>

<span data-ttu-id="7df5b-171">Přidáním této obslužné rutiny události se teď klepnutím na tlačítko Odstranit vybrané produkty zobrazí `ProductID` s vybrané produkty.</span><span class="sxs-lookup"><span data-stu-id="7df5b-171">With the addition of this event handler, clicking the Delete Selected Products button now displays the `ProductID` s of the selected products.</span></span>


<span data-ttu-id="7df5b-172">[![Při kliknutí na tlačítko vybrané produkty odstranit jsou uvedeny produkty ProductIDs vybrané](adding-a-gridview-column-of-checkboxes-vb/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="7df5b-172">[![When the Delete Selected Products Button is Clicked the Selected Products ProductIDs are Listed](adding-a-gridview-column-of-checkboxes-vb/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image15.png)</span></span>

<span data-ttu-id="7df5b-173">**Obrázek 8**: při the odstranit vybrané produktů po kliknutí na tlačítko produkty vybrané `ProductID` s jsou uvedeny ([Kliknutím zobrazit obrázek v plné velikosti](adding-a-gridview-column-of-checkboxes-vb/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="7df5b-173">**Figure 8**: When the Delete Selected Products Button is Clicked the Selected Products `ProductID` s are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image16.png))</span></span>


## <a name="step-4-adding-check-all-and-uncheck-all-buttons"></a><span data-ttu-id="7df5b-174">Krok 4: Přidání zkontroluje všechny a zrušte zaškrtnutí všech tlačítek</span><span class="sxs-lookup"><span data-stu-id="7df5b-174">Step 4: Adding Check All and Uncheck All Buttons</span></span>

<span data-ttu-id="7df5b-175">Pokud uživatel chce odstranit všechny produkty na aktuální stránce, se musíte zkontrolovat, každý z deset políček.</span><span class="sxs-lookup"><span data-stu-id="7df5b-175">If a user wants to delete all products on the current page, they must check each of the ten checkboxes.</span></span> <span data-ttu-id="7df5b-176">Pomůžeme vám urychlit tento proces přidáním zkontrolujte všechny tlačítko, která po kliknutí na vybere všechny políček v mřížce.</span><span class="sxs-lookup"><span data-stu-id="7df5b-176">We can help expedite this process by adding a Check All button that, when clicked, selects all of the checkboxes in the grid.</span></span> <span data-ttu-id="7df5b-177">Zrušte zaškrtnutí všech tlačítko by stejně užitečné.</span><span class="sxs-lookup"><span data-stu-id="7df5b-177">An Uncheck All button would be equally helpful.</span></span>

<span data-ttu-id="7df5b-178">Přidání dvě tlačítka na stránce je umístit nad GridView.</span><span class="sxs-lookup"><span data-stu-id="7df5b-178">Add two Button Web controls to the page, placing them above the GridView.</span></span> <span data-ttu-id="7df5b-179">Nastavit první z nich s `ID` k `CheckAll` a jeho `Text` vlastnost zkontrolujte všechny; nastavte druhý jeden s `ID` k `UncheckAll` a jeho `Text` vlastnost zrušte zaškrtnutí všech.</span><span class="sxs-lookup"><span data-stu-id="7df5b-179">Set the first one s `ID` to `CheckAll` and its `Text` property to Check All ; set the second one s `ID` to `UncheckAll` and its `Text` property to Uncheck All .</span></span>


[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-vb/samples/sample3.aspx)]

<span data-ttu-id="7df5b-180">V dalším kroku vytvoření metody ve třídě kódu s názvem `ToggleCheckState(checkState)` , po vyvolání vytvoří výčet `Products` GridView s `Rows` kolekce a nastaví každý zaškrtávacího políčka s `Checked` vlastnost na hodnotu předaný v *checkState*  parametr.</span><span class="sxs-lookup"><span data-stu-id="7df5b-180">Next, create a method in the code-behind class named `ToggleCheckState(checkState)` that, when invoked, enumerates the `Products` GridView s `Rows` collection and sets each CheckBox s `Checked` property to the value of the passed in *checkState* parameter.</span></span>


[!code-vb[Main](adding-a-gridview-column-of-checkboxes-vb/samples/sample4.vb)]

<span data-ttu-id="7df5b-181">Dále vytvořte `Click` obslužné rutiny události pro `CheckAll` a `UncheckAll` tlačítka.</span><span class="sxs-lookup"><span data-stu-id="7df5b-181">Next, create `Click` event handlers for the `CheckAll` and `UncheckAll` buttons.</span></span> <span data-ttu-id="7df5b-182">V `CheckAll` obslužné rutiny události s, jednoduše volání `ToggleCheckState(True)`; v `UncheckAll`, volání `ToggleCheckState(False)`.</span><span class="sxs-lookup"><span data-stu-id="7df5b-182">In `CheckAll` s event handler, simply call `ToggleCheckState(True)`; in `UncheckAll`, call `ToggleCheckState(False)`.</span></span>


[!code-vb[Main](adding-a-gridview-column-of-checkboxes-vb/samples/sample5.vb)]

<span data-ttu-id="7df5b-183">S tímto kódem klepnutím na tlačítko Zkontrolovat všechny způsobí zpětné volání a kontroluje všechny políček v GridView.</span><span class="sxs-lookup"><span data-stu-id="7df5b-183">With this code, clicking the Check All button causes a postback and checks all of the checkboxes in the GridView.</span></span> <span data-ttu-id="7df5b-184">Kliknutím na tlačítko Zrušit zaškrtnutí všech, zruší výběr nakresleného všechna zaškrtávací políčka.</span><span class="sxs-lookup"><span data-stu-id="7df5b-184">Likewise, clicking Uncheck All unselects all checkboxes.</span></span> <span data-ttu-id="7df5b-185">Obrázek 9 ukazuje obrazovky po byl vrácen zkontrolujte všechny tlačítko.</span><span class="sxs-lookup"><span data-stu-id="7df5b-185">Figure 9 shows the screen after the Check All button has been checked.</span></span>


<span data-ttu-id="7df5b-186">[![Kliknutím na kontrolu, kterou všechny tlačítko vybere všechny zaškrtávací políčka](adding-a-gridview-column-of-checkboxes-vb/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="7df5b-186">[![Clicking the Check All Button Selects All Checkboxes](adding-a-gridview-column-of-checkboxes-vb/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image17.png)</span></span>

<span data-ttu-id="7df5b-187">**Obrázek 9**: Kliknutím na tlačítko Zkontrolovat všechny tlačítko vybere všechny políček ([Kliknutím zobrazit obrázek v plné velikosti](adding-a-gridview-column-of-checkboxes-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="7df5b-187">**Figure 9**: Clicking the Check All Button Selects All Checkboxes ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image18.png))</span></span>


> [!NOTE]
> <span data-ttu-id="7df5b-188">Při zobrazení sloupce zaškrtávací políčka, jeden ze způsobů pro výběr nebo unselecting všechna zaškrtávací políčka je prostřednictvím zaškrtávací políčko v řádku záhlaví.</span><span class="sxs-lookup"><span data-stu-id="7df5b-188">When displaying a column of checkboxes, one approach for selecting or unselecting all of the checkboxes is through a checkbox in the header row.</span></span> <span data-ttu-id="7df5b-189">Kromě toho aktuální zkontroluje všechny nebo zrušte zaškrtnutí všech implementace vyžaduje zpětné volání.</span><span class="sxs-lookup"><span data-stu-id="7df5b-189">Moreover, the current Check All / Uncheck All implementation requires a postback.</span></span> <span data-ttu-id="7df5b-190">Zaškrtávací políčka může být zaškrtnuté nebo nezaškrtnuté, ale zcela prostřednictvím skript na straně klienta, což zajišťuje snappier činnost koncového uživatele.</span><span class="sxs-lookup"><span data-stu-id="7df5b-190">The checkboxes can be checked or unchecked, however, entirely through client-side script, thereby providing a snappier user experience.</span></span> <span data-ttu-id="7df5b-191">Prozkoumat pomocí zaškrtávacího políčka řádek záhlaví pro zkontrolujte všechny a zrušte zaškrtnutí všech podrobně spolu se zabývat pomocí technik na straně klienta, podívejte se na [kontrola všech políček v GridView pomocí klientský skript a zkontrolujte všechny políčko](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="7df5b-191">To explore using a header row checkbox for Check All and Uncheck All in detail, along with a discussion on using client-side techniques, check out [Checking All CheckBoxes in a GridView Using Client-Side Script and a Check All CheckBox](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span></span>


## <a name="summary"></a><span data-ttu-id="7df5b-192">Souhrn</span><span class="sxs-lookup"><span data-stu-id="7df5b-192">Summary</span></span>

<span data-ttu-id="7df5b-193">Přidání sloupce zaškrtávací políčka v případech, kde je nutné, aby mohli uživatelé vybrat libovolný počet řádků z GridView než budete pokračovat, je jednou z možností.</span><span class="sxs-lookup"><span data-stu-id="7df5b-193">In cases where you need to let users choose an arbitrary number of rows from a GridView before proceeding, adding a column of checkboxes is one option.</span></span> <span data-ttu-id="7df5b-194">Jak jsme viděli v tomto kurzu, včetně sloupec zaškrtávací políčka v GridView má za následek přidání TemplateField s ovládacím prvkem webové zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="7df5b-194">As we saw in this tutorial, including a column of checkboxes in the GridView entails adding a TemplateField with a CheckBox Web control.</span></span> <span data-ttu-id="7df5b-195">Pomocí ovládacího prvku webového (oproti vložení kódu přímo do šablony, jako jsme to udělali v předchozím kurzu) technologie ASP.NET je automaticky pamatuje co zaškrtávací políčka byly a nebyly zaškrtnutí napříč zpětné volání.</span><span class="sxs-lookup"><span data-stu-id="7df5b-195">By using a Web control (versus injecting markup directly into the template, as we did in the previous tutorial) ASP.NET automatically remembers what CheckBoxes were and were not checked across postback.</span></span> <span data-ttu-id="7df5b-196">Zaškrtávací políčka v kódu k určení, zda daný zaškrtávací políčko je zaškrtnuto, nebo na změnu stavu zaškrtnuté jsme můžete získat přístup také prostřednictvím kódu programu.</span><span class="sxs-lookup"><span data-stu-id="7df5b-196">We can also programmatically access the CheckBoxes in code to determine whether a given CheckBox is checked, or to chnage the checked state.</span></span>

<span data-ttu-id="7df5b-197">Tento kurz a poslední prohlédli GridView přidat sloupec pro výběr řádků.</span><span class="sxs-lookup"><span data-stu-id="7df5b-197">This tutorial and the last one looked at adding a row selector column to the GridView.</span></span> <span data-ttu-id="7df5b-198">V našem kurzu další podíváme, jak se bit práce, můžete přidáme vkládání možnosti k GridView.</span><span class="sxs-lookup"><span data-stu-id="7df5b-198">In our next tutorial we'll examine how, with a bit of work, we can add inserting capabilities to the GridView.</span></span>

<span data-ttu-id="7df5b-199">Radostí programování!</span><span class="sxs-lookup"><span data-stu-id="7df5b-199">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="7df5b-200">O autorovi</span><span class="sxs-lookup"><span data-stu-id="7df5b-200">About the Author</span></span>

<span data-ttu-id="7df5b-201">[Scott Meisnerová](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor sedm ASP/ASP.NET knih a zakladatele z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje s technologií Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="7df5b-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="7df5b-202">Scott funguje jako nezávislé poradce, trainer a zapisovače.</span><span class="sxs-lookup"><span data-stu-id="7df5b-202">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="7df5b-203">Jeho nejnovější seznam k [ *Edice nakladatelství Sams naučit sami technologii ASP.NET 2.0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="7df5b-203">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="7df5b-204">Dosažitelný v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) nebo prostřednictvím svého blogu, který najdete na [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="7df5b-204">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="7df5b-205">[Předchozí](adding-a-gridview-column-of-radio-buttons-vb.md)
> [další](inserting-a-new-record-from-the-gridview-s-footer-vb.md)</span><span class="sxs-lookup"><span data-stu-id="7df5b-205">[Previous](adding-a-gridview-column-of-radio-buttons-vb.md)
[Next](inserting-a-new-record-from-the-gridview-s-footer-vb.md)</span></span>
