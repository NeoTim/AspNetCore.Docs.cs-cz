---
uid: web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-acess-two-pages-datalist-cs
title: Filtrování napříč dvěma stránkami (C#) podrobností | Microsoft Docs
author: rick-anderson
description: V tomto kurzu podíváme na to, jak jednotlivé sestavy a podrobností mezi dvěma stránkami. Na stránce "hlavní" používáme k vykreslení seznam categ ovládacího prvku opakovače...
ms.author: aspnetcontent
manager: wpickett
ms.date: 10/30/2010
ms.topic: article
ms.assetid: 68b8c023-92fa-4df6-9563-1764e16e4b04
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-acess-two-pages-datalist-cs
msc.type: authoredcontent
ms.openlocfilehash: 6a3783175218438f2a9f735c3861c56e039a248e
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/06/2018
---
<a name="masterdetail-filtering-across-two-pages-c"></a><span data-ttu-id="0d5c9-104">Seznam podrobnosti filtrování napříč dvěma stránkami (C#)</span><span class="sxs-lookup"><span data-stu-id="0d5c9-104">Master/Detail Filtering Across Two Pages (C#)</span></span>
====================
<span data-ttu-id="0d5c9-105">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="0d5c9-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="0d5c9-106">[Stáhněte si ukázkovou aplikaci](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_34_CS.exe) nebo [stáhnout PDF](master-detail-filtering-acess-two-pages-datalist-cs/_static/datatutorial34cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="0d5c9-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_34_CS.exe) or [Download PDF](master-detail-filtering-acess-two-pages-datalist-cs/_static/datatutorial34cs1.pdf)</span></span>

> <span data-ttu-id="0d5c9-107">V tomto kurzu podíváme na to, jak jednotlivé sestavy a podrobností mezi dvěma stránkami.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-107">In this tutorial we look at how to separate a master/detail report across two pages.</span></span> <span data-ttu-id="0d5c9-108">Na stránce "hlavní" používáme k vykreslení seznam kategorií, které po kliknutí na, bude trvat uživatele na stránku "Podrobnosti", kde DataList dva sloupce zobrazí tyto produkty, které patří do vybrané kategorie ovládacího prvku opakovače.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-108">In the "master" page we use a Repeater control to render a list of categories that, when clicked, will take the user to the "details" page where a two-column DataList shows those products belonging to the selected category.</span></span>


## <a name="introduction"></a><span data-ttu-id="0d5c9-109">Úvod</span><span class="sxs-lookup"><span data-stu-id="0d5c9-109">Introduction</span></span>

<span data-ttu-id="0d5c9-110">V [předchozí kurzu](master-detail-filtering-with-a-dropdownlist-datalist-cs.md) jsme viděli, jak zobrazit sestavy a podrobností v jedné webové stránce pomocí DropDownLists zobrazíte "hlavní" záznamů a DataList zobrazíte "Podrobnosti".</span><span class="sxs-lookup"><span data-stu-id="0d5c9-110">In the [preceding tutorial](master-detail-filtering-with-a-dropdownlist-datalist-cs.md) we saw how to display master/detail reports in a single web page using DropDownLists to display the "master" records and a DataList to display the "details."</span></span> <span data-ttu-id="0d5c9-111">Další běžné způsobem používaným pro sestavy a podrobností je hlavní záznamů na jedné webové stránky a podrobnosti na další.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-111">Another common pattern used for master/detail reports is to have the master records on one web page and the details on another.</span></span> <span data-ttu-id="0d5c9-112">V dříve [filtrování a podrobností mezi dvěma stránkami](../masterdetail/master-detail-filtering-across-two-pages-cs.md) kurzu jsme se zaměřili na tento vzor pomocí GridView pro zobrazení všech dodavatelů v systému.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-112">In the earlier [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial, we examined this pattern using a GridView to display all of the suppliers in the system.</span></span> <span data-ttu-id="0d5c9-113">Tato rutina GridView zahrnuté HyperLinkField, který se vykresluje jako odkaz na druhé stránce, předávání společně `SupplierID` v řetězci dotazu.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-113">This GridView included a HyperLinkField, which rendered as a link to a second page, passing along the `SupplierID` in the querystring.</span></span> <span data-ttu-id="0d5c9-114">Druhá stránka používá GridView seznam těchto produktů poskytnutých vybrané dodavatelem.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-114">The second page used a GridView to list those products provided by the selected supplier.</span></span>

<span data-ttu-id="0d5c9-115">Tyto dvě stránky a podrobností sestavy můžete udělat pomocí DataList opakovače ovládací prvky a také.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-115">Such two-page master/detail reports can be accomplished using DataList and Repeater controls as well.</span></span> <span data-ttu-id="0d5c9-116">Jediným rozdílem je, DataList ani opakovače poskytuje podporu pro ovládací prvek HyperLinkField.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-116">The only difference is that neither the DataList nor the Repeater provides support for the HyperLinkField control.</span></span> <span data-ttu-id="0d5c9-117">Místo toho jsme musíte přidat ovládacího prvku hypertextový odkaz webové nebo element anchor HTML (`<a>`) v rámci ovládacího prvku `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-117">Instead, we must add a HyperLink Web control or an anchor HTML element (`<a>`) within the control's `ItemTemplate`.</span></span> <span data-ttu-id="0d5c9-118">Na hypertextový odkaz `NavigateUrl` vlastnost nebo s ukotvením `href` atribut pak jde přizpůsobit pomocí deklarativní nebo programové přístupy.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-118">The HyperLink's `NavigateUrl` property or the anchor's `href` attribute can then be customized using declarative or programmatic approaches.</span></span>

<span data-ttu-id="0d5c9-119">V tomto kurzu jsme budete prozkoumejte příklad, který obsahuje seznam kategorií v seznamu s odrážkami na jedné stránce pomocí prvku opakovače.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-119">In this tutorial we'll explore an example that lists the categories in a bulleted list on one page using a Repeater control.</span></span> <span data-ttu-id="0d5c9-120">Jednotlivé položky seznamu bude obsahovat název a popis, kategorie s kategorií název zobrazený jako odkaz na druhé stránce.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-120">Each list item will include the category's name and description, with the category name displayed as a link to a second page.</span></span> <span data-ttu-id="0d5c9-121">Kliknutím na tento odkaz bude whisk uživatele na druhou stránku, kde DataList zobrazí tyto produkty, které patří do vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-121">Clicking on this link will whisk the user to the second page, where a DataList will show those products that belong to the selected category.</span></span>

## <a name="step-1-displaying-the-categories-in-a-bulleted-list"></a><span data-ttu-id="0d5c9-122">Krok 1: Zobrazení kategorií v seznamu s odrážkami</span><span class="sxs-lookup"><span data-stu-id="0d5c9-122">Step 1: Displaying the Categories in a Bulleted List</span></span>

<span data-ttu-id="0d5c9-123">Prvním krokem při vytváření všech sestav a podrobností je zahájíte tím, že zobrazuje "hlavní" záznamy.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-123">The first step in creating any master/detail report is to start by displaying the "master" records.</span></span> <span data-ttu-id="0d5c9-124">Naše první úkolů je proto na stránce "hlavní" zobrazte kategorie.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-124">Therefore, our first task is to display the categories in the "master" page.</span></span> <span data-ttu-id="0d5c9-125">Otevřete `CategoryListMaster.aspx` stránku `DataListRepeaterFiltering` složku, přidání ovládacího prvku opakovače a ze inteligentní značky opt přidat nové ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-125">Open the `CategoryListMaster.aspx` page in the `DataListRepeaterFiltering` folder, add a Repeater control, and, from the smart tag, opt to add a new ObjectDataSource.</span></span> <span data-ttu-id="0d5c9-126">Nakonfigurujte novou ObjectDataSource tak, aby ho přistupuje ke svým datům z `CategoriesBLL` třídy `GetCategories` – metoda (viz obrázek 1).</span><span class="sxs-lookup"><span data-stu-id="0d5c9-126">Configure the new ObjectDataSource so that it accesses its data from the `CategoriesBLL` class's `GetCategories` method (see Figure 1).</span></span>


<span data-ttu-id="0d5c9-127">[![Konfigurace ObjectDataSource lze pomocí metody GetCategories CategoriesBLL – třída](master-detail-filtering-acess-two-pages-datalist-cs/_static/image2.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="0d5c9-127">[![Configure the ObjectDataSource to Use the CategoriesBLL Class's GetCategories Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image2.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image1.png)</span></span>

<span data-ttu-id="0d5c9-128">**Obrázek 1**: Konfigurace ObjectDataSource pro použití `CategoriesBLL` třídy `GetCategories` – metoda ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-acess-two-pages-datalist-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="0d5c9-128">**Figure 1**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class's `GetCategories` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image3.png))</span></span>


<span data-ttu-id="0d5c9-129">V dalším kroku definujte šablony opakovače tak, že zobrazuje každou kategorii název a popis jako položku v seznamu s odrážkami.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-129">Next, define the Repeater's templates such that it displays each category name and description as an item in a bulleted list.</span></span> <span data-ttu-id="0d5c9-130">Pojďme ještě obávat o každou kategorii odkaz na stránku podrobností.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-130">Let's not yet worry about having each category link to the details page.</span></span> <span data-ttu-id="0d5c9-131">Na obrázku je deklarativní opakovače a ObjectDataSource:</span><span class="sxs-lookup"><span data-stu-id="0d5c9-131">The following shows the declarative markup for the Repeater and ObjectDataSource:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample1.aspx)]

<span data-ttu-id="0d5c9-132">S Tento kód dokončeno pozorně zobrazit naše průběh prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-132">With this markup complete, take a moment to view our progress through a browser.</span></span> <span data-ttu-id="0d5c9-133">Jak je vidět na obrázku 2, opakovače vykreslí jako seznam s odrážkami zobrazuje název a popis každou kategorii.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-133">As Figure 2 shows, the Repeater renders as a bulleted list showing each category's name and description.</span></span>


<span data-ttu-id="0d5c9-134">[![Každá kategorie se zobrazí jako položku seznamu s odrážkami](master-detail-filtering-acess-two-pages-datalist-cs/_static/image5.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="0d5c9-134">[![Each Category is Displayed as a Bulleted List Item](master-detail-filtering-acess-two-pages-datalist-cs/_static/image5.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image4.png)</span></span>

<span data-ttu-id="0d5c9-135">**Obrázek 2**: Každá kategorie se zobrazí jako položku seznamu s odrážkami ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-acess-two-pages-datalist-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="0d5c9-135">**Figure 2**: Each Category is Displayed as a Bulleted List Item ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image6.png))</span></span>


## <a name="step-2-turning-the-category-name-into-a-link-to-the-details-page"></a><span data-ttu-id="0d5c9-136">Krok 2: Zapnutí název kategorie na odkaz na stránku podrobností</span><span class="sxs-lookup"><span data-stu-id="0d5c9-136">Step 2: Turning the Category Name into a Link to the Details Page</span></span>

<span data-ttu-id="0d5c9-137">Povolit uživatelům zobrazit informace o "Podrobnosti" pro danou kategorii, je potřeba přidat odkaz na každém s odrážkami seznamu položku, která, při kliknutí na, přenese uživatele na druhé stránce (`ProductsForCategoryDetails.aspx`).</span><span class="sxs-lookup"><span data-stu-id="0d5c9-137">To allow a user to display the "details" information for a given category, we need to add a link to each bulleted list item that, when clicked, will take the user to the second page (`ProductsForCategoryDetails.aspx`).</span></span> <span data-ttu-id="0d5c9-138">Této druhé stránce se pak zobrazí produkty pro vybrané kategorie pomocí DataList.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-138">This second page will then display the products for the selected category using a DataList.</span></span> <span data-ttu-id="0d5c9-139">Chcete-li zjistit, kategorie, jehož propojení označeného, musíme předat kliknutelnou kategorie `CategoryID` na druhou stránku prostřednictvím některé mechanismus.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-139">In order to determine the category whose link was clicked, we need to pass the clicked category's `CategoryID` to the second page through some mechanism.</span></span> <span data-ttu-id="0d5c9-140">Nejjednodušší a nejjednodušší způsob přenosu skalární dat z jedné stránky na jiný je pomocí řetězce dotazu, což je možnosti, kterou použijeme v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-140">The simplest, most straightforward way to transfer scalar data from one page to another is through the querystring, which is the option we'll use in this tutorial.</span></span> <span data-ttu-id="0d5c9-141">Konkrétně `ProductsForCategoryDetails.aspx` stránka bude očekávat vybraný *`categoryID`* hodnota, která má být předána pole řetězce dotazu s názvem `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-141">In particular, the `ProductsForCategoryDetails.aspx` page will expect the selected *`categoryID`* value to be passed through a querystring field named `CategoryID`.</span></span> <span data-ttu-id="0d5c9-142">Chcete-li například zobrazit produkty pro kategorii Nápoje, který má `CategoryID` 1, by uživatel navštíví `ProductsForCategoryDetails.aspx?CategoryID=1`.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-142">For example, to view the products for the Beverages category, which has a `CategoryID` of 1, a user would visit `ProductsForCategoryDetails.aspx?CategoryID=1`.</span></span>

<span data-ttu-id="0d5c9-143">Vytvoření hypertextového odkazu pro každou položku seznamu s odrážkami v Opakovači musíme buď přidání ovládacího prvku hypertextový odkaz webové nebo HTML anchor element (`<a>`) na `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-143">To create a hyperlink for each bulleted list item in the Repeater we need to either add a HyperLink Web control or an HTML anchor element (`<a>`) to the `ItemTemplate`.</span></span> <span data-ttu-id="0d5c9-144">Ve scénářích, kdy hypertextový odkaz zobrazí stejné pro každý řádek, postačí buď přístup.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-144">In scenarios where the hyperlink is displayed the same for each row, either approach will suffice.</span></span> <span data-ttu-id="0d5c9-145">Pro opakovače raději nechci pomocí elementu anchor.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-145">For Repeaters, I prefer using the anchor element.</span></span> <span data-ttu-id="0d5c9-146">Pomocí elementu anchor, aktualizujte opakovače ItemTemplate na:</span><span class="sxs-lookup"><span data-stu-id="0d5c9-146">To use the anchor element, update the Repeater's ItemTemplate to:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample2.aspx)]

<span data-ttu-id="0d5c9-147">Všimněte si, že `CategoryID` může vložit přímo v rámci elementu anchor `href` atribut; však k tak být jistý, a tím vymezit `href` hodnotu atributu s apostrofy (a Poznámka uvozovek), protože `Eval` – metoda v rámci `href` atribut vymezuje jeho řetězce (`"CategoryID"`) v uvozovkách.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-147">Note that the `CategoryID` can be injected directly within the anchor element's `href` attribute; however, to do so be certain to delimit the `href` attribute's value with apostrophes (and note quotation marks) since the `Eval` method within the `href` attribute delimits its string (`"CategoryID"`) with quotation marks.</span></span> <span data-ttu-id="0d5c9-148">Ovládacího prvku hypertextový odkaz webové Alternativně lze použít místo:</span><span class="sxs-lookup"><span data-stu-id="0d5c9-148">Alternatively, a HyperLink Web control can be used instead:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample3.aspx)]

<span data-ttu-id="0d5c9-149">Poznámka: jak statické část adresy URL, – `ProductsForCategoryDetails.aspx?CategoryID` – se připojí k výsledek `Eval("CategoryID")` přímo v rámci datové vazby syntaxe pomocí zřetězení řetězců.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-149">Note how the static portion of the URL — `ProductsForCategoryDetails.aspx?CategoryID` — is appended to the result of `Eval("CategoryID")` directly within the databinding syntax using string concatenation.</span></span>

<span data-ttu-id="0d5c9-150">Jednou z výhod použití ovládacího prvku hypertextový odkaz je, že ji prostřednictvím kódu programu přístupné opakovače `ItemDataBound` obslužné rutiny události v případě potřeby.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-150">One benefit of using the HyperLink control is that it can be programmatically accessed from the Repeater's `ItemDataBound` event handler, if needed.</span></span> <span data-ttu-id="0d5c9-151">Například můžete chtít zobrazit název kategorie, jako text a nikoli jako odkaz pro kategorie s žádné související produkty.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-151">For example, you might want to display the category name as text rather than as a link for categories with no associated products.</span></span> <span data-ttu-id="0d5c9-152">Tuto kontrolu můžete v prostřednictvím kódu programu provést `ItemDataBound` obslužné rutiny události; pro kategorií bez přidružené produkty, hypertextový odkaz na `NavigateUrl` může být nastavena na prázdný řetězec, což by vedlo k tento název určité kategorie vykreslování jako prostý text (nikoli jako odkaz).</span><span class="sxs-lookup"><span data-stu-id="0d5c9-152">Such a check could be programmatically performed in the `ItemDataBound` event handler; for categories with no associated products, the HyperLink's `NavigateUrl` property could be set to a blank string, thereby resulting in that particular category name rendering as plain text (rather than as a link).</span></span> <span data-ttu-id="0d5c9-153">Odkazovat zpět [formátování DataList a opakovače dat na základě při](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) kurzu Další informace o formátování DataList a opakovače na obsah na základě programové logiky prostřednictvím `ItemDataBound` obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-153">Refer back to the [Formatting the DataList and Repeater Based Upon Data](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) tutorial for more information on formatting the DataList and Repeater's contents based on programmatic logic through the `ItemDataBound` event handler.</span></span>

<span data-ttu-id="0d5c9-154">Pokud postupujete podle, klidně používat buď anchor element nebo přístup ovládacího prvku hypertextový odkaz v stránku.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-154">If you are following along, feel free to use either the anchor element or HyperLink control approach in your page.</span></span> <span data-ttu-id="0d5c9-155">Bez ohledu na přístup, při zobrazení stránky prostřednictvím prohlížeče každý název kategorie má být vykreslen jako odkaz na `ProductsForCategoryDetails.aspx`, předejte do odpovídajících `CategoryID` hodnotu (viz obrázek 3).</span><span class="sxs-lookup"><span data-stu-id="0d5c9-155">Regardless of the approach, when viewing the page through a browser each category name should be rendered as a link to `ProductsForCategoryDetails.aspx`, passing in the applicable `CategoryID` value (see Figure 3).</span></span>


<span data-ttu-id="0d5c9-156">[![Názvy kategorií nyní může propojit k ProductsForCategoryDetails.aspx](master-detail-filtering-acess-two-pages-datalist-cs/_static/image8.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="0d5c9-156">[![The Category Names Now Link to ProductsForCategoryDetails.aspx](master-detail-filtering-acess-two-pages-datalist-cs/_static/image8.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image7.png)</span></span>

<span data-ttu-id="0d5c9-157">**Obrázek 3**: kategorii názvy nyní odkaz na `ProductsForCategoryDetails.aspx` ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-acess-two-pages-datalist-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="0d5c9-157">**Figure 3**: The Category Names Now Link to `ProductsForCategoryDetails.aspx` ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image9.png))</span></span>


## <a name="step-3-listing-the-products-that-belong-to-the-selected-category"></a><span data-ttu-id="0d5c9-158">Krok 3: Výpis produkty, které patří do vybrané kategorie</span><span class="sxs-lookup"><span data-stu-id="0d5c9-158">Step 3: Listing the Products that Belong to the Selected Category</span></span>

<span data-ttu-id="0d5c9-159">Pomocí `CategoryListMaster.aspx` stránka dokončení, je vše připraveno k vypnutí naše pozornost implementace stránce "Podrobnosti" `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-159">With the `CategoryListMaster.aspx` page complete, we're ready to turn our attention to implementing the "details" page, `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="0d5c9-160">Otevřete tuto stránku, přetáhněte ji DataList z panelu nástrojů na návrháře a nastavit jeho `ID` vlastnost `ProductsInCategory`.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-160">Open this page, drag a DataList from the Toolbox onto the Designer, and set its `ID` property to `ProductsInCategory`.</span></span> <span data-ttu-id="0d5c9-161">V dalším kroku z inteligentních značek DataList vyberte Přidat nové ObjectDataSource na stránku pojmenování ho `ProductsInCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-161">Next, from the DataList's smart tag choose to add a new ObjectDataSource to the page, naming it `ProductsInCategoryDataSource`.</span></span> <span data-ttu-id="0d5c9-162">Nakonfigurujte ji tak, aby zavolá `ProductsBLL` třídy `GetProductsByCategoryID(categoryID)` metoda; nastavte rozevírací seznam seznamů v kartě INSERT, UPDATE a DELETE (None).</span><span class="sxs-lookup"><span data-stu-id="0d5c9-162">Configure it such that it calls the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method; set the drop-down lists in the INSERT, UPDATE, and DELETE tabs to (None).</span></span>


<span data-ttu-id="0d5c9-163">[![Konfigurace ObjectDataSource lze pomocí metody GetProductsByCategoryID(categoryID) ProductsBLL – třída](master-detail-filtering-acess-two-pages-datalist-cs/_static/image11.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="0d5c9-163">[![Configure the ObjectDataSource to Use the ProductsBLL Class's GetProductsByCategoryID(categoryID) Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image11.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image10.png)</span></span>

<span data-ttu-id="0d5c9-164">**Obrázek 4**: Konfigurace ObjectDataSource pro použití `ProductsBLL` třídy `GetProductsByCategoryID(categoryID)` – metoda ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-acess-two-pages-datalist-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="0d5c9-164">**Figure 4**: Configure the ObjectDataSource to Use the `ProductsBLL` Class's `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image12.png))</span></span>


<span data-ttu-id="0d5c9-165">Vzhledem k tomu `GetProductsByCategoryID(categoryID)` metoda přijímá vstupní parametr (*`categoryID`*), průvodce Zvolit zdroj dat nám nabízí možnost zadejte pro parametr zdroj.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-165">Since the `GetProductsByCategoryID(categoryID)` method accepts an input parameter (*`categoryID`*), the Choose Data Source wizard offers us an opportunity to specify the parameter's source.</span></span> <span data-ttu-id="0d5c9-166">Nastavení zdroje parametru do řetězce dotazu pomocí vlastnost QueryStringField `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-166">Set the parameter source to QueryString using the QueryStringField `CategoryID`.</span></span>


<span data-ttu-id="0d5c9-167">[![Použít jako zdroj pro parametr CategoryID pole řetězce dotazu](master-detail-filtering-acess-two-pages-datalist-cs/_static/image14.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="0d5c9-167">[![Use the Querystring Field CategoryID as the Parameter's Source](master-detail-filtering-acess-two-pages-datalist-cs/_static/image14.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image13.png)</span></span>

<span data-ttu-id="0d5c9-168">**Obrázek 5**: pole řetězce dotazu použít `CategoryID` jako zdroj pro parametr ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-acess-two-pages-datalist-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="0d5c9-168">**Figure 5**: Use the Querystring Field `CategoryID` as the Parameter's Source ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image15.png))</span></span>


<span data-ttu-id="0d5c9-169">Jak jsme viděli v předchozí kurzy, po dokončení průvodce Zvolit zdroj dat, sada Visual Studio automaticky vytvoří `ItemTemplate` pro DataList, který uvádí každý název datového pole a hodnotu.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-169">As we've seen in previous tutorials, after completing the Choose Data Source wizard, Visual Studio automatically creates an `ItemTemplate` for the DataList that lists each data field name and value.</span></span> <span data-ttu-id="0d5c9-170">Tato šablona nahraďte ten, který uvádí jenom produktu název dodavatele a ceny.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-170">Replace this template with one that lists only the product's name, supplier, and price.</span></span> <span data-ttu-id="0d5c9-171">Také nastavena DataList `RepeatColumns` vlastnost na hodnotu 2.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-171">Also, set the DataList's `RepeatColumns` property to 2.</span></span> <span data-ttu-id="0d5c9-172">Po provedení těchto změn DataList a na ObjectDataSource deklarativní by měl vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="0d5c9-172">After these changes, your DataList and ObjectDataSource's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample4.aspx)]

<span data-ttu-id="0d5c9-173">Chcete-li zobrazit tuto stránku v akci, spusťte z `CategoryListMaster.aspx` stránce; potom klikněte na odkaz v seznamu s odrážkami kategorií.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-173">To view this page in action, start from the `CategoryListMaster.aspx` page; next, click on a link in the categories bulleted list.</span></span> <span data-ttu-id="0d5c9-174">Tím přejdete na `ProductsForCategoryDetails.aspx`, předejte společně `CategoryID` prostřednictvím řetězec dotazu.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-174">Doing so will take you to `ProductsForCategoryDetails.aspx`, passing along the `CategoryID` through the querystring.</span></span> <span data-ttu-id="0d5c9-175">`ProductsInCategoryDataSource` ObjectDataSource v `ProductsForCategoryDetails.aspx` se pak získat pouze tyto produkty pro zadaná kategorie a zobrazí je v DataList, která vykreslí dva produkty na řádek.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-175">The `ProductsInCategoryDataSource` ObjectDataSource in `ProductsForCategoryDetails.aspx` will then get just those products for the specified category and display them in the DataList, which renders two products per row.</span></span> <span data-ttu-id="0d5c9-176">Snímek obrazovky ukazuje obrázek 6 `ProductsForCategoryDetails.aspx` při prohlížení nápoje.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-176">Figure 6 shows a screenshot of `ProductsForCategoryDetails.aspx` when viewing the Beverages.</span></span>


<span data-ttu-id="0d5c9-177">[![Do této skupiny nápoje se zobrazují, dvě na řádek](master-detail-filtering-acess-two-pages-datalist-cs/_static/image17.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="0d5c9-177">[![The Beverages are Displayed, Two per Row](master-detail-filtering-acess-two-pages-datalist-cs/_static/image17.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image16.png)</span></span>

<span data-ttu-id="0d5c9-178">**Obrázek 6**: se zobrazují nápoje, dvě na řádek ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-acess-two-pages-datalist-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="0d5c9-178">**Figure 6**: The Beverages are Displayed, Two per Row ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image18.png))</span></span>


## <a name="step-4-displaying-category-information-on-productsforcategorydetailsaspx"></a><span data-ttu-id="0d5c9-179">Krok 4: Zobrazení informace o kategoriích v ProductsForCategoryDetails.aspx</span><span class="sxs-lookup"><span data-stu-id="0d5c9-179">Step 4: Displaying Category Information on ProductsForCategoryDetails.aspx</span></span>

<span data-ttu-id="0d5c9-180">Když uživatel klikne na kategorii v `CategoryListMaster.aspx`, jsou přesměrováni na `ProductsForCategoryDetails.aspx` a zobrazí produkty, které patří do vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-180">When a user clicks on a category in `CategoryListMaster.aspx`, they are taken to `ProductsForCategoryDetails.aspx` and shown the products that belong to the selected category.</span></span> <span data-ttu-id="0d5c9-181">Však `ProductsForCategoryDetails.aspx` neexistují žádné vizuální upozornění, jaké kategorie nebyla vybrána.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-181">However, in `ProductsForCategoryDetails.aspx` there are no visual cues as to what category was selected.</span></span> <span data-ttu-id="0d5c9-182">Uživatel, který určená klikněte na tlačítko nápoje, ale omylem kliknutelnou přísady nemá žádnou možnost porozumění jejich chybu po uplynutí `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-182">A user that meant to click Beverages, but accidentally clicked Condiments, has no way of realizing their mistake once they reach `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="0d5c9-183">Má zmírnit potenciální potíže, jsme můžete zobrazit informace o vybrané kategorie – její název a popis – v horní části `ProductsForCategoryDetails.aspx` stránky.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-183">To alleviate this potential problem, we can display information about the selected category — its name and description — at the top of the `ProductsForCategoryDetails.aspx` page.</span></span>

<span data-ttu-id="0d5c9-184">K tomu, přidejte FormView výše ovládacím prvku Repeater v `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-184">To accomplish this, add a FormView above the Repeater control in `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="0d5c9-185">Dál přidejte nové ObjectDataSource na stránku ze třídy FormView inteligentní značky s názvem `CategoryDataSource` a nakonfigurujte ho na používání `CategoriesBLL` třídy `GetCategoryByCategoryID(categoryID)` metoda.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-185">Next, add a new ObjectDataSource to the page from the FormView's smart tag named `CategoryDataSource` and configure it to use the `CategoriesBLL` class's `GetCategoryByCategoryID(categoryID)` method.</span></span>


<span data-ttu-id="0d5c9-186">[![Přístup k informacím o kategorie prostřednictvím metody GetCategoryByCategoryID(categoryID) CategoriesBLL – třída](master-detail-filtering-acess-two-pages-datalist-cs/_static/image20.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="0d5c9-186">[![Access Information about the Category through the CategoriesBLL Class's GetCategoryByCategoryID(categoryID) Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image20.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image19.png)</span></span>

<span data-ttu-id="0d5c9-187">**Obrázek 7**: přístup k informacím o kategorie prostřednictvím `CategoriesBLL` třídy `GetCategoryByCategoryID(categoryID)` – metoda ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-acess-two-pages-datalist-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="0d5c9-187">**Figure 7**: Access Information about the Category through the `CategoriesBLL` Class's `GetCategoryByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image21.png))</span></span>


<span data-ttu-id="0d5c9-188">Stejně jako u `ProductsInCategoryDataSource` ObjectDataSource přidali v kroku 3 `CategoryDataSource`na výzvy nám Průvodce konfigurací zdroje dat pro zdroj pro `GetCategoryByCategoryID(categoryID)` metoda vstupního parametru.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-188">As with the `ProductsInCategoryDataSource` ObjectDataSource added in Step 3, the `CategoryDataSource`'s Configure Data Source wizard prompts us for a source for the `GetCategoryByCategoryID(categoryID)` method's input parameter.</span></span> <span data-ttu-id="0d5c9-189">Použít přesný stejné nastavení jako před, nastavení Zdroj parametru řetězce dotazu a vlastnost QueryStringField hodnota, která má `CategoryID` (odkazuje zpět na obrázku 5).</span><span class="sxs-lookup"><span data-stu-id="0d5c9-189">Use the exact same settings as before, setting the parameter source to QueryString and the QueryStringField value to `CategoryID` (refer back to Figure 5).</span></span>

<span data-ttu-id="0d5c9-190">Po dokončení průvodce, Visual Studio automaticky vytvoří `ItemTemplate`, `EditItemTemplate`, a `InsertItemTemplate` pro FormView.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-190">After completing the wizard, Visual Studio automatically creates an `ItemTemplate`, `EditItemTemplate`, and `InsertItemTemplate` for the FormView.</span></span> <span data-ttu-id="0d5c9-191">Vzhledem k tomu, že poskytujeme rozhraní, které je jen pro čtení, můžete bez obav odstranit `EditItemTemplate` a `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-191">Since we're providing a read-only interface, feel free to remove the `EditItemTemplate` and `InsertItemTemplate`.</span></span> <span data-ttu-id="0d5c9-192">Navíc Nebojte se přizpůsobení FormView `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-192">Also, feel free to customize the FormView's `ItemTemplate`.</span></span> <span data-ttu-id="0d5c9-193">Po odebrání nadbytečné šablony a přizpůsobení ItemTemplate, FormView a na ObjectDataSource deklarativní by měl vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="0d5c9-193">After removing the superfluous templates and customizing the ItemTemplate, your FormView and ObjectDataSource's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample5.aspx)]

<span data-ttu-id="0d5c9-194">Obrázek 8 znázorňuje snímku obrazovky při zobrazení této stránky prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-194">Figure 8 shows a screen shot when viewing this page through a browser.</span></span>

> [!NOTE]
> <span data-ttu-id="0d5c9-195">Kromě FormView, I taky přidali ovládacího prvku hypertextový odkaz výše FormView, který přenese uživatele zpět na seznam kategorií (`CategoryListMaster.aspx`).</span><span class="sxs-lookup"><span data-stu-id="0d5c9-195">In addition to the FormView, I've also added a HyperLink control above the FormView that will take the user back to the list of categories (`CategoryListMaster.aspx`).</span></span> <span data-ttu-id="0d5c9-196">Nebojte se, že tento odkaz umístit jinam nebo zcela vynechat.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-196">Feel free to place this link elsewhere or to omit it altogether.</span></span>


<span data-ttu-id="0d5c9-197">[![Informace o kategoriích se teď zobrazí v horní části stránky](master-detail-filtering-acess-two-pages-datalist-cs/_static/image23.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="0d5c9-197">[![Category Information is Now Displayed at the Top of the Page](master-detail-filtering-acess-two-pages-datalist-cs/_static/image23.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image22.png)</span></span>

<span data-ttu-id="0d5c9-198">**Obrázek 8**: informace o kategoriích se teď zobrazí v horní části stránky ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-acess-two-pages-datalist-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="0d5c9-198">**Figure 8**: Category Information is Now Displayed at the Top of the Page ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image24.png))</span></span>


## <a name="step-5-displaying-a-message-if-no-products-belong-to-the-selected-category"></a><span data-ttu-id="0d5c9-199">Krok 5: Zobrazení zprávy, pokud žádné produkty patří do vybrané kategorie</span><span class="sxs-lookup"><span data-stu-id="0d5c9-199">Step 5: Displaying a Message if No Products Belong to the Selected Category</span></span>

<span data-ttu-id="0d5c9-200">`CategoryListMaster.aspx` Stránka obsahuje seznam všech kategorií v systému, bez ohledu na to zda existují související produkty.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-200">The `CategoryListMaster.aspx` page lists all categories in the system, regardless of whether there are any associated products.</span></span> <span data-ttu-id="0d5c9-201">Pokud uživatel klikne na kategorii s žádné související produkty DataList v `ProductsForCategoryDetails.aspx` nesmí být vykreslen, jako svůj zdroj dat nebude mít žádné položky.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-201">If a user clicks on a category with no associated products, the DataList in `ProductsForCategoryDetails.aspx` will not be rendered, as its data source will not have any items.</span></span> <span data-ttu-id="0d5c9-202">Jak jsme viděli v posledních kurzy, GridView poskytuje `EmptyDataText` vlastnost, která slouží k zadání text zprávy zobrazí, pokud v jeho zdroje dat nejsou žádné záznamy.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-202">As we've seen in past tutorials, the GridView provides an `EmptyDataText` property that can be used to specify a text message to display if there are no records in its data source.</span></span> <span data-ttu-id="0d5c9-203">Tato vlastnost má bohužel DataList ani opakovače.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-203">Unfortunately, neither the DataList nor Repeater has such a property.</span></span>

<span data-ttu-id="0d5c9-204">Aby bylo možné zobrazit zprávu informující uživatele, že nejsou žádné odpovídající produkty pro vybrané kategorie, je potřeba přidat štítek řízení na stránku jehož `Text` vlastnost je přiřazen zprávu, která se zobrazí v případě, že nejsou žádné odpovídající produkty.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-204">In order to display a message informing the user that there are no matching products for the selected category, we need to add a Label control to the page whose `Text` property is assigned the message to display in the event that there are no matching products.</span></span> <span data-ttu-id="0d5c9-205">Pak je potřeba nastavit prostřednictvím kódu programu jeho `Visible` vlastnost založené na tom, jestli DataList obsahuje všechny položky.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-205">We then need to programmatically set its `Visible` property based on whether or not the DataList contains any items.</span></span>

<span data-ttu-id="0d5c9-206">K tomu, začněte přidáním štítek pod prvku DataList.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-206">To accomplish this, start by adding a Label beneath the DataList.</span></span> <span data-ttu-id="0d5c9-207">Nastavte její `ID` vlastnost `NoProductsMessage` a jeho `Text` vlastnost "Nejsou žádné produkty pro vybrané kategorie..."</span><span class="sxs-lookup"><span data-stu-id="0d5c9-207">Set its `ID` property to `NoProductsMessage` and its `Text` property to "There are no products for the selected category…"</span></span> <span data-ttu-id="0d5c9-208">V dalším kroku musíme programově nastavit tento popisek `Visible` vlastnost založené na tom, zda byl spojen všechna data `ProductsInCategory` DataList.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-208">Next, we need to programmatically set this Label's `Visible` property based on whether or not any data was bound to the `ProductsInCategory` DataList.</span></span> <span data-ttu-id="0d5c9-209">Toto přiřazení musí být provedeny po data byla svázána se prvku DataList.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-209">This assignment must be made after the data has been bound to the DataList.</span></span> <span data-ttu-id="0d5c9-210">Rutina GridView, DetailsView a FormView jsme může vytvořit obslužnou rutinu události pro ovládací prvek `DataBound` událost, která aktivuje se po dokončení datové vazby.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-210">For the GridView, DetailsView, and FormView, we could create an event handler for the control's `DataBound` event, which fires after databinding has completed.</span></span> <span data-ttu-id="0d5c9-211">Však má prvku DataList ani opakovače `DataBound` událostí, které jsou k dispozici.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-211">However, neither the DataList nor the Repeater has a `DataBound` event available.</span></span>

<span data-ttu-id="0d5c9-212">V tomto konkrétním příkladu jsme můžete přiřadit jmenovky `Visible` vlastnost v `Page_Load` obslužné rutiny události, protože data se mají přiřazený k DataList před stránky `Load` událostí.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-212">For this particular example we can assign the Label's `Visible` property in the `Page_Load` event handler, since the data will have been assigned to the DataList prior to the page's `Load` event.</span></span> <span data-ttu-id="0d5c9-213">Však tento postup nebude fungovat v případě obecné podle data z ObjectDataSource může být vázána na DataList později v průběhu životního cyklu stránky.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-213">However, this approach would not work in the general case, as the data from the ObjectDataSource might be bound to the DataList later in the page's lifecycle.</span></span> <span data-ttu-id="0d5c9-214">Například pokud je zobrazená data založená na hodnotě v další ovládací prvek, jako je při zobrazení sestavy a podrobností pomocí rozevírací seznam pro uložení "hlavní" záznamy, data nemusí odrážejí na ovládací prvek webu dat, dokud `PreRender` dvoufázové instalace v životního cyklu stránky.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-214">For example, if the displayed data is based upon the value in another control, such as it is when displaying a master/detail report using a DropDownList to hold the "master" records, the data may not rebound to the data Web control until the `PreRender` stage in the page's life cycle.</span></span>

<span data-ttu-id="0d5c9-215">Jedno řešení, která bude fungovat pro všechny případy je přiřadit `Visible` vlastnost `False` v DataList `ItemDataBound` (nebo `ItemCreated`) obslužné rutiny události při vytváření vazby typem položky `Item` nebo `AlternatingItem`.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-215">One solution which will work for all cases is to assign the `Visible` property to `False` in the DataList's `ItemDataBound` (or `ItemCreated`) event handler when binding an item type of `Item` or `AlternatingItem`.</span></span> <span data-ttu-id="0d5c9-216">V takovém případě abychom věděli, který je nejméně jeden datový položky ve zdroji dat a proto můžete skrýt `NoProductsMessage` popisek.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-216">In such a case we know that there is at least one data item in the data source and therefore can hide the `NoProductsMessage` Label.</span></span> <span data-ttu-id="0d5c9-217">Kromě této obslužné rutiny události také potřebujeme obslužné rutiny události pro DataList `DataBinding` událostí, kde jsme inicializovat jmenovky `Visible` vlastnost `True`.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-217">In addition to this event handler, we also need an event handler for the DataList's `DataBinding` event, where we initialize the Label's `Visible` property to `True`.</span></span> <span data-ttu-id="0d5c9-218">Vzhledem k tomu, `DataBinding` událost se aktivuje před `ItemDataBound` události, popisek na `Visible` vlastnost zpočátku bude nastavena pro `True`; Pokud jsou všechny položky, data, ale bude nastavena pro `False`.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-218">Since the `DataBinding` event fires before the `ItemDataBound` events, the Label's `Visible` property will initially be set to `True`; if there are any data items, however, it will be set to `False`.</span></span> <span data-ttu-id="0d5c9-219">Následující kód implementuje tuto logiku:</span><span class="sxs-lookup"><span data-stu-id="0d5c9-219">The following code implements this logic:</span></span>

[!code-csharp[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample6.cs)]

<span data-ttu-id="0d5c9-220">Všechny kategorie v databázi Northwind jsou spojené s jeden nebo více produktů.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-220">All of the categories in the Northwind database are associated with one or more products.</span></span> <span data-ttu-id="0d5c9-221">K otestování této funkce, I jste ručně upraveno databázi Northwind v tomto kurzu přeřazení všechny produkty, které jsou přidružené k kategorii produktu (`CategoryID` = 7) do kategorie ryby (`CategoryID` = 8).</span><span class="sxs-lookup"><span data-stu-id="0d5c9-221">To test this feature, I've manually adjusted the Northwind database for this tutorial, reassigning all products associated with the Produce category (`CategoryID` = 7) to the Seafood category (`CategoryID` = 8).</span></span> <span data-ttu-id="0d5c9-222">Můžete to provést z Průzkumníka serveru zvolením nový dotaz a pomocí následujících `UPDATE` příkaz:</span><span class="sxs-lookup"><span data-stu-id="0d5c9-222">This can be accomplished from the Server Explorer by choosing New Query and using the following `UPDATE` statement:</span></span>

[!code-sql[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample7.sql)]

<span data-ttu-id="0d5c9-223">Po aktualizaci databáze odpovídajícím způsobem se vraťte ke `CategoryListMaster.aspx` stránky a klikněte na odkaz produktu.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-223">After updating the database accordingly, return to the `CategoryListMaster.aspx` page and click on the Produce link.</span></span> <span data-ttu-id="0d5c9-224">Vzhledem k tomu, že už existují jakékoli produkty, které patří do kategorie produktů, měli byste vidět "Nejsou žádné produkty pro vybrané kategorie..."</span><span class="sxs-lookup"><span data-stu-id="0d5c9-224">Since there are no longer any products belonging to the Produce category, you should see the "There are no products for the selected category…"</span></span> <span data-ttu-id="0d5c9-225">zpráva, jak je znázorněno na obrázku 9.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-225">message, as shown in Figure 9.</span></span>


<span data-ttu-id="0d5c9-226">[![Pokud neexistují žádné produkty patřící do vybrané kategorie se zobrazí zpráva](master-detail-filtering-acess-two-pages-datalist-cs/_static/image26.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="0d5c9-226">[![A Message is Displayed if there are No Products Belonging to the Selected Category](master-detail-filtering-acess-two-pages-datalist-cs/_static/image26.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image25.png)</span></span>

<span data-ttu-id="0d5c9-227">**Obrázek 9**: Pokud neexistují žádné produkty patřící do vybrané kategorie se zobrazí zpráva A ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-acess-two-pages-datalist-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="0d5c9-227">**Figure 9**: A Message is Displayed if there are No Products Belonging to the Selected Category ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image27.png))</span></span>


## <a name="summary"></a><span data-ttu-id="0d5c9-228">Souhrn</span><span class="sxs-lookup"><span data-stu-id="0d5c9-228">Summary</span></span>

<span data-ttu-id="0d5c9-229">Při a podrobností sestavy můžete zobrazit hlavní i podrobné záznamy na jedné stránce, v mnoha webů budou odděleny mezi dvěma webové stránky.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-229">While master/detail reports can display both the master and detail records on a single page, in many websites they are separated out across two web pages.</span></span> <span data-ttu-id="0d5c9-230">V tomto kurzu jsme se podívali na tom, jak implementovat a podrobností sestavu tak, že kategorií uvedených v seznamu s odrážkami pomocí prvku na webové stránce "hlavní" a související produkty uvedené na stránce "Podrobnosti".</span><span class="sxs-lookup"><span data-stu-id="0d5c9-230">In this tutorial we looked at how to implement such a master/detail report by having the categories listed in a bulleted list using a Repeater in the "master" web page and the associated products listed in the "details" page.</span></span> <span data-ttu-id="0d5c9-231">Jednotlivé položky seznamu v hlavní webové stránky obsahovala odkaz na stránku podrobností, které se předají na řádku `CategoryID` hodnotu.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-231">Each list item in the master web page contained a link to the details page that passed along the row's `CategoryID` value.</span></span>

<span data-ttu-id="0d5c9-232">Na stránce podrobností načítání těchto produktů pro zadaný dodavatele dosáhlo prostřednictvím `ProductsBLL` třídy `GetProductsByCategoryID(categoryID)` metoda.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-232">In the details page retrieving those products for the specified supplier was accomplished through the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="0d5c9-233">*`categoryID`* Byla zadána hodnota parametru deklarativně pomocí `CategoryID` hodnotu řetězce dotazu jako zdroj parametru.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-233">The *`categoryID`* parameter value was specified declaratively using the `CategoryID` querystring value as the parameter source.</span></span> <span data-ttu-id="0d5c9-234">Také jsme se podívali na tom, jak zobrazit podrobnosti o kategorií na stránce Podrobnosti o použití FormView a jak zobrazit zprávu, pokud nebyly žádné produkty, které patří do vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-234">We also looked at how to display category details in the details page using a FormView and how to display a message if there were no products belonging to the selected category.</span></span>

<span data-ttu-id="0d5c9-235">Radostí programování!</span><span class="sxs-lookup"><span data-stu-id="0d5c9-235">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="0d5c9-236">O autorovi</span><span class="sxs-lookup"><span data-stu-id="0d5c9-236">About the Author</span></span>

<span data-ttu-id="0d5c9-237">[Scott Meisnerová](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor sedm ASP/ASP.NET knih a zakladatele z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje s technologií Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-237">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="0d5c9-238">Scott funguje jako nezávislé poradce, trainer a zapisovače.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-238">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="0d5c9-239">Jeho nejnovější seznam k [ *Edice nakladatelství Sams naučit sami technologii ASP.NET 2.0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="0d5c9-239">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="0d5c9-240">Dosažitelný v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) nebo prostřednictvím svého blogu, který najdete na [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="0d5c9-240">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="0d5c9-241">Zvláštní poděkování...</span><span class="sxs-lookup"><span data-stu-id="0d5c9-241">Special Thanks To…</span></span>

<span data-ttu-id="0d5c9-242">Tento kurz řady byla zkontrolovány uživatelem mnoho užitečné kontrolorů.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-242">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="0d5c9-243">Vést kontroloři pro účely tohoto kurzu byly Zack Petr a Liz Shulok.</span><span class="sxs-lookup"><span data-stu-id="0d5c9-243">Lead reviewers for this tutorial were Zack Jones and Liz Shulok.</span></span> <span data-ttu-id="0d5c9-244">Kontrola Moje nadcházející články MSDN máte zájem?</span><span class="sxs-lookup"><span data-stu-id="0d5c9-244">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="0d5c9-245">Pokud ano, vyřaďte mi řádek v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="0d5c9-245">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="0d5c9-246">[Předchozí](master-detail-filtering-with-a-dropdownlist-datalist-cs.md)
> [další](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)</span><span class="sxs-lookup"><span data-stu-id="0d5c9-246">[Previous](master-detail-filtering-with-a-dropdownlist-datalist-cs.md)
[Next](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)</span></span>
