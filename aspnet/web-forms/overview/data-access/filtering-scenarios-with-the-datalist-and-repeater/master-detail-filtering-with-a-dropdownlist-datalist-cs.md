---
uid: web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-with-a-dropdownlist-datalist-cs
title: Filtrování s rozevírací seznam (C#) podrobností | Microsoft Docs
author: rick-anderson
description: V tomto kurzu jsme zjistit, jak zobrazit sestavy a podrobností v jednu webovou stránku zobrazit "hlavní" záznamy a DataList s upozorněním pomocí DropDownLists...
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/18/2007
ms.topic: article
ms.assetid: 07fa47ae-e491-4a2f-b265-d342b9ddef46
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-with-a-dropdownlist-datalist-cs
msc.type: authoredcontent
ms.openlocfilehash: c84902ccf028c976246380abfaebb6a76c573603
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/06/2018
---
<a name="masterdetail-filtering-with-a-dropdownlist-c"></a><span data-ttu-id="9fe0d-103">Seznam podrobnosti filtrování s rozevírací seznam (C#)</span><span class="sxs-lookup"><span data-stu-id="9fe0d-103">Master/Detail Filtering With a DropDownList (C#)</span></span>
====================
<span data-ttu-id="9fe0d-104">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="9fe0d-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="9fe0d-105">[Stáhněte si ukázkovou aplikaci](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_33_CS.exe) nebo [stáhnout PDF](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/datatutorial33cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="9fe0d-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_33_CS.exe) or [Download PDF](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/datatutorial33cs1.pdf)</span></span>

> <span data-ttu-id="9fe0d-106">V tomto kurzu jsme naleznete v části zobrazit sestavy a podrobností v jedné webové stránce pomocí DropDownLists zobrazíte "hlavní" záznamů a DataList zobrazit podrobnosti "o".</span><span class="sxs-lookup"><span data-stu-id="9fe0d-106">In this tutorial we see how to display master/detail reports in a single web page using DropDownLists to display the "master" records and a DataList to display the "details".</span></span>


## <a name="introduction"></a><span data-ttu-id="9fe0d-107">Úvod</span><span class="sxs-lookup"><span data-stu-id="9fe0d-107">Introduction</span></span>

<span data-ttu-id="9fe0d-108">A podrobností zprávu, která nejprve vytvořené pomocí GridView v dříve [a podrobností filtrování s rozevírací seznam](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) kurzu začne tím, že zobrazuje některé sady záznamů "hlavní".</span><span class="sxs-lookup"><span data-stu-id="9fe0d-108">The master/detail report, which we first created using a GridView in the earlier [Master/Detail Filtering With a DropDownList](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) tutorial, begins by showing some set of "master" records.</span></span> <span data-ttu-id="9fe0d-109">Uživatele můžete pak rozbalit soubor jeden hlavní záznamy, a tím zobrazení daného záznamu hlavní "podrobností."</span><span class="sxs-lookup"><span data-stu-id="9fe0d-109">The user can then drill down into one of the master records, thereby viewing that master record's "details."</span></span> <span data-ttu-id="9fe0d-110">Sestavy a podrobností jsou se ideálním řešením pro vizualizaci na více relací a zobrazení podrobných informací z zvlášť "širokou" tabulky (ta, která mají mnoho sloupců).</span><span class="sxs-lookup"><span data-stu-id="9fe0d-110">Master/detail reports are an ideal choice for visualizing one-to-many relationships and for displaying detailed information from particularly "wide" tables (ones that have a lot of columns).</span></span> <span data-ttu-id="9fe0d-111">Jsme jste prozkoumali implementaci použití ovládacích prvků GridView a DetailsView v předchozí kurzy sestavy a podrobností.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-111">We've explored how to implement master/detail reports using the GridView and DetailsView controls in previous tutorials.</span></span> <span data-ttu-id="9fe0d-112">V tomto kurzu a další dvě budete nám prozkoumat tyto koncepty, ale soustředí na pomocí DataList a místo toho řídí opakovače.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-112">In this tutorial and the next two, we'll reexamine these concepts, but focus on using DataList and Repeater controls instead.</span></span>

<span data-ttu-id="9fe0d-113">V tomto kurzu budeme zabývat pomocí rozevírací seznam obsahuje záznamy "hlavní", "Podrobnosti" záznamy zobrazeny v DataList.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-113">In this tutorial, we'll look at using a DropDownList to contain the "master" records, with the "details" records displayed in a DataList.</span></span>

## <a name="step-1-adding-the-masterdetail-tutorial-web-pages"></a><span data-ttu-id="9fe0d-114">Krok 1: Přidání a podrobností kurz webové stránky</span><span class="sxs-lookup"><span data-stu-id="9fe0d-114">Step 1: Adding the Master/Detail Tutorial Web Pages</span></span>

<span data-ttu-id="9fe0d-115">Než začneme v tomto kurzu, můžeme nejdřív za chvíli přidat složky a stránek ASP.NET, které budeme potřebovat pro tento kurz a další dva týkajících se použití ovládacích prvků DataList a opakovače sestavy a podrobností.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-115">Before we start this tutorial, let's first take a moment to add the folder and ASP.NET pages we'll need for this tutorial and the next two dealing with master/detail reports using the DataList and Repeater controls.</span></span> <span data-ttu-id="9fe0d-116">Začněte vytvořením novou složku v projektu s názvem `DataListRepeaterFiltering`.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-116">Start by creating a new folder in the project named `DataListRepeaterFiltering`.</span></span> <span data-ttu-id="9fe0d-117">Dál přidejte následující pět stránek ASP.NET do této složky rozmístit nakonfigurované na používání stránky předlohy `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="9fe0d-117">Next, add the following five ASP.NET pages to this folder, having all of them configured to use the master page `Site.master`:</span></span>

- `Default.aspx`
- `FilterByDropDownList.aspx`
- `CategoryListMaster.aspx`
- `ProductsForCategoryDetails.aspx`
- `CategoriesAndProducts.aspx`


![Vytvořte složku DataListRepeaterFiltering a přidání stránky kurz ASP.NET](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image1.png)

<span data-ttu-id="9fe0d-119">**Obrázek 1**: vytvoření `DataListRepeaterFiltering` složky a přidat stránky kurz ASP.NET</span><span class="sxs-lookup"><span data-stu-id="9fe0d-119">**Figure 1**: Create a `DataListRepeaterFiltering` Folder and Add the Tutorial ASP.NET Pages</span></span>


<span data-ttu-id="9fe0d-120">Dále otevřete `Default.aspx` stránky a přetáhněte ji `SectionLevelTutorialListing.ascx` uživatelský ovládací prvek z `UserControls` složky na návrhovou plochu.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-120">Next, open the `Default.aspx` page and drag the `SectionLevelTutorialListing.ascx` User Control from the `UserControls` folder onto the Design surface.</span></span> <span data-ttu-id="9fe0d-121">Tento uživatelský ovládací prvek, který jsme vytvořili v [hlavní stránky a webové navigace](../introduction/master-pages-and-site-navigation-cs.md) kurzu mapy webu a zobrazí výčet kurzů k z aktuálního oddílu v seznamu s odrážkami.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-121">This User Control, which we created in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-cs.md) tutorial, enumerates the site map and displays the tutorials from the current section in a bulleted list.</span></span>


<span data-ttu-id="9fe0d-122">[![Přidání SectionLevelTutorialListing.ascx uživatelského ovládacího prvku do Default.aspx](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image3.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="9fe0d-122">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image3.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image2.png)</span></span>

<span data-ttu-id="9fe0d-123">**Obrázek 2**: Přidat `SectionLevelTutorialListing.ascx` uživatelského ovládacího prvku na `Default.aspx` ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="9fe0d-123">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image4.png))</span></span>


<span data-ttu-id="9fe0d-124">Pokud chcete mít v zobrazení seznamu s odrážkami kurzy a podrobností, které jsme budete vytvářet, je třeba je přidáte do mapy webu.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-124">In order to have the bulleted list display the master/detail tutorials we'll be creating, we need to add them to the site map.</span></span> <span data-ttu-id="9fe0d-125">Otevřete `Web.sitemap` souboru a přidejte následující kód po značku "Zobrazení dat pomocí DataList a opakovače" mapy webu uzlu:</span><span class="sxs-lookup"><span data-stu-id="9fe0d-125">Open the `Web.sitemap` file and add the following markup after the "Displaying Data with the DataList and Repeater" site map node markup:</span></span>

[!code-xml[Main](master-detail-filtering-with-a-dropdownlist-datalist-cs/samples/sample1.xml)]


![Aktualizace mapy webu zahrnout nové stránky ASP.NET](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image5.png)

<span data-ttu-id="9fe0d-127">**Obrázek 3**: aktualizace mapy webu zahrnout nové stránky ASP.NET</span><span class="sxs-lookup"><span data-stu-id="9fe0d-127">**Figure 3**: Update the Site Map to Include the New ASP.NET Pages</span></span>


## <a name="step-2-displaying-the-categories-in-a-dropdownlist"></a><span data-ttu-id="9fe0d-128">Krok 2: Zobrazení kategorií v rozevírací seznam</span><span class="sxs-lookup"><span data-stu-id="9fe0d-128">Step 2: Displaying the Categories in a DropDownList</span></span>

<span data-ttu-id="9fe0d-129">Naše a podrobností sestava zobrazí seznam kategorií v rozevírací seznam, s produkty položce vybrané seznamu zobrazí další dolů na stránce v DataList.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-129">Our master/detail report will list the categories in a DropDownList, with the selected list item's products displayed further down in the page in a DataList.</span></span> <span data-ttu-id="9fe0d-130">První úlohou před nám, se pak se zobrazí v rozevírací seznam kategorií.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-130">The first task ahead of us, then, is to have the categories displayed in a DropDownList.</span></span> <span data-ttu-id="9fe0d-131">Začněte otevřením `FilterByDropDownList.aspx` stránku `DataListRepeaterFiltering` složku a přetáhněte rozevírací seznam z panelu nástrojů na stránky návrháře.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-131">Start by opening the `FilterByDropDownList.aspx` page in the `DataListRepeaterFiltering` folder and drag a DropDownList from the Toolbox onto the page's designer.</span></span> <span data-ttu-id="9fe0d-132">Dále nastavte rozevírací seznam `ID` vlastnost `Categories`.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-132">Next, set the DropDownList's `ID` property to `Categories`.</span></span> <span data-ttu-id="9fe0d-133">Klikněte na odkaz zvolit zdroj dat z inteligentních značek rozevírací seznam a vytvořit nové ObjectDataSource s názvem `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-133">Click on the Choose Data Source link from the DropDownList's smart tag and create a new ObjectDataSource named `CategoriesDataSource`.</span></span>


<span data-ttu-id="9fe0d-134">[![Přidat nové ObjectDataSource s názvem CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image7.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="9fe0d-134">[![Add a New ObjectDataSource Named CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image7.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image6.png)</span></span>

<span data-ttu-id="9fe0d-135">**Obrázek 4**: Přidání nové ObjectDataSource s názvem `CategoriesDataSource` ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="9fe0d-135">**Figure 4**: Add a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image8.png))</span></span>


<span data-ttu-id="9fe0d-136">Konfigurace nového ObjectDataSource tak, aby vyvolá `CategoriesBLL` třídy `GetCategories()` metoda.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-136">Configure the new ObjectDataSource such that it invokes the `CategoriesBLL` class's `GetCategories()` method.</span></span> <span data-ttu-id="9fe0d-137">Po dokončení konfigurace ObjectDataSource musíme určit, jaké pole datového zdroje, které mají být zobrazeny v rozevírací seznam a které jeden by měly být přidruženy jako hodnota pro každou položku seznamu.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-137">After configuring the ObjectDataSource we still need to specify what data source field should be displayed in the DropDownList and which one should be associated as the value for each list item.</span></span> <span data-ttu-id="9fe0d-138">Máte `CategoryName` pole jako zobrazení a `CategoryID` jako hodnota pro každou položku seznamu.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-138">Have the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>


<span data-ttu-id="9fe0d-139">[![Mají zobrazení rozevírací seznam CategoryName pole a použití CategoryID jako hodnota](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image10.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="9fe0d-139">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image10.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image9.png)</span></span>

<span data-ttu-id="9fe0d-140">**Obrázek 5**: mít zobrazení rozevírací seznam `CategoryName` pole a použití `CategoryID` jako hodnotu ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="9fe0d-140">**Figure 5**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image11.png))</span></span>


<span data-ttu-id="9fe0d-141">V tomto okamžiku máme ovládací prvek rozevírací seznam, který se zobrazí v záznamy ze `Categories` tabulky (všechny dosáhnout přibližně šest sekund).</span><span class="sxs-lookup"><span data-stu-id="9fe0d-141">At this point we have a DropDownList control that's populated with the records from the `Categories` table (all accomplished in about six seconds).</span></span> <span data-ttu-id="9fe0d-142">Obrázek 6 zobrazuje naše průběh doposud, když zobrazit pomocí prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-142">Figure 6 shows our progress thus far when viewed through a browser.</span></span>


<span data-ttu-id="9fe0d-143">[![Rozevírací seznamy aktuální kategorií](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image13.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="9fe0d-143">[![A Drop-Down Lists the Current Categories](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image13.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image12.png)</span></span>

<span data-ttu-id="9fe0d-144">**Obrázek 6**: rozevírací seznamy A aktuální kategorie ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="9fe0d-144">**Figure 6**: A Drop-Down Lists the Current Categories ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image14.png))</span></span>


## <a name="step-2-adding-the-products-datalist"></a><span data-ttu-id="9fe0d-145">Krok 2: Přidání DataList produkty</span><span class="sxs-lookup"><span data-stu-id="9fe0d-145">Step 2: Adding the Products DataList</span></span>

<span data-ttu-id="9fe0d-146">Posledním krokem v naší a podrobností sestavy je seznam produkty spojené s vybranou kategorii.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-146">The last step in our master/detail report is to list the products associated with the selected category.</span></span> <span data-ttu-id="9fe0d-147">K tomu, přidejte na stránku DataList a vytvořit nové ObjectDataSource s názvem `ProductsByCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-147">To accomplish this, add a DataList to the page and create a new ObjectDataSource named `ProductsByCategoryDataSource`.</span></span> <span data-ttu-id="9fe0d-148">Mít `ProductsByCategoryDataSource` načíst data z ovládacího prvku `ProductsBLL` třídy `GetProductsByCategoryID(categoryID)` metoda.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-148">Have the `ProductsByCategoryDataSource` control retrieve its data from the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="9fe0d-149">Vzhledem k tomu, že tuto sestavu a podrobností je jen pro čtení, zvolte možnost (žádná) na kartách INSERT, UPDATE a DELETE.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-149">Since this master/detail report is read-only, choose the (None) option in the INSERT, UPDATE, and DELETE tabs.</span></span>


<span data-ttu-id="9fe0d-150">[![Vyberte metodu GetProductsByCategoryID(categoryID)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image16.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="9fe0d-150">[![Select the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image16.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image15.png)</span></span>

<span data-ttu-id="9fe0d-151">**Obrázek 7**: vyberte `GetProductsByCategoryID(categoryID)` – metoda ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="9fe0d-151">**Figure 7**: Select the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image17.png))</span></span>


<span data-ttu-id="9fe0d-152">Po kliknutí na tlačítko Další, Průvodce ObjectDataSource k zadání nám zdroj hodnota `GetProductsByCategoryID(categoryID)` metody *`categoryID`* parametr.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-152">After clicking Next, the ObjectDataSource wizard prompts us for the source of the value for the `GetProductsByCategoryID(categoryID)` method's *`categoryID`* parameter.</span></span> <span data-ttu-id="9fe0d-153">Chcete použít hodnotu vybrané `categories` rozevírací seznam položky nastavit parametr Zdroj ovládacího prvku a ControlID k `Categories`.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-153">To use the value of the selected `categories` DropDownList item set the Parameter source to Control and the ControlID to `Categories`.</span></span>


<span data-ttu-id="9fe0d-154">[![Nastaví categoryID parametr na hodnotu rozevírací seznam kategorií](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image19.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="9fe0d-154">[![Set the categoryID Parameter to the Value of the Categories DropDownList](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image19.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image18.png)</span></span>

<span data-ttu-id="9fe0d-155">**Obrázek 8**: nastavte *`categoryID`* parametr na hodnotu `Categories` rozevírací seznam ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="9fe0d-155">**Figure 8**: Set the *`categoryID`* Parameter to the Value of the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image20.png))</span></span>


<span data-ttu-id="9fe0d-156">Po dokončení průvodce Konfigurace zdroje dat, bude automaticky generovat Visual Studio `ItemTemplate` pro DataList, který zobrazí název a hodnotu každé datové pole.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-156">Upon completing the Configure Data Source wizard, Visual Studio will automatically generate an `ItemTemplate` for the DataList that displays the name and value of each data field.</span></span> <span data-ttu-id="9fe0d-157">Umožňuje zvýšit DataList místo toho použít `ItemTemplate` který zobrazí pouze název produktu, kategorie, dodavatele, množství jednotce a ceníku spolu s `SeparatorTemplate` , vloží `<hr>` element mezi každou položku.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-157">Let's enhance the DataList to instead use an `ItemTemplate` that displays just the product's name, category, supplier, quantity per unit, and price along with a `SeparatorTemplate` that injects an `<hr>` element between each item.</span></span> <span data-ttu-id="9fe0d-158">Přechod do použít `ItemTemplate` z příklad v [zobrazení dat s ovládacími prvky opakovače a DataList](../displaying-data-with-the-datalist-and-repeater/displaying-data-with-the-datalist-and-repeater-controls-cs.md) kurzu, ale můžete použít libovolnou šablonu značek zjistíte nejvíce přitažlivé chování.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-158">I'm going to use the `ItemTemplate` from an example in the [Displaying Data with the DataList and Repeater Controls](../displaying-data-with-the-datalist-and-repeater/displaying-data-with-the-datalist-and-repeater-controls-cs.md) tutorial, but feel free to use whatever template markup you find most visually appealing.</span></span>

<span data-ttu-id="9fe0d-159">Po provedení těchto změn, vaše DataList a jeho ObjectDataSource značek by měl vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="9fe0d-159">After making these changes, your DataList and its ObjectDataSource's markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-datalist-cs/samples/sample2.aspx)]

<span data-ttu-id="9fe0d-160">Podívejte se na naše průběh v prohlížeči chvíli trvat.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-160">Take a moment to check out our progress in a browser.</span></span> <span data-ttu-id="9fe0d-161">Při první návštěvě stránky, tyto produkty, které patří do vybrané kategorie (nápoje) se zobrazí (jak je znázorněno na obrázku 9), ale změna rozevírací seznam neaktualizuje data.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-161">When first visiting the page, those products belonging to the selected category (Beverages) are displayed (as shown in Figure 9), but changing the DropDownList doesn't update the data.</span></span> <span data-ttu-id="9fe0d-162">To je proto zpětné volání, musí dojít k DataList aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-162">This is because a postback must occur for the DataList to update.</span></span> <span data-ttu-id="9fe0d-163">Chcete-li tomu můžeme buď nastavte rozevírací seznam `AutoPostBack` vlastnost `true` nebo přidání ovládacího prvku tlačítko na stránku.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-163">To accomplish this we can either set the DropDownList's `AutoPostBack` property to `true` or add a Button Web control to the page.</span></span> <span data-ttu-id="9fe0d-164">V tomto kurzu I jste se rozhodli nastavit rozevírací seznam `AutoPostBack` vlastnost `true`.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-164">For this tutorial, I've opted to set the DropDownList's `AutoPostBack` property to `true`.</span></span>

<span data-ttu-id="9fe0d-165">Následující obrázky 9 a 10 znázorňují, sestavy a podrobností v akci.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-165">Figures 9 and 10 illustrate the master/detail report in action.</span></span>


<span data-ttu-id="9fe0d-166">[![Při první návštěvě stránky, se zobrazí produkty nápoj](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image22.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="9fe0d-166">[![When First Visiting the Page, the Beverage Products are Displayed](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image22.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image21.png)</span></span>

<span data-ttu-id="9fe0d-167">**Obrázek 9**: při první návštěvě stránky, se zobrazí produkty nápoj ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="9fe0d-167">**Figure 9**: When First Visiting the Page, the Beverage Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image23.png))</span></span>


<span data-ttu-id="9fe0d-168">[![Výběr nového produktu (produktu) automaticky vyvolá PostBack, aktualizaci prvku DataList](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image25.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="9fe0d-168">[![Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the DataList](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image25.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image24.png)</span></span>

<span data-ttu-id="9fe0d-169">**Obrázek 10**: Výběr nového produktu (produktu) automaticky vyvolá PostBack, aktualizaci prvku DataList ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="9fe0d-169">**Figure 10**: Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the DataList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image26.png))</span></span>


## <a name="adding-a----choose-a-category----list-item"></a><span data-ttu-id="9fe0d-170">Přidání položky seznamu "– Vyberte kategorii –"</span><span class="sxs-lookup"><span data-stu-id="9fe0d-170">Adding a "-- Choose a Category --" List Item</span></span>

<span data-ttu-id="9fe0d-171">Při první návštěvě `FilterByDropDownList.aspx` stránky kategorie, které rozevírací seznam pro první položku seznamu (nápoje) je ve výchozím nastavení zobrazující nápoj produkty v prvku DataList.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-171">When first visiting the `FilterByDropDownList.aspx` page the categories DropDownList's first list item (Beverages) is selected by default, showing the beverage products in the DataList.</span></span> <span data-ttu-id="9fe0d-172">V *a podrobností filtrování s rozevírací seznam* kurzu jsme přidali možnost "– Vyberte kategorii –" na rozevírací seznam, který se ve výchozím nastavení vybrané a při výběru, zobrazí *všechny* z produkty v databázi.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-172">In the *Master/Detail Filtering With a DropDownList* tutorial we added a "-- Choose a Category --" option to the DropDownList that was selected by default and, when selected, displayed *all* of the products in the database.</span></span> <span data-ttu-id="9fe0d-173">Tento postup se spravovat při výpisu produkty v GridView, jak každý řádek produktu trvalo až malé množství nemovitosti obrazovky.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-173">Such an approach was manageable when listing the products in a GridView, as each product row took up a small amount of screen real estate.</span></span> <span data-ttu-id="9fe0d-174">S DataList ale každý produkt informace využívá mnohem větší bloku na obrazovce.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-174">With the DataList, however, each product's information consumes a much larger chunk of the screen.</span></span> <span data-ttu-id="9fe0d-175">Stále umožňuje přidat možnost "– Vyberte kategorii –" a mít je standardně vybraná, ale místo nutnosti ho zobrazit všechny produkty, pokud vybraná, umožňuje nakonfigurovat, aby zobrazuje žádné produkty.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-175">Let's still add a "-- Choose a Category --" option and have it selected by default, but instead of having it show all products when selected, let's configure it so that it shows no products.</span></span>

<span data-ttu-id="9fe0d-176">Chcete-li přidat novou položku seznamu do rozevírací seznam, přejít do okna vlastností a klikněte na symbol tří teček v `Items` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-176">To add a new list item to the DropDownList, go to the Properties window and click on the ellipses in the `Items` property.</span></span> <span data-ttu-id="9fe0d-177">Přidat novou položku seznamu s `Text` "--Vyberte kategorii –" a `Value` `0`.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-177">Add a new list item with the `Text` "-- Choose a Category --" and the `Value` `0`.</span></span>


![Přidat](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image27.png)

<span data-ttu-id="9fe0d-179">**Obrázek 11**: Přidání položky seznamu "– Vyberte kategorii –"</span><span class="sxs-lookup"><span data-stu-id="9fe0d-179">**Figure 11**: Add a "-- Choose a Category --" List Item</span></span>


<span data-ttu-id="9fe0d-180">Alternativně můžete přidat položku seznamu přidáním následující kód do rozevírací seznam:</span><span class="sxs-lookup"><span data-stu-id="9fe0d-180">Alternatively, you can add the list item by adding the following markup to the DropDownList:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-datalist-cs/samples/sample3.aspx)]

<span data-ttu-id="9fe0d-181">Kromě toho je potřeba nastavit ovládací prvek rozevírací seznam `AppendDataBoundItems` k `true` vzhledem k tomu, pokud je nastaven na hodnotu `false` (výchozí), pokud kategorie je vázána na rozevírací seznam z ObjectDataSource se budete přepsat žádný seznam ručně přidat položky.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-181">Additionally, we need to set the DropDownList control's `AppendDataBoundItems` to `true` because if it's set to `false` (the default), when the categories are bound to the DropDownList from the ObjectDataSource they'll overwrite any manually-added list items.</span></span>


![Nastavte vlastnost AppendDataBoundItems vlastnost na hodnotu True](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image28.png)

<span data-ttu-id="9fe0d-183">**Obrázek 12**: nastavte `AppendDataBoundItems` vlastnost na hodnotu True</span><span class="sxs-lookup"><span data-stu-id="9fe0d-183">**Figure 12**: Set the `AppendDataBoundItems` Property to True</span></span>


<span data-ttu-id="9fe0d-184">Z důvodu jsme zvolili hodnota `0` seznamu "– Vyberte kategorii –" položka je, protože nejsou k dispozici žádné kategorie v systému s hodnotou `0`, proto se žádné záznamy produktu vrátí, pokud je vybrána položka seznamu "– Vyberte kategorii –".</span><span class="sxs-lookup"><span data-stu-id="9fe0d-184">The reason we chose the value `0` for the "-- Choose a Category --" list item is because there are no categories in the system with a value of `0`, hence no product records will be returned when the "-- Choose a Category --" list item is selected.</span></span> <span data-ttu-id="9fe0d-185">Potvrďte to za chvíli navštívit stránku prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-185">To confirm this, take a moment to visit the page through a browser.</span></span> <span data-ttu-id="9fe0d-186">Jak ukazuje obrázek 13, při počátečním prohlížení stránky, je vybrána položka seznamu "– Vyberte kategorii –" a jsou zobrazeny žádné produkty.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-186">As Figure 13 shows, when initially viewing the page the "-- Choose a Category --" list item is selected and no products are displayed.</span></span>


<span data-ttu-id="9fe0d-187">[![Když](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image30.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="9fe0d-187">[![When the](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image30.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image29.png)</span></span>

<span data-ttu-id="9fe0d-188">**Obrázek 13**: Pokud je vybrána položka seznamu "– Vyberte kategorii –", jsou zobrazeny žádné produkty ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image31.png))</span><span class="sxs-lookup"><span data-stu-id="9fe0d-188">**Figure 13**: When the "-- Choose a Category --" List Item is Selected, No Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image31.png))</span></span>


<span data-ttu-id="9fe0d-189">Pokud byste místo zobrazení *všechny* produkty Pokud je vybraná možnost "– Vyberte kategorii –", použijte hodnotu `-1` místo.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-189">If you'd rather display *all* of the products when the "-- Choose a Category --" option is selected, use a value of `-1` instead.</span></span> <span data-ttu-id="9fe0d-190">Astute čtečky připomíná, že zpět v *a podrobností filtrování s rozevírací seznam* kurzu aktualizovali jsme `ProductsBLL` třídy `GetProductsByCategoryID(categoryID)` metoda tak, aby pokud *`categoryID`* Hodnota `-1` byl předán v všechny produktu, záznamů byly vráceny.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-190">The astute reader will recall that back in the *Master/Detail Filtering With a DropDownList* tutorial we updated the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method so that if a *`categoryID`* value of `-1` was passed in, all product records were returned.</span></span>

## <a name="summary"></a><span data-ttu-id="9fe0d-191">Souhrn</span><span class="sxs-lookup"><span data-stu-id="9fe0d-191">Summary</span></span>

<span data-ttu-id="9fe0d-192">Při zobrazení hierarchicky související data, je dobré často se data pomocí sestav a podrobností, ze kterých uživatel můžete spustit perusing data od nejvyšší úrovně v hierarchii a podrobnostem podrobnosti k dispozici.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-192">When displaying hierarchically-related data, it often helps to present the data using master/detail reports, from which the user can start perusing the data from the top of the hierarchy and drill down into details.</span></span> <span data-ttu-id="9fe0d-193">V tomto kurzu jsme se zaměřili na vytváření jednoduché a podrobností sestavy zobrazující vybrané kategorie produktů.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-193">In this tutorial we examined building a simple master/detail report showing a selected category's products.</span></span> <span data-ttu-id="9fe0d-194">Bylo to provést pomocí rozevírací seznam pro seznam kategorií a DataList pro produkty, které patří do vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-194">This was accomplished by using a DropDownList for the list of categories and a DataList for the products belonging to the selected category.</span></span>

<span data-ttu-id="9fe0d-195">V dalším kurzu podíváme oddělení mezi dvěma stránkami záznamy seznamu a podrobností.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-195">In the next tutorial we'll look at separating the master and details records across two pages.</span></span> <span data-ttu-id="9fe0d-196">Na první stránce seznam záznamů "hlavní" se zobrazí, s odkazem k zobrazení podrobností.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-196">In the first page, a list of "master" records will be displayed, with a link to view the details.</span></span> <span data-ttu-id="9fe0d-197">Kliknutím na odkaz bude whisk uživatele na druhou stránku, která se zobrazí podrobnosti pro vybraný záznam hlavní.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-197">Clicking on the link will whisk the user to the second page, which will display the details for the selected master record.</span></span>

<span data-ttu-id="9fe0d-198">Radostí programování!</span><span class="sxs-lookup"><span data-stu-id="9fe0d-198">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="9fe0d-199">O autorovi</span><span class="sxs-lookup"><span data-stu-id="9fe0d-199">About the Author</span></span>

<span data-ttu-id="9fe0d-200">[Scott Meisnerová](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor sedm ASP/ASP.NET knih a zakladatele z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje s technologií Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="9fe0d-201">Scott funguje jako nezávislé poradce, trainer a zapisovače.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-201">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="9fe0d-202">Jeho nejnovější seznam k [ *Edice nakladatelství Sams naučit sami technologii ASP.NET 2.0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="9fe0d-202">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="9fe0d-203">Dosažitelný v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) nebo prostřednictvím svého blogu, který najdete na [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="9fe0d-203">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="9fe0d-204">Zvláštní poděkování...</span><span class="sxs-lookup"><span data-stu-id="9fe0d-204">Special Thanks To…</span></span>

<span data-ttu-id="9fe0d-205">Tento kurz řady byla zkontrolovány uživatelem mnoho užitečné kontrolorů.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-205">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="9fe0d-206">Vést kontrolorem pro tento kurz byl Randy Schmidt.</span><span class="sxs-lookup"><span data-stu-id="9fe0d-206">Lead reviewer for this tutorial was Randy Schmidt.</span></span> <span data-ttu-id="9fe0d-207">Kontrola Moje nadcházející články MSDN máte zájem?</span><span class="sxs-lookup"><span data-stu-id="9fe0d-207">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="9fe0d-208">Pokud ano, vyřaďte mi řádek v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="9fe0d-208">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="9fe0d-209">Next</span><span class="sxs-lookup"><span data-stu-id="9fe0d-209">Next</span></span>](master-detail-filtering-acess-two-pages-datalist-cs.md)
