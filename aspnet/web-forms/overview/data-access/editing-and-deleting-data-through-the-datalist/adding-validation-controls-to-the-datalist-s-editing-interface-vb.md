---
uid: web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/adding-validation-controls-to-the-datalist-s-editing-interface-vb
title: Přidání ovládacích prvků ověření do prvku DataList je úpravy rozhraní (VB) | Microsoft Docs
author: rick-anderson
description: V tomto kurzu ukážeme, jak snadné je přidat ovládací prvky pro ověřování DataList EditItemTemplate aby poskytují více spolehlivá úpravy int. uživatele...
ms.author: aspnetcontent
manager: wpickett
ms.date: 10/30/2006
ms.topic: article
ms.assetid: 6b073fc6-524d-453d-be7c-0c30986de391
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/adding-validation-controls-to-the-datalist-s-editing-interface-vb
msc.type: authoredcontent
ms.openlocfilehash: 46ff0b18c1ea24dd73c9e3034c1b5e53f2e6d0c2
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/06/2018
---
<a name="adding-validation-controls-to-the-datalists-editing-interface-vb"></a><span data-ttu-id="3b73d-103">Přidání ovládacích prvků ověření na rozhraní úpravy DataList (VB)</span><span class="sxs-lookup"><span data-stu-id="3b73d-103">Adding Validation Controls to the DataList's Editing Interface (VB)</span></span>
====================
<span data-ttu-id="3b73d-104">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="3b73d-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="3b73d-105">[Stáhněte si ukázkovou aplikaci](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_39_VB.exe) nebo [stáhnout PDF](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/datatutorial39vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="3b73d-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_39_VB.exe) or [Download PDF](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/datatutorial39vb1.pdf)</span></span>

> <span data-ttu-id="3b73d-106">V tomto kurzu budete vidíte, jak snadné je přidat ovládací prvky pro ověřování DataList EditItemTemplate aby nabízí více spolehlivá úpravy uživatelské rozhraní.</span><span class="sxs-lookup"><span data-stu-id="3b73d-106">In this tutorial we'll see how easy it is to add validation controls to the DataList's EditItemTemplate in order to provide a more foolproof editing user interface.</span></span>


## <a name="introduction"></a><span data-ttu-id="3b73d-107">Úvod</span><span class="sxs-lookup"><span data-stu-id="3b73d-107">Introduction</span></span>

<span data-ttu-id="3b73d-108">V DataList doposud úpravy kurzy nebyly DataLists úpravy rozhraní zahrnuta žádné ověření proaktivní uživatelského vstupu, i když neplatný uživatelského vstupu, například chybějící název produktu nebo záporné cena za následek výjimku.</span><span class="sxs-lookup"><span data-stu-id="3b73d-108">In the DataList editing tutorials thus far, the DataLists editing interfaces have not included any proactive user input validation even though invalid user input such as a missing product name or negative price results in an exception.</span></span> <span data-ttu-id="3b73d-109">V [předchozí kurzu](handling-bll-and-dal-level-exceptions-vb.md) jsme se zaměřili na tom, jak přidat kód pro DataList s zpracování výjimek `UpdateCommand` obslužné rutiny události tak, aby bylo možné zachytit a řádně zobrazení informací o všechny výjimky, které byly vyvolány.</span><span class="sxs-lookup"><span data-stu-id="3b73d-109">In the [preceding tutorial](handling-bll-and-dal-level-exceptions-vb.md) we examined how to add exception handling code to the DataList s `UpdateCommand` event handler in order to catch and gracefully display information about any exceptions that were raised.</span></span> <span data-ttu-id="3b73d-110">V ideálním případě by však úpravy rozhraní bude zahrnovat prvky ověřování k uživateli zabránit v přechodu do takové neplatná data na prvním místě.</span><span class="sxs-lookup"><span data-stu-id="3b73d-110">Ideally, however, the editing interface would include validation controls to prevent a user from entering such invalid data in the first place.</span></span>

<span data-ttu-id="3b73d-111">V tomto kurzu ukážeme, jak je snadné přidání ovládacích prvků ověření DataList s `EditItemTemplate` Chcete-li zadat více spolehlivá úpravy uživatelské rozhraní.</span><span class="sxs-lookup"><span data-stu-id="3b73d-111">In this tutorial we'll see how easy it is to add validation controls to the DataList s `EditItemTemplate` in order to provide a more foolproof editing user interface.</span></span> <span data-ttu-id="3b73d-112">Konkrétně tento kurz využívá příklad vytvořili v předchozím kurzu a rozšiřuje úpravy rozhraní, které chcete zahrnout odpovídající ověřování.</span><span class="sxs-lookup"><span data-stu-id="3b73d-112">Specifically, this tutorial takes the example created in the preceding tutorial and augments the editing interface to include appropriate validation.</span></span>

## <a name="step-1-replicating-the-example-fromhandling-bll--and-dal-level-exceptionshandling-bll-and-dal-level-exceptions-vbmd"></a><span data-ttu-id="3b73d-113">Krok 1: Replikace příklad z[zpracování výjimek BLL a DAL úroveň](handling-bll-and-dal-level-exceptions-vb.md)</span><span class="sxs-lookup"><span data-stu-id="3b73d-113">Step 1: Replicating the Example from[Handling BLL- and DAL-Level Exceptions](handling-bll-and-dal-level-exceptions-vb.md)</span></span>

<span data-ttu-id="3b73d-114">V [zpracování BLL - a výjimky na úrovni DAL](handling-bll-and-dal-level-exceptions-vb.md) kurzu jsme vytvořili stránky, který uvedené názvy a ceny produktů v DataList dva sloupce, upravovat.</span><span class="sxs-lookup"><span data-stu-id="3b73d-114">In the [Handling BLL- and DAL-Level Exceptions](handling-bll-and-dal-level-exceptions-vb.md) tutorial we created a page that listed the names and prices of the products in a two-column, editable DataList.</span></span> <span data-ttu-id="3b73d-115">Naším cílem pro tento kurz je k posílení DataList s úpravy rozhraní zahrnout ovládací prvky pro ověřování.</span><span class="sxs-lookup"><span data-stu-id="3b73d-115">Our goal for this tutorial is to augment the DataList s editing interface to include validation controls.</span></span> <span data-ttu-id="3b73d-116">Konkrétně se ověřovací logiku:</span><span class="sxs-lookup"><span data-stu-id="3b73d-116">In particular, our validation logic will:</span></span>

- <span data-ttu-id="3b73d-117">Vyžadovat, že je třeba zadat název produktu s</span><span class="sxs-lookup"><span data-stu-id="3b73d-117">Require that the product s name be provided</span></span>
- <span data-ttu-id="3b73d-118">Zkontrolujte, zda je hodnota zadaná pro cenu formátu platný měny</span><span class="sxs-lookup"><span data-stu-id="3b73d-118">Ensure that the value entered for the price is a valid currency format</span></span>
- <span data-ttu-id="3b73d-119">Ujistěte se, že hodnota zadaná pro cenu je větší než nebo rovna hodnotě nula, protože jako záporné `UnitPrice` hodnota je neplatná</span><span class="sxs-lookup"><span data-stu-id="3b73d-119">Ensure that the value entered for the price is greater than or equal to zero, since a negative `UnitPrice` value is illegal</span></span>

<span data-ttu-id="3b73d-120">Podíváme můžete na předchozí příklad zahrnout ověření rozšířit, nejprve musíme replikovat příklad z `ErrorHandling.aspx` stránku `EditDeleteDataList` složky na stránku pro účely tohoto kurzu `UIValidation.aspx`.</span><span class="sxs-lookup"><span data-stu-id="3b73d-120">Before we can look at augmenting the previous example to include validation, we first need to replicate the example from the `ErrorHandling.aspx` page in the `EditDeleteDataList` folder to the page for this tutorial, `UIValidation.aspx`.</span></span> <span data-ttu-id="3b73d-121">Dosáhnout budeme muset zkopírovat přes i `ErrorHandling.aspx` stránky s deklarativní a jeho zdrojový kód.</span><span class="sxs-lookup"><span data-stu-id="3b73d-121">To achieve this we need to copy over both the `ErrorHandling.aspx` page s declarative markup and its source code.</span></span> <span data-ttu-id="3b73d-122">Nejdřív zkopírujte přes deklarativní provedením následujících kroků:</span><span class="sxs-lookup"><span data-stu-id="3b73d-122">First copy over the declarative markup by performing the following steps:</span></span>

1. <span data-ttu-id="3b73d-123">Otevřete `ErrorHandling.aspx` stránka v sadě Visual Studio</span><span class="sxs-lookup"><span data-stu-id="3b73d-123">Open the `ErrorHandling.aspx` page in Visual Studio</span></span>
2. <span data-ttu-id="3b73d-124">Přejděte na stránku s deklarativní (kliknutím na tlačítko zdroj v dolní části stránky)</span><span class="sxs-lookup"><span data-stu-id="3b73d-124">Go to the page s declarative markup (click on the Source button at the bottom of the page)</span></span>
3. <span data-ttu-id="3b73d-125">Zkopírujte text v rámci `<asp:Content>` a `</asp:Content>` značky (čáry 3 až 32), jako podle obrázku 1.</span><span class="sxs-lookup"><span data-stu-id="3b73d-125">Copy the text within the `<asp:Content>` and `</asp:Content>` tags (lines 3 through 32), as shown in Figure 1.</span></span>


<span data-ttu-id="3b73d-126">[![Zkopírujte Text v &lt;asp: obsah&gt; ovládací prvek](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image2.png)](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="3b73d-126">[![Copy the Text Within the &lt;asp:Content&gt; Control](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image2.png)](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image1.png)</span></span>

<span data-ttu-id="3b73d-127">**Obrázek 2**: kopírování textu v `<asp:Content>` ovládací prvek ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="3b73d-127">**Figure 2**: Copy the Text Within the `<asp:Content>` Control ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image3.png))</span></span>


1. <span data-ttu-id="3b73d-128">Otevřete `UIValidation.aspx` stránky</span><span class="sxs-lookup"><span data-stu-id="3b73d-128">Open the `UIValidation.aspx` page</span></span>
2. <span data-ttu-id="3b73d-129">Přejděte na stránku s deklarativní</span><span class="sxs-lookup"><span data-stu-id="3b73d-129">Go to the page s declarative markup</span></span>
3. <span data-ttu-id="3b73d-130">Sem vložte text, v rámci `<asp:Content>` ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="3b73d-130">Paste the text within the `<asp:Content>` control.</span></span>

<span data-ttu-id="3b73d-131">Pokud chcete zkopírovat přes zdrojový kód, otevřete `ErrorHandling.aspx.vb` stránky a zkopírujte pouze text *v rámci* `EditDeleteDataList_ErrorHandling` – třída.</span><span class="sxs-lookup"><span data-stu-id="3b73d-131">To copy over the source code, open the `ErrorHandling.aspx.vb` page and copy just the text *within* the `EditDeleteDataList_ErrorHandling` class.</span></span> <span data-ttu-id="3b73d-132">Zkopírujte tři události obslužné rutiny (`Products_EditCommand`, `Products_CancelCommand`, a `Products_UpdateCommand`) spolu s `DisplayExceptionDetails` metoda, ale nezadávejte **není** zkopírujte deklaraci třídy nebo `using` příkazy.</span><span class="sxs-lookup"><span data-stu-id="3b73d-132">Copy the three event handlers (`Products_EditCommand`, `Products_CancelCommand`, and `Products_UpdateCommand`) along with the `DisplayExceptionDetails` method, but do **not** copy the class declaration or `using` statements.</span></span> <span data-ttu-id="3b73d-133">Vložte zkopírovaný text *v rámci* `EditDeleteDataList_UIValidation` třídy v `UIValidation.aspx.vb`.</span><span class="sxs-lookup"><span data-stu-id="3b73d-133">Paste the copied text *within* the `EditDeleteDataList_UIValidation` class in `UIValidation.aspx.vb`.</span></span>

<span data-ttu-id="3b73d-134">Po přesunutí nad obsah a kód z `ErrorHandling.aspx` k `UIValidation.aspx`, za chvíli k otestování stránky v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="3b73d-134">After moving over the content and code from `ErrorHandling.aspx` to `UIValidation.aspx`, take a moment to test out the pages in a browser.</span></span> <span data-ttu-id="3b73d-135">Měli byste se stejný výstup a mít stejnou funkcionalitu v každé z těchto dvou stránkách (viz obrázek 2).</span><span class="sxs-lookup"><span data-stu-id="3b73d-135">You should see the same output and experience the same functionality in each of these two pages (see Figure 2).</span></span>


<span data-ttu-id="3b73d-136">[![Stránka UIValidation.aspx napodobuje funkci v ErrorHandling.aspx](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image5.png)](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="3b73d-136">[![The UIValidation.aspx Page Mimics the Functionality in ErrorHandling.aspx](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image5.png)](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image4.png)</span></span>

<span data-ttu-id="3b73d-137">**Obrázek 2**: `UIValidation.aspx` stránky napodobuje funkci v `ErrorHandling.aspx` ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="3b73d-137">**Figure 2**: The `UIValidation.aspx` Page Mimics the Functionality in `ErrorHandling.aspx` ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image6.png))</span></span>


## <a name="step-2-adding-the-validation-controls-to-the-datalist-s-edititemtemplate"></a><span data-ttu-id="3b73d-138">Krok 2: Přidání ovládacích prvků ověření do DataList s EditItemTemplate</span><span class="sxs-lookup"><span data-stu-id="3b73d-138">Step 2: Adding the Validation Controls to the DataList s EditItemTemplate</span></span>

<span data-ttu-id="3b73d-139">Při vytváření formuláře pro zadávání dat, je důležité, že uživatelé zadají všechna povinná pole a zda jejich zadané vstupy jsou hodnoty právní, správně naformátován.</span><span class="sxs-lookup"><span data-stu-id="3b73d-139">When constructing data entry forms, it is important that users enter any required fields and that all their provided inputs are legal, properly-formatted values.</span></span> <span data-ttu-id="3b73d-140">Chcete-li vám mohou pomoci zajistit, že vstupy uživatele s platnou, technologie ASP.NET poskytuje pět integrované ověření ovládacích prvků, které slouží k ověření hodnoty jeden vstupní ovládací prvek webu:</span><span class="sxs-lookup"><span data-stu-id="3b73d-140">To help ensure that a user s inputs are valid, ASP.NET provides five built-in validation controls that are designed to validate the value of a single input Web control:</span></span>

- <span data-ttu-id="3b73d-141">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) zajistí, že byla zadána hodnota</span><span class="sxs-lookup"><span data-stu-id="3b73d-141">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) ensures that a value has been provided</span></span>
- <span data-ttu-id="3b73d-142">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) ověří hodnotu s jinou hodnotou webové ovládací prvek nebo konstantní hodnotu nebo zajišťuje, že formátu hodnot s právní pro zadaný datový typ</span><span class="sxs-lookup"><span data-stu-id="3b73d-142">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) validates a value against another Web control value or a constant value, or ensures that the value s format is legal for a specified data type</span></span>
- <span data-ttu-id="3b73d-143">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) zajistí, že je hodnota v rozsahu hodnot</span><span class="sxs-lookup"><span data-stu-id="3b73d-143">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) ensures that a value is within a range of values</span></span>
- <span data-ttu-id="3b73d-144">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) hodnotu porovnává [regulární výraz](http://en.wikipedia.org/wiki/Regular_expression)</span><span class="sxs-lookup"><span data-stu-id="3b73d-144">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) validates a value against a [regular expression](http://en.wikipedia.org/wiki/Regular_expression)</span></span>
- <span data-ttu-id="3b73d-145">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) hodnotu porovnává vlastní, uživatelsky definované metoda</span><span class="sxs-lookup"><span data-stu-id="3b73d-145">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) validates a value against a custom, user-defined method</span></span>

<span data-ttu-id="3b73d-146">Další informace o těchto pět ovládacích prvků odkazuje zpět na [přidání ověřovací ovládací prvky pro úpravy a vkládání rozhraní](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-vb.md) kurzu nebo rezervaci [část ovládací prvky pro ověřování](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/ctrlref/validation/default.aspx) z [ASP.NET Quickstart kurzy](https://quickstarts.asp.net).</span><span class="sxs-lookup"><span data-stu-id="3b73d-146">For more information on these five controls refer back to the [Adding Validation Controls to the Editing and Inserting Interfaces](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-vb.md) tutorial or check out the [Validation Controls section](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/ctrlref/validation/default.aspx) of the [ASP.NET Quickstart Tutorials](https://quickstarts.asp.net).</span></span>

<span data-ttu-id="3b73d-147">V našem kurzu budeme potřebovat použít RequiredFieldValidator zajistit, aby byla zadána hodnota pro název produktu a CompareValidator zajistit, že zadaná cena má hodnotu větší než nebo rovna 0 a se zobrazí ve formátu měny platný.</span><span class="sxs-lookup"><span data-stu-id="3b73d-147">For our tutorial we'll need to use a RequiredFieldValidator to ensure that a value for the product name has been supplied and a CompareValidator to ensure that the entered price has a value greater than or equal to 0 and is presented in a valid currency format.</span></span>

> [!NOTE]
> <span data-ttu-id="3b73d-148">Při ASP.NET 1.x měl tyto stejné pět ověřovací ovládací prvky, technologii ASP.NET 2.0 přidala množství vylepšení, hlavní dva skripty na straně klienta se podpora pro prohlížeče kromě aplikace Internet Explorer a možnost ověření oddílu ovládacích prvků na stránce do ověření skupiny.</span><span class="sxs-lookup"><span data-stu-id="3b73d-148">While ASP.NET 1.x had these same five validation controls, ASP.NET 2.0 has added a number of improvements, the main two being client-side script support for browsers in addition to Internet Explorer and the ability to partition validation controls on a page into validation groups.</span></span> <span data-ttu-id="3b73d-149">Další informace o nových funkcí řízení ověření v 2.0, najdete v části [Rozvěrače ověřovacích ovládacích prvků v technologii ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="3b73d-149">For more information on the new validation control features in 2.0, refer to [Dissecting the Validation Controls in ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span></span>


<span data-ttu-id="3b73d-150">Umožní s začněte tím, že přidání ovládacích prvků potřeby ověření do DataList s `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="3b73d-150">Let s start by adding the necessary validation controls to the DataList s `EditItemTemplate`.</span></span> <span data-ttu-id="3b73d-151">Tuto úlohu lze provést pomocí návrháře kliknutím na odkaz Upravit šablony z DataList s inteligentním nebo využijte deklarativní syntaxi.</span><span class="sxs-lookup"><span data-stu-id="3b73d-151">This task can be performed through the Designer by clicking on the Edit Templates link from the DataList s smart tag, or through the declarative syntax.</span></span> <span data-ttu-id="3b73d-152">Umožní krok s procesem, pomocí možnosti Upravit šablony ze zobrazení návrhu.</span><span class="sxs-lookup"><span data-stu-id="3b73d-152">Let s step through the process using the Edit Templates option from the Design view.</span></span> <span data-ttu-id="3b73d-153">Po výběru upravit DataList s `EditItemTemplate`, jeho po přidání RequiredFieldValidator přetažením z panelu nástrojů do rozhraní úpravy šablony umístění `ProductName` textové pole.</span><span class="sxs-lookup"><span data-stu-id="3b73d-153">After choosing to edit the DataList s `EditItemTemplate`, add a RequiredFieldValidator by dragging it from the Toolbox into the template editing interface, placing it after the `ProductName` TextBox.</span></span>


<span data-ttu-id="3b73d-154">[![Přidání RequiredFieldValidator do EditItemTemplate po ProductName TextBox](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image8.png)](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="3b73d-154">[![Add a RequiredFieldValidator to the EditItemTemplate After the ProductName TextBox](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image8.png)](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image7.png)</span></span>

<span data-ttu-id="3b73d-155">**Obrázek 3**: přidejte RequiredFieldValidator k `EditItemTemplate After` `ProductName` textové pole ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="3b73d-155">**Figure 3**: Add a RequiredFieldValidator to the `EditItemTemplate After` the `ProductName` TextBox ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image9.png))</span></span>


<span data-ttu-id="3b73d-156">Všechny ovládací prvky ověřování práci ověření vstupu jeden ovládací prvek ASP.NET Web.</span><span class="sxs-lookup"><span data-stu-id="3b73d-156">All validation controls work by validating the input of a single ASP.NET Web control.</span></span> <span data-ttu-id="3b73d-157">Proto potřebujeme k označení, že by měl RequiredFieldValidator, kterou jsme právě přidali vyhodnotit proti `ProductName` textové pole; to se provádí nastavením prvku ověřování s [ `ControlToValidate` vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) k `ID` z vhodný ovládací prvek webové (`ProductName`, u této instance).</span><span class="sxs-lookup"><span data-stu-id="3b73d-157">Therefore, we need to indicate that the RequiredFieldValidator we just added should validate against the `ProductName` TextBox; this is done by setting the validation control s [`ControlToValidate` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) to the `ID` of the appropriate Web control (`ProductName`, in this instance).</span></span> <span data-ttu-id="3b73d-158">Dále nastavte [ `ErrorMessage` vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) chcete je nutné zadat název produktu s a [ `Text` vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) k \*.</span><span class="sxs-lookup"><span data-stu-id="3b73d-158">Next, set the [`ErrorMessage` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) to You must provide the product s name and the [`Text` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) to \*.</span></span> <span data-ttu-id="3b73d-159">`Text` Hodnota vlastnosti, pokud je zadán, je text, který se zobrazí ověření ovládacím prvkem, pokud se ověření nezdaří.</span><span class="sxs-lookup"><span data-stu-id="3b73d-159">The `Text` property value, if provided, is the text that is displayed by the validation control if the validation fails.</span></span> <span data-ttu-id="3b73d-160">`ErrorMessage` Hodnotu vlastnosti, který je vyžadován, je používán ovládacího prvku ValidationSummary; Pokud `Text` hodnota vlastnosti je vynechán, `ErrorMessage` hodnotu vlastnosti se zobrazí ovládací prvek ověřování v neplatný vstup.</span><span class="sxs-lookup"><span data-stu-id="3b73d-160">The `ErrorMessage` property value, which is required, is used by the ValidationSummary control; if the `Text` property value is omitted, the `ErrorMessage` property value is displayed by the validation control on invalid input.</span></span>

<span data-ttu-id="3b73d-161">Po nastavení tyto tři vlastnosti RequiredFieldValidator, by měla vypadat podobně jako na obrázku 4 obrazovky.</span><span class="sxs-lookup"><span data-stu-id="3b73d-161">After setting these three properties of the RequiredFieldValidator, your screen should look similar to Figure 4.</span></span>


<span data-ttu-id="3b73d-162">[![Nastavení RequiredFieldValidator s ControlToValidate, ErrorMessage a vlastnosti textu](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image11.png)](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="3b73d-162">[![Set the RequiredFieldValidator s ControlToValidate, ErrorMessage, and Text Properties](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image11.png)](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image10.png)</span></span>

<span data-ttu-id="3b73d-163">**Obrázek 4**: nastavte RequiredFieldValidator s `ControlToValidate`, `ErrorMessage`, a `Text` vlastnosti ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="3b73d-163">**Figure 4**: Set the RequiredFieldValidator s `ControlToValidate`, `ErrorMessage`, and `Text` Properties ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image12.png))</span></span>


<span data-ttu-id="3b73d-164">S RequiredFieldValidator přidán do `EditItemTemplate`, všechny, že zůstanou je přidání potřeby ověření za cenu produktu s textové pole.</span><span class="sxs-lookup"><span data-stu-id="3b73d-164">With the RequiredFieldValidator added to the `EditItemTemplate`, all that remains is to add the necessary validation for the product s price TextBox.</span></span> <span data-ttu-id="3b73d-165">Vzhledem k tomu `UnitPrice` je volitelný při úpravě záznam, jsme nejsou zobrazeny t potřeba přidat RequiredFieldValidator.</span><span class="sxs-lookup"><span data-stu-id="3b73d-165">Since the `UnitPrice` is optional when editing a record, we don t need to add a RequiredFieldValidator.</span></span> <span data-ttu-id="3b73d-166">, Ale potřebujete přidat CompareValidator zajistit, aby `UnitPrice`, pokud je zadaný, správně naformátován jako měny a je větší než nebo rovna 0.</span><span class="sxs-lookup"><span data-stu-id="3b73d-166">We do, however, need to add a CompareValidator to ensure that the `UnitPrice`, if supplied, is properly formatted as a currency and is greater than or equal to 0.</span></span>

<span data-ttu-id="3b73d-167">Přidat CompareValidator do `EditItemTemplate` a nastavit jeho `ControlToValidate` vlastnost `UnitPrice`, jeho `ErrorMessage` vlastnost, která má za cenu musí být větší než nebo roven nule a nesmí obsahovat symbolu měny a jeho `Text` vlastnost \*.</span><span class="sxs-lookup"><span data-stu-id="3b73d-167">Add the CompareValidator into the `EditItemTemplate` and set its `ControlToValidate` property to `UnitPrice`, its `ErrorMessage` property to The price must be greater than or equal to zero and cannot include the currency symbol, and its `Text` property to \*.</span></span> <span data-ttu-id="3b73d-168">Označuje, zda `UnitPrice` hodnota musí být větší než nebo rovna 0, nastavte CompareValidator s [ `Operator` vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) k `GreaterThanEqual`, jeho [ `ValueToCompare` vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) na hodnotu 0, a jeho [ `Type` vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) k `Currency`.</span><span class="sxs-lookup"><span data-stu-id="3b73d-168">To indicate that the `UnitPrice` value must be greater than or equal to 0, set the CompareValidator s [`Operator` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) to `GreaterThanEqual`, its [`ValueToCompare` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) to 0, and its [`Type` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) to `Currency`.</span></span>

<span data-ttu-id="3b73d-169">Po přidání ovládacích prvků tyto dvě ověření, DataList s `EditItemTemplate` s deklarativní syntaxe by měl vypadat podobně jako následující:</span><span class="sxs-lookup"><span data-stu-id="3b73d-169">After adding these two validation controls, the DataList s `EditItemTemplate` s declarative syntax should look similar to the following:</span></span>


[!code-aspx[Main](adding-validation-controls-to-the-datalist-s-editing-interface-vb/samples/sample1.aspx)]

<span data-ttu-id="3b73d-170">Po provedení těchto změn, otevřete stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="3b73d-170">After making these changes, open the page in a browser.</span></span> <span data-ttu-id="3b73d-171">Pokud se pokusíte vynechat název nebo zadejte hodnotu ceny neplatný při úpravě produktu, se zobrazí vedle textového pole hvězdičku.</span><span class="sxs-lookup"><span data-stu-id="3b73d-171">If you attempt to omit the name or enter an invalid price value when editing a product, an asterisk appears next to the textbox.</span></span> <span data-ttu-id="3b73d-172">Jak je vidět na obrázku 5, cena hodnotu, která zahrnuje symbol měny, jako je například 19,95 je považovány za neplatné.</span><span class="sxs-lookup"><span data-stu-id="3b73d-172">As Figure 5 shows, a price value that includes the currency symbol such as $19.95 is considered invalid.</span></span> <span data-ttu-id="3b73d-173">CompareValidator s `Currency` `Type` umožňuje oddělovačů číslice (například čárky a tečky, v závislosti na nastavení jazykové verze) a začátku plus nebo minus, ale nemá *není* povolit symbolu měny.</span><span class="sxs-lookup"><span data-stu-id="3b73d-173">The CompareValidator s `Currency` `Type` allows for digit separators (such as commas or periods, depending on the culture settings) and a leading plus or minus sign, but does *not* permit a currency symbol.</span></span> <span data-ttu-id="3b73d-174">Toto chování může perplex uživatelů, jak rozhraní úpravy aktuálně vykreslí `UnitPrice` formátu měny.</span><span class="sxs-lookup"><span data-stu-id="3b73d-174">This behavior may perplex users as the editing interface currently renders the `UnitPrice` using the currency format.</span></span>


<span data-ttu-id="3b73d-175">[![U textových polí s neplatný vstup se zobrazuje hvězdička](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image14.png)](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="3b73d-175">[![An Asterisk Appears Next to the Textboxes with Invalid Input](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image14.png)](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image13.png)</span></span>

<span data-ttu-id="3b73d-176">**Obrázek 5**: hvězdičky se zobrazí další textová pole s neplatný vstup ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="3b73d-176">**Figure 5**: An Asterisk Appears Next to the Textboxes with Invalid Input ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image15.png))</span></span>


<span data-ttu-id="3b73d-177">Při ověření funguje jako-je, že uživatel musí ručně odebrat symbolu měny při úpravě záznam, který není platný.</span><span class="sxs-lookup"><span data-stu-id="3b73d-177">While the validation works as-is, the user has to manually remove the currency symbol when editing a record, which is not acceptable.</span></span> <span data-ttu-id="3b73d-178">Kromě toho pokud jsou neplatné vstupy v úpravu rozhraní ani aktualizace ani Storno tlačítka, po kliknutí na, vyvolá zpětné volání.</span><span class="sxs-lookup"><span data-stu-id="3b73d-178">Moreover, if there are invalid inputs in the editing interface neither the Update nor Cancel buttons, when clicked, will invoke a postback.</span></span> <span data-ttu-id="3b73d-179">V ideálním případě by na tlačítko Storno vrátit DataList stavu předem úpravy bez ohledu na jeho platnost vstupů uživatele s.</span><span class="sxs-lookup"><span data-stu-id="3b73d-179">Ideally, the Cancel button would return the DataList to its pre-editing state regardless of the validity of the user s inputs.</span></span> <span data-ttu-id="3b73d-180">Navíc potřebujeme zajistit, že stránka s data jsou platná před aktualizací informace o produktu v DataList s `UpdateCommand` obslužné rutiny události, jako ověřovací logiku na straně klienta lze obejít, uživatelé, jejichž prohlížeče nejsou zobrazeny nepodporuje JavaScript nebo mít ovládací prvky podporuje zakázána.</span><span class="sxs-lookup"><span data-stu-id="3b73d-180">Also, we need to ensure that the page s data is valid before updating the product information in the DataList s `UpdateCommand` event handler, as the validation controls client-side logic can be bypassed by users whose browsers either don t support JavaScript or have its support disabled.</span></span>

## <a name="removing-the-currency-symbol-from-the-edititemtemplate-s-unitprice-textbox"></a><span data-ttu-id="3b73d-181">Textové pole UnitPrice EditItemTemplate s odebráním symbolu měny</span><span class="sxs-lookup"><span data-stu-id="3b73d-181">Removing the Currency Symbol from the EditItemTemplate s UnitPrice TextBox</span></span>

<span data-ttu-id="3b73d-182">Při použití CompareValidator s `Currency``Type`, vstup ověřován nesmí obsahovat symboly měny.</span><span class="sxs-lookup"><span data-stu-id="3b73d-182">When using the CompareValidator s `Currency``Type`, the input being validated must not include any currency symbols.</span></span> <span data-ttu-id="3b73d-183">Uvedení těchto symbolů způsobí, že CompareValidator označit vstupu jako neplatné.</span><span class="sxs-lookup"><span data-stu-id="3b73d-183">The presence of such symbols causes the CompareValidator to mark the input as invalid.</span></span> <span data-ttu-id="3b73d-184">Ale naše úpravy rozhraní aktuálně obsahuje symbolu měny v `UnitPrice` textovému poli, což znamená, uživatel musí explicitně odstranit symbolu měny před uložením jejich změny.</span><span class="sxs-lookup"><span data-stu-id="3b73d-184">However, our editing interface currently includes a currency symbol in the `UnitPrice` TextBox, meaning the user must explicitly remove the currency symbol before saving their changes.</span></span> <span data-ttu-id="3b73d-185">Chcete-li to opravit máme tři možnosti:</span><span class="sxs-lookup"><span data-stu-id="3b73d-185">To remedy this we have three options:</span></span>

1. <span data-ttu-id="3b73d-186">Konfigurace `EditItemTemplate` tak, aby `UnitPrice` hodnotu pole TextBox není formátu měny.</span><span class="sxs-lookup"><span data-stu-id="3b73d-186">Configure the `EditItemTemplate` so that the `UnitPrice` TextBox value is not formatted as a currency.</span></span>
2. <span data-ttu-id="3b73d-187">Povolit, aby uživatel zadal symbolu měny odebráním CompareValidator a nahraďte ji RegularExpressionValidator, která vyhledává hodnotu měny správně formátovaný.</span><span class="sxs-lookup"><span data-stu-id="3b73d-187">Allow the user to enter a currency symbol by removing the CompareValidator and replacing it with a RegularExpressionValidator that checks for a properly formatted currency value.</span></span> <span data-ttu-id="3b73d-188">Výzvy v tomto poli je, že regulární výraz k ověření hodnotu měny není stejně jednoduché jako CompareValidator a by vyžadovaly psaní kódu, pokud jsme chtěli začlenit nastavení jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="3b73d-188">The challenge here is that the regular expression to validate a currency value is not as straightforward as the CompareValidator and would require writing code if we wanted to incorporate culture settings.</span></span>
3. <span data-ttu-id="3b73d-189">Úplně odebrat ovládací prvek ověřovací a spoléhá na vlastní ověřování na straně serveru logiku GridView s `RowUpdating` obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="3b73d-189">Remove the validation control altogether and rely on custom server-side validation logic in the GridView s `RowUpdating` event handler.</span></span>

<span data-ttu-id="3b73d-190">Umožní s pomocí možnost 1 pro účely tohoto kurzu.</span><span class="sxs-lookup"><span data-stu-id="3b73d-190">Let s go with option 1 for this tutorial.</span></span> <span data-ttu-id="3b73d-191">Aktuálně `UnitPrice` je formátováno jako hodnotu měny z důvodu ve výrazu datové vazby v textové pole `EditItemTemplate`: `<%# Eval("UnitPrice", "{0:c}") %>`.</span><span class="sxs-lookup"><span data-stu-id="3b73d-191">Currently the `UnitPrice` is formatted as a currency value due to the databinding expression for the TextBox in the `EditItemTemplate`: `<%# Eval("UnitPrice", "{0:c}") %>`.</span></span> <span data-ttu-id="3b73d-192">Změna `Eval` příkaz, který má `Eval("UnitPrice", "{0:n2}")`, který zformátuje výsledek jako číslo s dvě číslice přesnosti.</span><span class="sxs-lookup"><span data-stu-id="3b73d-192">Change the `Eval` statement to `Eval("UnitPrice", "{0:n2}")`, which formats the result as a number with two digits of precision.</span></span> <span data-ttu-id="3b73d-193">To lze provést přímo pomocí deklarativní syntaxe, nebo kliknutím na odkaz Upravit datové vazby z `UnitPrice` textového pole v DataList s `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="3b73d-193">This can be done directly through the declarative syntax or by clicking on the Edit DataBindings link from the `UnitPrice` TextBox in the DataList s `EditItemTemplate`.</span></span>

<span data-ttu-id="3b73d-194">Díky této změně formátovaný cenu v úpravy rozhraní zahrnuje čárky jako oddělovač skupin a jako oddělovač desetinných míst, ale ponechá vypnout symbolu měny.</span><span class="sxs-lookup"><span data-stu-id="3b73d-194">With this change, the formatted price in the editing interface includes commas as the group separator and a period as the decimal separator, but leaves off the currency symbol.</span></span>

> [!NOTE]
> <span data-ttu-id="3b73d-195">Při odebírání formátu měny z rozhraní upravovat, I užitečné pro umístění symbolu měny jako text mimo textové pole.</span><span class="sxs-lookup"><span data-stu-id="3b73d-195">When removing the currency format from the editable interface, I find it helpful to put the currency symbol as text outside the TextBox.</span></span> <span data-ttu-id="3b73d-196">Tato stránka slouží jako nápovědu pro uživatele, který není potřeba zadat symbolu měny.</span><span class="sxs-lookup"><span data-stu-id="3b73d-196">This serves as a hint to the user that they do not need to provide the currency symbol.</span></span>


## <a name="fixing-the-cancel-button"></a><span data-ttu-id="3b73d-197">Oprava tlačítko Zrušit</span><span class="sxs-lookup"><span data-stu-id="3b73d-197">Fixing the Cancel Button</span></span>

<span data-ttu-id="3b73d-198">Ve výchozím nastavení ovládací prvky webového ověření emitování JavaScript k provedení ověření na straně klienta.</span><span class="sxs-lookup"><span data-stu-id="3b73d-198">By default, the validation Web controls emit JavaScript to perform validation on the client-side.</span></span> <span data-ttu-id="3b73d-199">Když po kliknutí na tlačítko, LinkButton nebo ImageButton, se kontroluje ověřovací ovládací prvky na stránce na straně klienta, předtím, než dojde k zpětné volání.</span><span class="sxs-lookup"><span data-stu-id="3b73d-199">When a Button, LinkButton, or ImageButton is clicked, the validation controls on the page are checked on the client-side before the postback occurs.</span></span> <span data-ttu-id="3b73d-200">Pokud je neplatná data, je zrušená zpětné volání.</span><span class="sxs-lookup"><span data-stu-id="3b73d-200">If there is any invalid data, the postback is cancelled.</span></span> <span data-ttu-id="3b73d-201">Pro určité tlačítka ale platnost dat může být nepodstatné; v takovém případě je s zpětné volání je zrušená z důvodu neplatných dat nepříjemnosti.</span><span class="sxs-lookup"><span data-stu-id="3b73d-201">For certain Buttons, though, the validity of the data might be immaterial; in such a case, having the postback cancelled due to invalid data is a nuisance.</span></span>

<span data-ttu-id="3b73d-202">Tlačítko Zrušit je takový příklad.</span><span class="sxs-lookup"><span data-stu-id="3b73d-202">The Cancel button is such an example.</span></span> <span data-ttu-id="3b73d-203">Představte si, že uživatel zadá neplatná data, jako je například vynechání název produktu s rozhodne she nemá t chcete uložit produktu po všech a přístupy na tlačítko Storno.</span><span class="sxs-lookup"><span data-stu-id="3b73d-203">Imagine that a user enters invalid data, such as omitting the product s name, and then decides she doesn t want to save the product after all and hits the Cancel button.</span></span> <span data-ttu-id="3b73d-204">V současné době se aktivuje tlačítko Zrušit ověření ovládací prvky na stránce, které ohlásit že chybí název produktu a zabránit zpětné volání.</span><span class="sxs-lookup"><span data-stu-id="3b73d-204">Currently, the Cancel button triggers the validation controls on the page, which report that the product name is missing and prevent the postback.</span></span> <span data-ttu-id="3b73d-205">Zadejte text do našich uživatel musí `ProductName` TextBox jenom k zrušit mimo proces úpravy.</span><span class="sxs-lookup"><span data-stu-id="3b73d-205">Our user has to type some text into the `ProductName` TextBox just to cancel out of the editing process.</span></span>

<span data-ttu-id="3b73d-206">Naštěstí tlačítko, LinkButton a ImageButton mají [ `CausesValidation` vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.button.causesvalidation.aspx) , můžete určit, zda kliknutím na tlačítko by měla iniciovat logiku ověření (výchozí nastavení `True`).</span><span class="sxs-lookup"><span data-stu-id="3b73d-206">Fortunately, the Button, LinkButton, and ImageButton have a [`CausesValidation` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.button.causesvalidation.aspx) that can indicate whether or not clicking the Button should initiate the validation logic (defaults to `True`).</span></span> <span data-ttu-id="3b73d-207">Nastavit s tlačítkem Storno `CausesValidation` vlastnost `False`.</span><span class="sxs-lookup"><span data-stu-id="3b73d-207">Set the Cancel Button s `CausesValidation` property to `False`.</span></span>

## <a name="ensuring-the-inputs-are-valid-in-the-updatecommand-event-handler"></a><span data-ttu-id="3b73d-208">Zajištění vstupní hodnoty jsou platné v UpdateCommand obslužnou rutinu události</span><span class="sxs-lookup"><span data-stu-id="3b73d-208">Ensuring the Inputs are Valid in the UpdateCommand Event Handler</span></span>

<span data-ttu-id="3b73d-209">Z důvodu klientský skript vygenerované v ovládacích prvcích ověření, pokud uživatel zadá neplatný vstup ovládací prvky ověřování zrušte všechny postback iniciovaná tlačítko LinkButton, nebo ImageButton ovládací prvky, jejichž `CausesValidation` vlastnosti jsou `True` (na Výchozí nastavení).</span><span class="sxs-lookup"><span data-stu-id="3b73d-209">Due to the client-side script emitted by the validation controls, if a user enters invalid input the validation controls cancel any postbacks initiated by Button, LinkButton, or ImageButton controls whose `CausesValidation` properties are `True` (the default).</span></span> <span data-ttu-id="3b73d-210">Pokud návštěvy s antiquated prohlížeč nebo některá jejichž JavaScript podpora byla zakázána, nebude provést kontroly ověřování na straně klienta.</span><span class="sxs-lookup"><span data-stu-id="3b73d-210">However, if a user is visiting with an antiquated browser or one whose JavaScript support has been disabled, the client-side validation checks will not execute.</span></span>

<span data-ttu-id="3b73d-211">Všechny ovládací prvky ASP.NET ověření zopakujte jejich logiku ověření okamžitě po zpětné volání a sestav celkové platnost vstupy stránky s prostřednictvím [ `Page.IsValid` vlastnost](https://msdn.microsoft.com/library/system.web.ui.page.isvalid.aspx).</span><span class="sxs-lookup"><span data-stu-id="3b73d-211">All of the ASP.NET validation controls repeat their validation logic immediately upon postback and report the overall validity of the page s inputs via the [`Page.IsValid` property](https://msdn.microsoft.com/library/system.web.ui.page.isvalid.aspx).</span></span> <span data-ttu-id="3b73d-212">Však není tok stránky přeruší nebo byla zastavena v žádném způsobem na základě hodnoty z `Page.IsValid`.</span><span class="sxs-lookup"><span data-stu-id="3b73d-212">However, the page flow is not interrupted or stopped in any way based on the value of `Page.IsValid`.</span></span> <span data-ttu-id="3b73d-213">Jako vývojáři, je zajistit, aby naše odpovědnost `Page.IsValid` vlastnost má hodnotu `True` před pokračováním kód, který se předpokládá, platné vstupní data.</span><span class="sxs-lookup"><span data-stu-id="3b73d-213">As developers, it is our responsibility to ensure that the `Page.IsValid` property has a value of `True` before proceeding with code that assumes valid input data.</span></span>

<span data-ttu-id="3b73d-214">Pokud má uživatel zakázán JavaScript, navštíví naši stránku, upraví produktu, zadá hodnotu ceny příliš nákladné a kliknutím na tlačítko Aktualizovat, bude možné obejít ověřování straně klienta a výsledkem by měla být zpětné volání.</span><span class="sxs-lookup"><span data-stu-id="3b73d-214">If a user has JavaScript disabled, visits our page, edits a product, enters a price value of Too expensive, and clicks the Update button, the client-side validation will be bypassed and a postback will ensue.</span></span> <span data-ttu-id="3b73d-215">Na zpětné volání, ASP.NET stránky s `UpdateCommand` spustí obslužnou rutinu události a dojde k výjimce při pokusu o analýzu příliš nákladné `Decimal`.</span><span class="sxs-lookup"><span data-stu-id="3b73d-215">On postback, the ASP.NET page s `UpdateCommand` event handler executes and an exception is raised when attempting to parse Too expensive to a `Decimal`.</span></span> <span data-ttu-id="3b73d-216">Vzhledem k tomu, že máme výjimek, budou řádně zpracovávat takové výjimky, ale jsme může zabránit neplatná data uklouznutí prostřednictvím na prvním místě ve pouze budete pokračovat s `UpdateCommand` obslužné rutiny události Pokud `Page.IsValid` má hodnotu `True`.</span><span class="sxs-lookup"><span data-stu-id="3b73d-216">Since we have exception handling, such an exception will be handled gracefully, but we could prevent the invalid data from slipping through in the first place by only proceeding with the `UpdateCommand` event handler if `Page.IsValid` has a value of `True`.</span></span>

<span data-ttu-id="3b73d-217">Přidejte následující kód do začátku `UpdateCommand` obslužné rutiny události, bezprostředně před `Try` bloku:</span><span class="sxs-lookup"><span data-stu-id="3b73d-217">Add the following code to the start of the `UpdateCommand` event handler, immediately before the `Try` block:</span></span>


[!code-vb[Main](adding-validation-controls-to-the-datalist-s-editing-interface-vb/samples/sample2.vb)]

<span data-ttu-id="3b73d-218">Pomocí tohoto přidání produktu se pokusí aktualizovat pouze v případě, že odeslaná data jsou platná.</span><span class="sxs-lookup"><span data-stu-id="3b73d-218">With this addition, the product will attempt to be updated only if the submitted data is valid.</span></span> <span data-ttu-id="3b73d-219">Většina uživatelů won t moct odeslat zpět neplatná data z důvodu ověření ovládací prvky klientské skripty, ale uživatelé, jejichž prohlížeče nejsou zobrazeny nepodporuje JavaScript nebo které mají podporu jazyka JavaScript zakázaná, můžete vynechat kontroly na straně klienta a odeslat neplatná data.</span><span class="sxs-lookup"><span data-stu-id="3b73d-219">Most users won t be able to postback invalid data due to the validation controls client-side scripts, but users whose browsers don t support JavaScript or that have JavaScript support disabled, can bypass the client-side checks and submit invalid data.</span></span>

> [!NOTE]
> <span data-ttu-id="3b73d-220">Astute čtečky připomíná, která při aktualizaci dat s GridView, jsme dodán t potřeba explicitně zkontrolovat `Page.IsValid` vlastnost v třídě naše stránky s kódem v pozadí.</span><span class="sxs-lookup"><span data-stu-id="3b73d-220">The astute reader will recall that when updating data with the GridView, we didn t need to explicitly check the `Page.IsValid` property in our page s code-behind class.</span></span> <span data-ttu-id="3b73d-221">Důvodem je, že zajímají GridView `Page.IsValid` vlastnost pro nás a pouze bude pokračovat v aktualizaci pouze v případě, že ji vrací hodnotu `True`.</span><span class="sxs-lookup"><span data-stu-id="3b73d-221">This is because the GridView consults the `Page.IsValid` property for us and only proceeds with the update only if it returns a value of `True`.</span></span>


## <a name="step-3-summarizing-data-entry-problems"></a><span data-ttu-id="3b73d-222">Krok 3: Shrnutí problémů položka dat</span><span class="sxs-lookup"><span data-stu-id="3b73d-222">Step 3: Summarizing Data Entry Problems</span></span>

<span data-ttu-id="3b73d-223">Kromě pěti ověřovací ovládací prvky, technologie ASP.NET obsahuje [ovládací prvek ValidationSummary](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), které zobrazuje `ErrorMessage` s kontrolní mechanismy ověřování, které zjištěna neplatná data.</span><span class="sxs-lookup"><span data-stu-id="3b73d-223">In addition to the five validation controls, ASP.NET includes the [ValidationSummary control](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), which displays the `ErrorMessage` s of those validation controls that detected invalid data.</span></span> <span data-ttu-id="3b73d-224">Tato souhrnná data mohou být zobrazeny jako text na webové stránce nebo prostřednictvím messagebox modální, na straně klienta.</span><span class="sxs-lookup"><span data-stu-id="3b73d-224">This summary data can be displayed as text on the web page or through a modal, client-side messagebox.</span></span> <span data-ttu-id="3b73d-225">Umožní s vylepšit tento kurz a zahrnují klienta messagebox shrnutí problémy ověření.</span><span class="sxs-lookup"><span data-stu-id="3b73d-225">Let s enhance this tutorial to include a client-side messagebox summarizing any validation problems.</span></span>

<span data-ttu-id="3b73d-226">K tomu, přetáhněte ovládací prvek ValidationSummary z panelu nástrojů na návrháře.</span><span class="sxs-lookup"><span data-stu-id="3b73d-226">To accomplish this, drag a ValidationSummary control from the Toolbox onto the Designer.</span></span> <span data-ttu-id="3b73d-227">Umístění t ValidationSummary ovládací prvek nemá opravdu důležité, protože jsme níž chcete konfigurovat jenom zobrazit souhrn jako messagebox.</span><span class="sxs-lookup"><span data-stu-id="3b73d-227">The location of the ValidationSummary control doesn t really matter, since we re going to configure it to only display the summary as a messagebox.</span></span> <span data-ttu-id="3b73d-228">Po přidání ovládacího prvku, nastavte jeho [ `ShowSummary` vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) k `False` a jeho [ `ShowMessageBox` vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) k `True`.</span><span class="sxs-lookup"><span data-stu-id="3b73d-228">After adding the control, set its [`ShowSummary` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) to `False` and its [`ShowMessageBox` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) to `True`.</span></span> <span data-ttu-id="3b73d-229">Pomocí tohoto přidání všechny chyby ověřování, jsou shrnuty v messagebox klienta (viz obrázek 6).</span><span class="sxs-lookup"><span data-stu-id="3b73d-229">With this addition, any validation errors are summarized in a client-side messagebox (see Figure 6).</span></span>


<span data-ttu-id="3b73d-230">[![Chyby ověření jsou shrnuty v Messagebox na straně klienta](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image17.png)](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="3b73d-230">[![The Validation Errors are Summarized in a Client-Side Messagebox](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image17.png)](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image16.png)</span></span>

<span data-ttu-id="3b73d-231">**Obrázek 6**: chyby ověření jsou shrnuty v Messagebox na straně klienta ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="3b73d-231">**Figure 6**: The Validation Errors are Summarized in a Client-Side Messagebox ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-vb/_static/image18.png))</span></span>


## <a name="summary"></a><span data-ttu-id="3b73d-232">Souhrn</span><span class="sxs-lookup"><span data-stu-id="3b73d-232">Summary</span></span>

<span data-ttu-id="3b73d-233">V tomto kurzu jsme viděli, jak snížit pravděpodobnost výjimky proaktivně zajistěte, aby naše vstupy uživatele platný před pokusem o jejich použití v pracovním postupu aktualizace pomocí ovládacích prvků pro ověřování.</span><span class="sxs-lookup"><span data-stu-id="3b73d-233">In this tutorial we saw how to reduce the likelihood of exceptions by using validation controls to proactively ensure that our users inputs are valid before attempting to use them in the updating workflow.</span></span> <span data-ttu-id="3b73d-234">Technologie ASP.NET poskytuje pět ověření webové ovládací prvky navržené tak, aby kontrolovat konkrétní webové řízení s vstup a zpětně hlásit vstupní s platnosti.</span><span class="sxs-lookup"><span data-stu-id="3b73d-234">ASP.NET provides five validation Web controls that are designed to inspect a particular Web control s input and report back on the input s validity.</span></span> <span data-ttu-id="3b73d-235">V tomto kurzu jsme použili dva z těchto pět ovládacích prvků RequiredFieldValidator a CompareValidator zajistit, aby byl zadán název produktu s a že ceny měl formátu měny s hodnotou větší než nebo rovna hodnotě nula.</span><span class="sxs-lookup"><span data-stu-id="3b73d-235">In this tutorial we used two of those five controls the RequiredFieldValidator and the CompareValidator to ensure that the product s name was supplied and that the price had a currency format with a value greater than or equal to zero.</span></span>

<span data-ttu-id="3b73d-236">Přidání ovládacích prvků ověření do s DataList úpravy rozhraní je jednoduché, přetáhněte je na `EditItemTemplate` ze sady nástrojů a nastavení několik vlastností.</span><span class="sxs-lookup"><span data-stu-id="3b73d-236">Adding validation controls to the DataList s editing interface is as simple as dragging them onto the `EditItemTemplate` from the Toolbox and setting a handful of properties.</span></span> <span data-ttu-id="3b73d-237">Ve výchozím nastavení ovládací prvky ověřování automaticky emitování skriptu ověřování na straně klienta; obsahují taky ověřování na straně serveru na zpětné volání, ukládání kumulativní výsledek v `Page.IsValid` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="3b73d-237">By default, the validation controls automatically emit client-side validation script; they also provide server-side validation on postback, storing the cumulative result in the `Page.IsValid` property.</span></span> <span data-ttu-id="3b73d-238">Chcete-li při kliknutí na tlačítko, LinkButton nebo ImageButton, obejít ověřování straně klienta, nastavte tlačítko s `CausesValidation` vlastnost `False`.</span><span class="sxs-lookup"><span data-stu-id="3b73d-238">To bypass the client-side validation when a Button, LinkButton, or ImageButton is clicked, set the button s `CausesValidation` property to `False`.</span></span> <span data-ttu-id="3b73d-239">Navíc před provedením jakékoli úlohy s daty odeslaného na zpětné volání, zkontrolujte, zda `Page.IsValid` vlastnost vrátí `True`.</span><span class="sxs-lookup"><span data-stu-id="3b73d-239">Also, before performing any tasks with the data submitted on postback, ensure that the `Page.IsValid` property returns `True`.</span></span>

<span data-ttu-id="3b73d-240">Všechny DataList úpravy kurzy jsme zkontrolován, pokud jste předtím velmi jednoduché úpravy rozhraní textové pole pro název produktu s a druhý pro cenu.</span><span class="sxs-lookup"><span data-stu-id="3b73d-240">All of the DataList editing tutorials we ve examined so far have had very simple editing interfaces a TextBox for the product s name and another for the price.</span></span> <span data-ttu-id="3b73d-241">Úpravy rozhraní, ale může obsahovat kombinaci různých ovládací prvky webového, jako je například DropDownLists, kalendáře, přepínací tlačítka, zaškrtávací políčka a tak dále.</span><span class="sxs-lookup"><span data-stu-id="3b73d-241">The editing interface, however, can contain a mix of different Web controls, such as DropDownLists, Calendars, RadioButtons, CheckBoxes, and so on.</span></span> <span data-ttu-id="3b73d-242">V našem kurzu další podíváme vytváření rozhraní, které používá celou řadu ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="3b73d-242">In our next tutorial we'll look at building an interface that uses a variety of Web controls.</span></span>

<span data-ttu-id="3b73d-243">Radostí programování!</span><span class="sxs-lookup"><span data-stu-id="3b73d-243">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="3b73d-244">O autorovi</span><span class="sxs-lookup"><span data-stu-id="3b73d-244">About the Author</span></span>

<span data-ttu-id="3b73d-245">[Scott Meisnerová](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor sedm ASP/ASP.NET knih a zakladatele z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje s technologií Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="3b73d-245">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="3b73d-246">Scott funguje jako nezávislé poradce, trainer a zapisovače.</span><span class="sxs-lookup"><span data-stu-id="3b73d-246">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="3b73d-247">Jeho nejnovější seznam k [ *Edice nakladatelství Sams naučit sami technologii ASP.NET 2.0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="3b73d-247">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="3b73d-248">Dosažitelný v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) nebo prostřednictvím svého blogu, který najdete na [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="3b73d-248">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="3b73d-249">Zvláštní poděkování</span><span class="sxs-lookup"><span data-stu-id="3b73d-249">Special Thanks To</span></span>

<span data-ttu-id="3b73d-250">Tento kurz řady byla zkontrolovány uživatelem mnoho užitečné kontrolorů.</span><span class="sxs-lookup"><span data-stu-id="3b73d-250">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="3b73d-251">Vést kontroloři pro účely tohoto kurzu byly společnosti Dennis Patterson, Ken Pespisa a Liz Shulok.</span><span class="sxs-lookup"><span data-stu-id="3b73d-251">Lead reviewers for this tutorial were Dennis Patterson, Ken Pespisa, and Liz Shulok.</span></span> <span data-ttu-id="3b73d-252">Kontrola Moje nadcházející články MSDN máte zájem?</span><span class="sxs-lookup"><span data-stu-id="3b73d-252">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="3b73d-253">Pokud ano, vyřaďte mi řádek v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="3b73d-253">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="3b73d-254">[Předchozí](handling-bll-and-dal-level-exceptions-vb.md)
> [další](customizing-the-datalist-s-editing-interface-vb.md)</span><span class="sxs-lookup"><span data-stu-id="3b73d-254">[Previous](handling-bll-and-dal-level-exceptions-vb.md)
[Next](customizing-the-datalist-s-editing-interface-vb.md)</span></span>
