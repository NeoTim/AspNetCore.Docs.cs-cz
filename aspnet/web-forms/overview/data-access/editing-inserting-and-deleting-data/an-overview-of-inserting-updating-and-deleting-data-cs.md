---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs
title: Přehled vkládání, aktualizaci a odstraňování dat (C#) | Microsoft Docs
author: rick-anderson
description: V tomto kurzu ukážeme, jak namapovat ObjectDataSource Insert(), Update(), a metody Delete() metody BLL třídy a také jak configu...
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/17/2006
ms.topic: article
ms.assetid: b651dc58-93c7-4f83-a74e-3b99f6d60848
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs
msc.type: authoredcontent
ms.openlocfilehash: dbd111f79eda6006cb9aed59d8fd0b0342415833
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/06/2018
ms.locfileid: "30891227"
---
<a name="an-overview-of-inserting-updating-and-deleting-data-c"></a><span data-ttu-id="1c43f-103">Přehled vkládání, aktualizaci a odstraňování dat (C#)</span><span class="sxs-lookup"><span data-stu-id="1c43f-103">An Overview of Inserting, Updating, and Deleting Data (C#)</span></span>
====================
<span data-ttu-id="1c43f-104">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="1c43f-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="1c43f-105">[Stáhněte si ukázkovou aplikaci](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_16_CS.exe) nebo [stáhnout PDF](an-overview-of-inserting-updating-and-deleting-data-cs/_static/datatutorial16cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="1c43f-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_16_CS.exe) or [Download PDF](an-overview-of-inserting-updating-and-deleting-data-cs/_static/datatutorial16cs1.pdf)</span></span>

> <span data-ttu-id="1c43f-106">V tomto kurzu ukážeme, jak namapovat ObjectDataSource Insert(), Update(), a metody Delete() metody BLL třídy a také konfiguraci ovládacích prvků GridView DetailsView a FormView zajistit možnosti úprav data.</span><span class="sxs-lookup"><span data-stu-id="1c43f-106">In this tutorial we'll see how to map an ObjectDataSource's Insert(), Update(), and Delete() methods to the methods of BLL classes, as well as how to configure the GridView, DetailsView, and FormView controls to provide data modification capabilities.</span></span>


## <a name="introduction"></a><span data-ttu-id="1c43f-107">Úvod</span><span class="sxs-lookup"><span data-stu-id="1c43f-107">Introduction</span></span>

<span data-ttu-id="1c43f-108">V posledních několika kurzy jste jsme se zaměřili jak zobrazit data na stránku ASP.NET pomocí ovládacích prvků GridView DetailsView a FormView.</span><span class="sxs-lookup"><span data-stu-id="1c43f-108">Over the past several tutorials we've examined how to display data in an ASP.NET page using the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="1c43f-109">Tyto ovládací prvky se pouze pracovat s daty zadaný na ně.</span><span class="sxs-lookup"><span data-stu-id="1c43f-109">These controls simply work with data supplied to them.</span></span> <span data-ttu-id="1c43f-110">Tyto ovládací prvky běžně, přístup k datům prostřednictvím ovládací prvek zdroje dat, jako je například ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="1c43f-110">Commonly, these controls access data through the use of a data source control, such as the ObjectDataSource.</span></span> <span data-ttu-id="1c43f-111">Jste viděli, jak ObjectDataSource funguje jako server proxy mezi stránku ASP.NET a základní data.</span><span class="sxs-lookup"><span data-stu-id="1c43f-111">We've seen how the ObjectDataSource acts as a proxy between the ASP.NET page and the underlying data.</span></span> <span data-ttu-id="1c43f-112">Když GridView potřebuje k zobrazení dat, vyvolá jeho ObjectDataSource `Select()` metodu, která zase volá metodu z našich obchodní logiky vrstvy (BLL), která volá metodu v příslušné Data přístup vrstvy (DAL) TableAdapter, které následně odešle `SELECT` dotaz pro databázi Northwind.</span><span class="sxs-lookup"><span data-stu-id="1c43f-112">When a GridView needs to display data, it invokes its ObjectDataSource's `Select()` method, which in turn invokes a method from our Business Logic Layer (BLL), which calls a method in the appropriate Data Access Layer's (DAL) TableAdapter, which in turn sends a `SELECT` query to the Northwind database.</span></span>

<span data-ttu-id="1c43f-113">Odvolat, když jsme vytvořili TableAdapters v DAL v [naše první kurz](../introduction/creating-a-data-access-layer-cs.md), Visual Studio automaticky přidá metody pro vložení, aktualizaci, a odstraňuje data ze základní tabulky databáze.</span><span class="sxs-lookup"><span data-stu-id="1c43f-113">Recall that when we created the TableAdapters in the DAL in [our first tutorial](../introduction/creating-a-data-access-layer-cs.md), Visual Studio automatically added methods for inserting, updating, and deleting data from the underlying database table.</span></span> <span data-ttu-id="1c43f-114">Kromě toho v [vytváření vrstvu obchodní logiky](../introduction/creating-a-business-logic-layer-cs.md) jsme chtěli metody v BLL, který volá do těchto metod úpravy DAL data.</span><span class="sxs-lookup"><span data-stu-id="1c43f-114">Moreover, in [Creating a Business Logic Layer](../introduction/creating-a-business-logic-layer-cs.md) we designed methods in the BLL that called down into these data modification DAL methods.</span></span>

<span data-ttu-id="1c43f-115">Kromě jeho `Select()` metody ObjectDataSource má také `Insert()`, `Update()`, a `Delete()` metody.</span><span class="sxs-lookup"><span data-stu-id="1c43f-115">In addition to its `Select()` method, the ObjectDataSource also has `Insert()`, `Update()`, and `Delete()` methods.</span></span> <span data-ttu-id="1c43f-116">Podobně jako `Select()` metoda, tyto tři metody lze mapovat na metody v základní objekt.</span><span class="sxs-lookup"><span data-stu-id="1c43f-116">Like the `Select()` method, these three methods can be mapped to methods in an underlying object.</span></span> <span data-ttu-id="1c43f-117">Při konfiguraci vložit, aktualizovat nebo odstranit data, ovládací prvky GridView DetailsView a FormView nabízí uživatelské rozhraní pro úpravy základní data.</span><span class="sxs-lookup"><span data-stu-id="1c43f-117">When configured to insert, update, or delete data, the GridView, DetailsView, and FormView controls provide a user interface for modifying the underlying data.</span></span> <span data-ttu-id="1c43f-118">Toto uživatelské rozhraní volá `Insert()`, `Update()`, a `Delete()` ObjectDataSource, metody, které pak vyvolání základní objekt přidruženému metody (viz obrázek 1).</span><span class="sxs-lookup"><span data-stu-id="1c43f-118">This user interface calls the `Insert()`, `Update()`, and `Delete()` methods of the ObjectDataSource, which then invoke the underlying object's associated methods (see Figure 1).</span></span>


<span data-ttu-id="1c43f-119">[![ObjectDataSource Insert(), Update() a Delete() metody slouží jako proxy server do BLL](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image2.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-119">[![The ObjectDataSource's Insert(), Update(), and Delete() Methods Serve as a Proxy into the BLL](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image2.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image1.png)</span></span>

<span data-ttu-id="1c43f-120">**Obrázek 1**: The ObjectDataSource `Insert()`, `Update()`, a `Delete()` metody slouží jako proxy server do BLL ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-120">**Figure 1**: The ObjectDataSource's `Insert()`, `Update()`, and `Delete()` Methods Serve as a Proxy into the BLL ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image3.png))</span></span>


<span data-ttu-id="1c43f-121">V tomto kurzu ukážeme, jak namapovat ObjectDataSource `Insert()`, `Update()`, a `Delete()` metody pro metody třídy BLL také s postupy pro konfiguraci ovládacích prvků GridView DetailsView a FormView zajistit úprava dat Možnosti.</span><span class="sxs-lookup"><span data-stu-id="1c43f-121">In this tutorial we'll see how to map the ObjectDataSource's `Insert()`, `Update()`, and `Delete()` methods to methods of classes in the BLL, as well as how to configure the GridView, DetailsView, and FormView controls to provide data modification capabilities.</span></span>

## <a name="step-1-creating-the-insert-update-and-delete-tutorials-web-pages"></a><span data-ttu-id="1c43f-122">Krok 1: Vytvoření Insert, Update a Delete kurzy webové stránky</span><span class="sxs-lookup"><span data-stu-id="1c43f-122">Step 1: Creating the Insert, Update, and Delete Tutorials Web Pages</span></span>

<span data-ttu-id="1c43f-123">Jsme mohli začít seznamovat vložení, aktualizaci a odstranění dat, můžeme nejprve za chvíli vytváření stránek ASP.NET v našem webu projekt, který budeme potřebovat pro tento kurz a další několik podsítí.</span><span class="sxs-lookup"><span data-stu-id="1c43f-123">Before we start exploring how to insert, update, and delete data, let's first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial and the next several ones.</span></span> <span data-ttu-id="1c43f-124">Nejprve přidejte novou složku s názvem `EditInsertDelete`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-124">Start by adding a new folder named `EditInsertDelete`.</span></span> <span data-ttu-id="1c43f-125">Dál přidejte následující stránky ASP.NET do této složky, a zkontrolujte, zda přidružit každou stránku s `Site.master` hlavní stránky:</span><span class="sxs-lookup"><span data-stu-id="1c43f-125">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `Basics.aspx`
- `DataModificationEvents.aspx`
- `ErrorHandling.aspx`
- `UIValidation.aspx`
- `CustomizedUI.aspx`
- `OptimisticConcurrency.aspx`
- `ConfirmationOnDelete.aspx`
- `UserLevelAccess.aspx`


![Přidání stránky ASP.NET pro kurzy týkající se úpravy dat](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image4.png)

<span data-ttu-id="1c43f-127">**Obrázek 2**: Přidání stránky ASP.NET pro kurzy týkající se úpravy dat</span><span class="sxs-lookup"><span data-stu-id="1c43f-127">**Figure 2**: Add the ASP.NET Pages for the Data Modification-Related Tutorials</span></span>


<span data-ttu-id="1c43f-128">V jiných složkách, jako `Default.aspx` v `EditInsertDelete` složky zobrazí seznam kurzů k v jeho části.</span><span class="sxs-lookup"><span data-stu-id="1c43f-128">Like in the other folders, `Default.aspx` in the `EditInsertDelete` folder will list the tutorials in its section.</span></span> <span data-ttu-id="1c43f-129">Odvolat, který `SectionLevelTutorialListing.ascx` tuto funkci zajišťuje uživatelský ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="1c43f-129">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="1c43f-130">Proto přidat tento uživatelský ovládací prvek pro `Default.aspx` přetažením z Průzkumníka řešení do zobrazení návrhu stránky.</span><span class="sxs-lookup"><span data-stu-id="1c43f-130">Therefore, add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page's Design view.</span></span>


<span data-ttu-id="1c43f-131">[![Přidání SectionLevelTutorialListing.ascx uživatelského ovládacího prvku do Default.aspx](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image6.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-131">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image6.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image5.png)</span></span>

<span data-ttu-id="1c43f-132">**Obrázek 3**: Přidat `SectionLevelTutorialListing.ascx` uživatelského ovládacího prvku na `Default.aspx` ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-132">**Figure 3**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image7.png))</span></span>


<span data-ttu-id="1c43f-133">Nakonec přidejte stránky jako položky na `Web.sitemap` souboru.</span><span class="sxs-lookup"><span data-stu-id="1c43f-133">Lastly, add the pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="1c43f-134">Konkrétně, přidejte následující kód po přizpůsobit formátování `<siteMapNode>`:</span><span class="sxs-lookup"><span data-stu-id="1c43f-134">Specifically, add the following markup after the Customized Formatting `<siteMapNode>`:</span></span>


[!code-xml[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample1.xml)]

<span data-ttu-id="1c43f-135">Po aktualizaci `Web.sitemap`, pozorně Zobrazit kurzy web prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="1c43f-135">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="1c43f-136">V nabídce na levé straně teď obsahuje položky pro úpravy, vkládání a odstraňování kurzy.</span><span class="sxs-lookup"><span data-stu-id="1c43f-136">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>


![Mapy webu nyní obsahuje položky pro úpravy, vkládání a odstraňování kurzy](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image8.png)

<span data-ttu-id="1c43f-138">**Obrázek 4**: mapy webu nyní obsahuje položky pro úpravy, vkládání a odstraňování kurzy</span><span class="sxs-lookup"><span data-stu-id="1c43f-138">**Figure 4**: The Site Map Now Includes Entries for the Editing, Inserting, and Deleting Tutorials</span></span>


## <a name="step-2-adding-and-configuring-the-objectdatasource-control"></a><span data-ttu-id="1c43f-139">Krok 2: Přidání a konfigurace ovládacího prvku ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="1c43f-139">Step 2: Adding and Configuring the ObjectDataSource Control</span></span>

<span data-ttu-id="1c43f-140">Protože rutina GridView DetailsView a FormView každý se liší v jejich funkce úpravu dat a rozložení Podívejme se na každé z nich jednotlivě.</span><span class="sxs-lookup"><span data-stu-id="1c43f-140">Since the GridView, DetailsView, and FormView each differ in their data modification capabilities and layout, let's examine each one individually.</span></span> <span data-ttu-id="1c43f-141">Místo mít každý ovládací prvek pomocí vlastní ObjectDataSource, ale právě vytvoříme jednoho prvku ObjectDataSource, můžete sdílet všechny příklady tři ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="1c43f-141">Rather than have each control using its own ObjectDataSource, however, let's just create a single ObjectDataSource that all three control examples can share.</span></span>

<span data-ttu-id="1c43f-142">Otevřete `Basics.aspx` stránky, přetáhněte ObjectDataSource z panelu nástrojů na návrháře a klikněte na odkaz Konfigurace zdroje dat z jeho inteligentních značek.</span><span class="sxs-lookup"><span data-stu-id="1c43f-142">Open the `Basics.aspx` page, drag an ObjectDataSource from the Toolbox onto the Designer, and click the Configure Data Source link from its smart tag.</span></span> <span data-ttu-id="1c43f-143">Vzhledem k tomu `ProductsBLL` je jediná třída BLL, která poskytuje, úprava, vkládání a odstraňování metody, nakonfigurujte ObjectDataSource k použití této třídy.</span><span class="sxs-lookup"><span data-stu-id="1c43f-143">Since the `ProductsBLL` is the only BLL class that provides editing, inserting, and deleting methods, configure the ObjectDataSource to use this class.</span></span>


<span data-ttu-id="1c43f-144">[![Konfigurace ObjectDataSource použití třídy ProductsBLL](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image10.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-144">[![Configure the ObjectDataSource to Use the ProductsBLL Class](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image10.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image9.png)</span></span>

<span data-ttu-id="1c43f-145">**Obrázek 5**: Konfigurace ObjectDataSource pro použití `ProductsBLL` – třída ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-145">**Figure 5**: Configure the ObjectDataSource to Use the `ProductsBLL` Class ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image11.png))</span></span>


<span data-ttu-id="1c43f-146">Na další obrazovce určíme jaké metody `ProductsBLL` třídy jsou namapované na ObjectDataSource `Select()`, `Insert()`, `Update()`, a `Delete()` vyberte příslušnou kartu a vybrat metodu, která z rozevíracího seznamu.</span><span class="sxs-lookup"><span data-stu-id="1c43f-146">In the next screen we can specify what methods of the `ProductsBLL` class are mapped to the ObjectDataSource's `Select()`, `Insert()`, `Update()`, and `Delete()` by selecting the appropriate tab and choosing the method from the drop-down list.</span></span> <span data-ttu-id="1c43f-147">Obrázek 6, která by měla vypadat povědomě nyní, se mapuje ObjectDataSource `Select()` metodu `ProductsBLL` třídy `GetProducts()` metoda.</span><span class="sxs-lookup"><span data-stu-id="1c43f-147">Figure 6, which should look familiar by now, maps the ObjectDataSource's `Select()` method to the `ProductsBLL` class's `GetProducts()` method.</span></span> <span data-ttu-id="1c43f-148">`Insert()`, `Update()`, A `Delete()` metody lze nakonfigurovat tak, že vyberete příslušnou kartu ze seznamu podél horního.</span><span class="sxs-lookup"><span data-stu-id="1c43f-148">The `Insert()`, `Update()`, and `Delete()` methods can be configured by selecting the appropriate tab from the list along the top.</span></span>


<span data-ttu-id="1c43f-149">[![Máte ObjectDataSource vrátit všechny produkty](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image13.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-149">[![Have the ObjectDataSource Return All of the Products](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image13.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image12.png)</span></span>

<span data-ttu-id="1c43f-150">**Obrázek 6**: mít v ObjectDataSource vrátit všechny produkty ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-150">**Figure 6**: Have the ObjectDataSource Return All of the Products ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image14.png))</span></span>


<span data-ttu-id="1c43f-151">Obrázky 7, 8 a 9 zobrazit UPDATE, INSERT a DELETE ObjectDataSource karty.</span><span class="sxs-lookup"><span data-stu-id="1c43f-151">Figures 7, 8, and 9 show the ObjectDataSource's UPDATE, INSERT, and DELETE tabs.</span></span> <span data-ttu-id="1c43f-152">Konfigurace těchto karet tak, aby `Insert()`, `Update()`, a `Delete()` vyvolání metody `ProductsBLL` třídy `UpdateProduct`, `AddProduct`, a `DeleteProduct` metody, v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="1c43f-152">Configure these tabs so that the `Insert()`, `Update()`, and `Delete()` methods invoke the `ProductsBLL` class's `UpdateProduct`, `AddProduct`, and `DeleteProduct` methods, respectively.</span></span>


<span data-ttu-id="1c43f-153">[![Map – Metoda Update() ObjectDataSource metodě UpdateProduct ProductBLL – třída](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image16.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-153">[![Map the ObjectDataSource's Update() Method to the ProductBLL Class's UpdateProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image16.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image15.png)</span></span>

<span data-ttu-id="1c43f-154">**Obrázek 7**: mapovat ObjectDataSource `Update()` metodu `ProductBLL` třídy `UpdateProduct` – metoda ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-154">**Figure 7**: Map the ObjectDataSource's `Update()` Method to the `ProductBLL` Class's `UpdateProduct` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image17.png))</span></span>


<span data-ttu-id="1c43f-155">[![Map – metoda Insert() ObjectDataSource metodě AddProduct ProductBLL – třída](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image19.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-155">[![Map the ObjectDataSource's Insert() Method to the ProductBLL Class's AddProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image19.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image18.png)</span></span>

<span data-ttu-id="1c43f-156">**Obrázek 8**: mapovat ObjectDataSource `Insert()` metodu `ProductBLL` třídy přidat `Product` – metoda ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-156">**Figure 8**: Map the ObjectDataSource's `Insert()` Method to the `ProductBLL` Class's Add `Product` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image20.png))</span></span>


<span data-ttu-id="1c43f-157">[![Map – Metoda Delete() ObjectDataSource metodě DeleteProduct ProductBLL – třída](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image22.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-157">[![Map the ObjectDataSource's Delete() Method to the ProductBLL Class's DeleteProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image22.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image21.png)</span></span>

<span data-ttu-id="1c43f-158">**Obrázek 9**: mapování ObjectDataSource `Delete()` metodu `ProductBLL` třídy `DeleteProduct` – metoda ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-158">**Figure 9**: Map the ObjectDataSource's `Delete()` Method to the `ProductBLL` Class's `DeleteProduct` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image23.png))</span></span>


<span data-ttu-id="1c43f-159">Jste si všimli, rozevírací seznamy na kartách UPDATE, INSERT a DELETE již obsahuje tyto metody vybrané.</span><span class="sxs-lookup"><span data-stu-id="1c43f-159">You may have noticed that the drop-down lists in the UPDATE, INSERT, and DELETE tabs already had these methods selected.</span></span> <span data-ttu-id="1c43f-160">Toto je díky naše používání `DataObjectMethodAttribute` , upraví metody `ProducstBLL`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-160">This is thanks to our use of the `DataObjectMethodAttribute` that decorates the methods of `ProducstBLL`.</span></span> <span data-ttu-id="1c43f-161">Například metoda DeleteProduct má následující podpis:</span><span class="sxs-lookup"><span data-stu-id="1c43f-161">For example, the DeleteProduct method has the following signature:</span></span>


[!code-csharp[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample2.cs)]

<span data-ttu-id="1c43f-162">`DataObjectMethodAttribute` Atribut určuje účel jednotlivých metod toho, jestli je pro výběr, vkládání, aktualizaci, nebo odstranit a zda je výchozí hodnota.</span><span class="sxs-lookup"><span data-stu-id="1c43f-162">The `DataObjectMethodAttribute` attribute indicates the purpose of each method whether it is for selecting, inserting, updating, or deleting and whether or not it's the default value.</span></span> <span data-ttu-id="1c43f-163">Pokud se tyto atributy se vynechá, při vytváření tříd BLL, je budete potřebovat ručně vybrat metodu z aktualizace, Vložit a odstranit karty.</span><span class="sxs-lookup"><span data-stu-id="1c43f-163">If you omitted these attributes when creating your BLL classes, you'll need to manually select the methods from the UPDATE, INSERT, and DELETE tabs.</span></span>

<span data-ttu-id="1c43f-164">Po zajištění, že odpovídající `ProductsBLL` metody jsou namapované na ObjectDataSource `Insert()`, `Update()`, a `Delete()` metody, klikněte na tlačítko Dokončit dokončete průvodce.</span><span class="sxs-lookup"><span data-stu-id="1c43f-164">After ensuring that the appropriate `ProductsBLL` methods are mapped to the ObjectDataSource's `Insert()`, `Update()`, and `Delete()` methods, click Finish to complete the wizard.</span></span>

## <a name="examining-the-objectdatasources-markup"></a><span data-ttu-id="1c43f-165">Zkoumání kódu ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="1c43f-165">Examining the ObjectDataSource's Markup</span></span>

<span data-ttu-id="1c43f-166">Po dokončení konfigurace ObjectDataSource pomocí jeho průvodce, přejděte do zobrazení zdroje prozkoumat vygenerovaný kód.</span><span class="sxs-lookup"><span data-stu-id="1c43f-166">After configuring the ObjectDataSource through its wizard, go to the Source view to examine the generated declarative markup.</span></span> <span data-ttu-id="1c43f-167">`<asp:ObjectDataSource>` Značky určuje základní objekt a metody k vyvolání.</span><span class="sxs-lookup"><span data-stu-id="1c43f-167">The `<asp:ObjectDataSource>` tag specifies the underlying object and the methods to invoke.</span></span> <span data-ttu-id="1c43f-168">Kromě toho existují `DeleteParameters`, `UpdateParameters`, a `InsertParameters` , mapování na vstupní parametry `ProductsBLL` třídy `AddProduct`, `UpdateProduct`, a `DeleteProduct` metody:</span><span class="sxs-lookup"><span data-stu-id="1c43f-168">Additionally, there are `DeleteParameters`, `UpdateParameters`, and `InsertParameters` that map to the input parameters for the `ProductsBLL` class's `AddProduct`, `UpdateProduct`, and `DeleteProduct` methods:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample3.aspx)]

<span data-ttu-id="1c43f-169">ObjectDataSource zahrnuje parametr pro každý vstupní parametry pro jeho související metody, stejně jako seznam `SelectParameter` je přítomen, pokud je nakonfigurován ObjectDataSource k volání vyberte metodu, která očekává, že vstupní parametr (například `GetProductsByCategoryID(categoryID)`).</span><span class="sxs-lookup"><span data-stu-id="1c43f-169">The ObjectDataSource includes a parameter for each of the input parameters for its associated methods, just like a list of `SelectParameter` s is present when the ObjectDataSource is configured to call a select method that expects an input parameter (such as `GetProductsByCategoryID(categoryID)`).</span></span> <span data-ttu-id="1c43f-170">Jak jsme krátce, zobrazí hodnoty pro tyto `DeleteParameters`, `UpdateParameters`, a `InsertParameters` automaticky nastaveny tak, že rutina GridView, DetailsView a FormView před vyvoláním ObjectDataSource `Insert()`, `Update()`, nebo `Delete()` Metoda.</span><span class="sxs-lookup"><span data-stu-id="1c43f-170">As we'll see shortly, values for these `DeleteParameters`, `UpdateParameters`, and `InsertParameters` are set automatically by the GridView, DetailsView, and FormView prior to invoking the ObjectDataSource's `Insert()`, `Update()`, or `Delete()` method.</span></span> <span data-ttu-id="1c43f-171">Tyto hodnoty lze také nastavit prostřednictvím kódu programu, podle potřeby jako probereme v budoucnu kurzu.</span><span class="sxs-lookup"><span data-stu-id="1c43f-171">These values can also be set programmatically as needed, as we'll discuss in a future tutorial.</span></span>

<span data-ttu-id="1c43f-172">Pomocí Průvodce nakonfigurovat tak, aby ObjectDataSource jeden vedlejším účinkem je, že nastaví Visual Studio [OldValuesParameterFormatString vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.oldvaluesparameterformatstring(VS.80).aspx) k `original_{0}`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-172">One side effect of using the wizard to configure to ObjectDataSource is that Visual Studio sets the [OldValuesParameterFormatString property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.oldvaluesparameterformatstring(VS.80).aspx) to `original_{0}`.</span></span> <span data-ttu-id="1c43f-173">Hodnota této vlastnosti se používá k obsahovat původní hodnoty dat Upravovaný a je užitečná ve dvou scénářích:</span><span class="sxs-lookup"><span data-stu-id="1c43f-173">This property value is used to include the original values of the data being edited and is useful in two scenarios:</span></span>

- <span data-ttu-id="1c43f-174">Pokud při úpravě záznam, mohou uživatelé změnit hodnotu primárního klíče.</span><span class="sxs-lookup"><span data-stu-id="1c43f-174">If, when editing a record, users are able to change the primary key value.</span></span> <span data-ttu-id="1c43f-175">V takovém případě novou hodnotu primárního klíče a původní hodnotu primárního klíče je třeba zadat tak, aby záznam s původní hodnotu primárního klíče můžete najít a jeho hodnota příslušným způsobem aktualizuje.</span><span class="sxs-lookup"><span data-stu-id="1c43f-175">In this case, both the new primary key value and the original primary key value must be provided so that the record with the original primary key value can be found and have its value updated accordingly.</span></span>
- <span data-ttu-id="1c43f-176">Při použití optimistickou metodu souběžného.</span><span class="sxs-lookup"><span data-stu-id="1c43f-176">When using optimistic concurrency.</span></span> <span data-ttu-id="1c43f-177">Optimistickou metodu souběžného zpracování je technika zajistit, aby dva současně připojených uživatelů není přepsat své změny a je v tématu pro budoucí kurz.</span><span class="sxs-lookup"><span data-stu-id="1c43f-177">Optimistic concurrency is a technique to ensure that two simultaneous users don't overwrite one another's changes, and is the topic for a future tutorial.</span></span>

<span data-ttu-id="1c43f-178">`OldValuesParameterFormatString` Vlastnost určuje název vstupní parametry v základní objekt aktualizace a odstranění metody pro původní hodnoty.</span><span class="sxs-lookup"><span data-stu-id="1c43f-178">The `OldValuesParameterFormatString` property indicates the name of the input parameters in the underlying object's update and delete methods for the original values.</span></span> <span data-ttu-id="1c43f-179">Když jsme prozkoumat optimistickou metodu souběžného najdete zde popis této vlastnosti a jeho účel podrobněji.</span><span class="sxs-lookup"><span data-stu-id="1c43f-179">We'll discuss this property and its purpose in greater detail when we explore optimistic concurrency.</span></span> <span data-ttu-id="1c43f-180">I zprovoznit ho nyní, ale protože naše BLL metody Nečekejte původní hodnoty, a proto je důležité, že jsme odebrat tuto vlastnost.</span><span class="sxs-lookup"><span data-stu-id="1c43f-180">I bring it up now, however, because our BLL's methods do not expect the original values and therefore it's important that we remove this property.</span></span> <span data-ttu-id="1c43f-181">Ponechat `OldValuesParameterFormatString` vlastností nastavenou na jakoukoli jinou hodnotu než výchozí (`{0}`) dojde k chybě, když se data ovládací prvek webu pokusí vyvolání ObjectDataSource `Update()` nebo `Delete()` metody vzhledem k tomu, že bude ObjectDataSource Pokus o předání v obou `UpdateParameters` nebo `DeleteParameters` zadaný a také parametry s původní hodnotou.</span><span class="sxs-lookup"><span data-stu-id="1c43f-181">Leaving the `OldValuesParameterFormatString` property set to anything other than the default (`{0}`) will cause an error when a data Web control attempts to invoke the ObjectDataSource's `Update()` or `Delete()` methods because the ObjectDataSource will attempt to pass in both the `UpdateParameters` or `DeleteParameters` specified as well as original value parameters.</span></span>

<span data-ttu-id="1c43f-182">Pokud to není terribly zrušte v této situaci řešit, nemusíte si dělat starosti, podíváme tuto vlastnost a její nástroj budoucí kurzu.</span><span class="sxs-lookup"><span data-stu-id="1c43f-182">If this isn't terribly clear at this juncture, don't worry, we'll examine this property and its utility in a future tutorial.</span></span> <span data-ttu-id="1c43f-183">Prozatím se právě být některé z deklarativní syntaxi zcela odebrat tuto deklaraci vlastnost nebo nastavte hodnotu na výchozí hodnotu ({0}).</span><span class="sxs-lookup"><span data-stu-id="1c43f-183">For now, just be certain to either remove this property declaration entirely from the declarative syntax or set the value to the default value ({0}).</span></span>

> [!NOTE]
> <span data-ttu-id="1c43f-184">Pokud zrušíte jednoduše `OldValuesParameterFormatString` hodnotu vlastnosti z okna vlastností v zobrazení návrhu, vlastnost bude stále existovat v deklarativní syntaxi, ale nastavit na prázdný řetězec.</span><span class="sxs-lookup"><span data-stu-id="1c43f-184">If you simply clear out the `OldValuesParameterFormatString` property value from the Properties window in the Design view, the property will still exist in the declarative syntax, but be set to an empty string.</span></span> <span data-ttu-id="1c43f-185">Bohužel stále výsledkem bude ke stejnému problému výše popsané.</span><span class="sxs-lookup"><span data-stu-id="1c43f-185">This, unfortunately, will still result in the same problem discussed above.</span></span> <span data-ttu-id="1c43f-186">Proto, buď odeberte vlastnost zcela od deklarativní syntaxi nebo, v okně Vlastnosti, nastavte hodnotu na výchozí, `{0}`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-186">Therefore, either remove the property altogether from the declarative syntax or, from the Properties window, set the value to the default, `{0}`.</span></span>


## <a name="step-3-adding-a-data-web-control-and-configuring-it-for-data-modification"></a><span data-ttu-id="1c43f-187">Krok 3: Přidání ovládacího prvku webového dat a nakonfigurovat jej pro úpravu dat</span><span class="sxs-lookup"><span data-stu-id="1c43f-187">Step 3: Adding a Data Web Control and Configuring It for Data Modification</span></span>

<span data-ttu-id="1c43f-188">Jakmile ObjectDataSource je přidán na stránku a nakonfigurovaná, jsme připravení přidat data ovládací prvky webového na stránku a jak zobrazit data a obsahují prostředky pro koncovému uživateli umožňují upravit.</span><span class="sxs-lookup"><span data-stu-id="1c43f-188">Once the ObjectDataSource has been added to the page and configured, we're ready to add data Web controls to the page to both display the data and provide a means for the end user to modify it.</span></span> <span data-ttu-id="1c43f-189">Podíváme GridView, DetailsView a FormView samostatně, protože tyto ovládací prvky webového dat se liší v jejich funkce úpravu dat a konfigurace.</span><span class="sxs-lookup"><span data-stu-id="1c43f-189">We'll look at the GridView, DetailsView, and FormView separately, as these data Web controls differ in their data modification capabilities and configuration.</span></span>

<span data-ttu-id="1c43f-190">Jak jsme se zobrazí ve zbývající části tohoto článku, přidání velmi základní úpravy, vkládání a odstraňování podpory prostřednictvím rutina GridView DetailsView, a řídí FormView je pouhé kontrola několik zaškrtávacích políček.</span><span class="sxs-lookup"><span data-stu-id="1c43f-190">As we'll see in the remainder of this article, adding very basic editing, inserting, and deleting support through the GridView, DetailsView, and FormView controls is really as simple as checking a couple of checkboxes.</span></span> <span data-ttu-id="1c43f-191">Existuje mnoho odlišnosti a hraniční případů v reálného prostředí, které poskytuje tyto funkce složitější než právě bodu a klikněte na tlačítko.</span><span class="sxs-lookup"><span data-stu-id="1c43f-191">There are many subtleties and edge cases in the real-world that make providing such functionality more involved than just point and click.</span></span> <span data-ttu-id="1c43f-192">Tento kurz se zaměřuje však výhradně na prokázání možnosti úprav zneužívající vlastností prohlížeče data.</span><span class="sxs-lookup"><span data-stu-id="1c43f-192">This tutorial, however, focuses solely on proving simplistic data modification capabilities.</span></span> <span data-ttu-id="1c43f-193">Budoucí kurzy prozkoumá otázky, které se vynoří nepochybně v reálných nastavení.</span><span class="sxs-lookup"><span data-stu-id="1c43f-193">Future tutorials will examine concerns that will undoubtedly arise in a real-world setting.</span></span>

## <a name="deleting-data-from-the-gridview"></a><span data-ttu-id="1c43f-194">Odstranění dat z GridView</span><span class="sxs-lookup"><span data-stu-id="1c43f-194">Deleting Data from the GridView</span></span>

<span data-ttu-id="1c43f-195">Spustit tak, že přetáhnete GridView z panelu nástrojů na návrháře.</span><span class="sxs-lookup"><span data-stu-id="1c43f-195">Start by dragging a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="1c43f-196">V dalším kroku vytvořit vazbu ObjectDataSource GridView vyberete v rozevíracím seznamu v prvku GridView inteligentních značek.</span><span class="sxs-lookup"><span data-stu-id="1c43f-196">Next, bind the ObjectDataSource to the GridView by selecting it from the drop-down list in the GridView's smart tag.</span></span> <span data-ttu-id="1c43f-197">V tomto okamžiku rutina GridView deklarativní bude:</span><span class="sxs-lookup"><span data-stu-id="1c43f-197">At this point the GridView's declarative markup will be:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample4.aspx)]

<span data-ttu-id="1c43f-198">Vytvoření vazby GridView ObjectDataSource prostřednictvím jeho inteligentních značek má dvě výhody:</span><span class="sxs-lookup"><span data-stu-id="1c43f-198">Binding the GridView to the ObjectDataSource through its smart tag has two benefits:</span></span>

- <span data-ttu-id="1c43f-199">BoundFields a CheckBoxFields se vytvářejí automaticky pro každé pole vrácené ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="1c43f-199">BoundFields and CheckBoxFields are automatically created for each of the fields returned by the ObjectDataSource.</span></span> <span data-ttu-id="1c43f-200">Kromě toho BoundField a pro vlastnost CheckBoxField vlastnosti jsou nastaveny na základě pole podkladové metadat.</span><span class="sxs-lookup"><span data-stu-id="1c43f-200">Moreover, the BoundField and CheckBoxField's properties are set based on the underlying field's metadata.</span></span> <span data-ttu-id="1c43f-201">Například `ProductID`, `CategoryName`, a `SupplierName` pole jsou označeny jako jen pro čtení v `ProductsDataTable` a proto by nemělo být aktualizovat při úpravě.</span><span class="sxs-lookup"><span data-stu-id="1c43f-201">For example, the `ProductID`, `CategoryName`, and `SupplierName` fields are marked as read-only in the `ProductsDataTable` and therefore shouldn't be updatable when editing.</span></span> <span data-ttu-id="1c43f-202">Aby bylo možné ošetřit tento, tyto BoundFields' [vlastnosti jen pro čtení](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.readonly(VS.80).aspx) jsou nastaveny na `true`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-202">To accommodate this, these BoundFields' [ReadOnly properties](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.readonly(VS.80).aspx) are set to `true`.</span></span>
- <span data-ttu-id="1c43f-203">[Vlastnost DataKeyNames](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames(VS.80).aspx) je přiřazena k primárního klíče podkladového objektu.</span><span class="sxs-lookup"><span data-stu-id="1c43f-203">The [DataKeyNames property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames(VS.80).aspx) is assigned to the primary key field(s) of the underlying object.</span></span> <span data-ttu-id="1c43f-204">To je nezbytné při použití GridView pro úpravy nebo odstranění dat, protože tato vlastnost určuje pole (nebo sady polí) to jedinečný identifikuje každý záznam.</span><span class="sxs-lookup"><span data-stu-id="1c43f-204">This is essential when using the GridView for editing or deleting data, as this property indicates the field (or set of fields) that unique identifies each record.</span></span> <span data-ttu-id="1c43f-205">Další informace o `DataKeyNames` vlastnost odkazovat zpět [hlavní/podrobností volitelný GridView hlavní pomocí DetailView podrobnosti](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) kurzu.</span><span class="sxs-lookup"><span data-stu-id="1c43f-205">For more information on the `DataKeyNames` property, refer back to the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial.</span></span>

<span data-ttu-id="1c43f-206">Při GridView mohou být vázány na ObjectDataSource prostřednictvím vlastnosti – okno nebo deklarativní syntaxe, tak vyžaduje, abyste ručně přidejte příslušné BoundField a `DataKeyNames` značek.</span><span class="sxs-lookup"><span data-stu-id="1c43f-206">While the GridView can be bound to the ObjectDataSource through the Properties window or declarative syntax, doing so requires you to manually add the appropriate BoundField and `DataKeyNames` markup.</span></span>

<span data-ttu-id="1c43f-207">Ovládací prvek GridView poskytuje integrovanou podporu pro úpravy na úrovni řádků a odstranění.</span><span class="sxs-lookup"><span data-stu-id="1c43f-207">The GridView control provides built-in support for row-level editing and deleting.</span></span> <span data-ttu-id="1c43f-208">Rutina GridView pro podporu odstranění konfigurace přidá sloupec tlačítek odstranit.</span><span class="sxs-lookup"><span data-stu-id="1c43f-208">Configuring a GridView to support deleting adds a column of Delete buttons.</span></span> <span data-ttu-id="1c43f-209">Když koncový uživatel klikne na tlačítko Odstranit pro konkrétního řádku, vyplývá zpětné volání a GridView provede následující kroky:</span><span class="sxs-lookup"><span data-stu-id="1c43f-209">When the end user clicks the Delete button for a particular row, a postback ensues and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="1c43f-210">ObjectDataSource `DeleteParameters` přiřazené hodnoty</span><span class="sxs-lookup"><span data-stu-id="1c43f-210">The ObjectDataSource's `DeleteParameters` value(s) are assigned</span></span>
2. <span data-ttu-id="1c43f-211">ObjectDataSource `Delete()` metoda je volána, odstraňování zadaný záznam</span><span class="sxs-lookup"><span data-stu-id="1c43f-211">The ObjectDataSource's `Delete()` method is invoked, deleting the specified record</span></span>
3. <span data-ttu-id="1c43f-212">GridView znovu připojí samotné k ObjectDataSource vyvoláním jeho `Select()` – metoda</span><span class="sxs-lookup"><span data-stu-id="1c43f-212">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>

<span data-ttu-id="1c43f-213">Hodnot přiřazených `DeleteParameters` jsou hodnoty `DataKeyNames` polí pro řádek označeného jehož tlačítko Odstranit.</span><span class="sxs-lookup"><span data-stu-id="1c43f-213">The values assigned to the `DeleteParameters` are the values of the `DataKeyNames` field(s) for the row whose Delete button was clicked.</span></span> <span data-ttu-id="1c43f-214">Proto je důležité, rutina GridView `DataKeyNames` vlastnost správně nastavit.</span><span class="sxs-lookup"><span data-stu-id="1c43f-214">Therefore it's vital that a GridView's `DataKeyNames` property be correctly set.</span></span> <span data-ttu-id="1c43f-215">Pokud není nalezena, `DeleteParameters` bude přiřazeno `null` hodnota v kroku 1, které pak nebude mít za následek žádné odstranit záznamy v kroku 2.</span><span class="sxs-lookup"><span data-stu-id="1c43f-215">If it's missing, the `DeleteParameters` will be assigned a `null` value in Step 1, which in turn will not result in any deleted records in Step 2.</span></span>

> [!NOTE]
> <span data-ttu-id="1c43f-216">`DataKeys` Kolekce je uložen v GridView s řízení stavu, znamená to, že `DataKeys` hodnoty se uloží napříč zpětné volání, i v případě, že stav zobrazení s GridView byla zakázána.</span><span class="sxs-lookup"><span data-stu-id="1c43f-216">The `DataKeys` collection is stored in the GridView s control state, meaning that the `DataKeys` values will be remembered across postback even if the GridView s view state has been disabled.</span></span> <span data-ttu-id="1c43f-217">Je však velmi důležité, aby zůstala stav zobrazení povolený pro GridViews, které podporují úpravy nebo odstranění (výchozí nastavení).</span><span class="sxs-lookup"><span data-stu-id="1c43f-217">However, it is very important that view state remains enabled for GridViews that support editing or deleting (the default behavior).</span></span> <span data-ttu-id="1c43f-218">Pokud jste nastavili GridView s `EnableViewState` vlastnost `false`, úprav a odstraňování chování se bez problémů fungují pro jednoho uživatele, ale pokud existují souběžných uživatelů odstranění dat, existuje možnost náhodně může tyto souběžných uživatelů odstranit nebo upravit záznamy, že je dodán t hodlají.</span><span class="sxs-lookup"><span data-stu-id="1c43f-218">If you set the GridView s `EnableViewState` property to `false`, the editing and deleting behavior will work fine for a single user, but if there are concurrent users deleting data, there exists the possibility that these concurrent users may accidentally delete or edit records that they didn t intend.</span></span> <span data-ttu-id="1c43f-219">Najdete v části Moje položku blogu [upozornění: souběžnosti problém s ASP.NET 2.0 GridViews nebo DetailsView/FormViews tento podpora úpravy nebo odstranění a jejichž stav zobrazení je zakázána](http://scottonwriting.net/sowblog/archive/2006/10/03/163215.aspx), další informace.</span><span class="sxs-lookup"><span data-stu-id="1c43f-219">See my blog entry, [WARNING: Concurrency Issue with ASP.NET 2.0 GridViews/DetailsView/FormViews that Support Editing and/or Deleting and Whose View State is Disabled](http://scottonwriting.net/sowblog/archive/2006/10/03/163215.aspx), for more information.</span></span>


<span data-ttu-id="1c43f-220">Toto upozornění stejné platí také pro DetailsViews a FormViews.</span><span class="sxs-lookup"><span data-stu-id="1c43f-220">This same warning also applies to DetailsViews and FormViews.</span></span>

<span data-ttu-id="1c43f-221">Pro přidání možností odstraňování do GridView, jednoduše přejděte do jeho inteligentních značek a zaškrtněte políčko Povolit odstraňování.</span><span class="sxs-lookup"><span data-stu-id="1c43f-221">To add deleting capabilities to a GridView, simply go to its smart tag and check the Enable Deleting checkbox.</span></span>


![Zaškrtněte políčko Povolit odstraňování zaškrtávací políčko](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image24.png)

<span data-ttu-id="1c43f-223">**Obrázek 10**: Zkontrolujte Povolit odstraňování zaškrtávací políčko</span><span class="sxs-lookup"><span data-stu-id="1c43f-223">**Figure 10**: Check the Enable Deleting Checkbox</span></span>


<span data-ttu-id="1c43f-224">Kontrola políčka Povolit odstranění z inteligentních značek přidá CommandField GridView.</span><span class="sxs-lookup"><span data-stu-id="1c43f-224">Checking the Enable Deleting checkbox from the smart tag adds a CommandField to the GridView.</span></span> <span data-ttu-id="1c43f-225">CommandField vykreslí sloupec v GridView pomocí tlačítka pro provádění jeden nebo více z následujících úloh: výběr záznam, úprava záznamů a odstraňování záznamu.</span><span class="sxs-lookup"><span data-stu-id="1c43f-225">The CommandField renders a column in the GridView with buttons for performing one or more of the following tasks: selecting a record, editing a record, and deleting a record.</span></span> <span data-ttu-id="1c43f-226">Jsme viděli dříve CommandField v akci s vybírání záznamů v [hlavní/podrobností volitelný GridView hlavní pomocí DetailView podrobnosti](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) kurzu.</span><span class="sxs-lookup"><span data-stu-id="1c43f-226">We previously saw the CommandField in action with selecting records in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial.</span></span>

<span data-ttu-id="1c43f-227">CommandField obsahuje řadu `ShowXButton` označují, jaké řadu tlačítek se zobrazují v CommandField.</span><span class="sxs-lookup"><span data-stu-id="1c43f-227">The CommandField contains a number of `ShowXButton` properties that indicate what series of buttons are displayed in the CommandField.</span></span> <span data-ttu-id="1c43f-228">Zaškrtnutím políčka Povolit odstraňování CommandField jejichž `ShowDeleteButton` vlastnost je `true` byla přidána do kolekce sloupců prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="1c43f-228">By checking the Enable Deleting checkbox a CommandField whose `ShowDeleteButton` property is `true` has been added to the GridView's Columns collection.</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample5.aspx)]

<span data-ttu-id="1c43f-229">V tomto okamžiku believe to nebo ne jsme hotovi s přidání odstraňování podpory do GridView!</span><span class="sxs-lookup"><span data-stu-id="1c43f-229">At this point, believe it or not, we're done with adding deleting support to the GridView!</span></span> <span data-ttu-id="1c43f-230">Jak ukazuje obrázek 11, při návštěvě této stránky prostřednictvím prohlížeče sloupec odstranit tlačítek není k dispozici.</span><span class="sxs-lookup"><span data-stu-id="1c43f-230">As Figure 11 shows, when visiting this page through a browser a column of Delete buttons is present.</span></span>


<span data-ttu-id="1c43f-231">[![CommandField přidá sloupec odstranit tlačítek](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image26.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-231">[![The CommandField Adds a Column of Delete Buttons](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image26.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image25.png)</span></span>

<span data-ttu-id="1c43f-232">**Obrázek 11**: CommandField přidá sloupce z odstranění tlačítka ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-232">**Figure 11**: The CommandField Adds a Column of Delete Buttons ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image27.png))</span></span>


<span data-ttu-id="1c43f-233">Pokud jste jste byla vytváření tohoto kurzu od základů sami, při testování tuto stránku kliknutím na tlačítko Odstranit vyvolá výjimku.</span><span class="sxs-lookup"><span data-stu-id="1c43f-233">If you've been building this tutorial from the ground up on your own, when testing this page clicking the Delete button will raise an exception.</span></span> <span data-ttu-id="1c43f-234">Pokračujte ve čtení informace, proč byly vyvolány tyto výjimky a jejich řešení.</span><span class="sxs-lookup"><span data-stu-id="1c43f-234">Continue reading to learn as to why these exceptions were raised and how to fix them.</span></span>

> [!NOTE]
> <span data-ttu-id="1c43f-235">Pokud jste podle společně pomocí stahování doprovázející aplikaci tohoto kurzu, již byla zahrnutí pro tyto problémy.</span><span class="sxs-lookup"><span data-stu-id="1c43f-235">If you're following along using the download accompanying this tutorial, these problems have already been accounted for.</span></span> <span data-ttu-id="1c43f-236">Ale I doporučujeme, abyste si přečíst podrobnosti, aby bylo možné identifikovat problémy, které může způsobit a vhodné řešení uvedené níže.</span><span class="sxs-lookup"><span data-stu-id="1c43f-236">However, I encourage you to read through the details listed below to help identify problems that may arise and suitable workarounds.</span></span>


<span data-ttu-id="1c43f-237">Pokud při pokusu o odstranění produktu, dojde k výjimce, jejichž zprávy je podobná "*ObjectDataSource 'ObjectDataSource1' nelze najít neobecnou metodu 'DeleteProduct', který obsahuje parametry: productID, původní\_ ProductID*, "pravděpodobně jste zapomněli odebrat `OldValuesParameterFormatString` vlastnost z ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="1c43f-237">If, when attempting to delete a product, you get an exception whose message is similar to "*ObjectDataSource 'ObjectDataSource1' could not find a non-generic method 'DeleteProduct' that has parameters: productID, original\_ProductID*," you likely forgot to remove the `OldValuesParameterFormatString` property from the ObjectDataSource.</span></span> <span data-ttu-id="1c43f-238">S `OldValuesParameterFormatString` vlastnost určena, ObjectDataSource pokusí předat v obou `productID` a `original_ProductID` vstupní parametry, které `DeleteProduct` metoda.</span><span class="sxs-lookup"><span data-stu-id="1c43f-238">With the `OldValuesParameterFormatString` property specified, the ObjectDataSource attempts to pass in both `productID` and `original_ProductID` input parameters to the `DeleteProduct` method.</span></span> <span data-ttu-id="1c43f-239">`DeleteProduct`, ale přijímá pouze jeden vstupní parametr, proto výjimku.</span><span class="sxs-lookup"><span data-stu-id="1c43f-239">`DeleteProduct`, however, only accepts a single input parameter, hence the exception.</span></span> <span data-ttu-id="1c43f-240">Odebrání `OldValuesParameterFormatString` vlastnost (nebo jeho nastavení na hodnotu `{0}`) dá pokyn ObjectDataSource pokoušet není předávat původní vstupní parametr.</span><span class="sxs-lookup"><span data-stu-id="1c43f-240">Removing the `OldValuesParameterFormatString` property (or setting it to `{0}`) instructs the ObjectDataSource to not attempt to pass in the original input parameter.</span></span>


<span data-ttu-id="1c43f-241">[![Ujistěte se, že vlastnost OldValuesParameterFormatString byl vymazán](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image29.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-241">[![Ensure That the OldValuesParameterFormatString Property Has Been Cleared Out](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image29.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image28.png)</span></span>

<span data-ttu-id="1c43f-242">**Obrázek 12**: Zkontrolujte, zda `OldValuesParameterFormatString` vlastnost má byl vymazán Out ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-242">**Figure 12**: Ensure That the `OldValuesParameterFormatString` Property Has Been Cleared Out ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image30.png))</span></span>


<span data-ttu-id="1c43f-243">I v případě, že odebrali `OldValuesParameterFormatString` vlastnost, stále proběhne výjimku při pokusu o odstranění produktu se zprávou: "*příkaz DELETE konflikt s omezením referenční ' Cizíklíč\_pořadí\_podrobnosti \_Produkty, které se*. " Databáze Northwind obsahuje omezení cizího klíče mezi `Order Details` a `Products` tabulce, což znamená, že produkt ze systému nelze odstranit, pokud je jeden nebo více záznamů pro něj v `Order Details` tabulky.</span><span class="sxs-lookup"><span data-stu-id="1c43f-243">Even if you had removed the `OldValuesParameterFormatString` property, you still will get an exception when trying to delete a product with the message: "*The DELETE statement conflicted with the REFERENCE constraint 'FK\_Order\_Details\_Products'*." The Northwind database contains a foreign key constraint between the `Order Details` and `Products` table, meaning that a product cannot be deleted from the system if there are one or more records for it in the `Order Details` table.</span></span> <span data-ttu-id="1c43f-244">Protože každý produktu v databázi Northwind má alespoň jeden záznam v `Order Details`, nelze odstranit všechny produkty, dokud jsme nejprve odstranit záznamy podrobnosti o produktu přidružené pořadí.</span><span class="sxs-lookup"><span data-stu-id="1c43f-244">Since every product in the Northwind database has at least one record in `Order Details`, we cannot delete any products until we first delete the product's associated order details records.</span></span>


<span data-ttu-id="1c43f-245">[![Omezení cizího klíče znemožňuje odstranění produkty](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image32.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-245">[![A Foreign Key Constraint Prohibits the Deletion of Products](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image32.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image31.png)</span></span>

<span data-ttu-id="1c43f-246">**Obrázek 13**: odstranění produkty zakáže omezení pro cizí klíč ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-246">**Figure 13**: A Foreign Key Constraint Prohibits the Deletion of Products ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image33.png))</span></span>


<span data-ttu-id="1c43f-247">V našem kurzu budeme právě odstranit všechny záznamy z `Order Details` tabulky.</span><span class="sxs-lookup"><span data-stu-id="1c43f-247">For our tutorial, let's just delete all of the records from the `Order Details` table.</span></span> <span data-ttu-id="1c43f-248">V reálné aplikaci byste musíme buď:</span><span class="sxs-lookup"><span data-stu-id="1c43f-248">In a real-world application we'd need to either:</span></span>

- <span data-ttu-id="1c43f-249">Spravovat informace o objednávce podrobnosti jiné obrazovku.</span><span class="sxs-lookup"><span data-stu-id="1c43f-249">Have another screen to manage order details information</span></span>
- <span data-ttu-id="1c43f-250">Posílení `DeleteProduct` tak, aby zahrnoval logiku odstranit podrobnosti pořadí zadaného produktu</span><span class="sxs-lookup"><span data-stu-id="1c43f-250">Augment the `DeleteProduct` method to include logic to delete the specified product's order details</span></span>
- <span data-ttu-id="1c43f-251">Změňte dotaz SQL používané TableAdapter zahrnout odstranění podrobnosti pořadí zadaného produktu</span><span class="sxs-lookup"><span data-stu-id="1c43f-251">Modify the SQL query used by the TableAdapter to include deletion of the specified product's order details</span></span>

<span data-ttu-id="1c43f-252">Pojďme právě odstranit všechny záznamy z `Order Details` tabulky k obcházení omezení cizího klíče.</span><span class="sxs-lookup"><span data-stu-id="1c43f-252">Let's just delete all of the records from the `Order Details` table to circumvent the foreign key constraint.</span></span> <span data-ttu-id="1c43f-253">Přejděte do Průzkumníka serveru v sadě Visual Studio, klikněte pravým tlačítkem na `NORTHWND.MDF` uzel a vyberte nový dotaz.</span><span class="sxs-lookup"><span data-stu-id="1c43f-253">Go to the Server Explorer in Visual Studio, right-click on the `NORTHWND.MDF` node, and choose New Query.</span></span> <span data-ttu-id="1c43f-254">Potom v okně dotazu spusťte následující příkaz SQL: `DELETE FROM [Order Details]`</span><span class="sxs-lookup"><span data-stu-id="1c43f-254">Then, in the query window, run the following SQL statement: `DELETE FROM [Order Details]`</span></span>


<span data-ttu-id="1c43f-255">[![Odstraňte všechny záznamy z tabulky Podrobnosti o pořadí](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image35.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-255">[![Delete All Records from the Order Details Table](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image35.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image34.png)</span></span>

<span data-ttu-id="1c43f-256">**Obrázek 14**: Odstraňte všechny záznamy z `Order Details` tabulky ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-256">**Figure 14**: Delete All Records from the `Order Details` Table ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image36.png))</span></span>


<span data-ttu-id="1c43f-257">Po vymazání `Order Details` tabulky kliknutím na tlačítko Odstranit odstraníte produktu bez chyby.</span><span class="sxs-lookup"><span data-stu-id="1c43f-257">After clearing out the `Order Details` table clicking on the Delete button will delete the product without error.</span></span> <span data-ttu-id="1c43f-258">Pokud kliknete na tlačítko Odstranit nedojde k odstranění produktu, zkontrolujte, ujistěte se, že rutina GridView `DataKeyNames` je nastavena na pole primárního klíče (`ProductID`).</span><span class="sxs-lookup"><span data-stu-id="1c43f-258">If clicking on the Delete button does not delete the product, check to ensure that the GridView's `DataKeyNames` property is set to the primary key field (`ProductID`).</span></span>

> [!NOTE]
> <span data-ttu-id="1c43f-259">Když kliknete na tlačítko Odstranit vyplývá zpětné volání a záznam se odstraní.</span><span class="sxs-lookup"><span data-stu-id="1c43f-259">When clicking on the Delete button a postback ensues and the record is deleted.</span></span> <span data-ttu-id="1c43f-260">To může být nebezpečné, protože se snadno omylem, klepněte na tlačítko Odstranit nesprávných řádků.</span><span class="sxs-lookup"><span data-stu-id="1c43f-260">This can be dangerous since it is easy to accidentally click on the wrong row's Delete button.</span></span> <span data-ttu-id="1c43f-261">V budoucích kurzu vidíte postup přidání klienta potvrzení při odstraňování záznamu.</span><span class="sxs-lookup"><span data-stu-id="1c43f-261">In a future tutorial we'll see how to add a client-side confirmation when deleting a record.</span></span>


## <a name="editing-data-with-the-gridview"></a><span data-ttu-id="1c43f-262">Úpravy dat s GridView</span><span class="sxs-lookup"><span data-stu-id="1c43f-262">Editing Data with the GridView</span></span>

<span data-ttu-id="1c43f-263">Společně s odstraněním, prvek GridView také poskytuje integrovanou podporu pro úpravy úrovni řádků.</span><span class="sxs-lookup"><span data-stu-id="1c43f-263">Along with deleting, the GridView control also provides built-in row-level editing support.</span></span> <span data-ttu-id="1c43f-264">Rutina GridView podporovat úpravy konfigurace přidá sloupec tlačítka Upravit.</span><span class="sxs-lookup"><span data-stu-id="1c43f-264">Configuring a GridView to support editing adds a column of Edit buttons.</span></span> <span data-ttu-id="1c43f-265">Z hlediska koncového uživatele, kliknutím na řádku upravit tlačítko příčin, které řádek stane upravitelné vypnutí buněk do textových polí obsahující existující hodnoty a nahrazení tlačítka Storno a tlačítko Upravit s aktualizací.</span><span class="sxs-lookup"><span data-stu-id="1c43f-265">From the end user's perspective, clicking a row's Edit button causes that row to become editable, turning the cells into textboxes containing the existing values and replacing the Edit button with Update and Cancel buttons.</span></span> <span data-ttu-id="1c43f-266">Po provedení jejich požadované změny, koncový uživatel kliknutím na tlačítko Aktualizovat k provedení změn nebo na tlačítko Zrušit je zahodit.</span><span class="sxs-lookup"><span data-stu-id="1c43f-266">After making their desired changes, the end user can click the Update button to commit the changes or the Cancel button to discard them.</span></span> <span data-ttu-id="1c43f-267">V obou případech po kliknutí na tlačítko Aktualizovat nebo zrušit vrátí rutina GridView předem úpravy stav.</span><span class="sxs-lookup"><span data-stu-id="1c43f-267">In either case, after clicking Update or Cancel the GridView returns to its pre-editing state.</span></span>

<span data-ttu-id="1c43f-268">Z našich perspektivy jako vývojář stránky Pokud koncový uživatel klikne na tlačítko Upravit pro konkrétního řádku, vyplývá zpětné volání a GridView provede následující kroky:</span><span class="sxs-lookup"><span data-stu-id="1c43f-268">From our perspective as the page developer, when the end user clicks the Edit button for a particular row, a postback ensues and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="1c43f-269">Rutina GridView na `EditItemIndex` vlastnost je přiřazena k index řádku, jehož tlačítko Upravit označeného kliknutím</span><span class="sxs-lookup"><span data-stu-id="1c43f-269">The GridView's `EditItemIndex` property is assigned to the index of the row whose Edit button was clicked</span></span>
2. <span data-ttu-id="1c43f-270">GridView znovu připojí samotné k ObjectDataSource vyvoláním jeho `Select()` – metoda</span><span class="sxs-lookup"><span data-stu-id="1c43f-270">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>
3. <span data-ttu-id="1c43f-271">Index řádku, který odpovídá `EditItemIndex` je vykreslen v "režimu úprav."</span><span class="sxs-lookup"><span data-stu-id="1c43f-271">The row index that matches the `EditItemIndex` is rendered in "edit mode."</span></span> <span data-ttu-id="1c43f-272">V tomto režimu tlačítko Upravit nahrazuje aktualizace a zrušit tlačítka a BoundFields jejichž `ReadOnly` vlastnosti jsou NEPRAVDA (výchozí) vykreslují jako textové pole webové ovládací prvky, jejichž `Text` vlastnosti přiřazené hodnoty datová pole.</span><span class="sxs-lookup"><span data-stu-id="1c43f-272">In this mode, the Edit button is replaced by Update and Cancel buttons and BoundFields whose `ReadOnly` properties are False (the default) are rendered as TextBox Web controls whose `Text` properties are assigned to the data fields' values.</span></span>

<span data-ttu-id="1c43f-273">Kód v tomto okamžiku je vrácen do prohlížeči, aby koncový uživatel žádné změny dat řádek.</span><span class="sxs-lookup"><span data-stu-id="1c43f-273">At this point the markup is returned to the browser, allowing the end user to make any changes to the row's data.</span></span> <span data-ttu-id="1c43f-274">Když uživatel klikne na tlačítko Aktualizovat, dojde k zpětné volání a GridView provede následující kroky:</span><span class="sxs-lookup"><span data-stu-id="1c43f-274">When the user clicks the Update button, a postback occurs and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="1c43f-275">ObjectDataSource `UpdateParameters` hodnoty jsou přiřazeny hodnot zadaných GridView úpravy rozhraní koncovým uživatelem</span><span class="sxs-lookup"><span data-stu-id="1c43f-275">The ObjectDataSource's `UpdateParameters` value(s) are assigned the values entered by the end user into the GridView's editing interface</span></span>
2. <span data-ttu-id="1c43f-276">ObjectDataSource `Update()` metoda je volána, aktualizace zadaný záznam</span><span class="sxs-lookup"><span data-stu-id="1c43f-276">The ObjectDataSource's `Update()` method is invoked, updating the specified record</span></span>
3. <span data-ttu-id="1c43f-277">GridView znovu připojí samotné k ObjectDataSource vyvoláním jeho `Select()` – metoda</span><span class="sxs-lookup"><span data-stu-id="1c43f-277">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>

<span data-ttu-id="1c43f-278">Přiřazené hodnot primárního klíče `UpdateParameters` v kroku 1 pocházet z hodnoty zadané v `DataKeyNames` vlastnost, zatímco neprimárního klíče hodnoty pocházejí z textu v ovládacích prvcích TextBox webového upravená řádku.</span><span class="sxs-lookup"><span data-stu-id="1c43f-278">The primary key values assigned to the `UpdateParameters` in Step 1 come from the values specified in the `DataKeyNames` property, whereas the non-primary key values come from the text in the TextBox Web controls for the edited row.</span></span> <span data-ttu-id="1c43f-279">Stejně jako u odstraňování, je důležité, rutina GridView `DataKeyNames` vlastnost správně nastavit.</span><span class="sxs-lookup"><span data-stu-id="1c43f-279">As with deleting, it is vital that a GridView's `DataKeyNames` property be correctly set.</span></span> <span data-ttu-id="1c43f-280">Pokud není nalezena, `UpdateParameters` hodnotu primárního klíče se přiřadí `null` hodnota v kroku 1, které pak nebude mít za následek žádné aktualizovat záznamy v kroku 2.</span><span class="sxs-lookup"><span data-stu-id="1c43f-280">If it's missing, the `UpdateParameters` primary key value will be assigned a `null` value in Step 1, which in turn will not result in any updated records in Step 2.</span></span>

<span data-ttu-id="1c43f-281">Úpravy funkce může být aktivovaný jednoduše zaškrtnutím políčka Povolit úpravy v prvku GridView inteligentních značek.</span><span class="sxs-lookup"><span data-stu-id="1c43f-281">Editing functionality can be activated by simply checking the Enable Editing checkbox in the GridView's smart tag.</span></span>


![Zaškrtněte políčko Povolit úpravy zaškrtávací políčko](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image37.png)

<span data-ttu-id="1c43f-283">**Obrázek 15**: Zkontrolujte povolit úpravy zaškrtávací políčko</span><span class="sxs-lookup"><span data-stu-id="1c43f-283">**Figure 15**: Check the Enable Editing Checkbox</span></span>


<span data-ttu-id="1c43f-284">Kontrola políčko Povolit úpravy přidá CommandField (v případě potřeby) a sady jeho `ShowEditButton` vlastnost `true`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-284">Checking the Enable Editing checkbox will add a CommandField (if needed) and set its `ShowEditButton` property to `true`.</span></span> <span data-ttu-id="1c43f-285">Jak jsme viděli dříve, CommandField obsahuje řadu `ShowXButton` označují, jaké řadu tlačítek se zobrazují v CommandField.</span><span class="sxs-lookup"><span data-stu-id="1c43f-285">As we saw earlier, the CommandField contains a number of `ShowXButton` properties that indicate what series of buttons are displayed in the CommandField.</span></span> <span data-ttu-id="1c43f-286">Kontrola políčko Povolit úpravy přidá `ShowEditButton` vlastnost, která má existující CommandField:</span><span class="sxs-lookup"><span data-stu-id="1c43f-286">Checking the Enable Editing checkbox adds the `ShowEditButton` property to the existing CommandField:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample6.aspx)]

<span data-ttu-id="1c43f-287">To je vše ohledně přidávání elementární úpravy podpory.</span><span class="sxs-lookup"><span data-stu-id="1c43f-287">That's all there is to adding rudimentary editing support.</span></span> <span data-ttu-id="1c43f-288">Jako Figure16 ukazuje úpravy rozhraní je spíš hrubých každý BoundField jejichž `ReadOnly` je nastavena na `false` (výchozí), které je vykresleno jako textové pole.</span><span class="sxs-lookup"><span data-stu-id="1c43f-288">As Figure16 shows, the editing interface is rather crude each BoundField whose `ReadOnly` property is set to `false` (the default) is rendered as a TextBox.</span></span> <span data-ttu-id="1c43f-289">To zahrnuje i pole jako `CategoryID` a `SupplierID`, které jsou klíčů s jinými tabulkami.</span><span class="sxs-lookup"><span data-stu-id="1c43f-289">This includes fields like `CategoryID` and `SupplierID`, which are keys to other tables.</span></span>


<span data-ttu-id="1c43f-290">[![Kliknutím na tlačítko Upravit s Chai zobrazí řádek v režimu úprav](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image39.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-290">[![Clicking Chai s Edit Button Displays the Row in Edit Mode](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image39.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image38.png)</span></span>

<span data-ttu-id="1c43f-291">**Obrázek 16**: s Chai kliknutím na tlačítko Upravit zobrazí řádek v režimu úprav ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-291">**Figure 16**: Clicking Chai s Edit Button Displays the Row in Edit Mode ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image40.png))</span></span>


<span data-ttu-id="1c43f-292">Kromě požádá uživatele Chcete-li upravit hodnoty cizího klíče přímo, není splněn úpravy rozhraní rozhraní následujícími způsoby:</span><span class="sxs-lookup"><span data-stu-id="1c43f-292">In addition to asking users to edit foreign key values directly, the editing interface's interface is lacking in the following ways:</span></span>

- <span data-ttu-id="1c43f-293">Pokud uživatel zadá `CategoryID` nebo `SupplierID` v databázi, která neexistuje `UPDATE` nesplňují omezení cizího klíče, která způsobila výjimku má být aktivována.</span><span class="sxs-lookup"><span data-stu-id="1c43f-293">If the user enters a `CategoryID` or `SupplierID` that does not exist in the database, the `UPDATE` will violate a foreign key constraint, causing an exception to be raised.</span></span>
- <span data-ttu-id="1c43f-294">Úpravy rozhraní neobsahuje žádné ověření.</span><span class="sxs-lookup"><span data-stu-id="1c43f-294">The editing interface doesn't include any validation.</span></span> <span data-ttu-id="1c43f-295">Pokud nezadáte požadované hodnoty (například `ProductName`), nebo zadejte hodnotu řetězce, kde je očekávána je číselná hodnota (například zadání "Příliš mnoho!"</span><span class="sxs-lookup"><span data-stu-id="1c43f-295">If you don't provide a required value (such as `ProductName`), or enter a string value where a numeric value is expected (such as entering "Too much!"</span></span> <span data-ttu-id="1c43f-296">do `UnitPrice` textového pole), bude vyvolána výjimka.</span><span class="sxs-lookup"><span data-stu-id="1c43f-296">into the `UnitPrice` textbox), an exception will be thrown.</span></span> <span data-ttu-id="1c43f-297">Budoucí kurzu bude zkontrolujte postup přidání ovládacích prvků ověření do uživatelského rozhraní pro úpravy.</span><span class="sxs-lookup"><span data-stu-id="1c43f-297">A future tutorial will examine how to add validation controls to the editing user interface.</span></span>
- <span data-ttu-id="1c43f-298">V současné době *všechny* pole produktů, které nejsou jen pro čtení musí být součástí GridView.</span><span class="sxs-lookup"><span data-stu-id="1c43f-298">Currently, *all* product fields that are not read-only must be included in the GridView.</span></span> <span data-ttu-id="1c43f-299">Pokud nám chcete pole odebrat z GridView vyslovení `UnitPrice`, aktualizace dat GridView nebude nastavena `UnitPrice` `UpdateParameters` hodnotu, která by způsobila změnu záznam databáze `UnitPrice` k `NULL` hodnotu.</span><span class="sxs-lookup"><span data-stu-id="1c43f-299">If we were to remove a field from the GridView, say `UnitPrice`, when updating the data the GridView would not set the `UnitPrice` `UpdateParameters` value, which would change the database record's `UnitPrice` to a `NULL` value.</span></span> <span data-ttu-id="1c43f-300">Podobně, pokud povinné pole, například `ProductName`, se odebere z GridView, se aktualizace nezdaří se stejným "*'ProductName' sloupec nepovoluje hodnoty Null*" výjimka uvedených výše.</span><span class="sxs-lookup"><span data-stu-id="1c43f-300">Similarly, if a required field, such as `ProductName`, is removed from the GridView, the update will fail with the same "*Column 'ProductName' does not allow nulls*" exception mentioned above.</span></span>
- <span data-ttu-id="1c43f-301">Úpravy rozhraní formátování zanechává mnoho k být potřeby.</span><span class="sxs-lookup"><span data-stu-id="1c43f-301">The editing interface formatting leaves a lot to be desired.</span></span> <span data-ttu-id="1c43f-302">`UnitPrice` Se zobrazí s čtyři desetinných míst.</span><span class="sxs-lookup"><span data-stu-id="1c43f-302">The `UnitPrice` is shown with four decimal points.</span></span> <span data-ttu-id="1c43f-303">V ideálním případě `CategoryID` a `SupplierID` hodnoty by obsahovat DropDownLists, který zobrazí seznam kategorií a všichni dodavatelé v systému.</span><span class="sxs-lookup"><span data-stu-id="1c43f-303">Ideally the `CategoryID` and `SupplierID` values would contain DropDownLists that list the categories and suppliers in the system.</span></span>

<span data-ttu-id="1c43f-304">Toto jsou všechny nedostatky, které jsme budete muset za provozu se nyní, ale bude vyřešen v budoucí kurzy.</span><span class="sxs-lookup"><span data-stu-id="1c43f-304">These are all shortcomings that we'll have to live with for now, but will be addressed in future tutorials.</span></span>

## <a name="inserting-editing-and-deleting-data-with-the-detailsview"></a><span data-ttu-id="1c43f-305">Vkládání, úpravy a odstraňování dat s DetailsView</span><span class="sxs-lookup"><span data-stu-id="1c43f-305">Inserting, Editing, and Deleting Data with the DetailsView</span></span>

<span data-ttu-id="1c43f-306">Jak jsme viděli v dřívější kurzy, DetailsView ovládací prvek zobrazí jeden záznam v čase a jako GridView, umožňuje úpravy a odstraňování aktuálně zobrazený záznam.</span><span class="sxs-lookup"><span data-stu-id="1c43f-306">As we've seen in earlier tutorials, the DetailsView control displays one record at a time and, like the GridView, allows for editing and deleting of the currently displayed record.</span></span> <span data-ttu-id="1c43f-307">Obě koncového uživatele zkušenosti s úpravy a odstraňování položek ze DetailsView a pracovní postup ze strany ASP.NET je stejná jako prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="1c43f-307">Both the end user's experience with editing and deleting items from a DetailsView and the workflow from the ASP.NET side is identical to that of the GridView.</span></span> <span data-ttu-id="1c43f-308">Kde DetailsView se liší od GridView je, že také poskytuje integrovanou podporu vkládání.</span><span class="sxs-lookup"><span data-stu-id="1c43f-308">Where the DetailsView differs from the GridView is that it also provides built-in inserting support.</span></span>

<span data-ttu-id="1c43f-309">K předvedení funkce úpravy dat prvku GridView, začněte přidáním DetailsView k `Basics.aspx` stránky nad existující GridView a navázat jej existující ObjectDataSource pomocí inteligentních značek DetailsView.</span><span class="sxs-lookup"><span data-stu-id="1c43f-309">To demonstrate the data modification capabilities of the GridView, start by adding a DetailsView to the `Basics.aspx` page above the existing GridView and bind it to the existing ObjectDataSource through the DetailsView's smart tag.</span></span> <span data-ttu-id="1c43f-310">Další, zrušte na DetailsView `Height` a `Width` vlastnosti a zkontrolujte možnost Povolit stránkování inteligentních značek.</span><span class="sxs-lookup"><span data-stu-id="1c43f-310">Next, clear out the DetailsView's `Height` and `Width` properties, and check the Enable Paging option from the smart tag.</span></span> <span data-ttu-id="1c43f-311">Pokud chcete povolit, úpravy, vkládání a odstraňování podpory, jednoduše zkontrolujte povolit úpravy, Povolit vložení a Povolit odstranění políček v inteligentní značky.</span><span class="sxs-lookup"><span data-stu-id="1c43f-311">To enable editing, inserting, and deleting support, simply check the Enable Editing, Enable Inserting, and Enable Deleting checkboxes in the smart tag.</span></span>


![Konfigurace DetailsView na podporu, úprava, vkládání a odstraňování](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image41.png)

<span data-ttu-id="1c43f-313">**Obrázek 17**: Konfigurace DetailsView na podporu, úprava, vkládání a odstraňování</span><span class="sxs-lookup"><span data-stu-id="1c43f-313">**Figure 17**: Configure the DetailsView to Support Editing, Inserting, and Deleting</span></span>


<span data-ttu-id="1c43f-314">Jako s GridView, přidání, úpravy, vložením či odstraněním podporu přidá CommandField DetailsView, jak ukazuje následující deklarativní syntaxe:</span><span class="sxs-lookup"><span data-stu-id="1c43f-314">As with the GridView, adding editing, inserting, or deleting support adds a CommandField to the DetailsView, as the following declarative syntax shows:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample7.aspx)]

<span data-ttu-id="1c43f-315">Všimněte si, že pro DetailsView CommandField se zobrazuje na konec kolekce sloupců ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="1c43f-315">Note that for the DetailsView the CommandField appears at the end of the Columns collection by default.</span></span> <span data-ttu-id="1c43f-316">Vzhledem k tomu, že DetailsView pole vykreslovat jako řádky, CommandField zobrazovat jako řádek s příkazy Insert, upravovat a odstraňovat tlačítka v dolní části DetailsView.</span><span class="sxs-lookup"><span data-stu-id="1c43f-316">Since the DetailsView's fields are rendered as rows, the CommandField appears as a row with Insert, Edit, and Delete buttons at the bottom of the DetailsView.</span></span>


<span data-ttu-id="1c43f-317">[![Konfigurace DetailsView na podporu, úprava, vkládání a odstraňování](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image43.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image42.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-317">[![Configure the DetailsView to Support Editing, Inserting, and Deleting](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image43.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image42.png)</span></span>

<span data-ttu-id="1c43f-318">**Obrázek 18**: Konfigurace DetailsView pro podporu úprava, vkládání a odstraňování ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image44.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-318">**Figure 18**: Configure the DetailsView to Support Editing, Inserting, and Deleting ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image44.png))</span></span>


<span data-ttu-id="1c43f-319">Kliknutím na tlačítko Odstranit spustí stejný posloupnost událostí stejně jako u GridView: a postback; Následuje DetailsView naplnění jeho ObjectDataSource `DeleteParameters` na základě `DataKeyNames` hodnoty a bylo dokončeno s volání jeho ObjectDataSource `Delete()` metodu, která ve skutečnosti odebere produktu z databáze.</span><span class="sxs-lookup"><span data-stu-id="1c43f-319">Clicking on the Delete button starts the same sequence of events as with the GridView: a postback; followed by the DetailsView populating its ObjectDataSource's `DeleteParameters` based on the `DataKeyNames` values; and completed with a call its ObjectDataSource's `Delete()` method, which actually removes the product from the database.</span></span> <span data-ttu-id="1c43f-320">Úpravy v ovládacím prvku DetailsView funguje taky způsobem, který je stejná jako prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="1c43f-320">Editing in the DetailsView also works in a fashion identical to that of the GridView.</span></span>

<span data-ttu-id="1c43f-321">Pro vkládání, koncový uživatel předloží nová tlačítka, která po kliknutí na vykreslí DetailsView v "režimu vkládání."</span><span class="sxs-lookup"><span data-stu-id="1c43f-321">For inserting, the end user is presented with a New button that, when clicked, renders the DetailsView in "insert mode."</span></span> <span data-ttu-id="1c43f-322">S "insert režim" na tlačítko Nový nahrazuje tlačítka Vložit a Storno a pouze ty BoundFields jejichž `InsertVisible` je nastavena na `true` (výchozí) jsou zobrazeny.</span><span class="sxs-lookup"><span data-stu-id="1c43f-322">With "insert mode" the New button is replaced by Insert and Cancel buttons and only those BoundFields whose `InsertVisible` property is set to `true` (the default) are displayed.</span></span> <span data-ttu-id="1c43f-323">Tato datová pole identifikovat jako automatického přírůstku pole, jako například `ProductID`, mají jejich [InsertVisible vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.insertvisible(VS.80).aspx) nastavena na `false` při vytváření vazby DetailsView ke zdroji dat pomocí inteligentních značek.</span><span class="sxs-lookup"><span data-stu-id="1c43f-323">Those data fields identified as auto-increment fields, such as `ProductID`, have their [InsertVisible property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.insertvisible(VS.80).aspx) set to `false` when binding the DetailsView to the data source through the smart tag.</span></span>

<span data-ttu-id="1c43f-324">Při vytváření vazby zdroje dat pro DetailsView pomocí inteligentních značek, Visual Studio nastaví `InsertVisible` vlastnost `false` pouze u polí s automatickým krokem.</span><span class="sxs-lookup"><span data-stu-id="1c43f-324">When binding a data source to a DetailsView through the smart tag, Visual Studio sets the `InsertVisible` property to `false` only for auto-increment fields.</span></span> <span data-ttu-id="1c43f-325">Pole jen pro čtení, například `CategoryName` a `SupplierName`, se zobrazí v uživatelském rozhraní "insert režim", pokud jejich `InsertVisible` je explicitně nastavena na `false`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-325">Read-only fields, like `CategoryName` and `SupplierName`, will be displayed in the "insert mode" user interface unless their `InsertVisible` property is explicitly set to `false`.</span></span> <span data-ttu-id="1c43f-326">Za chvíli nastavit tyto dvě pole `InsertVisible` vlastnosti, které chcete `false`, buď pomocí deklarativní syntaxe prvku DetailsView nebo upravit pole na odkaz v inteligentní značky.</span><span class="sxs-lookup"><span data-stu-id="1c43f-326">Take a moment to set these two fields' `InsertVisible` properties to `false`, either through the DetailsView's declarative syntax or through the Edit Fields link in the smart tag.</span></span> <span data-ttu-id="1c43f-327">19 obrázek ukazuje nastavení `InsertVisible` vlastnosti, které chcete `false` kliknutím na Upravit pole na odkaz.</span><span class="sxs-lookup"><span data-stu-id="1c43f-327">Figure 19 shows setting the `InsertVisible` properties to `false` by clicking on the Edit Fields link.</span></span>


<span data-ttu-id="1c43f-328">[![Northwind Traders teď nabízí čaj: MSN](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image46.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-328">[![Northwind Traders Now Offers Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image46.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image45.png)</span></span>

<span data-ttu-id="1c43f-329">**Obrázek 19**: Northwind Traders teď nabízí pokusná čaj ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image47.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-329">**Figure 19**: Northwind Traders Now Offers Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image47.png))</span></span>


<span data-ttu-id="1c43f-330">Po nastavení `InsertVisible` vlastnosti, zobrazení `Basics.aspx` stránku v prohlížeči a klikněte na tlačítko Nový.</span><span class="sxs-lookup"><span data-stu-id="1c43f-330">After setting the `InsertVisible` properties, view the `Basics.aspx` page in a browser and click the New button.</span></span> <span data-ttu-id="1c43f-331">Obrázek 20 ukazuje DetailsView při přidávání nové nápoj pokusná čaj řadu našich produktů.</span><span class="sxs-lookup"><span data-stu-id="1c43f-331">Figure 20 shows the DetailsView when adding a new beverage, Acme Tea, to our product line.</span></span>


<span data-ttu-id="1c43f-332">[![Northwind Traders teď nabízí čaj: MSN](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image49.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-332">[![Northwind Traders Now Offers Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image49.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image48.png)</span></span>

<span data-ttu-id="1c43f-333">**Obrázek 20**: Northwind Traders teď nabízí pokusná čaj ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image50.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-333">**Figure 20**: Northwind Traders Now Offers Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image50.png))</span></span>


<span data-ttu-id="1c43f-334">Po zadání podrobností pokusná čaj a kliknutím na tlačítko Vložit, zpětné volání vyplývá a se přidá nový záznam `Products` databázové tabulky.</span><span class="sxs-lookup"><span data-stu-id="1c43f-334">After entering the details for Acme Tea and clicking the Insert button, a postback ensues and the new record is added to the `Products` database table.</span></span> <span data-ttu-id="1c43f-335">Vzhledem k tomu, že tento DetailsView seznamy produktů, v pořadí, ke které existují v tabulce databáze, jsme musí na poslední stránce produktu Chcete-li zobrazit nového produktu.</span><span class="sxs-lookup"><span data-stu-id="1c43f-335">Since this DetailsView lists the products in order with which they exist in the database table, we must page to the last product in order to see the new product.</span></span>


<span data-ttu-id="1c43f-336">[![Podrobnosti: MSN čaj](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image52.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image51.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-336">[![Details for Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image52.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image51.png)</span></span>

<span data-ttu-id="1c43f-337">**Obrázek 21**: Podrobnosti o pokusná čaj ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image53.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-337">**Figure 21**: Details for Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image53.png))</span></span>


> [!NOTE]
> <span data-ttu-id="1c43f-338">DetailsView [CurrentMode vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.currentmode(VS.80).aspx) znamená rozhraní zobrazení a může být jedna z následujících hodnot: `Edit`, `Insert`, nebo `ReadOnly`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-338">The DetailsView's [CurrentMode property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.currentmode(VS.80).aspx) indicates the interface being displayed and can be one of the following values: `Edit`, `Insert`, or `ReadOnly`.</span></span> <span data-ttu-id="1c43f-339">[Vlastnost DefaultMode](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.defaultmode(VS.80).aspx) Určuje režim DetailsView vrátí po upravíte nebo vložit byla dokončena a jsou užitečné pro zobrazení DetailsView, trvale v upravit nebo vložit režimu.</span><span class="sxs-lookup"><span data-stu-id="1c43f-339">The [DefaultMode property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.defaultmode(VS.80).aspx) indicates the mode the DetailsView returns to after an edit or insert has been completed and is useful for displaying a DetailsView that is permanently in edit or insert mode.</span></span>


<span data-ttu-id="1c43f-340">Bod a klikněte na tlačítko vkládání a úpravy funkce DetailsView trpí stejná omezení jako GridView: uživatel musí zadat existující `CategoryID` a `SupplierID` hodnoty prostřednictvím textové pole; chybí rozhraní žádné ověřovací logiku; všechny pole produktu, které neumožňují `NULL` hodnoty nebo nemají výchozí hodnota zadaná na úrovni databáze musí být součástí vkládání rozhraní a tak dále.</span><span class="sxs-lookup"><span data-stu-id="1c43f-340">The point and click inserting and editing capabilities of the DetailsView suffer from the same limitations as the GridView: the user must enter existing `CategoryID` and `SupplierID` values through a textbox; the interface lacks any validation logic; all product fields that do not allow `NULL` values or don't have a default value specified at the database level must be included in the inserting interface, and so on.</span></span>

<span data-ttu-id="1c43f-341">Technik vyzkoušíme pro rozšíření a zlepšení prvku GridView úpravy rozhraní v budoucnosti články lze použít pro ovládací prvek DetailsView úpravy a vkládání také rozhraní.</span><span class="sxs-lookup"><span data-stu-id="1c43f-341">The techniques we will examine for extending and enhancing the GridView's editing interface in future articles can be applied to the DetailsView control's editing and inserting interfaces as well.</span></span>

## <a name="using-the-formview-for-a-more-flexible-data-modification-user-interface"></a><span data-ttu-id="1c43f-342">Pomocí FormView pro uživatelské rozhraní flexibilnější úpravy dat</span><span class="sxs-lookup"><span data-stu-id="1c43f-342">Using the FormView for a More Flexible Data Modification User Interface</span></span>

<span data-ttu-id="1c43f-343">FormView má integrovanou podporu pro vkládání, úpravy a odstraňování dat, ale protože používá šablony místo pole neexistuje žádné místo, kde můžete přidat BoundFields nebo CommandField používá k zajištění data GridView a DetailsView ovládací prvky úpravy rozhraní.</span><span class="sxs-lookup"><span data-stu-id="1c43f-343">The FormView offers built-in support for inserting, editing, and deleting data, but because it uses templates instead of fields there's no place to add the BoundFields or the CommandField used by the GridView and DetailsView controls to provide the data modification interface.</span></span> <span data-ttu-id="1c43f-344">Místo toho toto rozhraní ovládací prvky webového pro shromažďování uživatele vstup při přidání nové položky nebo úpravou existující společně s novou, upravit, odstranit, Insert, Update a stornovací tlačítka musí ručně přidat do příslušných šablon.</span><span class="sxs-lookup"><span data-stu-id="1c43f-344">Instead, this interface the Web controls for collecting user input when adding a new item or editing an existing one along with the New, Edit, Delete, Insert, Update, and Cancel buttons must be added manually to the appropriate templates.</span></span> <span data-ttu-id="1c43f-345">Naštěstí vytvoří sada Visual Studio automaticky rozhraní potřebné při vazbě FormView ke zdroji dat pomocí rozevíracího seznamu v jeho inteligentních značek.</span><span class="sxs-lookup"><span data-stu-id="1c43f-345">Fortunately, Visual Studio will automatically create the needed interface when binding the FormView to a data source through the drop-down list in its smart tag.</span></span>

<span data-ttu-id="1c43f-346">Pro ilustraci tyto postupy, začněte přidáním FormView k `Basics.aspx` stránky a ze třídy FormView inteligentní značky, ho navázat ObjectDataSource již vytvořeny.</span><span class="sxs-lookup"><span data-stu-id="1c43f-346">To illustrate these techniques, start by adding a FormView to the `Basics.aspx` page and, from the FormView's smart tag, bind it to the ObjectDataSource already created.</span></span> <span data-ttu-id="1c43f-347">Tím se vygeneruje `EditItemTemplate`, `InsertItemTemplate`, a `ItemTemplate` pro FormView s ovládacími prvky webového textové pole pro shromažďování vstupu uživatele a ovládací prvky webového tlačítko pro nový, upravit, odstranit, Insert, Update a stornovací tlačítka.</span><span class="sxs-lookup"><span data-stu-id="1c43f-347">This will generate an `EditItemTemplate`, `InsertItemTemplate`, and `ItemTemplate` for the FormView with TextBox Web controls for collecting the user's input and Button Web controls for the New, Edit, Delete, Insert, Update, and Cancel buttons.</span></span> <span data-ttu-id="1c43f-348">Kromě toho třídy FormView `DataKeyNames` je nastavena na pole primárního klíče (`ProductID`) objektů vrácené objektem ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="1c43f-348">Additionally, the FormView's `DataKeyNames` property is set to the primary key field (`ProductID`) of the object returned by the ObjectDataSource.</span></span> <span data-ttu-id="1c43f-349">Nakonec zkontrolujte možnost Povolit stránkování v třídě FormView inteligentních značek.</span><span class="sxs-lookup"><span data-stu-id="1c43f-349">Lastly, check the Enable Paging option in the FormView's smart tag.</span></span>

<span data-ttu-id="1c43f-350">Následující ukazuje deklarativní pro třídy FormView `ItemTemplate` po FormView byla svázána se ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="1c43f-350">The following shows the declarative markup for the FormView's `ItemTemplate` after the FormView has been bound to the ObjectDataSource.</span></span> <span data-ttu-id="1c43f-351">Ve výchozím nastavení, je každé pole produktu-logická hodnota hodnota vázána `Text` vlastností ovládacího prvku popisek webové při každé pole logická hodnota (`Discontinued`) je vázána `Checked` vlastnost zakázané ovládací prvek zaškrtávací políčko webu.</span><span class="sxs-lookup"><span data-stu-id="1c43f-351">By default, each non-Boolean value product field is bound to the `Text` property of a Label Web control while each Boolean value field (`Discontinued`) is bound to the `Checked` property of a disabled CheckBox Web control.</span></span> <span data-ttu-id="1c43f-352">Aby tlačítka Nový, Edit a Delete pro určité FormView chování při kliknutí na aktivaci, je nutné, jejich `CommandName` nastavit hodnoty na `New`, `Edit`, a `Delete`, v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="1c43f-352">In order for the New, Edit, and Delete buttons to trigger certain FormView behavior when clicked, it is imperative that their `CommandName` values be set to `New`, `Edit`, and `Delete`, respectively.</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample8.aspx)]

<span data-ttu-id="1c43f-353">Obrázek 22 ukazuje FormView `ItemTemplate` při zobrazení prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="1c43f-353">Figure 22 shows the FormView's `ItemTemplate` when viewed through a browser.</span></span> <span data-ttu-id="1c43f-354">Pomocí tlačítka Nový, Edit a Delete v dolní části je uveden každé pole produktu.</span><span class="sxs-lookup"><span data-stu-id="1c43f-354">Each product field is listed with the New, Edit, and Delete buttons at the bottom.</span></span>


<span data-ttu-id="1c43f-355">[![ItemTemplate Defaut FormView obsahuje seznam všech polí produktu spolu s nové, upravovat a odstraňovat tlačítka](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image55.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image54.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-355">[![The Defaut FormView ItemTemplate Lists Each Product Field Along with New, Edit, and Delete Buttons](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image55.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image54.png)</span></span>

<span data-ttu-id="1c43f-356">**Obrázek 22**: The Defaut FormView `ItemTemplate` uvádí každý produkt pole společně s novou, upravit a odstranit tlačítka ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image56.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-356">**Figure 22**: The Defaut FormView `ItemTemplate` Lists Each Product Field Along with New, Edit, and Delete Buttons ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image56.png))</span></span>


<span data-ttu-id="1c43f-357">Jako s GridView a DetailsView, kliknutím na tlačítko Odstranit nebo žádné tlačítko, LinkButton nebo ImageButton jejichž `CommandName` vlastnost je nastavena na odstranění příčin zpětné volání, naplní ObjectDataSource `DeleteParameters` na FormViewnazákladě`DataKeyNames`hodnota a vyvolá ObjectDataSource `Delete()` metoda.</span><span class="sxs-lookup"><span data-stu-id="1c43f-357">Like with the GridView and DetailsView, clicking the Delete button or any Button, LinkButton, or ImageButton whose `CommandName` property is set to Delete causes a postback, populates the ObjectDataSource's `DeleteParameters` based on the FormView's `DataKeyNames` value, and invokes the ObjectDataSource's `Delete()` method.</span></span>

<span data-ttu-id="1c43f-358">Při kliknutí na tlačítko Upravit vyplývá zpětné volání a dat je odrážejí na `EditItemTemplate`, která je zodpovědná za vykreslování úpravy rozhraní.</span><span class="sxs-lookup"><span data-stu-id="1c43f-358">When the Edit button is clicked a postback ensues and the data is rebound to the `EditItemTemplate`, which is responsible for rendering the editing interface.</span></span> <span data-ttu-id="1c43f-359">Toto rozhraní obsahuje webové ovládací prvky pro úpravy dat společně s tlačítka aktualizace a zrušit.</span><span class="sxs-lookup"><span data-stu-id="1c43f-359">This interface includes the Web controls for editing data along with the Update and Cancel buttons.</span></span> <span data-ttu-id="1c43f-360">Výchozí hodnota `EditItemTemplate` generované Visual Studio obsahuje štítek pro všechna pole automatického přírůstku (`ProductID`), textové pole pro každé pole hodnota logická hodnota a zaškrtávací políčko pro každé pole logická hodnota.</span><span class="sxs-lookup"><span data-stu-id="1c43f-360">The default `EditItemTemplate` generated by Visual Studio contains a Label for any auto-increment fields (`ProductID`), a TextBox for each non-Boolean value field, and a CheckBox for each Boolean value field.</span></span> <span data-ttu-id="1c43f-361">Toto chování je velmi podobný BoundFields automaticky vygenerované v ovládacích prvcích GridView a DetailsView.</span><span class="sxs-lookup"><span data-stu-id="1c43f-361">This behavior is very similar to the auto-generated BoundFields in the GridView and DetailsView controls.</span></span>

> [!NOTE]
> <span data-ttu-id="1c43f-362">Malé jedním z problémů s FormView pro automatické generování `EditItemTemplate` je, že vykreslením TextBox webové ovládací prvky pro tyto pole, které jsou jen pro čtení, například `CategoryName` a `SupplierName`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-362">One small issue with the FormView's auto-generation of the `EditItemTemplate` is that it renders TextBox Web controls for those fields that are read-only, such as `CategoryName` and `SupplierName`.</span></span> <span data-ttu-id="1c43f-363">Ukážeme, jak pro tento účet za chvíli.</span><span class="sxs-lookup"><span data-stu-id="1c43f-363">We'll see how to account for this shortly.</span></span>


<span data-ttu-id="1c43f-364">Ovládacích prvků do textového pole `EditItemTemplate` mít jejich `Text` vlastnost vázána na hodnoty jejich odpovídajících dat pole pomocí *obousměrné vazby dat*.</span><span class="sxs-lookup"><span data-stu-id="1c43f-364">The TextBox controls in the `EditItemTemplate` have their `Text` property bound to the value of their corresponding data field using *two-way databinding*.</span></span> <span data-ttu-id="1c43f-365">Obousměrné vazby dat, odlišené `<%# Bind("dataField") %>`, provádí vazby dat i při vytváření vazby dat v šabloně a při naplňování ObjectDataSource parametry pro vložení nebo úprava záznamů.</span><span class="sxs-lookup"><span data-stu-id="1c43f-365">Two-way databinding, denoted by `<%# Bind("dataField") %>`, performs databinding both when binding data to the template and when populating the ObjectDataSource's parameters for inserting or editing records.</span></span> <span data-ttu-id="1c43f-366">To znamená, když uživatel klikne na tlačítko Upravit z `ItemTemplate`, `Bind()` metoda vrátí hodnotu pole Zadaná data.</span><span class="sxs-lookup"><span data-stu-id="1c43f-366">That is, when the user clicks the Edit button from the `ItemTemplate`, the `Bind()` method returns the specified data field value.</span></span> <span data-ttu-id="1c43f-367">Jakmile uživatel provede jejich změny a na aktualizace, hodnoty odeslány zpět, která odpovídají datových polí zadat pomocí `Bind()` použijí ObjectDataSource `UpdateParameters`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-367">After the user makes their changes and clicks Update, the values posted back that correspond to the data fields specified using `Bind()` are applied to the ObjectDataSource's `UpdateParameters`.</span></span> <span data-ttu-id="1c43f-368">Alternativně jednosměrné vazby dat, odlišené `<%# Eval("dataField") %>`, pouze při vytváření vazby dat v šabloně načte pole hodnoty dat a nemá *není* návratové hodnoty zadanou uživatelem na parametry zdroj dat na zpětné volání.</span><span class="sxs-lookup"><span data-stu-id="1c43f-368">Alternatively, one-way databinding, denoted by `<%# Eval("dataField") %>`, only retrieves the data field values when binding data to the template and does *not* return the user-entered values to the data source's parameters on postback.</span></span>

<span data-ttu-id="1c43f-369">Následující kód ukazuje FormView `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-369">The following declarative markup shows the FormView's `EditItemTemplate`.</span></span> <span data-ttu-id="1c43f-370">Všimněte si, že `Bind()` metoda se používá v syntaxi datové vazby sem a zda mají ovládací prvky tlačítko Update a zrušit jejich `CommandName` odpovídajícím způsobem nastaveny vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="1c43f-370">Note that the `Bind()` method is used in the databinding syntax here and that the Update and Cancel Button Web controls have their `CommandName` properties set accordingly.</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample9.aspx)]

<span data-ttu-id="1c43f-371">Naše `EditItemTemplate`, na tomto bodu, způsobí výjimku vyvolat, když jsme pokusí ji použít.</span><span class="sxs-lookup"><span data-stu-id="1c43f-371">Our `EditItemTemplate`, at this point, will cause an exception to be thrown if we attempt to use it.</span></span> <span data-ttu-id="1c43f-372">Problém je, že `CategoryName` a `SupplierName` pole vykreslovat jako textové pole webových ovládacích prvků do `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-372">The problem is that the `CategoryName` and `SupplierName` fields are rendered as TextBox Web controls in the `EditItemTemplate`.</span></span> <span data-ttu-id="1c43f-373">Buď musíme změnit popisky na těchto textových polí nebo je úplně odebrat.</span><span class="sxs-lookup"><span data-stu-id="1c43f-373">We either need to change these TextBoxes to Labels or remove them altogether.</span></span> <span data-ttu-id="1c43f-374">Můžeme jednoduše odstraníte z zcela `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-374">Let's simply delete them entirely from the `EditItemTemplate`.</span></span>

<span data-ttu-id="1c43f-375">Po kliknutí na tlačítko Upravit pro Chai 23 obrázek ukazuje FormView v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="1c43f-375">Figure 23 shows the FormView in a browser after the Edit button has been clicked for Chai.</span></span> <span data-ttu-id="1c43f-376">Všimněte si, že `SupplierName` a `CategoryName` pole ukazuje `ItemTemplate` již neexistují, jak jsme právě odebrali z `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-376">Note that the `SupplierName` and `CategoryName` fields shown in the `ItemTemplate` are no longer present, as we just removed them from the `EditItemTemplate`.</span></span> <span data-ttu-id="1c43f-377">Při kliknutí na tlačítko Aktualizovat FormView pokračuje prostřednictvím stejné pořadí kroků jako GridView a DetailsView ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="1c43f-377">When the Update button is clicked the FormView proceeds through the same sequence of steps as the GridView and DetailsView controls.</span></span>


<span data-ttu-id="1c43f-378">[![Ve výchozím nastavení zobrazuje EditItemTemplate každé pole upravitelné produktu jako textové pole nebo zaškrtávací políčko](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image58.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image57.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-378">[![By Default the EditItemTemplate Shows Each Editable Product Field as a TextBox or CheckBox](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image58.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image57.png)</span></span>

<span data-ttu-id="1c43f-379">**Obrázek 23**: ve výchozím nastavení `EditItemTemplate` zobrazuje každou upravitelné produktu pole jako textové pole nebo zaškrtávací políčko ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image59.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-379">**Figure 23**: By Default the `EditItemTemplate` Shows Each Editable Product Field as a TextBox or CheckBox ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image59.png))</span></span>


<span data-ttu-id="1c43f-380">Při po kliknutí na tlačítko Vložit na FormView `ItemTemplate` vyplývá zpětné volání.</span><span class="sxs-lookup"><span data-stu-id="1c43f-380">When the Insert button is clicked the FormView's `ItemTemplate` a postback ensues.</span></span> <span data-ttu-id="1c43f-381">Ale žádná data je vázána FormView vzhledem k tomu, že se přidává nový záznam.</span><span class="sxs-lookup"><span data-stu-id="1c43f-381">However, no data is bound to the FormView because a new record is being added.</span></span> <span data-ttu-id="1c43f-382">`InsertItemTemplate` Rozhraní obsahuje ovládací prvky webového pro přidávání nového záznamu společně s tlačítka Vložit a Storno.</span><span class="sxs-lookup"><span data-stu-id="1c43f-382">The `InsertItemTemplate` interface includes the Web controls for adding a new record along with the Insert and Cancel buttons.</span></span> <span data-ttu-id="1c43f-383">Výchozí hodnota `InsertItemTemplate` generované Visual Studio obsahuje textové pole pro každé pole hodnota logická hodnota a zaškrtávací políčko pro každé pole logická hodnota, podobně jako automaticky generovaný `EditItemTemplate`je rozhraní.</span><span class="sxs-lookup"><span data-stu-id="1c43f-383">The default `InsertItemTemplate` generated by Visual Studio contains a TextBox for each non-Boolean value field and a CheckBox for each Boolean value field, similar to the auto-generated `EditItemTemplate`'s interface.</span></span> <span data-ttu-id="1c43f-384">Ovládací prvky textové pole mají jejich `Text` vlastnost vázána na hodnotu odpovídající datové pole pomocí obousměrné vazby dat.</span><span class="sxs-lookup"><span data-stu-id="1c43f-384">The TextBox controls have their `Text` property bound to the value of their corresponding data field using two-way databinding.</span></span>

<span data-ttu-id="1c43f-385">Následující kód ukazuje FormView `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-385">The following declarative markup shows the FormView's `InsertItemTemplate`.</span></span> <span data-ttu-id="1c43f-386">Všimněte si, že `Bind()` metoda se používá v syntaxi datové vazby sem a zda mají ovládací prvky Insert a webové tlačítko zrušit jejich `CommandName` odpovídajícím způsobem nastaveny vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="1c43f-386">Note that the `Bind()` method is used in the databinding syntax here and that the Insert and Cancel Button Web controls have their `CommandName` properties set accordingly.</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample10.aspx)]

<span data-ttu-id="1c43f-387">Je subtlety s FormView pro automatické generování `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-387">There's a subtlety with the FormView's auto-generation of the `InsertItemTemplate`.</span></span> <span data-ttu-id="1c43f-388">Konkrétně ovládací prvky webového TextBox vytvářejí i pro tato pole, které jsou jen pro čtení, například `CategoryName` a `SupplierName`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-388">Specifically, the TextBox Web controls are created even for those fields that are read-only, such as `CategoryName` and `SupplierName`.</span></span> <span data-ttu-id="1c43f-389">Upozorňujeme `EditItemTemplate`, je potřeba odebrat tyto textových polí z `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1c43f-389">Like with the `EditItemTemplate`, we need to remove these TextBoxes from the `InsertItemTemplate`.</span></span>

<span data-ttu-id="1c43f-390">Při přidání nového produktu, pokusná kávy 24 obrázek ukazuje FormView v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="1c43f-390">Figure 24 shows the FormView in a browser when adding a new product, Acme Coffee.</span></span> <span data-ttu-id="1c43f-391">Všimněte si, že `SupplierName` a `CategoryName` pole ukazuje `ItemTemplate` již neexistují, protože jsme právě odebrat.</span><span class="sxs-lookup"><span data-stu-id="1c43f-391">Note that the `SupplierName` and `CategoryName` fields shown in the `ItemTemplate` are no longer present, as we just removed them.</span></span> <span data-ttu-id="1c43f-392">Při kliknutí na tlačítko Vložit bude pokračovat FormView prostřednictvím stejné pořadí kroků jako ovládací prvek DetailsView, přidávání nového záznamu do `Products` tabulky.</span><span class="sxs-lookup"><span data-stu-id="1c43f-392">When the Insert button is clicked the FormView proceeds through the same sequence of steps as the DetailsView control, adding a new record to the `Products` table.</span></span> <span data-ttu-id="1c43f-393">Obrázek 25 obsahuje pokusná kávy produktu podrobnosti ve třídě FormView po vložení.</span><span class="sxs-lookup"><span data-stu-id="1c43f-393">Figure 25 shows Acme Coffee product's details in the FormView after it has been inserted.</span></span>


<span data-ttu-id="1c43f-394">[![InsertItemTemplate stanoví FormView vkládání rozhraní](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image61.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image60.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-394">[![The InsertItemTemplate Dictates the FormView's Inserting Interface](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image61.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image60.png)</span></span>

<span data-ttu-id="1c43f-395">**Obrázek 24**: `InsertItemTemplate` stanoví FormView vkládání rozhraní ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image62.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-395">**Figure 24**: The `InsertItemTemplate` Dictates the FormView's Inserting Interface ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image62.png))</span></span>


<span data-ttu-id="1c43f-396">[![Podrobnosti o nového produktu, pokusná kávy, jsou zobrazeny v třídě FormView](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image64.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image63.png)</span><span class="sxs-lookup"><span data-stu-id="1c43f-396">[![The Details for New Product, Acme Coffee, are Displayed in the FormView](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image64.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image63.png)</span></span>

<span data-ttu-id="1c43f-397">**Obrázek 25**: The podrobnosti nového produktu, pokusná kávy, jsou zobrazeny v třídě FormView ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image65.png))</span><span class="sxs-lookup"><span data-stu-id="1c43f-397">**Figure 25**: The Details for New Product, Acme Coffee, are Displayed in the FormView ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image65.png))</span></span>


<span data-ttu-id="1c43f-398">Oddělením se jen pro čtení, úpravám a vkládání rozhraní do tří samostatných šablony, FormView umožňuje jemnějšího stupeň kontroly nad tato rozhraní než DetailsView a rutina GridView.</span><span class="sxs-lookup"><span data-stu-id="1c43f-398">By separating out the read-only, editing, and inserting interfaces into three separate templates, the FormView allows for a finer degree of control over these interfaces than the DetailsView and GridView.</span></span>

> [!NOTE]
> <span data-ttu-id="1c43f-399">Jako, FormView prvku DetailsView `CurrentMode` určuje vlastnost rozhraní zobrazily a jeho `DefaultMode` vlastnost označuje režim FormView vrátí k za upravíte nebo insert se dokončila.</span><span class="sxs-lookup"><span data-stu-id="1c43f-399">Like the DetailsView, the FormView's `CurrentMode` property indicates the interface being displayed and its `DefaultMode` property indicates the mode the FormView returns to after an edit or insert has been completed.</span></span>


## <a name="summary"></a><span data-ttu-id="1c43f-400">Souhrn</span><span class="sxs-lookup"><span data-stu-id="1c43f-400">Summary</span></span>

<span data-ttu-id="1c43f-401">V tomto kurzu jsme se zaměřili na základní informace o vložení, úpravy a odstraňování dat pomocí GridView, DetailsView a FormView.</span><span class="sxs-lookup"><span data-stu-id="1c43f-401">In this tutorial we examined the basics of inserting, editing, and deleting data using the GridView, DetailsView, and FormView.</span></span> <span data-ttu-id="1c43f-402">Všechny tři z těchto prvků zadejte určité úrovně vestavěných datových úpravy funkce, které můžete použít bez nutnosti napsat jediný řádek kódu na stránce ASP.NET díky ovládací prvky webového dat a ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="1c43f-402">All three of these controls provide some level of built-in data modification capabilities that can be utilized without writing a single line of code in the ASP.NET page thanks to the data Web controls and the ObjectDataSource.</span></span> <span data-ttu-id="1c43f-403">Jednoduché však bod a klikněte na techniky vykreslení poměrně frail a naïve data úpravy uživatelské rozhraní.</span><span class="sxs-lookup"><span data-stu-id="1c43f-403">However, the simple point and click techniques render a fairly frail and naïve data modification user interface.</span></span> <span data-ttu-id="1c43f-404">Pro ověřování, vložit programový hodnoty, pohodlné zpracování výjimek, přizpůsobení uživatelského rozhraní a tak dále, budeme potřebovat spoléhají na bevy technik, které budou popsané v další kurzy několik.</span><span class="sxs-lookup"><span data-stu-id="1c43f-404">To provide validation, inject programmatic values, gracefully handle exceptions, customize the user interface, and so on, we'll need to rely on a bevy of techniques that will be discussed over the next several tutorials.</span></span>

<span data-ttu-id="1c43f-405">Radostí programování!</span><span class="sxs-lookup"><span data-stu-id="1c43f-405">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="1c43f-406">O autorovi</span><span class="sxs-lookup"><span data-stu-id="1c43f-406">About the Author</span></span>

<span data-ttu-id="1c43f-407">[Scott Meisnerová](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor sedm ASP/ASP.NET knih a zakladatele z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje s technologií Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="1c43f-407">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="1c43f-408">Scott funguje jako nezávislé poradce, trainer a zapisovače.</span><span class="sxs-lookup"><span data-stu-id="1c43f-408">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="1c43f-409">Jeho nejnovější seznam k [ *Edice nakladatelství Sams naučit sami technologii ASP.NET 2.0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="1c43f-409">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="1c43f-410">Dosažitelný v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) nebo prostřednictvím svého blogu, který najdete na [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="1c43f-410">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="1c43f-411">Next</span><span class="sxs-lookup"><span data-stu-id="1c43f-411">Next</span></span>](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)
