---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs
title: Přidání ovládacích prvků ověření pro úpravu a vkládání rozhraní (C#) | Microsoft Docs
author: rick-anderson
description: V tomto kurzu ukážeme, jak snadné je přidat do EditItemTemplate a InsertItemTemplate dat ovládací prvek webu, zadejte další ovládací prvky pro ověřování...
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/17/2006
ms.topic: article
ms.assetid: 2086cb1a-ab78-49ae-9c0b-03891c69776a
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs
msc.type: authoredcontent
ms.openlocfilehash: 3df80984d15e13efddc52497d600d396d775d365
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/06/2018
---
<a name="adding-validation-controls-to-the-editing-and-inserting-interfaces-c"></a><span data-ttu-id="06c64-103">Přidání ovládacích prvků ověření pro úpravu a vkládání rozhraní (C#)</span><span class="sxs-lookup"><span data-stu-id="06c64-103">Adding Validation Controls to the Editing and Inserting Interfaces (C#)</span></span>
====================
<span data-ttu-id="06c64-104">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="06c64-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="06c64-105">[Stáhněte si ukázkovou aplikaci](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_19_CS.exe) nebo [stáhnout PDF](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/datatutorial19cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="06c64-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_19_CS.exe) or [Download PDF](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/datatutorial19cs1.pdf)</span></span>

> <span data-ttu-id="06c64-106">V tomto kurzu budete vidíte, jak je snadné k přidávání ovládacích prvků ověření EditItemTemplate a InsertItemTemplate dat ovládací prvek webu, zadejte více spolehlivá uživatelské rozhraní.</span><span class="sxs-lookup"><span data-stu-id="06c64-106">In this tutorial we'll see how easy it is to add validation controls to the EditItemTemplate and InsertItemTemplate of a data Web control, to provide a more foolproof user interface.</span></span>


## <a name="introduction"></a><span data-ttu-id="06c64-107">Úvod</span><span class="sxs-lookup"><span data-stu-id="06c64-107">Introduction</span></span>

<span data-ttu-id="06c64-108">Rutina GridView a DetailsView ovládací prvky v příkladech jsme jste prozkoumali v posledních tří kurzy mít všechny se skládá z BoundFields a CheckBoxFields (typy polí automaticky přidá Visual Studio, při vytváření vazby GridView nebo DetailsView ke zdroji dat řízení pomocí inteligentních značek).</span><span class="sxs-lookup"><span data-stu-id="06c64-108">The GridView and DetailsView controls in the examples we've explored over the past three tutorials have all been composed of BoundFields and CheckBoxFields (the field types automatically added by Visual Studio when binding a GridView or DetailsView to a data source control through the smart tag).</span></span> <span data-ttu-id="06c64-109">Při úpravě řádek v GridView nebo DetailsView, tyto BoundFields, které nejsou jen pro čtení se převedou do textových polí, ze kterého může koncový uživatel upravit existující data.</span><span class="sxs-lookup"><span data-stu-id="06c64-109">When editing a row in a GridView or DetailsView, those BoundFields that are not read-only are converted into textboxes, from which the end user can modify the existing data.</span></span> <span data-ttu-id="06c64-110">Podobně když vkládání nový záznam do ovládacího prvku DetailsView těchto BoundFields jehož `InsertVisible` je nastavena na `true` (výchozí) se vykresluje jako prázdná textová pole, do kterého může uživatel zadat hodnoty polí nový záznam.</span><span class="sxs-lookup"><span data-stu-id="06c64-110">Similarly, when inserting a new record into a DetailsView control, those BoundFields whose `InsertVisible` property is set to `true` (the default) are rendered as empty textboxes, into which the user can provide the new record's field values.</span></span> <span data-ttu-id="06c64-111">Podobně CheckBoxFields, které jsou zakázány v rozhraní standardní, jen pro čtení, se převedou na povoleno zaškrtávací políčka v úpravy a vkládání rozhraní.</span><span class="sxs-lookup"><span data-stu-id="06c64-111">Likewise, CheckBoxFields, which are disabled in the standard, read-only interface, are converted into enabled checkboxes in the editing and inserting interfaces.</span></span>

<span data-ttu-id="06c64-112">Výchozí hodnota úpravy a vkládání rozhraní pro BoundField a vlastnost CheckBoxField mohou být užitečné, rozhraní nemá žádný typ ověřování.</span><span class="sxs-lookup"><span data-stu-id="06c64-112">While the default editing and inserting interfaces for the BoundField and CheckBoxField can be helpful, the interface lacks any sort of validation.</span></span> <span data-ttu-id="06c64-113">Pokud uživatel provede chybu položka dat – například vynechání `ProductName` pole nebo zadáte neplatnou hodnotu pro `UnitsInStock` (například -50) výjimku, bude vyvolána z v rámci depths architektury aplikace.</span><span class="sxs-lookup"><span data-stu-id="06c64-113">If a user makes a data entry mistake - such as omitting the `ProductName` field or entering an invalid value for `UnitsInStock` (such as -50) an exception will be raised from within the depths of the application architecture.</span></span> <span data-ttu-id="06c64-114">Když tato výjimka může být řádně zpracována jak je předvedeno v [předchozí kurzu](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md), v ideálním případě by mělo prvky ověřování k uživateli zabránit v přechodu do takové neplatná data v zahrnovat úprav nebo vkládání uživatelské rozhraní první místo.</span><span class="sxs-lookup"><span data-stu-id="06c64-114">While this exception can be gracefully handled as demonstrated in the [previous tutorial](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md), ideally the editing or inserting user interface would include validation controls to prevent a user from entering such invalid data in the first place.</span></span>

<span data-ttu-id="06c64-115">Chcete-li provést vložení rozhraní nebo vlastní úpravy, musíme BoundField nebo vlastnost CheckBoxField nahraďte TemplateField.</span><span class="sxs-lookup"><span data-stu-id="06c64-115">In order to provide a customized editing or inserting interface, we need to replace the BoundField or CheckBoxField with a TemplateField.</span></span> <span data-ttu-id="06c64-116">TemplateFields, které byly v tématu diskuse ve [pomocí TemplateFields v ovládacím prvku GridView](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) a [pomocí TemplateFields v ovládacím prvku DetailsView](../custom-formatting/using-templatefields-in-the-detailsview-control-cs.md) kurzy, se může skládat z několika definování šablony oddělení rozhraní pro stavy různých řádků.</span><span class="sxs-lookup"><span data-stu-id="06c64-116">TemplateFields, which were the topic of discussion in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) and [Using TemplateFields in the DetailsView Control](../custom-formatting/using-templatefields-in-the-detailsview-control-cs.md) tutorials, can consist of multiple templates defining separate interfaces for different row states.</span></span> <span data-ttu-id="06c64-117">TemplateField `ItemTemplate` se používá ke při vykreslování pole jen pro čtení nebo řádků v ovládacích prvcích DetailsView nebo GridView, zatímco `EditItemTemplate` a `InsertItemTemplate` znamenat rozhraní pro úpravu a vkládání režimy, v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="06c64-117">The TemplateField's `ItemTemplate` is used to when rendering read-only fields or rows in the DetailsView or GridView controls, whereas the `EditItemTemplate` and `InsertItemTemplate` indicate the interfaces to use for the editing and inserting modes, respectively.</span></span>

<span data-ttu-id="06c64-118">V tomto kurzu ukážeme, jak je snadné přidání ovládacích prvků ověření TemplateField `EditItemTemplate` a `InsertItemTemplate` zajistit více spolehlivá uživatelské rozhraní.</span><span class="sxs-lookup"><span data-stu-id="06c64-118">In this tutorial we'll see how easy it is to add validation controls to the TemplateField's `EditItemTemplate` and `InsertItemTemplate` to provide a more foolproof user interface.</span></span> <span data-ttu-id="06c64-119">Konkrétně v tomto kurzu trvá vytvořené v příkladu [zkoumání události spojené s vložení, aktualizace a odstranění](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) kurzu a rozšiřuje úpravy a vkládání rozhraní zahrnout příslušné ověření.</span><span class="sxs-lookup"><span data-stu-id="06c64-119">Specifically, this tutorial takes the example created in the [Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) tutorial and augments the editing and inserting interfaces to include appropriate validation.</span></span>

## <a name="step-1-replicating-the-example-fromexamining-the-events-associated-with-inserting-updating-and-deletingexamining-the-events-associated-with-inserting-updating-and-deleting-csmd"></a><span data-ttu-id="06c64-120">Krok 1: Replikace příklad z[zkoumání události související s vložení, aktualizace a odstranění](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)</span><span class="sxs-lookup"><span data-stu-id="06c64-120">Step 1: Replicating the Example from[Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)</span></span>

<span data-ttu-id="06c64-121">V [zkoumání události spojené s vložení, aktualizace a odstranění](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) kurzu jsme vytvořili stránky, který uvedené názvy a ceny produktů v upravitelné GridView.</span><span class="sxs-lookup"><span data-stu-id="06c64-121">In the [Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) tutorial we created a page that listed the names and prices of the products in an editable GridView.</span></span> <span data-ttu-id="06c64-122">Kromě toho stránce zahrnuté DetailsView jejichž `DefaultMode` byla nastavena na `Insert`, a tím vždy vykreslení v režimu vkládání.</span><span class="sxs-lookup"><span data-stu-id="06c64-122">Additionally, the page included a DetailsView whose `DefaultMode` property was set to `Insert`, thereby always rendering in insert mode.</span></span> <span data-ttu-id="06c64-123">Z této DetailsView může uživatel zadat název a ceny pro nového produktu, klikněte na tlačítko Vložit a jej přidat do systému (viz obrázek 1).</span><span class="sxs-lookup"><span data-stu-id="06c64-123">From this DetailsView, the user could enter the name and price for a new product, click Insert, and have it added to the system (see Figure 1).</span></span>


<span data-ttu-id="06c64-124">[![Předchozí příklad umožňuje uživatelům přidávat nové produkty a upravit existující](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image2.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="06c64-124">[![The Previous Example Allows Users to Add New Products and Edit Existing Ones](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image2.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image1.png)</span></span>

<span data-ttu-id="06c64-125">**Obrázek 1**: předchozím příkladu umožňuje uživatelům přidat novými produkty a upravit existující ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="06c64-125">**Figure 1**: The Previous Example Allows Users to Add New Products and Edit Existing Ones ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image3.png))</span></span>


<span data-ttu-id="06c64-126">Naším cílem pro tento kurz je k posílení DetailsView a GridView, aby se zajistil ovládací prvky pro ověřování.</span><span class="sxs-lookup"><span data-stu-id="06c64-126">Our goal for this tutorial is to augment the DetailsView and GridView to provide validation controls.</span></span> <span data-ttu-id="06c64-127">Konkrétně se ověřovací logiku:</span><span class="sxs-lookup"><span data-stu-id="06c64-127">In particular, our validation logic will:</span></span>

- <span data-ttu-id="06c64-128">Vyžadovat, aby při vkládání nebo úpravou produktu třeba zadat název</span><span class="sxs-lookup"><span data-stu-id="06c64-128">Require that the name be provided when inserting or editing a product</span></span>
- <span data-ttu-id="06c64-129">Vyžadovat, aby cenu byla zadána při vkládání záznam; Při úpravě záznam, jsme se stále vyžadují ceny, ale použije programový logiku v prvku GridView `RowUpdating` obslužné rutiny události z dřívějších kurzu již existuje.</span><span class="sxs-lookup"><span data-stu-id="06c64-129">Require that the price be provided when inserting a record; when editing a record, we will still require a price, but will use the programmatic logic in the GridView's `RowUpdating` event handler already present from the earlier tutorial</span></span>
- <span data-ttu-id="06c64-130">Zkontrolujte, zda je hodnota zadaná pro cenu formátu platný měny</span><span class="sxs-lookup"><span data-stu-id="06c64-130">Ensure that the value entered for the price is a valid currency format</span></span>

<span data-ttu-id="06c64-131">Podíváme můžete na předchozí příklad zahrnout ověření rozšířit, nejprve musíme replikovat příklad z `DataModificationEvents.aspx` stránky na stránku pro účely tohoto kurzu `UIValidation.aspx`.</span><span class="sxs-lookup"><span data-stu-id="06c64-131">Before we can look at augmenting the previous example to include validation, we first need to replicate the example from the `DataModificationEvents.aspx` page to the page for this tutorial, `UIValidation.aspx`.</span></span> <span data-ttu-id="06c64-132">K tomu je potřeba kopírovat přes obě `DataModificationEvents.aspx` deklarativní stránky a jeho zdrojový kód.</span><span class="sxs-lookup"><span data-stu-id="06c64-132">To accomplish this we need to copy over both the `DataModificationEvents.aspx` page's declarative markup and its source code.</span></span> <span data-ttu-id="06c64-133">Nejdřív zkopírujte přes deklarativní provedením následujících kroků:</span><span class="sxs-lookup"><span data-stu-id="06c64-133">First copy over the declarative markup by performing the following steps:</span></span>

1. <span data-ttu-id="06c64-134">Otevřete `DataModificationEvents.aspx` stránka v sadě Visual Studio</span><span class="sxs-lookup"><span data-stu-id="06c64-134">Open the `DataModificationEvents.aspx` page in Visual Studio</span></span>
2. <span data-ttu-id="06c64-135">Přejděte na stránky deklarativní (kliknutím na tlačítko zdroj v dolní části stránky)</span><span class="sxs-lookup"><span data-stu-id="06c64-135">Go to the page's declarative markup (click on the Source button at the bottom of the page)</span></span>
3. <span data-ttu-id="06c64-136">Zkopírujte text v rámci `<asp:Content>` a `</asp:Content>` značky (čáry 3 až 44), jako v zobrazené na obrázku 2.</span><span class="sxs-lookup"><span data-stu-id="06c64-136">Copy the text within the `<asp:Content>` and `</asp:Content>` tags (lines 3 through 44), as shown in Figure 2.</span></span>


<span data-ttu-id="06c64-137">[![Zkopírujte Text v &lt;asp: obsah&gt; ovládací prvek](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image5.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="06c64-137">[![Copy the Text Within the &lt;asp:Content&gt; Control](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image5.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image4.png)</span></span>

<span data-ttu-id="06c64-138">**Obrázek 2**: kopírování textu v `<asp:Content>` ovládací prvek ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="06c64-138">**Figure 2**: Copy the Text Within the `<asp:Content>` Control ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image6.png))</span></span>


1. <span data-ttu-id="06c64-139">Otevřete `UIValidation.aspx` stránky</span><span class="sxs-lookup"><span data-stu-id="06c64-139">Open the `UIValidation.aspx` page</span></span>
2. <span data-ttu-id="06c64-140">Přejděte na stránky deklarativní značky</span><span class="sxs-lookup"><span data-stu-id="06c64-140">Go to the page's declarative markup</span></span>
3. <span data-ttu-id="06c64-141">Sem vložte text, v rámci `<asp:Content>` ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="06c64-141">Paste the text within the `<asp:Content>` control.</span></span>

<span data-ttu-id="06c64-142">Pokud chcete zkopírovat přes zdrojový kód, otevřete `DataModificationEvents.aspx.cs` stránky a zkopírujte pouze text *v rámci* `EditInsertDelete_DataModificationEvents` – třída.</span><span class="sxs-lookup"><span data-stu-id="06c64-142">To copy over the source code, open the `DataModificationEvents.aspx.cs` page and copy just the text *within* the `EditInsertDelete_DataModificationEvents` class.</span></span> <span data-ttu-id="06c64-143">Zkopírujte tři události obslužné rutiny (`Page_Load`, `GridView1_RowUpdating`, a `ObjectDataSource1_Inserting`), ale provést **není** zkopírujte deklaraci třídy nebo `using` příkazy.</span><span class="sxs-lookup"><span data-stu-id="06c64-143">Copy the three event handlers (`Page_Load`, `GridView1_RowUpdating`, and `ObjectDataSource1_Inserting`), but do **not** copy the class declaration or `using` statements.</span></span> <span data-ttu-id="06c64-144">Vložte zkopírovaný text *v rámci* `EditInsertDelete_UIValidation` třídy v `UIValidation.aspx.cs`.</span><span class="sxs-lookup"><span data-stu-id="06c64-144">Paste the copied text *within* the `EditInsertDelete_UIValidation` class in `UIValidation.aspx.cs`.</span></span>

<span data-ttu-id="06c64-145">Po přesunutí nad obsah a kód z `DataModificationEvents.aspx` k `UIValidation.aspx`, za chvíli k otestování průběh v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="06c64-145">After moving over the content and code from `DataModificationEvents.aspx` to `UIValidation.aspx`, take a moment to test out your progress in a browser.</span></span> <span data-ttu-id="06c64-146">Měli byste vidět stejný výstup a zkušenosti stejnou funkcionalitu v každé z těchto dvou stránkách (odkazuje zpět na obrázku 1 pro snímek obrazovky `DataModificationEvents.aspx` v akci).</span><span class="sxs-lookup"><span data-stu-id="06c64-146">You should see the same output and experience the same functionality in each of these two pages (refer back to Figure 1 for a screen shot of `DataModificationEvents.aspx` in action).</span></span>

## <a name="step-2-converting-the-boundfields-into-templatefields"></a><span data-ttu-id="06c64-147">Krok 2: Převodu BoundFields TemplateFields</span><span class="sxs-lookup"><span data-stu-id="06c64-147">Step 2: Converting the BoundFields Into TemplateFields</span></span>

<span data-ttu-id="06c64-148">K přidávání ovládacích prvků ověření na rozhraní úpravy a vkládání, potřebovat BoundFields používá funkci DetailsView a GridView ovládacích prvků mají být převedeny do TemplateFields.</span><span class="sxs-lookup"><span data-stu-id="06c64-148">To add validation controls to the editing and inserting interfaces, the BoundFields used by the DetailsView and GridView controls need to be converted into TemplateFields.</span></span> <span data-ttu-id="06c64-149">Jak toho docílit, klikněte na Upravit sloupce a upravit pole odkazy v GridView a prvku DetailsView inteligentních značek v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="06c64-149">To achieve this, click on the Edit Columns and Edit Fields links in the GridView and DetailsView's smart tags, respectively.</span></span> <span data-ttu-id="06c64-150">Vyberte jednotlivé BoundFields existuje a klikněte na odkaz "Převést toto pole TemplateField".</span><span class="sxs-lookup"><span data-stu-id="06c64-150">There, select each of the BoundFields and click the "Convert this field into a TemplateField" link.</span></span>


<span data-ttu-id="06c64-151">[![Každý z prvku DetailsView a GridView BoundFields převést TemplateFields](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image8.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="06c64-151">[![Convert Each of the DetailsView's and GridView's BoundFields Into TemplateFields](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image8.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image7.png)</span></span>

<span data-ttu-id="06c64-152">**Obrázek 3**: převést každý z prvku DetailsView a GridView BoundFields do TemplateFields ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="06c64-152">**Figure 3**: Convert Each of the DetailsView's and GridView's BoundFields Into TemplateFields ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image9.png))</span></span>


<span data-ttu-id="06c64-153">Převod BoundField do TemplateField prostřednictvím dialogové okno pole generuje TemplateField, pro jehož stejné rozhraní jen pro čtení, úpravy a vkládání jako BoundField sám sebe.</span><span class="sxs-lookup"><span data-stu-id="06c64-153">Converting a BoundField into a TemplateField through the Fields dialog box generates a TemplateField that exhibits the same read-only, editing, and inserting interfaces as the BoundField itself.</span></span> <span data-ttu-id="06c64-154">Následující kód ukazuje deklarativní syntaxe `ProductName` pole v ovládacím prvku DetailsView po převedení do TemplateField:</span><span class="sxs-lookup"><span data-stu-id="06c64-154">The following markup shows the declarative syntax for the `ProductName` field in the DetailsView after it has been converted into a TemplateField:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample1.aspx)]

<span data-ttu-id="06c64-155">Všimněte si, že tento TemplateField měl třemi šablonami, automaticky vytvoří `ItemTemplate`, `EditItemTemplate`, a `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="06c64-155">Note that this TemplateField had three templates automatically created `ItemTemplate`, `EditItemTemplate`, and `InsertItemTemplate`.</span></span> <span data-ttu-id="06c64-156">`ItemTemplate` Zobrazí hodnotu pole jednoho datového (`ProductName`) při použití ovládacího prvku popisek Web, `EditItemTemplate` a `InsertItemTemplate` současná hodnota pole dat v ovládacím prvku TextBox webového, který přidruží datové pole textového pole `Text` Vlastnost pomocí obousměrné vazby dat.</span><span class="sxs-lookup"><span data-stu-id="06c64-156">The `ItemTemplate` displays a single data field value (`ProductName`) using a Label Web control, while the `EditItemTemplate` and `InsertItemTemplate` present the data field value in a TextBox Web control that associates the data field with the TextBox's `Text` property using two-way databinding.</span></span> <span data-ttu-id="06c64-157">Vzhledem k tomu, že DetailsView na této stránce se používá pouze pro vložení, může dojít k odebrání `ItemTemplate` a `EditItemTemplate` ze dvou TemplateFields, i když není škodu v necháte.</span><span class="sxs-lookup"><span data-stu-id="06c64-157">Since we are only using the DetailsView in this page for inserting, you may remove the `ItemTemplate` and `EditItemTemplate` from the two TemplateFields, although there's no harm in leaving them.</span></span>

<span data-ttu-id="06c64-158">Vzhledem k tomu, že rutina GridView nepodporuje integrovanou vkládání funkcí DetailsView, převod prvku GridView `ProductName` pole do TemplateField výsledkem pouze `ItemTemplate` a `EditItemTemplate`:</span><span class="sxs-lookup"><span data-stu-id="06c64-158">Since the GridView does not support the built-in inserting features of the DetailsView, converting the GridView's `ProductName` field into a TemplateField results in only an `ItemTemplate` and `EditItemTemplate`:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample2.aspx)]

<span data-ttu-id="06c64-159">Kliknutím na tlačítko "Převést toto pole do TemplateField" sady Visual Studio se vytvořil TemplateField jejichž šablony napodobovat uživatelského rozhraní převedený BoundField.</span><span class="sxs-lookup"><span data-stu-id="06c64-159">By clicking the "Convert this field into a TemplateField," Visual Studio has created a TemplateField whose templates mimic the user interface of the converted BoundField.</span></span> <span data-ttu-id="06c64-160">Můžete to ověřit této stránce prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="06c64-160">You can verify this by visiting this page through a browser.</span></span> <span data-ttu-id="06c64-161">Zjistíte, že vzhled a chování TemplateFields je stejný jako rozhraní při BoundFields používaly místo.</span><span class="sxs-lookup"><span data-stu-id="06c64-161">You'll find that the appearance and behavior of the TemplateFields is identical to the experience when BoundFields were used instead.</span></span>

> [!NOTE]
> <span data-ttu-id="06c64-162">Nebojte se, že rozhraní úpravy v šablonách podle potřeby přizpůsobit.</span><span class="sxs-lookup"><span data-stu-id="06c64-162">Feel free to customize the editing interfaces in the templates as needed.</span></span> <span data-ttu-id="06c64-163">Například může Chceme mít textové pole `UnitPrice` TemplateFields se vykresluje jako textové pole menší než `ProductName` textové pole.</span><span class="sxs-lookup"><span data-stu-id="06c64-163">For example, we may want to have the TextBox in the `UnitPrice` TemplateFields rendered as a smaller textbox than the `ProductName` textbox.</span></span> <span data-ttu-id="06c64-164">K tomu můžete nastavit textového pole `Columns` vlastnost na odpovídající hodnotu nebo zadejte absolutní šířku prostřednictvím `Width` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="06c64-164">To accomplish this you can set the TextBox's `Columns` property to an appropriate value or provide an absolute width via the `Width` property.</span></span> <span data-ttu-id="06c64-165">V dalším kurzu vidíte úplně přizpůsobení rozhraní úpravy nahrazením textové pole s alternativní datový záznam ovládací prvek webu.</span><span class="sxs-lookup"><span data-stu-id="06c64-165">In the next tutorial we'll see how to completely customize the editing interface by replacing the TextBox with an alternate data entry Web control.</span></span>


## <a name="step-3-adding-the-validation-controls-to-the-gridviewsedititemtemplate-s"></a><span data-ttu-id="06c64-166">Krok 3: Přidání ovládacích prvků ověření do prvku GridView`EditItemTemplate` s</span><span class="sxs-lookup"><span data-stu-id="06c64-166">Step 3: Adding the Validation Controls to the GridView's`EditItemTemplate` s</span></span>

<span data-ttu-id="06c64-167">Při vytváření formuláře pro zadávání dat, je důležité, že uživatelé zadají všechna požadovaná pole a zda jsou všechny zadané vstupy právní, správně naformátován hodnoty.</span><span class="sxs-lookup"><span data-stu-id="06c64-167">When constructing data entry forms, it is important that users enter any required fields and that all provided inputs are legal, properly-formatted values.</span></span> <span data-ttu-id="06c64-168">Aby bylo zajištěno, že vstupy uživatele jsou platné, technologie ASP.NET poskytuje pět integrované ověření ovládacích prvků, které jsou navržené tak, který se má použít k ověření hodnoty jednoho vstupního ovládacího prvku:</span><span class="sxs-lookup"><span data-stu-id="06c64-168">To help ensure that a user's inputs are valid, ASP.NET provides five built-in validation controls that are designed to be used to validate the value of a single input control:</span></span>

- <span data-ttu-id="06c64-169">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) zajistí, že byla zadána hodnota</span><span class="sxs-lookup"><span data-stu-id="06c64-169">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) ensures that a value has been provided</span></span>
- <span data-ttu-id="06c64-170">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) ověří hodnotu s jinou hodnotou webové ovládací prvek nebo konstantní hodnotu nebo zajišťuje, že hodnota formátu právní pro zadaný datový typ</span><span class="sxs-lookup"><span data-stu-id="06c64-170">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) validates a value against another Web control value or a constant value, or ensures that the value's format is legal for a specified data type</span></span>
- <span data-ttu-id="06c64-171">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) zajistí, že je hodnota v rozsahu hodnot</span><span class="sxs-lookup"><span data-stu-id="06c64-171">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) ensures that a value is within a range of values</span></span>
- <span data-ttu-id="06c64-172">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) hodnotu porovnává [regulární výraz](http://en.wikipedia.org/wiki/Regular_expression)</span><span class="sxs-lookup"><span data-stu-id="06c64-172">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) validates a value against a [regular expression](http://en.wikipedia.org/wiki/Regular_expression)</span></span>
- <span data-ttu-id="06c64-173">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) hodnotu porovnává vlastní, uživatelsky definované metoda</span><span class="sxs-lookup"><span data-stu-id="06c64-173">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) validates a value against a custom, user-defined method</span></span>

<span data-ttu-id="06c64-174">Další informace o těchto pět ovládacích prvků, podívejte se [část ovládací prvky pro ověřování](https://quickstarts.asp.net/quickstartv20/aspnet/doc/ctrlref/validation/default.aspx) z [ASP.NET rychlý start kurzy](https://asp.net/QuickStart/aspnet/).</span><span class="sxs-lookup"><span data-stu-id="06c64-174">For more information on these five controls, check out the [Validation Controls section](https://quickstarts.asp.net/quickstartv20/aspnet/doc/ctrlref/validation/default.aspx) of the [ASP.NET Quickstart Tutorials](https://asp.net/QuickStart/aspnet/).</span></span>

<span data-ttu-id="06c64-175">V našem kurzu budeme muset použít RequiredFieldValidator DetailsView i GridView `ProductName` TemplateFields a RequiredFieldValidator v ovládacím prvku DetailsView `UnitPrice` TemplateField.</span><span class="sxs-lookup"><span data-stu-id="06c64-175">For our tutorial we'll need to use a RequiredFieldValidator in both the DetailsView and GridView's `ProductName` TemplateFields and a RequiredFieldValidator in the DetailsView's `UnitPrice` TemplateField.</span></span> <span data-ttu-id="06c64-176">Kromě toho budeme muset přidat CompareValidator do obou ovládacích prvků `UnitPrice` TemplateFields, který zajistí, že zadaná cena na hodnotu větší než nebo rovna 0 a se zobrazí ve formátu platné měny.</span><span class="sxs-lookup"><span data-stu-id="06c64-176">Furthermore, we'll need to add a CompareValidator to both controls' `UnitPrice` TemplateFields that ensures that the entered price has a value greater than or equal to 0 and is presented in a valid currency format.</span></span>

> [!NOTE]
> <span data-ttu-id="06c64-177">Při ASP.NET 1.x měl tyto stejné pět ověřovací ovládací prvky, technologii ASP.NET 2.0 přidala množství vylepšení, hlavní dva skripty na straně klienta se podpora pro prohlížeče než Internet Explorer a možnost ověření oddílu ovládacích prvků na stránce do ověření skupiny.</span><span class="sxs-lookup"><span data-stu-id="06c64-177">While ASP.NET 1.x had these same five validation controls, ASP.NET 2.0 has added a number of improvements, the main two being client-side script support for browsers other than Internet Explorer and the ability to partition validation controls on a page into validation groups.</span></span> <span data-ttu-id="06c64-178">Další informace o nových funkcí řízení ověření v 2.0, najdete v části [Rozvěrače ověřovacích ovládacích prvků v technologii ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="06c64-178">For more information on the new validation control features in 2.0, refer to [Dissecting the Validation Controls in ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span></span>


<span data-ttu-id="06c64-179">Začněme přidáním potřeby ověření ovládací prvky `EditItemTemplate` s v prvku GridView TemplateFields.</span><span class="sxs-lookup"><span data-stu-id="06c64-179">Let's start by adding the necessary validation controls to the `EditItemTemplate` s in the GridView's TemplateFields.</span></span> <span data-ttu-id="06c64-180">K tomu, klikněte na odkaz Upravit šablony z prvku GridView inteligentní značky se zprovoznit rozhraní úpravy šablony.</span><span class="sxs-lookup"><span data-stu-id="06c64-180">To accomplish this, click on the Edit Templates link from the GridView's smart tag to bring up the template editing interface.</span></span> <span data-ttu-id="06c64-181">Tady můžete vybrat šablonu upravit v rozevíracím seznamu.</span><span class="sxs-lookup"><span data-stu-id="06c64-181">From here, you can select which template to edit from the drop-down list.</span></span> <span data-ttu-id="06c64-182">Vzhledem k tomu, že chceme posílení rozhraní úprav, je potřeba přidat ověřovací ovládací prvky pro `ProductName` a `UnitPrice`na `EditItemTemplate` s.</span><span class="sxs-lookup"><span data-stu-id="06c64-182">Since we want to augment the editing interface, we need to add validation controls to the `ProductName` and `UnitPrice`'s `EditItemTemplate` s.</span></span>


<span data-ttu-id="06c64-183">[![Je potřeba rozšířit ProductName a na UnitPrice EditItemTemplates](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image11.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="06c64-183">[![We Need to Extend the ProductName and UnitPrice's EditItemTemplates](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image11.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image10.png)</span></span>

<span data-ttu-id="06c64-184">**Obrázek 4**: je potřeba rozšířit `ProductName` a `UnitPrice`na `EditItemTemplate` s ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="06c64-184">**Figure 4**: We Need to Extend the `ProductName` and `UnitPrice`'s `EditItemTemplate` s ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image12.png))</span></span>


<span data-ttu-id="06c64-185">V `ProductName` `EditItemTemplate`, přidejte RequiredFieldValidator přetažením z panelu nástrojů do rozhraní úpravy šablony umístění po textové pole.</span><span class="sxs-lookup"><span data-stu-id="06c64-185">In the `ProductName` `EditItemTemplate`, add a RequiredFieldValidator by dragging it from the Toolbox into the template editing interface, placing after the TextBox.</span></span>


<span data-ttu-id="06c64-186">[![Přidání RequiredFieldValidator do ProductName EditItemTemplate](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image14.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="06c64-186">[![Add a RequiredFieldValidator to the ProductName EditItemTemplate](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image14.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image13.png)</span></span>

<span data-ttu-id="06c64-187">**Obrázek 5**: přidejte RequiredFieldValidator k `ProductName` `EditItemTemplate` ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="06c64-187">**Figure 5**: Add a RequiredFieldValidator to the `ProductName` `EditItemTemplate` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image15.png))</span></span>


<span data-ttu-id="06c64-188">Všechny ovládací prvky ověřování práci ověření vstupu jeden ovládací prvek ASP.NET Web.</span><span class="sxs-lookup"><span data-stu-id="06c64-188">All validation controls work by validating the input of a single ASP.NET Web control.</span></span> <span data-ttu-id="06c64-189">Proto je potřeba znamenat, že by měl RequiredFieldValidator, kterou jsme právě přidali vyhodnotit proti textového pole v `EditItemTemplate`; to provádí nastavení ovládacího prvku ověření [vlastnost ControlToValidate](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) k `ID` ovládacího prvku příslušný Web.</span><span class="sxs-lookup"><span data-stu-id="06c64-189">Therefore, we need to indicate that the RequiredFieldValidator we just added should validate against the TextBox in the `EditItemTemplate`; this is accomplished by setting the validation control's [ControlToValidate property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) to the `ID` of the appropriate Web control.</span></span> <span data-ttu-id="06c64-190">Do textového pole v současnosti má místo nondescript `ID` z `TextBox1`, ale můžeme ho změnit na něco vhodnější.</span><span class="sxs-lookup"><span data-stu-id="06c64-190">The TextBox currently has the rather nondescript `ID` of `TextBox1`, but let's change it to something more appropriate.</span></span> <span data-ttu-id="06c64-191">Klikněte na textové pole v šabloně a poté v okně vlastností změňte `ID` z `TextBox1` k `EditProductName`.</span><span class="sxs-lookup"><span data-stu-id="06c64-191">Click on the TextBox in the template and then, from the Properties window, change the `ID` from `TextBox1` to `EditProductName`.</span></span>


<span data-ttu-id="06c64-192">[![Změňte ID textového pole na EditProductName](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image17.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="06c64-192">[![Change the TextBox's ID to EditProductName](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image17.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image16.png)</span></span>

<span data-ttu-id="06c64-193">**Obrázek 6**: Změna textového pole `ID` k `EditProductName` ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="06c64-193">**Figure 6**: Change the TextBox's `ID` to `EditProductName` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image18.png))</span></span>


<span data-ttu-id="06c64-194">Dále nastavte RequiredFieldValidator `ControlToValidate` vlastnost `EditProductName`.</span><span class="sxs-lookup"><span data-stu-id="06c64-194">Next, set the RequiredFieldValidator's `ControlToValidate` property to `EditProductName`.</span></span> <span data-ttu-id="06c64-195">Nakonec nastavte [ErrorMessage vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) k "Je nutné zadat název produktu" a [vlastnost Text](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) na "\*".</span><span class="sxs-lookup"><span data-stu-id="06c64-195">Finally, set the [ErrorMessage property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) to "You must provide the product's name" and the [Text property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) to "\*".</span></span> <span data-ttu-id="06c64-196">`Text` Hodnota vlastnosti, pokud je zadán, je text, který se zobrazí ověření ovládacím prvkem, pokud se ověření nezdaří.</span><span class="sxs-lookup"><span data-stu-id="06c64-196">The `Text` property value, if provided, is the text that is displayed by the validation control if the validation fails.</span></span> <span data-ttu-id="06c64-197">`ErrorMessage` Hodnotu vlastnosti, který je vyžadován, je používán ovládacího prvku ValidationSummary; Pokud `Text` hodnota vlastnosti je vynechán, `ErrorMessage` hodnota vlastnosti je také textu zobrazovaného ovládací prvek ověřování v neplatný vstup.</span><span class="sxs-lookup"><span data-stu-id="06c64-197">The `ErrorMessage` property value, which is required, is used by the ValidationSummary control; if the `Text` property value is omitted, the `ErrorMessage` property value is also the text displayed by the validation control on invalid input.</span></span>

<span data-ttu-id="06c64-198">Po nastavení tyto tři vlastnosti RequiredFieldValidator, by měla vypadat podobně jako na obrázku 7 obrazovky.</span><span class="sxs-lookup"><span data-stu-id="06c64-198">After setting these three properties of the RequiredFieldValidator, your screen should look similar to Figure 7.</span></span>


<span data-ttu-id="06c64-199">[![Nastavte RequiredFieldValidator ControlToValidate, ErrorMessage a vlastnosti textu](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image20.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="06c64-199">[![Set the RequiredFieldValidator's ControlToValidate, ErrorMessage, and Text Properties](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image20.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image19.png)</span></span>

<span data-ttu-id="06c64-200">**Obrázek 7**: nastavte RequiredFieldValidator `ControlToValidate`, `ErrorMessage`, a `Text` vlastnosti ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="06c64-200">**Figure 7**: Set the RequiredFieldValidator's `ControlToValidate`, `ErrorMessage`, and `Text` Properties ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image21.png))</span></span>


<span data-ttu-id="06c64-201">S RequiredFieldValidator přidán do `ProductName` `EditItemTemplate`, všechny, že zůstanou je přidání potřebné k ověření `UnitPrice` `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="06c64-201">With the RequiredFieldValidator added to the `ProductName` `EditItemTemplate`, all that remains is to add the necessary validation to the `UnitPrice` `EditItemTemplate`.</span></span> <span data-ttu-id="06c64-202">Vzhledem k tomu, že jsme jste se rozhodli, že pro tuto stránku `UnitPrice` je volitelný při úprava záznamů, není třeba přidat RequiredFieldValidator.</span><span class="sxs-lookup"><span data-stu-id="06c64-202">Since we've decided that, for this page, the `UnitPrice` is optional when editing a record, we don't need to add a RequiredFieldValidator.</span></span> <span data-ttu-id="06c64-203">, Ale potřebujete přidat CompareValidator zajistit, aby `UnitPrice`, pokud je zadaný, správně naformátován jako měny a je větší než nebo rovna 0.</span><span class="sxs-lookup"><span data-stu-id="06c64-203">We do, however, need to add a CompareValidator to ensure that the `UnitPrice`, if supplied, is properly formatted as a currency and is greater than or equal to 0.</span></span>

<span data-ttu-id="06c64-204">Před přidáme CompareValidator k `UnitPrice` `EditItemTemplate`, nejprve změňte ID ovládacího prvku TextBox webového z `TextBox2` k `EditUnitPrice`.</span><span class="sxs-lookup"><span data-stu-id="06c64-204">Before we add the CompareValidator to the `UnitPrice` `EditItemTemplate`, let's first change the TextBox Web control's ID from `TextBox2` to `EditUnitPrice`.</span></span> <span data-ttu-id="06c64-205">Po provedení této změny, přidejte CompareValidator, nastavení jeho `ControlToValidate` vlastnost `EditUnitPrice`, jeho `ErrorMessage` vlastnost "cenu musí být větší než nebo roven nule a nemůže obsahovat symbolu měny" a jeho `Text` vlastnosti "\*".</span><span class="sxs-lookup"><span data-stu-id="06c64-205">After making this change, add the CompareValidator, setting its `ControlToValidate` property to `EditUnitPrice`, its `ErrorMessage` property to "The price must be greater than or equal to zero and cannot include the currency symbol", and its `Text` property to "\*".</span></span>

<span data-ttu-id="06c64-206">Označuje, zda `UnitPrice` hodnota musí být větší než nebo rovna 0, nastavte CompareValidator [operátor vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) k `GreaterThanEqual`, jeho [ValueToCompare vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) "0" a jeho [ Type – vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) k `Currency`.</span><span class="sxs-lookup"><span data-stu-id="06c64-206">To indicate that the `UnitPrice` value must be greater than or equal to 0, set the CompareValidator's [Operator property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) to `GreaterThanEqual`, its [ValueToCompare property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) to "0", and its [Type property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) to `Currency`.</span></span> <span data-ttu-id="06c64-207">Následující deklarativní syntaxe ukazuje `UnitPrice` na TemplateField `EditItemTemplate` po provedly tyto změny:</span><span class="sxs-lookup"><span data-stu-id="06c64-207">The following declarative syntax shows the `UnitPrice` TemplateField's `EditItemTemplate` after these changes have been made:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample3.aspx)]

<span data-ttu-id="06c64-208">Po provedení těchto změn, otevřete stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="06c64-208">After making these changes, open the page in a browser.</span></span> <span data-ttu-id="06c64-209">Pokud se pokusíte vynechat název nebo zadejte hodnotu ceny neplatný při úpravě produktu, se zobrazí vedle textového pole hvězdičku.</span><span class="sxs-lookup"><span data-stu-id="06c64-209">If you attempt to omit the name or enter an invalid price value when editing a product, an asterisk appears next to the textbox.</span></span> <span data-ttu-id="06c64-210">Jak ukazuje obrázek 8, cena hodnotu, která zahrnuje symbol měny, jako je například 19,95 je považovány za neplatné.</span><span class="sxs-lookup"><span data-stu-id="06c64-210">As Figure 8 shows, a price value that includes the currency symbol such as $19.95 is considered invalid.</span></span> <span data-ttu-id="06c64-211">CompareValidator `Currency` `Type` umožňuje oddělovačů číslice (například čárky a tečky, v závislosti na nastavení jazykové verze) a začátku plus nebo minus, ale nemá *není* povolit symbolu měny.</span><span class="sxs-lookup"><span data-stu-id="06c64-211">The CompareValidator's `Currency` `Type` allows for digit separators (such as commas or periods, depending on the culture settings) and a leading plus or minus sign, but does *not* permit a currency symbol.</span></span> <span data-ttu-id="06c64-212">Toto chování může perplex uživatelů, jak rozhraní úpravy aktuálně vykreslí `UnitPrice` formátu měny.</span><span class="sxs-lookup"><span data-stu-id="06c64-212">This behavior may perplex users as the editing interface currently renders the `UnitPrice` using the currency format.</span></span>

> [!NOTE]
> <span data-ttu-id="06c64-213">Odvolat, že v *události spojené s vložení, aktualizace a odstranění* kurzu jsme nastavit BoundField `DataFormatString` vlastnost `{0:c}` k formátování jako měny.</span><span class="sxs-lookup"><span data-stu-id="06c64-213">Recall that in the *Events Associated with Inserting, Updating, and Deleting* tutorial we set the BoundField's `DataFormatString` property to `{0:c}` in order to format it as a currency.</span></span> <span data-ttu-id="06c64-214">Kromě toho jsme nastavit `ApplyFormatInEditMode` způsobuje GridView je rozhraní pro úpravy vlastnost na hodnotu true, `UnitPrice` jako měny.</span><span class="sxs-lookup"><span data-stu-id="06c64-214">Furthermore, we set the `ApplyFormatInEditMode` property to true, causing the GridView's editing interface to format the `UnitPrice` as a currency.</span></span> <span data-ttu-id="06c64-215">Při převodu BoundField TemplateField, Visual Studio uvedené tato nastavení a formátu textového pole `Text` vlastnost jako měny pomocí syntaxe datové vazby `<%# Bind("UnitPrice", "{0:c}") %>`.</span><span class="sxs-lookup"><span data-stu-id="06c64-215">When converting the BoundField into a TemplateField, Visual Studio noted these settings and formatted the TextBox's `Text` property as a currency using the databinding syntax `<%# Bind("UnitPrice", "{0:c}") %>`.</span></span>


<span data-ttu-id="06c64-216">[![U textových polí s neplatný vstup se zobrazuje hvězdička](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image23.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="06c64-216">[![An Asterisk Appears Next to the Textboxes with Invalid Input](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image23.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image22.png)</span></span>

<span data-ttu-id="06c64-217">**Obrázek 8**: hvězdičky se zobrazí další textová pole s neplatný vstup ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="06c64-217">**Figure 8**: An Asterisk Appears Next to the Textboxes with Invalid Input ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image24.png))</span></span>


<span data-ttu-id="06c64-218">Při ověření funguje jako-je, že uživatel musí ručně odebrat symbolu měny při úpravě záznam, který není platný.</span><span class="sxs-lookup"><span data-stu-id="06c64-218">While the validation works as-is, the user has to manually remove the currency symbol when editing a record, which is not acceptable.</span></span> <span data-ttu-id="06c64-219">Chcete-li to opravit, máme tři možnosti:</span><span class="sxs-lookup"><span data-stu-id="06c64-219">To remedy this, we have three options:</span></span>

1. <span data-ttu-id="06c64-220">Konfigurace `EditItemTemplate` tak, aby `UnitPrice` hodnota není formátu měny.</span><span class="sxs-lookup"><span data-stu-id="06c64-220">Configure the `EditItemTemplate` so that the `UnitPrice` value is not formatted as a currency.</span></span>
2. <span data-ttu-id="06c64-221">Povolit uživatele k zadání symbolu měny odebráním CompareValidator a nahraďte ho RegularExpressionValidator, správně zjišťuje přítomnost hodnotu správně formátovaný měny.</span><span class="sxs-lookup"><span data-stu-id="06c64-221">Allow the user to enter a currency symbol by removing the CompareValidator and replacing it with a RegularExpressionValidator that properly checks for a properly formatted currency value.</span></span> <span data-ttu-id="06c64-222">Problémem je, že regulární výraz k ověření hodnotu měny není velmi a by vyžadovaly psaní kódu, pokud jsme chtěli začlenit nastavení jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="06c64-222">The problem here is that the regular expression to validate a currency value is not pretty and would require writing code if we wanted to incorporate culture settings.</span></span>
3. <span data-ttu-id="06c64-223">Úplně odebrat ovládací prvek ověřovací a spoléhá na logiku ověřování na straně serveru v prvku GridView `RowUpdating` obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="06c64-223">Remove the validation control altogether and rely on server-side validation logic in the GridView's `RowUpdating` event handler.</span></span>

<span data-ttu-id="06c64-224">Vraťme se s možností #1 pro toto cvičení.</span><span class="sxs-lookup"><span data-stu-id="06c64-224">Let's go with option #1 for this exercise.</span></span> <span data-ttu-id="06c64-225">Aktuálně `UnitPrice` je ve formátu měny z důvodu ve výrazu datové vazby v textové pole `EditItemTemplate`: `<%# Bind("UnitPrice", "{0:c}") %>`.</span><span class="sxs-lookup"><span data-stu-id="06c64-225">Currently the `UnitPrice` is formatted as a currency due to the databinding expression for the TextBox in the `EditItemTemplate`: `<%# Bind("UnitPrice", "{0:c}") %>`.</span></span> <span data-ttu-id="06c64-226">Změňte příkaz vazby a `Bind("UnitPrice", "{0:n2}")`, který zformátuje výsledek jako číslo s dvě číslice přesnosti.</span><span class="sxs-lookup"><span data-stu-id="06c64-226">Change the Bind statement to `Bind("UnitPrice", "{0:n2}")`, which formats the result as a number with two digits of precision.</span></span> <span data-ttu-id="06c64-227">To lze provést přímo pomocí deklarativní syntaxe, nebo kliknutím na odkaz Upravit datové vazby z `EditUnitPrice` textového pole v `UnitPrice` na TemplateField `EditItemTemplate` (viz následující obrázky 9 a 10).</span><span class="sxs-lookup"><span data-stu-id="06c64-227">This can be done directly through the declarative syntax or by clicking on the Edit DataBindings link from the `EditUnitPrice` TextBox in the `UnitPrice` TemplateField's `EditItemTemplate` (see Figures 9 and 10).</span></span>


<span data-ttu-id="06c64-228">[![Klikněte na odkaz Upravit datové vazby textového pole](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image26.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="06c64-228">[![Click on the TextBox's Edit DataBindings link](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image26.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image25.png)</span></span>

<span data-ttu-id="06c64-229">**Obrázek 9**: klikněte na odkaz Upravit datové vazby textového pole ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="06c64-229">**Figure 9**: Click on the TextBox's Edit DataBindings link ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image27.png))</span></span>


<span data-ttu-id="06c64-230">[![V příkazu vazby zadejte specifikace formátu](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image29.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="06c64-230">[![Specify the Format Specifier in the Bind Statement](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image29.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image28.png)</span></span>

<span data-ttu-id="06c64-231">**Obrázek 10**: Zadejte specifikace formátu v `Bind` – příkaz ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="06c64-231">**Figure 10**: Specify the Format Specifier in the `Bind` Statement ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image30.png))</span></span>


<span data-ttu-id="06c64-232">Díky této změně formátovaný cenu v úpravy rozhraní zahrnuje čárky jako oddělovač skupin a jako oddělovač desetinných míst, ale ponechá vypnout symbolu měny.</span><span class="sxs-lookup"><span data-stu-id="06c64-232">With this change, the formatted price in the editing interface includes commas as the group separator and a period as the decimal separator, but leaves off the currency symbol.</span></span>

> [!NOTE]
> <span data-ttu-id="06c64-233">`UnitPrice` `EditItemTemplate` Neobsahuje RequiredFieldValidator, což zpětné volání pro ověřte a logice aktualizací a zahájení.</span><span class="sxs-lookup"><span data-stu-id="06c64-233">The `UnitPrice` `EditItemTemplate` doesn't include a RequiredFieldValidator, allowing the postback to ensue and the updating logic to commence.</span></span> <span data-ttu-id="06c64-234">Ale `RowUpdating` obslužné rutiny události zkopírovali z *zkoumání události spojené s vložení, aktualizace a odstranění* kurz zahrnuje kontrolu programový, které zajistí, že `UnitPrice` je k dispozici.</span><span class="sxs-lookup"><span data-stu-id="06c64-234">However, the `RowUpdating` event handler copied over from the *Examining the Events Associated with Inserting, Updating, and Deleting* tutorial includes a programmatic check that ensures that the `UnitPrice` is provided.</span></span> <span data-ttu-id="06c64-235">Nebojte se odebrat tuto logiku, nechte ji jako-, nebo přidejte RequiredFieldValidator k `UnitPrice` `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="06c64-235">Feel free to remove this logic, leave it in as-is, or add a RequiredFieldValidator to the `UnitPrice` `EditItemTemplate`.</span></span>


## <a name="step-4-summarizing-data-entry-problems"></a><span data-ttu-id="06c64-236">Krok 4: Shrnutí problémů položka dat</span><span class="sxs-lookup"><span data-stu-id="06c64-236">Step 4: Summarizing Data Entry Problems</span></span>

<span data-ttu-id="06c64-237">Kromě pěti ověřovací ovládací prvky, technologie ASP.NET obsahuje [ovládací prvek ValidationSummary](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), které zobrazuje `ErrorMessage` s kontrolní mechanismy ověřování, které zjištěna neplatná data.</span><span class="sxs-lookup"><span data-stu-id="06c64-237">In addition to the five validation controls, ASP.NET includes the [ValidationSummary control](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), which displays the `ErrorMessage` s of those validation controls that detected invalid data.</span></span> <span data-ttu-id="06c64-238">Tato souhrnná data mohou být zobrazeny jako text na webové stránce nebo prostřednictvím messagebox modální, na straně klienta.</span><span class="sxs-lookup"><span data-stu-id="06c64-238">This summary data can be displayed as text on the web page or through a modal, client-side messagebox.</span></span> <span data-ttu-id="06c64-239">Umožňuje zvýšit tento kurz a zahrnují klienta messagebox shrnutí problémy ověření.</span><span class="sxs-lookup"><span data-stu-id="06c64-239">Let's enhance this tutorial to include a client-side messagebox summarizing any validation problems.</span></span>

<span data-ttu-id="06c64-240">K tomu, přetáhněte ovládací prvek ValidationSummary z panelu nástrojů na návrháře.</span><span class="sxs-lookup"><span data-stu-id="06c64-240">To accomplish this, drag a ValidationSummary control from the Toolbox onto the Designer.</span></span> <span data-ttu-id="06c64-241">Umístění ovládacího prvku ověření není důležité skutečnosti, vzhledem k tomu, že vytvoříme a nakonfigurujte ho na jenom zobrazit souhrn jako messagebox.</span><span class="sxs-lookup"><span data-stu-id="06c64-241">The location of the Validation control doesn't really matter, since we're going to configure it to only display the summary as a messagebox.</span></span> <span data-ttu-id="06c64-242">Po přidání ovládacího prvku, nastavte jeho [ShowSummary vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) k `false` a jeho [ShowMessageBox vlastnost](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) k `true`.</span><span class="sxs-lookup"><span data-stu-id="06c64-242">After adding the control, set its [ShowSummary property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) to `false` and its [ShowMessageBox property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) to `true`.</span></span> <span data-ttu-id="06c64-243">Pomocí tohoto přidání všechny chyby ověřování, jsou shrnuté v messagebox na straně klienta.</span><span class="sxs-lookup"><span data-stu-id="06c64-243">With this addition, any validation errors are summarized in a client-side messagebox.</span></span>


<span data-ttu-id="06c64-244">[![Chyby ověření jsou shrnuty v Messagebox na straně klienta](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image32.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="06c64-244">[![The Validation Errors are Summarized in a Client-Side Messagebox](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image32.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image31.png)</span></span>

<span data-ttu-id="06c64-245">**Obrázek 11**: chyby ověření jsou shrnuty v Messagebox na straně klienta ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="06c64-245">**Figure 11**: The Validation Errors are Summarized in a Client-Side Messagebox ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image33.png))</span></span>


## <a name="step-5-adding-the-validation-controls-to-the-detailsviewsinsertitemtemplate"></a><span data-ttu-id="06c64-246">Krok 5: Přidání ovládacích prvků ověření do ovládacího prvku DetailsView`InsertItemTemplate`</span><span class="sxs-lookup"><span data-stu-id="06c64-246">Step 5: Adding the Validation Controls to the DetailsView's`InsertItemTemplate`</span></span>

<span data-ttu-id="06c64-247">V tomto kurzu jen zbývá k přidávání ovládacích prvků ověření na rozhraní vložení prvku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="06c64-247">All that remains for this tutorial is to add the validation controls to the DetailsView's inserting interface.</span></span> <span data-ttu-id="06c64-248">Proces přidávání ovládacích prvků pro ověřování DetailsView šablon je stejná jako v kroku 3; proto jsme budete breeze prostřednictvím úlohy v tomto kroku.</span><span class="sxs-lookup"><span data-stu-id="06c64-248">The process of adding validation controls to the DetailsView's templates is identical to that examined in Step 3; therefore, we'll breeze through the task in this step.</span></span> <span data-ttu-id="06c64-249">Jako jsme to udělali s prvku GridView `EditItemTemplate` s, I doporučujeme, abyste přejmenovat `ID` s textových polí z nondescript `TextBox1` a `TextBox2` k `InsertProductName` a `InsertUnitPrice`.</span><span class="sxs-lookup"><span data-stu-id="06c64-249">As we did with the GridView's `EditItemTemplate` s, I encourage you to rename the `ID` s of the TextBoxes from the nondescript `TextBox1` and `TextBox2` to `InsertProductName` and `InsertUnitPrice`.</span></span>

<span data-ttu-id="06c64-250">Přidat RequiredFieldValidator k `ProductName` `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="06c64-250">Add a RequiredFieldValidator to the `ProductName` `InsertItemTemplate`.</span></span> <span data-ttu-id="06c64-251">Nastavte `ControlToValidate` k `ID` textového pole v šabloně, jeho `Text` vlastnost "\*" a jeho `ErrorMessage` vlastnost "Je nutné zadat název produktu".</span><span class="sxs-lookup"><span data-stu-id="06c64-251">Set the `ControlToValidate` to the `ID` of the TextBox in the template, its `Text` property to "\*" and its `ErrorMessage` property to "You must provide the product's name".</span></span>

<span data-ttu-id="06c64-252">Vzhledem k tomu, `UnitPrice` je potřeba pro tuto stránku při přidávání nového záznamu, přidejte RequiredFieldValidator k `UnitPrice` `InsertItemTemplate`, nastavení jeho `ControlToValidate`, `Text`, a `ErrorMessage` vlastnosti správně.</span><span class="sxs-lookup"><span data-stu-id="06c64-252">Since the `UnitPrice` is required for this page when adding a new record, add a RequiredFieldValidator to the `UnitPrice` `InsertItemTemplate`, setting its `ControlToValidate`, `Text`, and `ErrorMessage` properties appropriately.</span></span> <span data-ttu-id="06c64-253">Nakonec přidejte CompareValidator k `UnitPrice` `InsertItemTemplate` taky konfigurace jeho `ControlToValidate`, `Text`, `ErrorMessage`, `Type`, `Operator`, a `ValueToCompare` vlastnosti stejně, jako jsme to udělali s `UnitPrice`na CompareValidator v prvku GridView `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="06c64-253">Finally, add a CompareValidator to the `UnitPrice` `InsertItemTemplate` as well, configuring its `ControlToValidate`, `Text`, `ErrorMessage`, `Type`, `Operator`, and `ValueToCompare` properties just like we did with the `UnitPrice`'s CompareValidator in the GridView's `EditItemTemplate`.</span></span>

<span data-ttu-id="06c64-254">Po přidání tyto ovládací prvky pro ověřování, nelze přidat do systému, pokud není zadán její název, nebo pokud svou cenu na záporné číslo nového produktu nebo nelegálního formátu.</span><span class="sxs-lookup"><span data-stu-id="06c64-254">After adding these validation controls, a new product cannot be added to the system if its name is not supplied or if its price is a negative number or illegally formatted.</span></span>


<span data-ttu-id="06c64-255">[![Logiku ověření byl přidán do rozhraní vložení prvku DetailsView](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image35.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="06c64-255">[![Validation Logic has been Added to the DetailsView's Inserting Interface](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image35.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image34.png)</span></span>

<span data-ttu-id="06c64-256">**Obrázek 12**: logiku ověření byl přidán do rozhraní vložení prvku DetailsView ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="06c64-256">**Figure 12**: Validation Logic has been Added to the DetailsView's Inserting Interface ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image36.png))</span></span>


## <a name="step-6-partitioning-the-validation-controls-into-validation-groups"></a><span data-ttu-id="06c64-257">Krok 6: Ověření ovládacích prvků do skupin ověření rozdělení do oddílů</span><span class="sxs-lookup"><span data-stu-id="06c64-257">Step 6: Partitioning the Validation Controls Into Validation Groups</span></span>

<span data-ttu-id="06c64-258">Naši stránku se skládá ze dvou logicky různorodých sad ovládacích prvků ověřování: ty, které odpovídají GridView je úprava rozhraní a ty, které odpovídají DetailsView je vložení rozhraní.</span><span class="sxs-lookup"><span data-stu-id="06c64-258">Our page consists of two logically disparate sets of validation controls: those that correspond to the GridView's editing interface and those that correspond to the DetailsView's inserting interface.</span></span> <span data-ttu-id="06c64-259">Ve výchozím nastavení, když dojde k zpětné volání *všechny* se kontroluje ověřovací ovládací prvky na stránce.</span><span class="sxs-lookup"><span data-stu-id="06c64-259">By default, when a postback occurs *all* validation controls on the page are checked.</span></span> <span data-ttu-id="06c64-260">Ale při úpravě záznam Neradi bychom prvku DetailsView rozhraní vkládání ovládacích prvků ověřování k ověření.</span><span class="sxs-lookup"><span data-stu-id="06c64-260">However, when editing a record we don't want the DetailsView's inserting interface's validation controls to validate.</span></span> <span data-ttu-id="06c64-261">Obrázek 13 znázorňuje naše aktuální dilematem, pokud uživatel upravuje produkt perfektně platné hodnoty, kliknutím na aktualizace způsobí chybu ověření, protože hodnoty název a cena v vkládání rozhraní jsou prázdné.</span><span class="sxs-lookup"><span data-stu-id="06c64-261">Figure 13 illustrates our current dilemma when a user is editing a product with perfectly legal values, clicking Update causes a validation error because the name and price values in the inserting interface are blank.</span></span>


<span data-ttu-id="06c64-262">[![Aktualizace produktu vede vkládání rozhraní ověřovací ovládací prvky pro ještě efektivněji](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image38.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="06c64-262">[![Updating a Product Causes the Inserting Interface's Validation Controls to Fire](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image38.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image37.png)</span></span>

<span data-ttu-id="06c64-263">**Obrázek 13**: aktualizace produktu vede ověření rozhraní vkládání ovládacích prvků pro ještě efektivněji ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="06c64-263">**Figure 13**: Updating a Product Causes the Inserting Interface's Validation Controls to Fire ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image39.png))</span></span>


<span data-ttu-id="06c64-264">Ověřovacích ovládacích prvků v technologii ASP.NET 2.0 lze rozdělit do skupin ověření prostřednictvím jejich `ValidationGroup` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="06c64-264">The validation controls in ASP.NET 2.0 can be partitioned into validation groups through their `ValidationGroup` property.</span></span> <span data-ttu-id="06c64-265">Chcete-li přidružit sadu ovládacích prvků ověření ve skupině, jednoduše nastavte jejich `ValidationGroup` vlastnost, která má stejnou hodnotu.</span><span class="sxs-lookup"><span data-stu-id="06c64-265">To associate a set of validation controls in a group, simply set their `ValidationGroup` property to the same value.</span></span> <span data-ttu-id="06c64-266">V našem kurzu nastavit `ValidationGroup` vlastnosti ovládacích prvků ověřování v prvku GridView TemplateFields k `EditValidationControls` a `ValidationGroup` vlastnosti prvku DetailsView TemplateFields k `InsertValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="06c64-266">For our tutorial, set the `ValidationGroup` properties of the validation controls in the GridView's TemplateFields to `EditValidationControls` and the `ValidationGroup` properties of the DetailsView's TemplateFields to `InsertValidationControls`.</span></span> <span data-ttu-id="06c64-267">Tyto změny lze provést přímo v deklarativní nebo prostřednictvím okna Vlastnosti při použití nástroje Designer upravit šablonu rozhraní.</span><span class="sxs-lookup"><span data-stu-id="06c64-267">These changes can be done directly in the declarative markup or through the Properties window when using the Designer's edit template interface.</span></span>

<span data-ttu-id="06c64-268">Kromě ověření ovládacích prvků, tlačítka a tlačítko Související ovládací prvky v technologii ASP.NET 2.0 také zahrnovat `ValidationGroup` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="06c64-268">In addition to the validation controls, the Button and Button-related controls in ASP.NET 2.0 also include a `ValidationGroup` property.</span></span> <span data-ttu-id="06c64-269">Kontroluje validátory skupinu ověření platnosti pouze, pokud je zpětné volání vyvolané pomocí tlačítka, která má stejný `ValidationGroup` nastavení vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="06c64-269">A validation group's validators are checked for validity only when a postback is induced by a Button that has the same `ValidationGroup` property setting.</span></span> <span data-ttu-id="06c64-270">Například v pořadí pro tlačítko vložení prvku DetailsView k aktivaci `InsertValidationControls` ověření skupiny je potřeba nastavit CommandField `ValidationGroup` vlastnost `InsertValidationControls` (viz obrázek 14).</span><span class="sxs-lookup"><span data-stu-id="06c64-270">For example, in order for the DetailsView's Insert button to trigger the `InsertValidationControls` validation group we need to set the CommandField's `ValidationGroup` property to `InsertValidationControls` (see Figure 14).</span></span> <span data-ttu-id="06c64-271">Kromě toho nastavit prvku GridView na CommandField `ValidationGroup` vlastnost `EditValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="06c64-271">Additionally, set the GridView's CommandField's `ValidationGroup` property to `EditValidationControls`.</span></span>


<span data-ttu-id="06c64-272">[![Sada DetailsView je vlastnost na CommandField ValidationGroup InsertValidationControls](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image41.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="06c64-272">[![Set the DetailsView's CommandField's ValidationGroup property to InsertValidationControls](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image41.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image40.png)</span></span>

<span data-ttu-id="06c64-273">**Obrázek 14**: nastavte DetailsView CommandField na `ValidationGroup` vlastnost `InsertValidationControls` ([Kliknutím zobrazit obrázek v plné velikosti](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="06c64-273">**Figure 14**: Set the DetailsView's CommandField's `ValidationGroup` property to `InsertValidationControls` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image42.png))</span></span>


<span data-ttu-id="06c64-274">Po provedení těchto změn DetailsView a GridView TemplateFields a CommandFields by měl vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="06c64-274">After these changes, the DetailsView and GridView's TemplateFields and CommandFields should look similar to the following:</span></span>

<span data-ttu-id="06c64-275">TemplateFields a CommandField prvku DetailsView</span><span class="sxs-lookup"><span data-stu-id="06c64-275">The DetailsView's TemplateFields and CommandField</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample4.aspx)]

<span data-ttu-id="06c64-276">CommandField a TemplateFields GridView.</span><span class="sxs-lookup"><span data-stu-id="06c64-276">The GridView's CommandField and TemplateFields</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample5.aspx)]

<span data-ttu-id="06c64-277">Ovládací prvky specifické pro úpravy ověření v tomto okamžiku protipožární pouze když rutina GridView aktualizace po kliknutí na tlačítko a ještě efektivněji ovládací prvky specifické pro vložení ověření jenom v případě, že DetailsView vložení po kliknutí na tlačítko, vyřešení tohoto problému zvýraznit pomocí obrázek 13.</span><span class="sxs-lookup"><span data-stu-id="06c64-277">At this point the edit-specific validation controls fire only when the GridView's Update button is clicked and the insert-specific validation controls fire only when the DetailsView's Insert button is clicked, resolving the problem highlighted by Figure 13.</span></span> <span data-ttu-id="06c64-278">Ale v této změně naše ovládací prvek ValidationSummary už nebude zobrazovat při zadávání neplatná data.</span><span class="sxs-lookup"><span data-stu-id="06c64-278">However, with this change our ValidationSummary control no longer displays when entering invalid data.</span></span> <span data-ttu-id="06c64-279">Také obsahuje prvek ValidationSummary `ValidationGroup` vlastnost a pouze zobrazuje souhrnné informace o kontrolní mechanismy ověřování ve skupině jeho ověření.</span><span class="sxs-lookup"><span data-stu-id="06c64-279">The ValidationSummary control also contains a `ValidationGroup` property and only shows summary information for those validation controls in its validation group.</span></span> <span data-ttu-id="06c64-280">Proto je potřeba mít dva ověřovací ovládací prvky na této stránce, jeden pro `InsertValidationControls` skupiny ověření a jeden pro `EditValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="06c64-280">Therefore, we need to have two validation controls in this page, one for the `InsertValidationControls` validation group and one for `EditValidationControls`.</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample6.aspx)]

<span data-ttu-id="06c64-281">Pomocí tohoto přidání našem kurzu je dokončena.</span><span class="sxs-lookup"><span data-stu-id="06c64-281">With this addition our tutorial is complete!</span></span>

## <a name="summary"></a><span data-ttu-id="06c64-282">Souhrn</span><span class="sxs-lookup"><span data-stu-id="06c64-282">Summary</span></span>

<span data-ttu-id="06c64-283">Při BoundFields můžete zadat, jak rozhraní vkládání a úpravy, není přizpůsobitelný rozhraní.</span><span class="sxs-lookup"><span data-stu-id="06c64-283">While BoundFields can provide both an inserting and editing interface, the interface is not customizable.</span></span> <span data-ttu-id="06c64-284">Běžně chceme Přidání ověření ovládacích prvků pro úpravy a vkládání rozhraní zajistit, že uživatel zadá povinné vstupní ve formátu právní.</span><span class="sxs-lookup"><span data-stu-id="06c64-284">Commonly, we want to add validation controls to the editing and inserting interface to ensure that the user enters required inputs in a legal format.</span></span> <span data-ttu-id="06c64-285">K tomu nemůžeme převést BoundFields TemplateFields a přidání ovládacích prvků ověření do příslušné šablony.</span><span class="sxs-lookup"><span data-stu-id="06c64-285">To accomplish this we must convert the BoundFields into TemplateFields and add the validation controls to the appropriate template(s).</span></span> <span data-ttu-id="06c64-286">V tomto kurzu jsme příklad z rozšířené *zkoumání události spojené s vložení, aktualizace a odstranění* kurzu přidání ovládacích prvků ověření do obou DetailsView je vkládání rozhraní a GridView. úpravy rozhraní.</span><span class="sxs-lookup"><span data-stu-id="06c64-286">In this tutorial we extended the example from the *Examining the Events Associated with Inserting, Updating, and Deleting* tutorial, adding validation controls to both the DetailsView's inserting interface and the GridView's editing interface.</span></span> <span data-ttu-id="06c64-287">Kromě toho jsme viděli, jak zobrazit informace o souhrnu ověření pomocí ovládacího prvku ValidationSummary a jak oddílu ověřovací ovládací prvky na stránce do skupin odlišné ověření.</span><span class="sxs-lookup"><span data-stu-id="06c64-287">Moreover, we saw how to display summary validation information using the ValidationSummary control and how to partition the validation controls on the page into distinct validation groups.</span></span>

<span data-ttu-id="06c64-288">Jak jsme viděli v tomto kurzu, povolí TemplateFields rozhraní úpravy a vkládání do být rozšíření, zahrnující ovládací prvky pro ověřování.</span><span class="sxs-lookup"><span data-stu-id="06c64-288">As we saw in this tutorial, TemplateFields allow the editing and inserting interfaces to be augmented to include validation controls.</span></span> <span data-ttu-id="06c64-289">TemplateFields lze také rozšířit zahrnout další vstupní ovládací prvky webového, povolení textového pole Nahradit za vhodnější ovládací prvek webu.</span><span class="sxs-lookup"><span data-stu-id="06c64-289">TemplateFields can also be extended to include additional input Web controls, enabling the TextBox to be replaced by a more suitable Web control.</span></span> <span data-ttu-id="06c64-290">V našem kurzu další ukážeme, jak nahradit ovládacího prvku textového pole s ovládací prvek rozevírací seznam vázané na data, který je ideální pro úpravy cizí klíč (například `CategoryID` nebo `SupplierID` v `Products` tabulky).</span><span class="sxs-lookup"><span data-stu-id="06c64-290">In our next tutorial we'll see how to replace the TextBox control with a data-bound DropDownList control, which is ideal when editing a foreign key (such as `CategoryID` or `SupplierID` in the `Products` table).</span></span>

<span data-ttu-id="06c64-291">Radostí programování!</span><span class="sxs-lookup"><span data-stu-id="06c64-291">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="06c64-292">O autorovi</span><span class="sxs-lookup"><span data-stu-id="06c64-292">About the Author</span></span>

<span data-ttu-id="06c64-293">[Scott Meisnerová](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor sedm ASP/ASP.NET knih a zakladatele z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje s technologií Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="06c64-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="06c64-294">Scott funguje jako nezávislé poradce, trainer a zapisovače.</span><span class="sxs-lookup"><span data-stu-id="06c64-294">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="06c64-295">Jeho nejnovější seznam k [ *Edice nakladatelství Sams naučit sami technologii ASP.NET 2.0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="06c64-295">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="06c64-296">Dosažitelný v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) nebo prostřednictvím svého blogu, který najdete na [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="06c64-296">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="06c64-297">Zvláštní poděkování</span><span class="sxs-lookup"><span data-stu-id="06c64-297">Special Thanks To</span></span>

<span data-ttu-id="06c64-298">Tento kurz řady byla zkontrolovány uživatelem mnoho užitečné kontrolorů.</span><span class="sxs-lookup"><span data-stu-id="06c64-298">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="06c64-299">Vést kontroloři v tomto kurzu se Liz Shulok a Zack Petr.</span><span class="sxs-lookup"><span data-stu-id="06c64-299">Lead reviewers for this tutorial were Liz Shulok and Zack Jones.</span></span> <span data-ttu-id="06c64-300">Kontrola Moje nadcházející články MSDN máte zájem?</span><span class="sxs-lookup"><span data-stu-id="06c64-300">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="06c64-301">Pokud ano, vyřaďte mi řádek v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="06c64-301">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="06c64-302">[Předchozí](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md)
> [další](customizing-the-data-modification-interface-cs.md)</span><span class="sxs-lookup"><span data-stu-id="06c64-302">[Previous](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md)
[Next](customizing-the-data-modification-interface-cs.md)</span></span>
