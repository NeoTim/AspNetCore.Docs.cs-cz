---
uid: web-forms/overview/older-versions-security/introduction/an-overview-of-forms-authentication-cs
title: "Přehled ověřování pomocí formulářů (C#) | Microsoft Docs"
author: rick-anderson
description: "Vytváření vlastních tras"
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/14/2008
ms.topic: article
ms.assetid: de2d65b9-aadc-42ba-abe1-4e87e66521a0
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-security/introduction/an-overview-of-forms-authentication-cs
msc.type: authoredcontent
ms.openlocfilehash: 8d6e6e7dd3ee11876b5237fc69f3b5b2818a88de
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/10/2017
---
<a name="an-overview-of-forms-authentication-c"></a><span data-ttu-id="35d38-103">Přehled ověřování pomocí formulářů (C#)</span><span class="sxs-lookup"><span data-stu-id="35d38-103">An Overview of Forms Authentication (C#)</span></span>
====================
<span data-ttu-id="35d38-104">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="35d38-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="35d38-105">[Stáhněte si kód](http://download.microsoft.com/download/2/F/7/2F705A34-F9DE-4112-BBDE-60098089645E/ASPNET_Security_Tutorial_02_CS.zip) nebo [stáhnout PDF](http://download.microsoft.com/download/2/F/7/2F705A34-F9DE-4112-BBDE-60098089645E/aspnet_tutorial02_FormsAuth_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="35d38-105">[Download Code](http://download.microsoft.com/download/2/F/7/2F705A34-F9DE-4112-BBDE-60098089645E/ASPNET_Security_Tutorial_02_CS.zip) or [Download PDF](http://download.microsoft.com/download/2/F/7/2F705A34-F9DE-4112-BBDE-60098089645E/aspnet_tutorial02_FormsAuth_cs.pdf)</span></span>

> <span data-ttu-id="35d38-106">V tomto kurzu jsme se změní z pouhé diskusi k implementaci; Konkrétně se podíváme na implementace ověřování pomocí formulářů.</span><span class="sxs-lookup"><span data-stu-id="35d38-106">In this tutorial we will turn from mere discussion to implementation; in particular, we will look at implementing forms authentication.</span></span> <span data-ttu-id="35d38-107">Webové aplikace začneme vytvořením v tomto kurzu se bude nadále postavena v následujících kurzech, jak jsme přesunout z jednoduchého ověřování pomocí formulářů, členství a rolí.</span><span class="sxs-lookup"><span data-stu-id="35d38-107">The web application we start constructing in this tutorial will continue to be built upon in subsequent tutorials, as we move from simple forms authentication to membership and roles.</span></span>
> 
> <span data-ttu-id="35d38-108">Toto video pro další informace najdete v tomto tématu: [pomocí základní ověřování pomocí formulářů technologie ASP.NET](# "using-basic-forms-authentication-in-aspnet").</span><span class="sxs-lookup"><span data-stu-id="35d38-108">Please see this video for more information on this topic: [Using Basic Forms Authentication in ASP.NET](# "using-basic-forms-authentication-in-aspnet").</span></span>


## <a name="introduction"></a><span data-ttu-id="35d38-109">Úvod</span><span class="sxs-lookup"><span data-stu-id="35d38-109">Introduction</span></span>

<span data-ttu-id="35d38-110">V [předchozí kurzu](security-basics-and-asp-net-support-cs.md) jsme probrali různých možností účet ověřování, autorizaci a uživatel technologii ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="35d38-110">In the [preceding tutorial](security-basics-and-asp-net-support-cs.md) we discussed the various authentication, authorization, and user account options provided by ASP.NET.</span></span> <span data-ttu-id="35d38-111">V tomto kurzu jsme se změní z pouhé diskusi k implementaci; Konkrétně se podíváme na implementace ověřování pomocí formulářů.</span><span class="sxs-lookup"><span data-stu-id="35d38-111">In this tutorial we will turn from mere discussion to implementation; in particular, we will look at implementing forms authentication.</span></span> <span data-ttu-id="35d38-112">Webové aplikace začneme vytvořením v tomto kurzu se bude nadále postavena v následujících kurzech, jak jsme přesunout z jednoduchého ověřování pomocí formulářů, členství a rolí.</span><span class="sxs-lookup"><span data-stu-id="35d38-112">The web application we start constructing in this tutorial will continue to be built upon in subsequent tutorials, as we move from simple forms authentication to membership and roles.</span></span>

<span data-ttu-id="35d38-113">V tomto kurzu začíná hlubší pohled na pracovním ověřování formulářů tématu, které jsme dotýkal při v předchozí kurzu.</span><span class="sxs-lookup"><span data-stu-id="35d38-113">This tutorial begins with an in-depth look at the forms authentication workflow, a topic we touched upon in the previous tutorial.</span></span> <span data-ttu-id="35d38-114">Následující, vytvoříme webu ASP.NET, pomocí kterého je možné ukázku koncepty ověřování pomocí formulářů.</span><span class="sxs-lookup"><span data-stu-id="35d38-114">Following that, we will create an ASP.NET website through which to demo the concepts of forms authentication.</span></span> <span data-ttu-id="35d38-115">V dalším kroku jsme se konfigurace lokality k ověřování pomocí formulářů, vytvořit jednoduché přihlašovací stránku a zjistit, jak zjistit, v kódu, zda je uživatel ověřen, a pokud ano, uživatelské jméno se přihlášení.</span><span class="sxs-lookup"><span data-stu-id="35d38-115">Next, we will configure the site to use forms authentication, create a simple login page, and see how to determine, in code, whether a user is authenticated and, if so, the username they logged in with.</span></span>

<span data-ttu-id="35d38-116">Principy formulářů, pracovních postupů ověřování, povolení ve webové aplikaci a vytváření stránek přihlášení a odhlášení všechny důležité kroky při vytváření aplikace ASP.NET, která podporuje uživatelské účty a ověřuje uživatele pomocí webové stránky.</span><span class="sxs-lookup"><span data-stu-id="35d38-116">Understanding the forms authentication workflow, enabling it in a web application, and creating the login and logoff pages are all vital steps in building an ASP.NET application that supports user accounts and authenticates users through a web page.</span></span> <span data-ttu-id="35d38-117">Proto – a protože tyto kurzy stavět na jiné - I by doporučujeme, abyste absolvování tohoto kurzu plně před přejde k dalšímu i v případě, že jste již máte zkušenosti konfigurace ověřování formulářů v projektech posledních.</span><span class="sxs-lookup"><span data-stu-id="35d38-117">Because of this – and because these tutorials build upon one another - I would encourage you to work through this tutorial in full before moving on to the next one even if you already have had experience configuring forms authentication in past projects.</span></span>

## <a name="understanding-the-forms-authentication-workflow"></a><span data-ttu-id="35d38-118">Seznámení s pracovním postupem ověřování formulářů</span><span class="sxs-lookup"><span data-stu-id="35d38-118">Understanding the Forms Authentication Workflow</span></span>

<span data-ttu-id="35d38-119">Když modulem runtime ASP.NET zpracovává žádost o prostředek ASP.NET, například stránky ASP.NET nebo webové služby ASP.NET, vyvolá požadavek určitý počet událostí během životního cyklu.</span><span class="sxs-lookup"><span data-stu-id="35d38-119">When the ASP.NET runtime processes a request for an ASP.NET resource, such as an ASP.NET page or ASP.NET Web service, the request raises a number of events during its lifecycle.</span></span> <span data-ttu-id="35d38-120">Nejsou k dispozici události vyvolané na konci velmi začátku a na velmi požadavku, ty, které vyvolá, když požadavek při ověřování a autorizaci, událost vyvolána v případě neošetřené výjimky a tak dále.</span><span class="sxs-lookup"><span data-stu-id="35d38-120">There are events raised at the very beginning and very end of the request, ones raised when the request is being authenticated and authorized, an event raised in the case of an unhandled exception, and so forth.</span></span> <span data-ttu-id="35d38-121">Pokud chcete zobrazit úplný seznam událostí, naleznete [třídě HttpApplication objekt události](https://msdn.microsoft.com/en-us/library/system.web.httpapplication_events.aspx).</span><span class="sxs-lookup"><span data-stu-id="35d38-121">To see a complete listing of the events, refer to the [HttpApplication object's events](https://msdn.microsoft.com/en-us/library/system.web.httpapplication_events.aspx).</span></span>

<span data-ttu-id="35d38-122">*Vytváření modulů HTTP v* jsou spravované třídy, jejichž kód se spustí v reakci na určité události v průběhu životního cyklu požadavku.</span><span class="sxs-lookup"><span data-stu-id="35d38-122">*HTTP Modules* are managed classes whose code is executed in response to a particular event in the request lifecycle.</span></span> <span data-ttu-id="35d38-123">ASP.NET se dodává s počtem modulů HTTP, který provádění základních úloh na pozadí.</span><span class="sxs-lookup"><span data-stu-id="35d38-123">ASP.NET ships with a number of HTTP Modules that perform essential tasks behind the scenes.</span></span> <span data-ttu-id="35d38-124">Dva integrované moduly HTTP, které jsou obzvláště důležité pro tato diskuse se:</span><span class="sxs-lookup"><span data-stu-id="35d38-124">Two built-in HTTP Modules that are especially relevant to our discussion are:</span></span>

- <span data-ttu-id="35d38-125">**[`FormsAuthenticationModule`](https://msdn.microsoft.com/en-us/library/system.web.security.formsauthenticationmodule.aspx)**– ověřuje uživatele zkontrolováním lístek ověřování pomocí formulářů, který je obvykle součástí kolekce souborů cookie uživatele.</span><span class="sxs-lookup"><span data-stu-id="35d38-125">**[`FormsAuthenticationModule`](https://msdn.microsoft.com/en-us/library/system.web.security.formsauthenticationmodule.aspx)** – authenticates the user by inspecting the forms authentication ticket, which is typically included in the user's cookies collection.</span></span> <span data-ttu-id="35d38-126">Pokud je k dispozici žádné ověřovací lístek, je anonymní uživatel.</span><span class="sxs-lookup"><span data-stu-id="35d38-126">If no forms authentication ticket is present, the user is anonymous.</span></span>
- <span data-ttu-id="35d38-127">**[`UrlAuthorizationModule`](https://msdn.microsoft.com/en-us/library/system.web.security.urlauthorizationmodule.aspx)**– Určuje, zda je aktuální uživatel oprávnění pro přístup k požadované adresy URL.</span><span class="sxs-lookup"><span data-stu-id="35d38-127">**[`UrlAuthorizationModule`](https://msdn.microsoft.com/en-us/library/system.web.security.urlauthorizationmodule.aspx)** – determines whether or not the current user is authorized to access the requested URL.</span></span> <span data-ttu-id="35d38-128">Tento modul určuje oprávnění na základě konzultace ohledně autorizační pravidla, zadaný v konfiguračních souborech aplikace.</span><span class="sxs-lookup"><span data-stu-id="35d38-128">This module determines the authority by consulting the authorization rules specified in the application's configuration files.</span></span> <span data-ttu-id="35d38-129">Technologie ASP.NET obsahuje také [ `FileAuthorizationModule` ](https://msdn.microsoft.com/en-us/library/system.web.security.fileauthorizationmodule.aspx) který určuje autoritu podle konzultace ohledně požadované soubory seznamy ACL.</span><span class="sxs-lookup"><span data-stu-id="35d38-129">ASP.NET also includes the [`FileAuthorizationModule`](https://msdn.microsoft.com/en-us/library/system.web.security.fileauthorizationmodule.aspx) that determines authority by consulting the requested file(s) ACLs.</span></span>

<span data-ttu-id="35d38-130">`FormsAuthenticationModule` Pokus o ověření uživatelů před verzí `UrlAuthorizationModule` (a `FileAuthorizationModule`) provádění.</span><span class="sxs-lookup"><span data-stu-id="35d38-130">The `FormsAuthenticationModule` attempts to authenticate the user prior to the `UrlAuthorizationModule` (and `FileAuthorizationModule`) executing.</span></span> <span data-ttu-id="35d38-131">Pokud uživatel zadal žádost nemá oprávnění k přístupu k požadovanému zdroji, modul autorizace ukončí požadavek a vrátí [HTTP 401 neoprávněný](http://www.checkupdown.com/status/E401.html) stavu.</span><span class="sxs-lookup"><span data-stu-id="35d38-131">If the user making the request is not authorized to access the requested resource, the authorization module terminates the request and returns an [HTTP 401 Unauthorized](http://www.checkupdown.com/status/E401.html) status.</span></span> <span data-ttu-id="35d38-132">Ve scénářích ověřování systému Windows je vrácen stav HTTP 401 do prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="35d38-132">In Windows authentication scenarios, the HTTP 401 status is returned to the browser.</span></span> <span data-ttu-id="35d38-133">Tento kód stavu způsobí, že prohlížeč zobrazí výzva k zadání přihlašovacích údajů prostřednictvím modální dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="35d38-133">This status code causes the browser to prompt the user for their credentials via a modal dialog box.</span></span> <span data-ttu-id="35d38-134">Ověřování pomocí formulářů, ale HTTP 401 Unauthorized status je nikdy odeslán do prohlížeče vzhledem k tomu, že FormsAuthenticationModule zjistí tento stav a upraví ho přesměruje uživatele na přihlašovací stránku místo (prostřednictvím [HTTP 302 přesměrování](http://www.checkupdown.com/status/E302.html) stav).</span><span class="sxs-lookup"><span data-stu-id="35d38-134">With forms authentication, however, the HTTP 401 Unauthorized status is never sent to the browser because the FormsAuthenticationModule detects this status and modifies it to redirect the user to the login page instead (via an [HTTP 302 Redirect](http://www.checkupdown.com/status/E302.html) status).</span></span>

<span data-ttu-id="35d38-135">Na přihlašovací stránku úkolem je zjistit, zda jsou platná pověření uživatele, a pokud ano, vytvořit lístek ověřování formulářů a přesměruje uživatele zpět na stránku se pokoušeli navštívit.</span><span class="sxs-lookup"><span data-stu-id="35d38-135">The login page's responsibility is to determine if the user's credentials are valid and, if so, to create a forms authentication ticket and redirect the user back to the page they were attempting to visit.</span></span> <span data-ttu-id="35d38-136">Lístek ověřování je součástí následné žádosti na stránky na webu, který `FormsAuthenticationModule` používá k identifikaci uživatele.</span><span class="sxs-lookup"><span data-stu-id="35d38-136">The authentication ticket is included in subsequent requests to the pages on the website, which the `FormsAuthenticationModule` uses to identify the user.</span></span>


![Pracovní postup ověřování formulářů](an-overview-of-forms-authentication-cs/_static/image1.png)

<span data-ttu-id="35d38-138">**Obrázek 1**: pracovní postup ověřování formulářů</span><span class="sxs-lookup"><span data-stu-id="35d38-138">**Figure 1**: The Forms Authentication Workflow</span></span>


### <a name="remembering-the-authentication-ticket-across-page-visits"></a><span data-ttu-id="35d38-139">Zapamatování lístek ověřování napříč návštěv stránky</span><span class="sxs-lookup"><span data-stu-id="35d38-139">Remembering the Authentication Ticket Across Page Visits</span></span>

<span data-ttu-id="35d38-140">Po přihlášení, musí se poslat lístek pro ověřování pomocí formulářů zpět na webový server na každý požadavek, aby uživatel zůstane přihlášený jako procházení webu.</span><span class="sxs-lookup"><span data-stu-id="35d38-140">After logging in, the forms authentication ticket must be sent back to the web server on each request so that the user remains logged in as they browse the site.</span></span> <span data-ttu-id="35d38-141">To se obvykle provádí tak, že lístek ověřování kolekce souborů cookie uživatele.</span><span class="sxs-lookup"><span data-stu-id="35d38-141">This is typically accomplished by placing the authentication ticket in the user's cookies collection.</span></span> <span data-ttu-id="35d38-142">[Soubory cookie](http://en.wikipedia.org/wiki/HTTP_cookie) jsou malé textové soubory, které jsou umístěné v počítači uživatele a přenášejí v hlavičkách protokolu HTTP na každý požadavek na web, který vytvořili souboru cookie.</span><span class="sxs-lookup"><span data-stu-id="35d38-142">[Cookies](http://en.wikipedia.org/wiki/HTTP_cookie) are small text files that reside on the user's computer and are transmitted in the HTTP headers on each request to the website that created the cookie.</span></span> <span data-ttu-id="35d38-143">Proto po lístek pro ověřování pomocí formulářů byl vytvořen a uložen v souborech cookie v prohlížeči, každý další návštěvě této lokality odešle lístek ověřování společně se žádostí, čímž identifikace uživatele.</span><span class="sxs-lookup"><span data-stu-id="35d38-143">Therefore, once the forms authentication ticket has been created and stored in the browser's cookies, each subsequent visit to that site sends the authentication ticket along with the request, thereby identifying the user.</span></span>

<span data-ttu-id="35d38-144">Jeden aspekt jejich souborů cookie je vypršením jejich platnosti, což je datum a čas, kdy prohlížeč zahodí souboru cookie.</span><span class="sxs-lookup"><span data-stu-id="35d38-144">One aspect of cookies is their expiration, which is the date and time at which the browser discards the cookie.</span></span> <span data-ttu-id="35d38-145">Když vyprší platnost souboru cookie ověřování pomocí formulářů, můžete uživatele už ověření a proto se anonymní.</span><span class="sxs-lookup"><span data-stu-id="35d38-145">When the forms authentication cookie expires, the user can no longer be authenticated and therefore become anonymous.</span></span> <span data-ttu-id="35d38-146">Když návštěvy z veřejného terminálu pravděpodobné, že chtějí jejich lístku ověřování vyprší při uzavření svého prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="35d38-146">When a user is visiting from a public terminal, chances are they want their authentication ticket to expire when they close their browser.</span></span> <span data-ttu-id="35d38-147">Při návštěvě z domova, ale tento stejný uživatel může být vhodné lístek ověřování na se uloží v prohlížeči restartování, takže nemají znovu přihlásit se pokaždé, když se přejděte na web.</span><span class="sxs-lookup"><span data-stu-id="35d38-147">When visiting from home, however, that same user might want the authentication ticket to be remembered across browser restarts so that they do not have to re-log in each time they visit the site.</span></span> <span data-ttu-id="35d38-148">Toto rozhodnutí je často provedené uživatelem ve formě "Zapamatovat uživatele" zaškrtávací políčko je na přihlašovací stránku.</span><span class="sxs-lookup"><span data-stu-id="35d38-148">This decision is often made by the user in the form of a "Remember me" checkbox on the login page.</span></span> <span data-ttu-id="35d38-149">V kroku 3 vyzkoušíme implementaci zaškrtávací políčko "Zapamatovat uživatele" na přihlašovací stránce.</span><span class="sxs-lookup"><span data-stu-id="35d38-149">In Step 3 we will examine how to implement a "Remember me" checkbox in the login page.</span></span> <span data-ttu-id="35d38-150">V následujícím kurzu řeší nastavení časového limitu lístek ověřování podrobně.</span><span class="sxs-lookup"><span data-stu-id="35d38-150">The following tutorial addresses the authentication ticket timeout settings in detail.</span></span>

> [!NOTE]
> <span data-ttu-id="35d38-151">Je možné, že uživatelský agent používá k přihlášení na web pravděpodobně nepodporuje soubory cookie.</span><span class="sxs-lookup"><span data-stu-id="35d38-151">It is possible that the user agent used to log on to the website may not support cookies.</span></span> <span data-ttu-id="35d38-152">V takovém případě můžete použít ASP.NET lístků pro ověřování pomocí formulářů bez souborů cookie.</span><span class="sxs-lookup"><span data-stu-id="35d38-152">In such a case, ASP.NET can use cookieless forms authentication tickets.</span></span> <span data-ttu-id="35d38-153">V tomto režimu je zakódován lístek ověřování k adrese URL.</span><span class="sxs-lookup"><span data-stu-id="35d38-153">In this mode, the authentication ticket is encoded into the URL.</span></span> <span data-ttu-id="35d38-154">Podíváme se na při použití lístků pro ověřování bez souborů cookie a jak se vytváří a spravují v dalším kurzu.</span><span class="sxs-lookup"><span data-stu-id="35d38-154">We will look at when cookieless authentication tickets are used and how they are created and managed in the next tutorial.</span></span>


### <a name="the-scope-of-forms-authentication"></a><span data-ttu-id="35d38-155">Rozsah ověřování pomocí formulářů</span><span class="sxs-lookup"><span data-stu-id="35d38-155">The Scope of Forms Authentication</span></span>

<span data-ttu-id="35d38-156">`FormsAuthenticationModule` Je spravovaný kód, který je součástí modulu runtime ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="35d38-156">The `FormsAuthenticationModule` is managed code that is part of the ASP.NET runtime.</span></span> <span data-ttu-id="35d38-157">Starší než verze 7 společnosti Microsoft [Internetové informační služby (IIS)](https://www.iis.net/) webový server byl odlišné bariéry mezi kanál protokolu HTTP služby IIS a modulu runtime ASP.NET kanálu.</span><span class="sxs-lookup"><span data-stu-id="35d38-157">Prior to version 7 of Microsoft's [Internet Information Services (IIS)](https://www.iis.net/) web server, there was a distinct barrier between IIS's HTTP pipeline and the ASP.NET runtime's pipeline.</span></span> <span data-ttu-id="35d38-158">Stručně řečeno, ve službě IIS 6 a starší `FormsAuthenticationModule` pouze provede, když se žádost o deleguje ze služby IIS na modulem runtime ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="35d38-158">In short, in IIS 6 and earlier, the `FormsAuthenticationModule` only executes when a request is delegated from IIS to the ASP.NET runtime.</span></span> <span data-ttu-id="35d38-159">Ve výchozím nastavení služba IIS zpracovává statický obsah, samotné – například stránky HTML a CSS a soubory obrázků – a pouze rukou vypnout požadavky modulu runtime ASP.NET při požadavku na stránku s příponou .aspx, .asmx nebo ASHX.</span><span class="sxs-lookup"><span data-stu-id="35d38-159">By default, IIS processes static content itself – like HTML pages and CSS and image files – and only hands off requests to the ASP.NET runtime when a page with an extension of .aspx, .asmx, or .ashx is requested.</span></span>

<span data-ttu-id="35d38-160">Integrované služby IIS a ASP.NET IIS 7, ale umožňuje kanály.</span><span class="sxs-lookup"><span data-stu-id="35d38-160">IIS 7, however, allows for integrated IIS and ASP.NET pipelines.</span></span> <span data-ttu-id="35d38-161">S několik nastavení konfigurace se dá nastavit službu IIS 7 k vyvolání FormsAuthenticationModule pro *všechny* požadavky.</span><span class="sxs-lookup"><span data-stu-id="35d38-161">With a few configuration settings you can setup IIS 7 to invoke the FormsAuthenticationModule for *all* requests.</span></span> <span data-ttu-id="35d38-162">Kromě toho se službou IIS 7 můžete definovat autorizačních pravidel adres URL pro soubory libovolného typu.</span><span class="sxs-lookup"><span data-stu-id="35d38-162">Furthermore, with IIS 7 you can define URL authorization rules for files of any type.</span></span> <span data-ttu-id="35d38-163">Další informace najdete v tématu [IIS7 zabezpečení a změny mezi IIS6](https://www.iis.net/learn/get-started/whats-new-in-iis-7/changes-in-security-between-iis-60-and-iis-7-and-above), [vaše webové platformy zabezpečení](https://www.iis.net/learn/get-started/whats-new-in-iis-7/iis7-and-above-security-improvements), a [autorizace adres URL pro službu IIS7 Principy](https://www.iis.net/articles/view.aspx/IIS7/Managing-IIS7/Configuring-Security/URL-Authorization/Understanding-IIS7-URL-Authorization).</span><span class="sxs-lookup"><span data-stu-id="35d38-163">For more information, see [Changes Between IIS6 and IIS7 Security](https://www.iis.net/learn/get-started/whats-new-in-iis-7/changes-in-security-between-iis-60-and-iis-7-and-above), [Your Web Platform Security](https://www.iis.net/learn/get-started/whats-new-in-iis-7/iis7-and-above-security-improvements), and [Understanding IIS7 URL Authorization](https://www.iis.net/articles/view.aspx/IIS7/Managing-IIS7/Configuring-Security/URL-Authorization/Understanding-IIS7-URL-Authorization).</span></span>

<span data-ttu-id="35d38-164">Dlouhý text krátké verze starší než IIS 7, můžete použít pouze ověřování pomocí formulářů pro ochranu prostředků, které jsou zpracovávány modulem ASP.NET runtime.</span><span class="sxs-lookup"><span data-stu-id="35d38-164">Long story short, in versions prior to IIS 7, you can only use forms authentication to protect resources handled by the ASP.NET runtime.</span></span> <span data-ttu-id="35d38-165">Podobně autorizačních pravidel adres URL platí pouze pro prostředky, které jsou zpracovávány modulem ASP.NET runtime.</span><span class="sxs-lookup"><span data-stu-id="35d38-165">Likewise, URL authorization rules are only applied to resources handled by the ASP.NET runtime.</span></span> <span data-ttu-id="35d38-166">Se službou IIS 7 je však možné integrovat FormsAuthenticationModule a UrlAuthorizationModule do kanálu HTTP služby IIS, a tím rozšíření tuto funkci pro všechny požadavky.</span><span class="sxs-lookup"><span data-stu-id="35d38-166">But with IIS 7 it is possible to integrate the FormsAuthenticationModule and UrlAuthorizationModule into IIS's HTTP pipeline, thereby extending this functionality to all requests.</span></span>

## <a name="step-1-creating-an-aspnet-website-for-this-tutorial-series"></a><span data-ttu-id="35d38-167">Krok 1: Vytvoření webu ASP.NET pro tento kurz řady</span><span class="sxs-lookup"><span data-stu-id="35d38-167">Step 1: Creating an ASP.NET Website for this Tutorial Series</span></span>

<span data-ttu-id="35d38-168">Aby bylo dosaženo nejširší možnou cílovou skupinou, bude vytvořen webu ASP.NET jsme se sestavení v rámci této série s bezplatnou verzi společnosti Microsoft Visual Studio 2008, [Visual Web Developer 2008](https://www.microsoft.com/express/vwd/).</span><span class="sxs-lookup"><span data-stu-id="35d38-168">In order to reach the widest possible audience, the ASP.NET website we will be building throughout this series will be created with Microsoft's free version of Visual Studio 2008, [Visual Web Developer 2008](https://www.microsoft.com/express/vwd/).</span></span> <span data-ttu-id="35d38-169">Bude implementaci `SqlMembershipProvider` úložiště uživatele v [Microsoft SQL Server 2005 Express Edition](https://msdn.microsoft.com/en-us/sql/Aa336346.aspx) databáze.</span><span class="sxs-lookup"><span data-stu-id="35d38-169">We will implement the `SqlMembershipProvider` user store in a [Microsoft SQL Server 2005 Express Edition](https://msdn.microsoft.com/en-us/sql/Aa336346.aspx) database.</span></span> <span data-ttu-id="35d38-170">Pokud používáte Visual Studio 2005 nebo na jinou edici Visual Studio 2008 nebo SQL Server, nemusíte si dělat starosti – kroky budou skoro stejné a případné rozdíly netriviální zdůraznit.</span><span class="sxs-lookup"><span data-stu-id="35d38-170">If you are using Visual Studio 2005 or a different edition of Visual Studio 2008 or SQL Server, don't worry - the steps will be nearly identical and any non-trivial differences will be pointed out.</span></span>

> [!NOTE]
> <span data-ttu-id="35d38-171">Použít v každém kurzu ukázkové webové aplikace je k dispozici ke stažení.</span><span class="sxs-lookup"><span data-stu-id="35d38-171">The demo web application used in each tutorial is available as a download.</span></span> <span data-ttu-id="35d38-172">Tato aplikace ke stažení byl vytvořen s Visual Web Developer 2008 určený pro rozhraní .NET Framework verze 3.5.</span><span class="sxs-lookup"><span data-stu-id="35d38-172">This downloadable application was created with Visual Web Developer 2008 targeted for the .NET Framework version 3.5.</span></span> <span data-ttu-id="35d38-173">Vzhledem k tomu, že aplikace je určená pro rozhraní .NET 3.5, jeho soubor Web.config obsahuje další, 3.5 konkrétní konfigurační prvky.</span><span class="sxs-lookup"><span data-stu-id="35d38-173">Since the application is targeted for .NET 3.5, its Web.config file includes additional, 3.5-specific configuration elements.</span></span> <span data-ttu-id="35d38-174">Dlouhý text short, pokud máte ještě instalace rozhraní .NET 3.5 v počítači pak ke stažení webové aplikace nebude fungovat bez první odebrání značek 3.5 konkrétní ze souboru Web.config.</span><span class="sxs-lookup"><span data-stu-id="35d38-174">Long story short, if you have yet to install .NET 3.5 on your computer then the downloadable web application will not work without first removing the 3.5-specific markup from Web.config.</span></span>


<span data-ttu-id="35d38-175">Než budeme moct nakonfigurovat ověřování pomocí formulářů, potřebujeme nejprve webu ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="35d38-175">Before we can configure forms authentication, we first need an ASP.NET website.</span></span> <span data-ttu-id="35d38-176">Začněte vytvořením webu ASP.NET na základě systému nový soubor.</span><span class="sxs-lookup"><span data-stu-id="35d38-176">Start by creating a new file system-based ASP.NET website.</span></span> <span data-ttu-id="35d38-177">K tomu, spusťte aplikaci Visual Web Developer a přejděte do nabídky soubor a vyberte nový web zobrazení dialogového okna Nový web.</span><span class="sxs-lookup"><span data-stu-id="35d38-177">To accomplish this, launch Visual Web Developer and then go to the File menu and choose New Web Site, displaying the New Web Site dialog box.</span></span> <span data-ttu-id="35d38-178">Výběr šablony webu ASP.NET, nastavte rozevírací seznam umístění do systému souborů, vyberte složku pro umístění na webu a nastavení jazyka C#.</span><span class="sxs-lookup"><span data-stu-id="35d38-178">Choose the ASP.NET Web Site template, set the Location drop-down list to File System, choose a folder to place the web site, and set the language to C#.</span></span> <span data-ttu-id="35d38-179">Tím se vytvoří nový web s stránku Default.aspx ASP.NET, aplikace\_složky dat a v souboru Web.config.</span><span class="sxs-lookup"><span data-stu-id="35d38-179">This will create a new web site with a Default.aspx ASP.NET page, an App\_Data folder, and a Web.config file.</span></span>

> [!NOTE]
> <span data-ttu-id="35d38-180">Visual Studio podporuje dva režimy řízení projektu: webové projekty a projekty webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="35d38-180">Visual Studio supports two modes of project management: Web Site Projects and Web Application Projects.</span></span> <span data-ttu-id="35d38-181">Webové projekty chybí soubor projektu, zatímco projekty webových aplikací napodobovat architektuře projektu ve Visual Studio .NET 2002 nebo 2003 – se můžete zahrnout soubor projektu a kompilaci zdrojového kódu projektu do jednoho sestavení, které je umístěn ve složce/Bin.</span><span class="sxs-lookup"><span data-stu-id="35d38-181">Web Site Projects lack a project file, whereas Web Application Projects mimic the project architecture in Visual Studio .NET 2002/2003 – they include a project file and compile the project's source code into a single assembly, which is placed in the /bin folder.</span></span> <span data-ttu-id="35d38-182">Visual Studio 2005 původně pouze podporované webu projekty, i když modelu projektu webové aplikace byla znovu zavedena s aktualizací Service Pack 1; Visual Studio 2008 nabízí obou modelů projektu.</span><span class="sxs-lookup"><span data-stu-id="35d38-182">Visual Studio 2005 initially only supported Web Site Projects, although the Web Application Project model was reintroduced with Service Pack 1; Visual Studio 2008 offers both project models.</span></span> <span data-ttu-id="35d38-183">Visual Web Developer 2005 a edice 2008, ale podporují pouze webové projekty.</span><span class="sxs-lookup"><span data-stu-id="35d38-183">The Visual Web Developer 2005 and 2008 editions, however, only support Web Site Projects.</span></span> <span data-ttu-id="35d38-184">Bude možné používat webový projekt modelu.</span><span class="sxs-lookup"><span data-stu-id="35d38-184">I will be using the Web Site Project model.</span></span> <span data-ttu-id="35d38-185">Pokud používáte jiný Express edition a chcete použít [modelu projektu webové aplikace](https://msdn.microsoft.com/en-us/library/aa730880%28vs.80%29.aspx) místo toho zaregistrované, můžete tak učinit, ale uvědomte si, že mohou být některé rozdíly mezi zobrazené na obrazovce a kroky je nutné provést porovnání snímek obrazovky ukazuje a pokynů v těchto kurzech.</span><span class="sxs-lookup"><span data-stu-id="35d38-185">If you are using a non-Express edition and want to use the [Web Application Project model](https://msdn.microsoft.com/en-us/library/aa730880%28vs.80%29.aspx) instead, feel free to do so but be aware that there may be some discrepancies between what you see on your screen and the steps you must take versus the screen shots shown and instructions provided in these tutorials.</span></span>


<span data-ttu-id="35d38-186">[![Vytvoření nového souboru na základě systému webového serveru](an-overview-of-forms-authentication-cs/_static/image3.png)](an-overview-of-forms-authentication-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="35d38-186">[![Create a New File System-Based Web Site](an-overview-of-forms-authentication-cs/_static/image3.png)](an-overview-of-forms-authentication-cs/_static/image2.png)</span></span>

<span data-ttu-id="35d38-187">**Obrázek 2**: vytvoření webu New File System-Based ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-forms-authentication-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="35d38-187">**Figure 2**: Create a New File System-Based Web Site ([Click to view full-size image](an-overview-of-forms-authentication-cs/_static/image4.png))</span></span>


### <a name="adding-a-master-page"></a><span data-ttu-id="35d38-188">Přidání stránky předlohy</span><span class="sxs-lookup"><span data-stu-id="35d38-188">Adding a Master Page</span></span>

<span data-ttu-id="35d38-189">Do lokality v kořenovém adresáři s názvem Site.master přidáte další, nové stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="35d38-189">Next, add a new Master Page to the site in the root directory named Site.master.</span></span> <span data-ttu-id="35d38-190">[Hlavní stránky](https://msdn.microsoft.com/en-us/library/wtxbf3hh.aspx) povolit vývojáři stránky definovat šablonu na webu, který lze použít na stránky ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="35d38-190">[Master pages](https://msdn.microsoft.com/en-us/library/wtxbf3hh.aspx) enable a page developer to define a site-wide template that can be applied to ASP.NET pages.</span></span> <span data-ttu-id="35d38-191">Hlavní výhodou hlavní stránky je, že celkový vzhled lokality lze definovat na jednom místě, a díky snadno aktualizovat nebo upravit rozložení v lokalitě.</span><span class="sxs-lookup"><span data-stu-id="35d38-191">The main benefit of master pages is that the site's overall appearance can be defined in a single location, thereby making it easy to update or tweak the site's layout.</span></span>


<span data-ttu-id="35d38-192">[![Přidat stránku předlohy Site.master na web s názvem](an-overview-of-forms-authentication-cs/_static/image6.png)](an-overview-of-forms-authentication-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="35d38-192">[![Add a Master Page Named Site.master to the Website](an-overview-of-forms-authentication-cs/_static/image6.png)](an-overview-of-forms-authentication-cs/_static/image5.png)</span></span>

<span data-ttu-id="35d38-193">**Obrázek 3**: Přidání webu hlavní stránku s názvem Site.master ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-forms-authentication-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="35d38-193">**Figure 3**: Add a Master Page Named Site.master to the Website ([Click to view full-size image](an-overview-of-forms-authentication-cs/_static/image7.png))</span></span>


<span data-ttu-id="35d38-194">Zadejte sem rozložení stránky na webu na hlavní stránce.</span><span class="sxs-lookup"><span data-stu-id="35d38-194">Define the site-wide page layout here in the master page.</span></span> <span data-ttu-id="35d38-195">Můžete použít zobrazení návrhu a přidat libovolnou rozložení a webové kontroly je nutné, nebo můžete ručně přidat kód ručně v zobrazení zdroje.</span><span class="sxs-lookup"><span data-stu-id="35d38-195">You can use the Design view and add whatever Layout or Web controls you need, or you can manually add the markup by hand in the Source view.</span></span> <span data-ttu-id="35d38-196">I strukturovaná rozložení Moje hlavní stránky tak, aby napodoboval rozložení použít v mé  *[práci s daty v technologii ASP.NET 2.0](../../data-access/index.md)*  kurz řady (viz obrázek 4).</span><span class="sxs-lookup"><span data-stu-id="35d38-196">I structured my master page's layout to mimic the layout used in my *[Working with Data in ASP.NET 2.0](../../data-access/index.md)* tutorial series (see Figure 4).</span></span> <span data-ttu-id="35d38-197">Hlavní stránka používá [kaskádových stylů](http://www.w3schools.com/css/default.asp) pro umístění a stylů CSS nastavení definované v souboru Style.css (která je obsažena v tomto kurzu přidružené ke stažení).</span><span class="sxs-lookup"><span data-stu-id="35d38-197">The master page uses [cascading style sheets](http://www.w3schools.com/css/default.asp) for positioning and styles with the CSS settings defined in the file Style.css (which is included in this tutorial's associated download).</span></span> <span data-ttu-id="35d38-198">Při nelze zjistit z značek vidíte níže, jsou definovaná pravidla šablon stylů CSS tak, aby navigaci &lt;div&gt;na obsah je absolutně nastavený tak, aby se zobrazí na levé straně a má pevnou šířku 200 pixelů.</span><span class="sxs-lookup"><span data-stu-id="35d38-198">While you cannot tell from the markup shown below, the CSS rules are defined such that the navigation &lt;div&gt;'s content is absolutely positioned so that it appears on the left and has a fixed width of 200 pixels.</span></span>

[!code-aspx[Main](an-overview-of-forms-authentication-cs/samples/sample1.aspx)]

<span data-ttu-id="35d38-199">Na hlavní stránce definuje rozložení statické stránky a oblastí, které lze upravit pomocí stránek ASP.NET, které používají stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="35d38-199">A master page defines both the static page layout and the regions that can be edited by the ASP.NET pages that use the master page.</span></span> <span data-ttu-id="35d38-200">Tyto obsahu upravitelné oblasti jsou označeny `ContentPlaceHolder` řízení, které jsou viditelné v rámci obsah &lt;div&gt;.</span><span class="sxs-lookup"><span data-stu-id="35d38-200">These content editable regions are indicated by the `ContentPlaceHolder` control, which can be seen within the content &lt;div&gt;.</span></span> <span data-ttu-id="35d38-201">Naše stránka předlohy má jeden `ContentPlaceHolder` (MainContent), ale stránky předlohy mohou mít více ContentPlaceHolders.</span><span class="sxs-lookup"><span data-stu-id="35d38-201">Our master page has a single `ContentPlaceHolder` (MainContent), but master page's may have multiple ContentPlaceHolders.</span></span>

<span data-ttu-id="35d38-202">Pomocí výše uvedených kód přepnutí do návrhového zobrazení ukazuje rozložení stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="35d38-202">With the markup entered above, switching to the Design view shows the master page's layout.</span></span> <span data-ttu-id="35d38-203">Všechny stránek ASP.NET, které používají tuto stránku předlohy bude mít toto uniform rozložení možnost zadejte kód pro `MainContent` oblast.</span><span class="sxs-lookup"><span data-stu-id="35d38-203">Any ASP.NET pages that use this master page will have this uniform layout, with the ability to specify the markup for the `MainContent` region.</span></span>


<span data-ttu-id="35d38-204">[![Stránky předlohy, při zobrazení v zobrazení návrhu](an-overview-of-forms-authentication-cs/_static/image9.png)](an-overview-of-forms-authentication-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="35d38-204">[![The Master Page, When Viewed Through the Design View](an-overview-of-forms-authentication-cs/_static/image9.png)](an-overview-of-forms-authentication-cs/_static/image8.png)</span></span>

<span data-ttu-id="35d38-205">**Obrázek 4**: stránku předlohy, při prohlížení prostřednictvím zobrazení návrhu ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-forms-authentication-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="35d38-205">**Figure 4**: The Master Page, When Viewed Through the Design View ([Click to view full-size image](an-overview-of-forms-authentication-cs/_static/image10.png))</span></span>


### <a name="creating-content-pages"></a><span data-ttu-id="35d38-206">Vytváření obsahu stránky</span><span class="sxs-lookup"><span data-stu-id="35d38-206">Creating Content Pages</span></span>

<span data-ttu-id="35d38-207">V tomto okamžiku máme stránku Default.aspx v našem webu, ale nepoužívá stránku předlohy, kterou jsme právě vytvořili.</span><span class="sxs-lookup"><span data-stu-id="35d38-207">At this point we have a Default.aspx page in our website, but it does not use the master page we just created.</span></span> <span data-ttu-id="35d38-208">Když je možné k manipulaci s deklarativní webové stránky na hlavní stránku, pokud stránce neobsahuje žádný obsah ještě je snazší právě odstranit stránku a znovu jej přidejte do projektu, zadání stránku předlohy k použití.</span><span class="sxs-lookup"><span data-stu-id="35d38-208">While it is possible to manipulate the declarative markup of a web page to use a master page, if the page doesn't contain any content yet it is easier to just delete the page and re-add it to the project, specifying the master page to use.</span></span> <span data-ttu-id="35d38-209">Proto začínají odstraněním Default.aspx z projektu.</span><span class="sxs-lookup"><span data-stu-id="35d38-209">Therefore, start by deleting Default.aspx from the project.</span></span>

<span data-ttu-id="35d38-210">V dalším kroku klikněte pravým tlačítkem na název projektu v Průzkumníku řešení a vyberte, chcete-li přidat nový webový formulář s názvem Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="35d38-210">Next, right-click on the project name in the Solution Explorer and choose to add a new Web Form named Default.aspx.</span></span> <span data-ttu-id="35d38-211">Tentokrát, zaškrtněte políčko "Vyberte stránku předlohy" a vyberte stránku předlohy Site.master ze seznamu.</span><span class="sxs-lookup"><span data-stu-id="35d38-211">This time, check the "Select master page" checkbox and choose the Site.master master page from the list.</span></span>


<span data-ttu-id="35d38-212">[![Přidat novou stránku Default.aspx rozhodnete vybrat stránku předlohy](an-overview-of-forms-authentication-cs/_static/image12.png)](an-overview-of-forms-authentication-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="35d38-212">[![Add a New Default.aspx Page Choosing to Select a Master Page](an-overview-of-forms-authentication-cs/_static/image12.png)](an-overview-of-forms-authentication-cs/_static/image11.png)</span></span>

<span data-ttu-id="35d38-213">**Obrázek 5**: Přidejte nové Default.aspx stránky výběr a vyberte stránku předlohy ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-forms-authentication-cs/_static/image13.png))</span><span class="sxs-lookup"><span data-stu-id="35d38-213">**Figure 5**: Add a New Default.aspx Page Choosing to Select a Master Page ([Click to view full-size image](an-overview-of-forms-authentication-cs/_static/image13.png))</span></span>


![Pomocí stránky předlohy Site.master](an-overview-of-forms-authentication-cs/_static/image14.png)

<span data-ttu-id="35d38-215">**Obrázek 6**: pomocí Site.master hlavní stránky</span><span class="sxs-lookup"><span data-stu-id="35d38-215">**Figure 6**: Use the Site.master Master Page</span></span>


> [!NOTE]
> <span data-ttu-id="35d38-216">Pokud používáte Model projektu webové aplikace dialogového okna Přidat novou položku nezahrnuje zaškrtávací políčko "Vyberte stránku předlohy".</span><span class="sxs-lookup"><span data-stu-id="35d38-216">If you are using the Web Application Project Model the Add New Item dialog box does not include a "Select master page" checkbox.</span></span> <span data-ttu-id="35d38-217">Místo toho je nutné přidat položky typu "Webového obsahu formuláře."</span><span class="sxs-lookup"><span data-stu-id="35d38-217">Instead, you need to add an item of type "Web Content Form."</span></span> <span data-ttu-id="35d38-218">Visual Studio zobrazí po výběru možnosti "Webového obsahu formuláře" a kliknutím na tlačítko Přidat, vyberte stejný hlavní dialogové okno vidíte na obrázku 6.</span><span class="sxs-lookup"><span data-stu-id="35d38-218">After choosing the "Web Content Form" option and clicking Add, Visual Studio will display the same Select a Master dialog box shown in Figure 6.</span></span>


<span data-ttu-id="35d38-219">Nová stránka Default.aspx deklarativní zahrnuje právě @Page – direktiva určení cesty k hlavní stránce soubor a obsah ovládacího prvku pro MainContent ContentPlaceHolder stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="35d38-219">The new Default.aspx page's declarative markup includes just a @Page directive specifying the path to the master page file and a Content control for the master page's MainContent ContentPlaceHolder.</span></span>

[!code-aspx[Main](an-overview-of-forms-authentication-cs/samples/sample2.aspx)]

<span data-ttu-id="35d38-220">Teď ponechte Default.aspx prázdné.</span><span class="sxs-lookup"><span data-stu-id="35d38-220">For now, leave Default.aspx empty.</span></span> <span data-ttu-id="35d38-221">Vrátíme se k němu později v tomto kurzu přidání obsahu.</span><span class="sxs-lookup"><span data-stu-id="35d38-221">We will return to it later in this tutorial to add content.</span></span>

> [!NOTE]
> <span data-ttu-id="35d38-222">Naše stránky předlohy obsahuje oddíl pro nabídky nebo některých jiných rozhraní navigace.</span><span class="sxs-lookup"><span data-stu-id="35d38-222">Our master page includes a section for a menu or some other navigation interface.</span></span> <span data-ttu-id="35d38-223">V budoucích kurzu vytvoříme takového rozhraní.</span><span class="sxs-lookup"><span data-stu-id="35d38-223">We will create such an interface in a future tutorial.</span></span>

## <a name="step-2-enabling-forms-authentication"></a><span data-ttu-id="35d38-224">Krok 2: Povolení ověřování pomocí formulářů</span><span class="sxs-lookup"><span data-stu-id="35d38-224">Step 2: Enabling Forms Authentication</span></span>

<span data-ttu-id="35d38-225">S vytvoření webu ASP.NET naše dalším krokem je povolit ověřování pomocí formulářů.</span><span class="sxs-lookup"><span data-stu-id="35d38-225">With the ASP.NET website created, our next task is to enable forms authentication.</span></span> <span data-ttu-id="35d38-226">Konfigurace ověřování aplikace se specifikuje prostřednictvím [ `<authentication>` element](https://msdn.microsoft.com/en-us/library/532aee0e.aspx) v souboru Web.config. `<authentication>` Element obsahuje jeden atribut s názvem režim, který určuje model ověřování používá aplikace.</span><span class="sxs-lookup"><span data-stu-id="35d38-226">The application's authentication configuration is specified through the [`<authentication>` element](https://msdn.microsoft.com/en-us/library/532aee0e.aspx) in Web.config. The `<authentication>` element contains a single attribute named mode that specifies the authentication model used by the application.</span></span> <span data-ttu-id="35d38-227">Tento atribut může mít jednu z následujících čtyř hodnot:</span><span class="sxs-lookup"><span data-stu-id="35d38-227">This attribute can have one of the following four values:</span></span>

- <span data-ttu-id="35d38-228">**Windows** – jak je popsáno v předchozí kurzu, pokud aplikace používá ověřování systému Windows je webový server zodpovědnost za ověření návštěvníka, a to se obvykle provádí pomocí základní ověřování, hodnotou hash nebo integrované ověřování systému Windows ověřování.</span><span class="sxs-lookup"><span data-stu-id="35d38-228">**Windows** – as discussed in the preceding tutorial, when an application uses Windows authentication it is the web server's responsibility to authenticate the visitor, and this is usually done through Basic, Digest, or Integrated Windows authentication.</span></span>
- <span data-ttu-id="35d38-229">**Forms**– ověření pomocí formuláře na webové stránce.</span><span class="sxs-lookup"><span data-stu-id="35d38-229">**Forms**– users are authenticated via a form on a web page.</span></span>
- <span data-ttu-id="35d38-230">**Passport**– uživatelé se ověřují pomocí sítě společnosti Microsoft Passport.</span><span class="sxs-lookup"><span data-stu-id="35d38-230">**Passport**– users are authenticated using Microsoft's Passport Network.</span></span>
- <span data-ttu-id="35d38-231">**Žádný**– je použit bez ověřování modelu, všechny návštěvníky jsou anonymní.</span><span class="sxs-lookup"><span data-stu-id="35d38-231">**None**– no authentication model is used; all visitors are anonymous.</span></span>

<span data-ttu-id="35d38-232">Ve výchozím nastavení aplikace ASP.NET pomocí ověřování systému Windows.</span><span class="sxs-lookup"><span data-stu-id="35d38-232">By default, ASP.NET applications use Windows authentication.</span></span> <span data-ttu-id="35d38-233">Chcete-li změnit typ ověřování pro ověřování pomocí formulářů, pak je potřeba upravit `<authentication>` atribut režimu elementu do formulářů.</span><span class="sxs-lookup"><span data-stu-id="35d38-233">To change the authentication type to forms authentication, then, we need to modify the `<authentication>` element's mode attribute to Forms.</span></span>

<span data-ttu-id="35d38-234">Pokud váš projekt ještě neobsahuje soubor Web.config, přidejte jeden teď tím pravým tlačítkem myši na název projektu v Průzkumníku řešení, zvolit přidat novou položku a následným přidáním soubor webové konfigurace.</span><span class="sxs-lookup"><span data-stu-id="35d38-234">If your project does not yet contain a Web.config file, add one now by right-clicking on the project name in the Solution Explorer, choosing Add New Item, and then adding a Web Configuration file.</span></span>


<span data-ttu-id="35d38-235">[![Pokud váš projekt ještě Web.config neobsahuje, přidejte ji nyní](an-overview-of-forms-authentication-cs/_static/image16.png)](an-overview-of-forms-authentication-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="35d38-235">[![If Your Project Does Not Yet Include Web.config, Add It Now](an-overview-of-forms-authentication-cs/_static/image16.png)](an-overview-of-forms-authentication-cs/_static/image15.png)</span></span>

<span data-ttu-id="35d38-236">**Obrázek 7**: Pokud váš projekt nemá není ještě zahrnují souboru Web.config, přidejte ho teď ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-forms-authentication-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="35d38-236">**Figure 7**: If Your Project Does Not Yet Include Web.config, Add It Now ([Click to view full-size image](an-overview-of-forms-authentication-cs/_static/image17.png))</span></span>


<span data-ttu-id="35d38-237">Dále vyhledejte `<authentication>` elementu a aktualizace ho na použití ověřování pomocí formulářů.</span><span class="sxs-lookup"><span data-stu-id="35d38-237">Next, locate the `<authentication>` element and update it to use forms authentication.</span></span> <span data-ttu-id="35d38-238">Po této změně souboru Web.config značek by měl vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="35d38-238">After this change, your Web.config file's markup should look similar to the following:</span></span>

[!code-xml[Main](an-overview-of-forms-authentication-cs/samples/sample3.xml)]

> [!NOTE]
> <span data-ttu-id="35d38-239">Vzhledem k tomu, že soubor Web.config je soubor XML, je důležité velká a malá písmena.</span><span class="sxs-lookup"><span data-stu-id="35d38-239">Since Web.config is an XML file, casing is important.</span></span> <span data-ttu-id="35d38-240">Ujistěte se, nastavte atribut režimu do formulářů, s velkým "F".</span><span class="sxs-lookup"><span data-stu-id="35d38-240">Make sure that you set the mode attribute to Forms, with a capital "F".</span></span> <span data-ttu-id="35d38-241">Pokud použijete jiné velká a malá písmena, například "forms", obdržíte chybu konfigurace při návštěvě webu prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="35d38-241">If you use a different casing, such as "forms", you'll receive a configuration error when visiting the site through a browser.</span></span>


<span data-ttu-id="35d38-242">`<authentication>` Element může volitelně zahrnovat `<forms>` podřízený element, který obsahuje nastavení specifická pro ověřování pomocí formulářů.</span><span class="sxs-lookup"><span data-stu-id="35d38-242">The `<authentication>` element may optionally include a `<forms>` child element that contains forms authentication-specific settings.</span></span> <span data-ttu-id="35d38-243">Prozatím se můžeme právě použít výchozí nastavení ověřování formulářů.</span><span class="sxs-lookup"><span data-stu-id="35d38-243">For now, let's just use the default forms authentication settings.</span></span> <span data-ttu-id="35d38-244">Se podíváme `<forms>` podřízený element podrobněji v dalším kurzu.</span><span class="sxs-lookup"><span data-stu-id="35d38-244">We will explore the `<forms>` child element in more detail in the next tutorial.</span></span>

## <a name="step-3-building-the-login-page"></a><span data-ttu-id="35d38-245">Krok 3: Vytvoření přihlašovací stránky</span><span class="sxs-lookup"><span data-stu-id="35d38-245">Step 3: Building the Login Page</span></span>

<span data-ttu-id="35d38-246">Kvůli podpoře ověřování pomocí formulářů náš web potřebuje přihlašovací stránku.</span><span class="sxs-lookup"><span data-stu-id="35d38-246">In order to support forms authentication our website needs a login page.</span></span> <span data-ttu-id="35d38-247">Jak je popsáno v části "Principy the Forms ověřovací pracovní postup" `FormsAuthenticationModule` bude automaticky přesměrování uživatelů na přihlašovací stránku Jestliže se pokusí přistoupit ke stránce, která nejsou oprávnění k zobrazení.</span><span class="sxs-lookup"><span data-stu-id="35d38-247">As discussed in the "Understanding the Forms Authentication Workflow" section, the `FormsAuthenticationModule` will automatically redirect the user to the login page if they attempt to access a page that they are not authorized to view.</span></span> <span data-ttu-id="35d38-248">Existují také ovládacích prvků technologie ASP.NET, které se zobrazí odkaz na přihlašovací stránku pro anonymní uživatele.</span><span class="sxs-lookup"><span data-stu-id="35d38-248">There are also ASP.NET Web controls that will display a link to the login page to anonymous users.</span></span> <span data-ttu-id="35d38-249">To begs na otázku "Co je adresa URL přihlašovací stránky?"</span><span class="sxs-lookup"><span data-stu-id="35d38-249">This begs the question, "What is the URL of the login page?"</span></span>

<span data-ttu-id="35d38-250">Ve výchozím nastavení systém ověřování formulářů očekává přihlašovací stránky s názvem Login.aspx a umístěné v kořenovém adresáři webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="35d38-250">By default, the forms authentication system expects the login page to be named Login.aspx and placed in the root directory of the web application.</span></span> <span data-ttu-id="35d38-251">Pokud chcete použít adresu URL stránky jiné přihlašovací údaje, můžete tak učinit zadáním v souboru Web.config. Jak to provést v následných kurzu jsme se zobrazí.</span><span class="sxs-lookup"><span data-stu-id="35d38-251">If you want to use a different login page URL, you can do so by specifying it in Web.config. We will see how to do this in the subsequent tutorial.</span></span>

<span data-ttu-id="35d38-252">Na přihlašovací stránku má tři zodpovědnosti:</span><span class="sxs-lookup"><span data-stu-id="35d38-252">The login page has three responsibilities:</span></span>

1. <span data-ttu-id="35d38-253">Poskytují rozhraní, které umožňuje návštěvníka zadat své přihlašovací údaje.</span><span class="sxs-lookup"><span data-stu-id="35d38-253">Provide an interface that allows the visitor to enter their credentials.</span></span>
2. <span data-ttu-id="35d38-254">Určí, jestli odeslaná přihlašovací údaje jsou platné.</span><span class="sxs-lookup"><span data-stu-id="35d38-254">Determine if the submitted credentials are valid.</span></span>
3. <span data-ttu-id="35d38-255">"Přihlášení" uživatele vytvořením formuláře lístek ověřování.</span><span class="sxs-lookup"><span data-stu-id="35d38-255">"Log in" the user by creating the forms authentication ticket.</span></span>

### <a name="creating-the-login-pages-user-interface"></a><span data-ttu-id="35d38-256">Vytváření přihlašovací stránku uživatelského rozhraní</span><span class="sxs-lookup"><span data-stu-id="35d38-256">Creating the Login Page's User Interface</span></span>

<span data-ttu-id="35d38-257">Můžeme začít pracovat s první úlohou.</span><span class="sxs-lookup"><span data-stu-id="35d38-257">Let's get started with the first task.</span></span> <span data-ttu-id="35d38-258">Přidejte novou stránku ASP.NET do kořenového adresáře webu s názvem Login.aspx a přidružte ji k hlavní stránce Site.master.</span><span class="sxs-lookup"><span data-stu-id="35d38-258">Add a new ASP.NET page to the site's root directory named Login.aspx and associate it with the Site.master master page.</span></span>


<span data-ttu-id="35d38-259">[![Přidat novou stránku ASP.NET s názvem Login.aspx](an-overview-of-forms-authentication-cs/_static/image19.png)](an-overview-of-forms-authentication-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="35d38-259">[![Add a New ASP.NET Page Named Login.aspx](an-overview-of-forms-authentication-cs/_static/image19.png)](an-overview-of-forms-authentication-cs/_static/image18.png)</span></span>

<span data-ttu-id="35d38-260">**Obrázek 8**: Přidejte nové ASP.NET stránky s názvem Login.aspx ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-forms-authentication-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="35d38-260">**Figure 8**: Add a New ASP.NET Page Named Login.aspx ([Click to view full-size image](an-overview-of-forms-authentication-cs/_static/image20.png))</span></span>


<span data-ttu-id="35d38-261">V typické přihlašovací stránky rozhraní se skládá z dvou textových polí – jeden pro uživatelské jméno, jednu pro své heslo – a tlačítko pro odeslání formuláře.</span><span class="sxs-lookup"><span data-stu-id="35d38-261">The typical login page interface consists of two textboxes – one for the user's name, one for their password – and a button to submit the form.</span></span> <span data-ttu-id="35d38-262">Weby často zahrnují zaškrtávací políčko "Zapamatovat uživatele", která je, pokud je zaškrtnuto, uchována výsledné lístek ověřování napříč restartování prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="35d38-262">Websites oftentimes include a "Remember me" checkbox that, if checked, persists the resulting authentication ticket across browser restarts.</span></span>

<span data-ttu-id="35d38-263">Přidat dvou textových polí do Login.aspx a nastavte jejich `ID` vlastnosti, které chcete uživatelské jméno a heslo, v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="35d38-263">Add two TextBoxes to Login.aspx and set their `ID` properties to UserName and Password, respectively.</span></span> <span data-ttu-id="35d38-264">Také nastavit hesla `TextMode` vlastnost hesla.</span><span class="sxs-lookup"><span data-stu-id="35d38-264">Also set Password's `TextMode` property to Password.</span></span> <span data-ttu-id="35d38-265">Dál přidejte nastavení ovládacího prvku CheckBox jeho `ID` vlastnost obdobou a jeho `Text` vlastnost "Zapamatovat uživatele".</span><span class="sxs-lookup"><span data-stu-id="35d38-265">Next, add a CheckBox control, setting its `ID` property to RememberMe and its `Text` property to "Remember Me".</span></span> <span data-ttu-id="35d38-266">Následující, přidat tlačítko s názvem LoginButton jehož `Text` je nastavena na "Přihlášení".</span><span class="sxs-lookup"><span data-stu-id="35d38-266">Following that, add a Button named LoginButton whose `Text` property is set to "Login".</span></span> <span data-ttu-id="35d38-267">A nakonec přidání ovládacího prvku popisek a nastavit jeho `ID` vlastnost InvalidCredentialsMessage, jeho `Text` vlastnost "uživatelské jméno nebo heslo je neplatné.</span><span class="sxs-lookup"><span data-stu-id="35d38-267">And finally, add a Label Web control and set its `ID` property to InvalidCredentialsMessage, its `Text` property to "Your username or password is invalid.</span></span> <span data-ttu-id="35d38-268">Zkuste to prosím znovu. ", jeho `ForeColor` vlastnost na červený a jeho `Visible` vlastnost na hodnotu False.</span><span class="sxs-lookup"><span data-stu-id="35d38-268">Please try again.", its `ForeColor` property to Red, and its `Visible` property to False.</span></span>

<span data-ttu-id="35d38-269">V tomto okamžiku by mělo vypadat jako na snímku na obrázku 9 obrazovky obrazovky a deklarativní syntaxe vaší stránky by měl jako následující:</span><span class="sxs-lookup"><span data-stu-id="35d38-269">At this point your screen should look similar to the screen shot in Figure 9, and your page's declarative syntax should like the following:</span></span>

[!code-aspx[Main](an-overview-of-forms-authentication-cs/samples/sample4.aspx)]


<span data-ttu-id="35d38-270">[![Na přihlašovací stránku obsahuje dvě textová pole, zaškrtávací políčko, tlačítka a štítek](an-overview-of-forms-authentication-cs/_static/image22.png)](an-overview-of-forms-authentication-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="35d38-270">[![The Login Page Contains Two TextBoxes, a CheckBox, a Button, and a Label](an-overview-of-forms-authentication-cs/_static/image22.png)](an-overview-of-forms-authentication-cs/_static/image21.png)</span></span>

<span data-ttu-id="35d38-271">**Obrázek 9**: přihlašovací stránku obsahuje dvě textová pole, zaškrtávací políčko, tlačítka a štítek ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-forms-authentication-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="35d38-271">**Figure 9**: The Login Page Contains Two TextBoxes, a CheckBox, a Button, and a Label ([Click to view full-size image](an-overview-of-forms-authentication-cs/_static/image23.png))</span></span>


<span data-ttu-id="35d38-272">Nakonec vytvořte obslužnou rutinu události pro získáte kliknutím LoginButton událostí.</span><span class="sxs-lookup"><span data-stu-id="35d38-272">Finally, create an event handler for the LoginButton's Click event.</span></span> <span data-ttu-id="35d38-273">Z Návrháře jednoduše dvakrát klikněte tlačítko – ovládací prvek pro vytvoření této obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="35d38-273">From the Designer, simply double-click the Button control to create this event handler.</span></span>

### <a name="determining-if-the-supplied-credentials-are-valid"></a><span data-ttu-id="35d38-274">Určení, zda jsou zadaná pověření platné</span><span class="sxs-lookup"><span data-stu-id="35d38-274">Determining If the Supplied Credentials are Valid</span></span>

<span data-ttu-id="35d38-275">Nyní potřebujeme implementovat úloha 2 kliknutím na tlačítko obslužná rutina události – určení, zda jsou zadaná pověření platná.</span><span class="sxs-lookup"><span data-stu-id="35d38-275">We now need to implement task 2 in the Button's Click event handler – determining whether the supplied credentials are valid.</span></span> <span data-ttu-id="35d38-276">Chcete-li tomu je potřeba úložiště uživatele, který obsahuje všechny přihlašovací údaje uživatele, aby jsme můžete určit, pokud zadaná pověření se shodovat s všechny známé přihlašovací údaje.</span><span class="sxs-lookup"><span data-stu-id="35d38-276">In order to do this there needs to be a user store that holds all of the users' credentials so that we can determine if the supplied credentials match up with any known credentials.</span></span>

<span data-ttu-id="35d38-277">Před aplikaci ASP.NET 2.0 se vývojáři zodpovědná za implementace i vlastní úložiště uživatele a psaní kódu k ověření zadané přihlašovací údaje pro Windows store.</span><span class="sxs-lookup"><span data-stu-id="35d38-277">Prior to ASP.NET 2.0, developers were responsible for implementing both their own user stores and writing the code to validate the supplied credentials against the store.</span></span> <span data-ttu-id="35d38-278">Většina vývojářů by implementovat úložiště uživatele v databázi, vytvoření tabulky s názvem uživatelé s sloupce jako uživatelské jméno, heslo, e-mailu, LastLoginDate a tak dále.</span><span class="sxs-lookup"><span data-stu-id="35d38-278">Most developers would implement the user store in a database, creating a table named Users with columns like UserName, Password, Email, LastLoginDate, and so forth.</span></span> <span data-ttu-id="35d38-279">Tuto tabulku, pak by mít jeden záznam na uživatelský účet.</span><span class="sxs-lookup"><span data-stu-id="35d38-279">This table, then, would have one record per user account.</span></span> <span data-ttu-id="35d38-280">Ověření zadané přihlašovací údaje uživatele by zahrnovat dotaz na databázi k vyhledání uživatelského jména a pak zajistit, aby odpovídaly hesla v databázi zadané heslo.</span><span class="sxs-lookup"><span data-stu-id="35d38-280">Verifying a user's supplied credentials would involve querying the database for a matching username and then ensuring that the password in the database corresponded to the supplied password.</span></span>

<span data-ttu-id="35d38-281">S prostředím ASP.NET 2.0 vývojáři měli jednoho z poskytovatelů členství ke správě používat úložiště uživatele.</span><span class="sxs-lookup"><span data-stu-id="35d38-281">With ASP.NET 2.0, developers should use one of the Membership providers to manage the user store.</span></span> <span data-ttu-id="35d38-282">Tento kurz série použijeme SqlMembershipProvider, která používá databázi systému SQL Server pro úložiště uživatelů.</span><span class="sxs-lookup"><span data-stu-id="35d38-282">In this tutorial series we will be using the SqlMembershipProvider, which uses a SQL Server database for the user store.</span></span> <span data-ttu-id="35d38-283">Při použití SqlMembershipProvider musíme implementovat schéma konkrétní databáze, které obsahuje tabulky, zobrazení a uložených procedur očekává zprostředkovatelem.</span><span class="sxs-lookup"><span data-stu-id="35d38-283">When using the SqlMembershipProvider we need to implement a specific database schema that includes the tables, views, and stored procedures expected by the provider.</span></span> <span data-ttu-id="35d38-284">Vyzkoušíme jak implementovat v tomto schématu ***vytváření schématu členství v systému SQL Server*** kurzu.</span><span class="sxs-lookup"><span data-stu-id="35d38-284">We will examine how to implement this schema in the ***Creating the Membership Schema in SQL Server*** tutorial.</span></span> <span data-ttu-id="35d38-285">S zprostředkovatel členství v místní ověřování přihlašovacích údajů uživatele je jednoduché, volání [třída členství](https://msdn.microsoft.com/en-us/library/system.web.security.membership.aspx)na [ValidateUser (*uživatelské jméno*, *heslo*) Metoda](https://msdn.microsoft.com/en-us/library/system.web.security.membership.validateuser.aspx), která vrací logickou hodnotu, která určuje zda platnost *uživatelské jméno* a *heslo* kombinaci.</span><span class="sxs-lookup"><span data-stu-id="35d38-285">With the Membership provider in place, validating the user's credentials is as simple as calling the [Membership class](https://msdn.microsoft.com/en-us/library/system.web.security.membership.aspx)'s [ValidateUser(*username*, *password*) method](https://msdn.microsoft.com/en-us/library/system.web.security.membership.validateuser.aspx), which returns a Boolean value indicating whether the validity of the *username* and *password* combination.</span></span> <span data-ttu-id="35d38-286">Zjistíte, jak jsme nebyla ještě implementována úložiště uživatele SqlMembershipProvider, nemůžeme použít metoda ValidateUser třída členství v tuto chvíli.</span><span class="sxs-lookup"><span data-stu-id="35d38-286">Seeing as we have not yet implemented the SqlMembershipProvider's user store, we cannot use the Membership class's ValidateUser method at this time.</span></span>

<span data-ttu-id="35d38-287">Místo čekat na sestavení vlastní vlastní uživatelé databázové tabulky (to by být zastaralé, jakmile implementovali jsme SqlMembershipProvider), můžeme místo pevně stránky platné přihlašovací údaje v rámci přihlášení sám sebe.</span><span class="sxs-lookup"><span data-stu-id="35d38-287">Rather than take the time to build our own custom Users database table (which would be obsolete once we implemented the SqlMembershipProvider), let's instead hard-code the valid credentials within the login page itself.</span></span> <span data-ttu-id="35d38-288">V LoginButton klikněte na obslužnou rutinu události, přidejte následující kód:</span><span class="sxs-lookup"><span data-stu-id="35d38-288">In the LoginButton's Click event handler, add the following code:</span></span>

[!code-csharp[Main](an-overview-of-forms-authentication-cs/samples/sample5.cs)]

<span data-ttu-id="35d38-289">Jak vidíte, existují tři platné uživatelské účty – Scott, Jisun a Sam – a všechny tři mít stejné heslo ("password").</span><span class="sxs-lookup"><span data-stu-id="35d38-289">As you can see, there are three valid user accounts – Scott, Jisun, and Sam – and all three have the same password ("password").</span></span> <span data-ttu-id="35d38-290">Kód prochází pole uživatele a hesla vyhledávání shody platné uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="35d38-290">The code loops through the users and passwords arrays looking for a valid username and password match.</span></span> <span data-ttu-id="35d38-291">Pokud uživatelské jméno a heslo platné, musíme přihlásit uživatele a přesměruje je na příslušnou stránku.</span><span class="sxs-lookup"><span data-stu-id="35d38-291">If both the username and password are valid, we need to login the user and then redirect them to the appropriate page.</span></span> <span data-ttu-id="35d38-292">Pokud přihlašovací údaje jsou neplatné, zobrazujeme InvalidCredentialsMessage popisku.</span><span class="sxs-lookup"><span data-stu-id="35d38-292">If the credentials are invalid, then we display the InvalidCredentialsMessage Label.</span></span>

<span data-ttu-id="35d38-293">Když uživatel zadá platné přihlašovací údaje, I uvedeno, zda se pak přesměrují na "příslušnou stránku."</span><span class="sxs-lookup"><span data-stu-id="35d38-293">When a user enters valid credentials, I mentioned that they are then redirected to the "appropriate page."</span></span> <span data-ttu-id="35d38-294">Co když je na příslušnou stránku?</span><span class="sxs-lookup"><span data-stu-id="35d38-294">What is the appropriate page, though?</span></span> <span data-ttu-id="35d38-295">Odvolat, že když uživatel navštíví stránku, kterou uživatel nemá oprávnění k zobrazení, FormsAuthenticationModule automaticky přesměrován na přihlašovací stránku.</span><span class="sxs-lookup"><span data-stu-id="35d38-295">Recall that when a user visits a page they are not authorized to view, the FormsAuthenticationModule automatically redirects them to the login page.</span></span> <span data-ttu-id="35d38-296">Při tom obsahuje požadovanou adresu URL v řetězci dotazu pomocí parametru ReturnUrl.</span><span class="sxs-lookup"><span data-stu-id="35d38-296">In doing so, it includes the requested URL in the querystring via the ReturnUrl parameter.</span></span> <span data-ttu-id="35d38-297">To znamená pokud uživatel se pokusil k navštívení ProtectedPage.aspx a nebyly autorizovány Uděláte to tak, FormsAuthenticationModule by přesměruje je na:</span><span class="sxs-lookup"><span data-stu-id="35d38-297">That is, if a user attempted to visit ProtectedPage.aspx, and they were not authorized to do so, the FormsAuthenticationModule would redirect them to:</span></span>

<span data-ttu-id="35d38-298">Login.aspx? ReturnUrl=ProtectedPage.aspx</span><span class="sxs-lookup"><span data-stu-id="35d38-298">Login.aspx?ReturnUrl=ProtectedPage.aspx</span></span>

<span data-ttu-id="35d38-299">Po úspěšném přihlášení by měl být uživatel přesměrován zpět na ProtectedPage.aspx.</span><span class="sxs-lookup"><span data-stu-id="35d38-299">Upon successfully logging in, the user should be redirected back to ProtectedPage.aspx.</span></span> <span data-ttu-id="35d38-300">Alternativně může uživatelé navštívit stránku pro přihlášení na své vlastní vůle.</span><span class="sxs-lookup"><span data-stu-id="35d38-300">Alternatively, users may visit the login page on their own volition.</span></span> <span data-ttu-id="35d38-301">V takovém případě po přihlášení uživatele se by měly být odeslány na stránku Default.aspx kořenové složce.</span><span class="sxs-lookup"><span data-stu-id="35d38-301">In that case, after logging in the user they should be sent to the root folder's Default.aspx page.</span></span>

### <a name="logging-in-the-user"></a><span data-ttu-id="35d38-302">Přihlášení uživatele</span><span class="sxs-lookup"><span data-stu-id="35d38-302">Logging In the User</span></span>

<span data-ttu-id="35d38-303">Za předpokladu, že zadané přihlašovací údaje jsou platné, je potřeba vytvořit lístek ověřování formulářů tím přihlášení uživatele k webu.</span><span class="sxs-lookup"><span data-stu-id="35d38-303">Assuming that the supplied credentials are valid, we need to create a forms authentication ticket, thereby logging in the user to the site.</span></span> <span data-ttu-id="35d38-304">[FormsAuthentication třída](https://msdn.microsoft.com/en-us/library/system.web.security.formsauthentication.aspx) v [obor názvů System.Web.Security](https://msdn.microsoft.com/en-us/library/system.web.security.aspx) poskytuje různé metody pro protokolování v a odhlašování uživatelů prostřednictvím formuláře ověřování systému.</span><span class="sxs-lookup"><span data-stu-id="35d38-304">The [FormsAuthentication class](https://msdn.microsoft.com/en-us/library/system.web.security.formsauthentication.aspx) in the [System.Web.Security namespace](https://msdn.microsoft.com/en-us/library/system.web.security.aspx) provides assorted methods for logging in and logging out users via the forms authentication system.</span></span> <span data-ttu-id="35d38-305">Existuje několik metod ve třídě, ověřování pomocí formulářů, jsou tři, které jsme zajímají v této situaci řešit:</span><span class="sxs-lookup"><span data-stu-id="35d38-305">While there are several methods in the FormsAuthentication class, the three we are interested in at this juncture are:</span></span>

- <span data-ttu-id="35d38-306">[GetAuthCookie (*uživatelské jméno*, *persistCookie*)](https://msdn.microsoft.com/en-us/library/system.web.security.formsauthentication.getauthcookie.aspx) – vytvoří ověřovací lístek pro zadaný název *uživatelské jméno*.</span><span class="sxs-lookup"><span data-stu-id="35d38-306">[GetAuthCookie(*username*, *persistCookie*)](https://msdn.microsoft.com/en-us/library/system.web.security.formsauthentication.getauthcookie.aspx) – creates a forms authentication ticket for the supplied name *username*.</span></span> <span data-ttu-id="35d38-307">Dále tato metoda vytvoří a vrátí objekt HttpCookie, který obsahuje obsah lístek ověřování.</span><span class="sxs-lookup"><span data-stu-id="35d38-307">Next, this method creates and returns an HttpCookie object that holds the contents of the authentication ticket.</span></span> <span data-ttu-id="35d38-308">Pokud *persistCookie* má hodnotu true, je vytvoření trvalého souboru cookie.</span><span class="sxs-lookup"><span data-stu-id="35d38-308">If *persistCookie* is true, a persistent cookie is created.</span></span>
- <span data-ttu-id="35d38-309">[SetAuthCookie (*uživatelské jméno*, *persistCookie*)](https://msdn.microsoft.com/en-us/library/system.web.security.formsauthentication.setauthcookie.aspx) – volá GetAuthCookie (*uživatelské jméno*, *persistCookie*) Metoda pro generování souboru cookie ověřování pomocí formulářů.</span><span class="sxs-lookup"><span data-stu-id="35d38-309">[SetAuthCookie(*username*, *persistCookie*)](https://msdn.microsoft.com/en-us/library/system.web.security.formsauthentication.setauthcookie.aspx) – calls the GetAuthCookie(*username*, *persistCookie*) method to generate the forms authentication cookie.</span></span> <span data-ttu-id="35d38-310">Tato metoda pak přidá soubor cookie vrácený GetAuthCookie ke kolekci souborů cookie (za předpokladu, že ověřování pomocí formulářů na základě souborů cookie se použít; jinak, tato metoda volá interní třída, která zpracovává logiku bez souborů cookie lístku).</span><span class="sxs-lookup"><span data-stu-id="35d38-310">This method then adds the cookie returned by GetAuthCookie to the Cookies collection (assuming cookies-based forms authentication is being used; otherwise, this method calls an internal class that handles the cookieless ticket logic).</span></span>
- <span data-ttu-id="35d38-311">[RedirectFromLoginPage (*uživatelské jméno*, *persistCookie*)](https://msdn.microsoft.com/en-us/library/system.web.security.formsauthentication.redirectfromloginpage.aspx) – tato metoda volá SetAuthCookie (*uživatelské jméno*, *persistCookie* ) a pak přesměruje uživatele na příslušnou stránku.</span><span class="sxs-lookup"><span data-stu-id="35d38-311">[RedirectFromLoginPage(*username*, *persistCookie*)](https://msdn.microsoft.com/en-us/library/system.web.security.formsauthentication.redirectfromloginpage.aspx) – this method calls SetAuthCookie(*username*, *persistCookie*), and then redirects the user to the appropriate page.</span></span>

<span data-ttu-id="35d38-312">GetAuthCookie je užitečné, když budete muset upravit lístek ověřování před zápisem soubor cookie ke kolekci souborů cookie.</span><span class="sxs-lookup"><span data-stu-id="35d38-312">GetAuthCookie is handy when you need to modify the authentication ticket before writing the cookie out to the Cookies collection.</span></span> <span data-ttu-id="35d38-313">SetAuthCookie je užitečné, pokud chcete vytvořit lístek pro ověřování formuláře a přidat jej do kolekce souborů cookie, ale nechcete přesměruje uživatele na příslušnou stránku.</span><span class="sxs-lookup"><span data-stu-id="35d38-313">SetAuthCookie is useful if you want to create the forms authentication ticket and add it to the Cookies collection, but do not want to redirect the user to the appropriate page.</span></span> <span data-ttu-id="35d38-314">Možná budete chtít zachovat jejich na přihlašovací stránku nebo poslat některé alternativní stránku.</span><span class="sxs-lookup"><span data-stu-id="35d38-314">Perhaps you want to keep them on the login page or send them to some alternate page.</span></span>

<span data-ttu-id="35d38-315">Vzhledem k tomu, že chceme přihlásit uživatele a přesměruje je na příslušnou stránku, použijeme RedirectFromLoginPage.</span><span class="sxs-lookup"><span data-stu-id="35d38-315">Since we want to log in the user and redirect them to the appropriate page, let's use RedirectFromLoginPage.</span></span> <span data-ttu-id="35d38-316">Aktualizovat kliknutím LoginButton obslužné rutiny události, nahraďte dva řádky komentářů TODO následující řádek kódu:</span><span class="sxs-lookup"><span data-stu-id="35d38-316">Update the LoginButton's Click event handler, replacing the two commented TODO lines with the following line of code:</span></span>

<span data-ttu-id="35d38-317">FormsAuthentication.RedirectFromLoginPage (UserName.Text, RememberMe.Checked);</span><span class="sxs-lookup"><span data-stu-id="35d38-317">FormsAuthentication.RedirectFromLoginPage(UserName.Text, RememberMe.Checked);</span></span>

<span data-ttu-id="35d38-318">Při vytváření formuláře lístek ověřování používáme vlastnost Text textového pole uživatelské jméno pro ověřovací lístek *uživatelské jméno* parametr a stav zaškrtnutí políčka obdobou  *persistCookie* parametr.</span><span class="sxs-lookup"><span data-stu-id="35d38-318">When creating the forms authentication ticket we use the UserName TextBox's Text property for the forms authentication ticket *username* parameter, and the checked state of the RememberMe CheckBox for the *persistCookie* parameter.</span></span>

<span data-ttu-id="35d38-319">K testování přihlašovací stránky, přejděte v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="35d38-319">To test the login page, visit it in a browser.</span></span> <span data-ttu-id="35d38-320">Spustit zadáním neplatné přihlašovací údaje, jako je například "Nope" uživatelské jméno a heslo "nesprávné".</span><span class="sxs-lookup"><span data-stu-id="35d38-320">Start by entering invalid credentials, such as a username of "Nope" and a password of "wrong".</span></span> <span data-ttu-id="35d38-321">Po kliknutí na tlačítko přihlášení dojde ke zpětné volání a zobrazí se popisek InvalidCredentialsMessage.</span><span class="sxs-lookup"><span data-stu-id="35d38-321">Upon clicking the Login button a postback will occur and the InvalidCredentialsMessage Label will be displayed.</span></span>


<span data-ttu-id="35d38-322">[![Popisek InvalidCredentialsMessage se zobrazí při zadávání neplatné přihlašovací údaje](an-overview-of-forms-authentication-cs/_static/image25.png)](an-overview-of-forms-authentication-cs/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="35d38-322">[![The InvalidCredentialsMessage Label is Displayed When Entering Invalid Credentials](an-overview-of-forms-authentication-cs/_static/image25.png)](an-overview-of-forms-authentication-cs/_static/image24.png)</span></span>

<span data-ttu-id="35d38-323">**Obrázek 10**: The InvalidCredentialsMessage popisek se zobrazí při zadávání neplatné přihlašovací údaje ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-forms-authentication-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="35d38-323">**Figure 10**: The InvalidCredentialsMessage Label is Displayed When Entering Invalid Credentials ([Click to view full-size image](an-overview-of-forms-authentication-cs/_static/image26.png))</span></span>


<span data-ttu-id="35d38-324">Potom zadejte platné přihlašovací údaje a klikněte na tlačítko přihlášení.</span><span class="sxs-lookup"><span data-stu-id="35d38-324">Next, enter valid credentials and click the Login button.</span></span> <span data-ttu-id="35d38-325">Tentokrát zpětné volání v případech lístek ověřování formulářů je vytvořený a budete automaticky přesměrováni zpět na Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="35d38-325">This time when the postback occurs a forms authentication ticket is created and you are automatically redirected back to Default.aspx.</span></span> <span data-ttu-id="35d38-326">V tomto okamžiku jste byli přihlášeni k webu, i když neexistují žádné vizuální upozornění k označení, že jste aktuálně přihlášeni.</span><span class="sxs-lookup"><span data-stu-id="35d38-326">At this point you have logged in to the website, although there are no visual cues to indicate that you are currently logged in.</span></span> <span data-ttu-id="35d38-327">V kroku 4 zjistíme, jak programově určit, jestli uživatel přihlášen v nebo není a také jak k identifikaci uživatele na stránce.</span><span class="sxs-lookup"><span data-stu-id="35d38-327">In Step 4 we will see how to programmatically determine whether a user is logged in or not as well as how to identify the user visiting the page.</span></span>

<span data-ttu-id="35d38-328">Krok 5 prověří techniky pro protokolování uživatele z webu.</span><span class="sxs-lookup"><span data-stu-id="35d38-328">Step 5 examines techniques for logging a user out of the website.</span></span>

### <a name="securing-the-login-page"></a><span data-ttu-id="35d38-329">Zabezpečení přihlašovací stránky</span><span class="sxs-lookup"><span data-stu-id="35d38-329">Securing the Login Page</span></span>

<span data-ttu-id="35d38-330">Když uživatel zadá své přihlašovací údaje a přihlašovací stránky formulář odešle, přenosu přihlašovacích údajů, – včetně jeho hesla – prostřednictvím Internetu na webový server v *prostý text*.</span><span class="sxs-lookup"><span data-stu-id="35d38-330">When the user enters her credentials and submits the login page form, the credentials – including her password – are transmitted over the Internet to the web server in *plain text*.</span></span> <span data-ttu-id="35d38-331">To znamená, že všechny poskytuje sledování toku dat síťový provoz můžete zobrazit uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="35d38-331">That means any hacker sniffing the network traffic can see the username and password.</span></span> <span data-ttu-id="35d38-332">Chcete-li tomu zabránit, je nezbytné k šifrování síťového provozu pomocí [vrstvy SSL (Secure Socket)](http://en.wikipedia.org/wiki/Secure_Sockets_Layer).</span><span class="sxs-lookup"><span data-stu-id="35d38-332">To prevent this, it is essential to encrypt the network traffic by using [Secure Socket Layers (SSL)](http://en.wikipedia.org/wiki/Secure_Sockets_Layer).</span></span> <span data-ttu-id="35d38-333">Tím bude zajištěno, že přihlašovací údaje (stejně jako značka jazyka HTML celou stránku) jsou šifrována od okamžiku, kdy opustí prohlížeče, dokud nedorazí k příjemci webový server.</span><span class="sxs-lookup"><span data-stu-id="35d38-333">This will ensure that the credentials (as well as the entire page's HTML markup) are encrypted from the moment they leave the browser until they are received by the web server.</span></span>

<span data-ttu-id="35d38-334">Pokud váš web obsahuje citlivé informace, jenom musíte používat protokol SSL na přihlašovací stránku a na jiných stránkách, kde hesla by jinak být odeslány prostřednictvím sítě jako ve formátu prostého textu.</span><span class="sxs-lookup"><span data-stu-id="35d38-334">Unless your website contains sensitive information, you will only need to use SSL on the login page and on other pages where the user's password would otherwise be sent over the wire in plain text.</span></span> <span data-ttu-id="35d38-335">Nemusíte si dělat starosti o zabezpečení formuláře lístek ověřování, protože ve výchozím nastavení, jak šifrována a digitálně podepsané (Chcete-li zabránit manipulaci).</span><span class="sxs-lookup"><span data-stu-id="35d38-335">You do not need to worry about securing the forms authentication ticket since, by default, it is both encrypted and digitally signed (to prevent tampering).</span></span> <span data-ttu-id="35d38-336">Podrobnější informace o bezpečnostních lístek ověřování formulářů je uvedené v následujícím kurzu.</span><span class="sxs-lookup"><span data-stu-id="35d38-336">A more thorough discussion on forms authentication ticket security is presented in the following tutorial.</span></span>

> [!NOTE]
> <span data-ttu-id="35d38-337">Mnohé weby finančních a lékařské jsou nakonfigurovány pro použití protokolu SSL na *všechny* stránky, které jsou přístupné pro ověřené uživatele.</span><span class="sxs-lookup"><span data-stu-id="35d38-337">Many financial and medical websites are configured to use SSL on *all* pages accessible to authenticated users.</span></span> <span data-ttu-id="35d38-338">Pokud vytváříte web, systém ověřování formulářů můžete nakonfigurovat tak, aby lístek pro ověřování pomocí formulářů je pouze přenést přes zabezpečené připojení.</span><span class="sxs-lookup"><span data-stu-id="35d38-338">If you are building such a website you can configure the forms authentication system so that the forms authentication ticket is only transmitted over a secure connection.</span></span> <span data-ttu-id="35d38-339">Podíváme se na různé možnosti konfigurace ověřování formulářů v dalším kurzu  *[konfiguraci ověřování formulářů a rozšířené témata](forms-authentication-configuration-and-advanced-topics-cs.md)*.</span><span class="sxs-lookup"><span data-stu-id="35d38-339">We will look at the various forms authentication configuration options in the next tutorial, *[Forms Authentication Configuration and Advanced Topics](forms-authentication-configuration-and-advanced-topics-cs.md)*.</span></span>


## <a name="step-4-detecting-authenticated-visitors-and-determining-their-identity"></a><span data-ttu-id="35d38-340">Krok 4: Zjišťování ověřené návštěvníky a určení Identity</span><span class="sxs-lookup"><span data-stu-id="35d38-340">Step 4: Detecting Authenticated Visitors and Determining Their Identity</span></span>

<span data-ttu-id="35d38-341">V tuto chvíli jsme povolit ověřování pomocí formulářů a vytvořit elementární přihlašovací stránku, ale musíme ještě zkontrolujte, jak jsme můžete určit, zda je uživatel ověřený nebo anonymní.</span><span class="sxs-lookup"><span data-stu-id="35d38-341">At this point we have enabled forms authentication and created a rudimentary login page, but we have yet to examine how we can determine whether a user is authenticated or anonymous.</span></span> <span data-ttu-id="35d38-342">V některých případech může chceme zobrazit různé data nebo informace v závislosti na tom, jestli ověřený nebo anonymní uživatele je na stránce.</span><span class="sxs-lookup"><span data-stu-id="35d38-342">In certain scenarios we may wish to display different data or information depending on whether an authenticated or anonymous user is visiting the page.</span></span> <span data-ttu-id="35d38-343">Kromě toho je často potřeba znát identitu ověřeného uživatele.</span><span class="sxs-lookup"><span data-stu-id="35d38-343">Moreover, we oftentimes need to know the identity of the authenticated user.</span></span>

<span data-ttu-id="35d38-344">Umožňuje rozšířit existující stránku Default.aspx k objasnění těchto postupů.</span><span class="sxs-lookup"><span data-stu-id="35d38-344">Let's augment the existing Default.aspx page to illustrate these techniques.</span></span> <span data-ttu-id="35d38-345">Default.aspx přidejte dva ovládací prvky Panel, jednu s názvem AuthenticatedMessagePanel a jiné pojmenované AnonymousMessagePanel.</span><span class="sxs-lookup"><span data-stu-id="35d38-345">In Default.aspx add two Panel controls, one named AuthenticatedMessagePanel and another named AnonymousMessagePanel.</span></span> <span data-ttu-id="35d38-346">Přidání ovládacího prvku popisek s názvem WelcomeBackMessage v prvním panelu.</span><span class="sxs-lookup"><span data-stu-id="35d38-346">Add a Label control named WelcomeBackMessage in the first Panel.</span></span> <span data-ttu-id="35d38-347">V druhém panelu Přidání ovládacího prvku hypertextový odkaz, nastavte jeho vlastnost Text na "Přihlášení" a jeho vlastnost NavigateUrl na "~ / Login.aspx".</span><span class="sxs-lookup"><span data-stu-id="35d38-347">In the second Panel add a HyperLink control, set its Text property to "Log In" and its NavigateUrl property to "~/Login.aspx".</span></span> <span data-ttu-id="35d38-348">Deklarativní Default.aspx v tomto okamžiku by měl vypadat podobně jako následující:</span><span class="sxs-lookup"><span data-stu-id="35d38-348">At this point the declarative markup for Default.aspx should look similar to the following:</span></span>

[!code-aspx[Main](an-overview-of-forms-authentication-cs/samples/sample6.aspx)]

<span data-ttu-id="35d38-349">Mít pravděpodobně uhádnout nyní, nápad sem je zobrazíte právě AuthenticatedMessagePanel ověřené návštěvníky a právě AnonymousMessagePanel pro anonymní návštěvníky.</span><span class="sxs-lookup"><span data-stu-id="35d38-349">As you have probably guessed by now, the idea here is to display just the AuthenticatedMessagePanel to authenticated visitors and just the AnonymousMessagePanel to anonymous visitors.</span></span> <span data-ttu-id="35d38-350">K tomu je potřeba nastavit tyto panely vlastnosti viditelné v závislosti na tom, zda uživatel je přihlášen nebo ne.</span><span class="sxs-lookup"><span data-stu-id="35d38-350">To accomplish this we need to set these Panels' Visible properties depending on whether the user is logged in or not.</span></span>

<span data-ttu-id="35d38-351">[Request.IsAuthenticated vlastnost](https://msdn.microsoft.com/en-us/library/system.web.httprequest.isauthenticated.aspx) vrací logickou hodnotu udávající, zda byl požadavek ověřen.</span><span class="sxs-lookup"><span data-stu-id="35d38-351">The [Request.IsAuthenticated property](https://msdn.microsoft.com/en-us/library/system.web.httprequest.isauthenticated.aspx) returns a Boolean value indicating whether the request has been authenticated.</span></span> <span data-ttu-id="35d38-352">Zadejte následující kód na stránku\_načíst kód obslužné rutiny událostí:</span><span class="sxs-lookup"><span data-stu-id="35d38-352">Enter the following code into the Page\_Load event handler code:</span></span>

[!code-csharp[Main](an-overview-of-forms-authentication-cs/samples/sample7.cs)]

<span data-ttu-id="35d38-353">S tímto kódem na místě navštivte Default.aspx prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="35d38-353">With this code in place, visit Default.aspx through a browser.</span></span> <span data-ttu-id="35d38-354">Za předpokladu, že máte ještě přihlásit, zobrazí se odkaz na přihlašovací stránku (viz obrázek 11).</span><span class="sxs-lookup"><span data-stu-id="35d38-354">Assuming that you have yet to log in, you will see a link to the login page (see Figure 11).</span></span> <span data-ttu-id="35d38-355">Kliknutím na tento odkaz a přihlaste se k webu.</span><span class="sxs-lookup"><span data-stu-id="35d38-355">Click this link and log in to the site.</span></span> <span data-ttu-id="35d38-356">Jak jsme viděli v kroku 3, po zadání přihlašovacích údajů se vrátíte na stránku Default.aspx, ale tentokrát stránce se zobrazuje "Vítejte zpátky!"</span><span class="sxs-lookup"><span data-stu-id="35d38-356">As we saw in Step 3, after entering your credentials you will be returned to Default.aspx, but this time the page shows the "Welcome back!"</span></span> <span data-ttu-id="35d38-357">zpráva (viz obrázek 12).</span><span class="sxs-lookup"><span data-stu-id="35d38-357">message (see Figure 12).</span></span>


![Při návštěvě anonymně, protokolu v odkazu se zobrazí](an-overview-of-forms-authentication-cs/_static/image27.png)

<span data-ttu-id="35d38-359">**Obrázek 11**: při návštěvě anonymně, protokolu v odkazu se zobrazí.</span><span class="sxs-lookup"><span data-stu-id="35d38-359">**Figure 11**: When Visiting Anonymously, a Log In Link is Displayed</span></span>


![Ověření uživatelé se zobrazují](an-overview-of-forms-authentication-cs/_static/image28.png)

<span data-ttu-id="35d38-361">**Obrázek 12**: Authenticated Users se zobrazují "Vítejte zpět!"</span><span class="sxs-lookup"><span data-stu-id="35d38-361">**Figure 12**: Authenticated Users are Shown the "Welcome back!"</span></span> <span data-ttu-id="35d38-362">Zpráva</span><span class="sxs-lookup"><span data-stu-id="35d38-362">Message</span></span>


<span data-ttu-id="35d38-363">Můžeme určit identitu aktuálně přihlášeného uživatele prostřednictvím [HttpContext objekt](https://msdn.microsoft.com/en-us/library/system.web.httpcontext.aspx)na [vlastnost uživatele](https://msdn.microsoft.com/en-us/library/system.web.httpcontext.user.aspx).</span><span class="sxs-lookup"><span data-stu-id="35d38-363">We can determine the currently logged on user's identity via the [HttpContext object](https://msdn.microsoft.com/en-us/library/system.web.httpcontext.aspx)'s [User property](https://msdn.microsoft.com/en-us/library/system.web.httpcontext.user.aspx).</span></span> <span data-ttu-id="35d38-364">Objekt HttpContext představuje informace o aktuálním požadavku a je domovská stránka pro tyto objekty běžné ASP.NET jako odpověď, žádost a relace, mimo jiné.</span><span class="sxs-lookup"><span data-stu-id="35d38-364">The HttpContext object represents information about the current request, and is the home for such common ASP.NET objects as Response, Request, and Session, among others.</span></span> <span data-ttu-id="35d38-365">Představuje kontext zabezpečení aktuálního požadavku HTTP a implementuje vlastnost uživatele [rozhraní IPrincipal](https://msdn.microsoft.com/en-us/library/system.security.principal.iprincipal.aspx).</span><span class="sxs-lookup"><span data-stu-id="35d38-365">The User property represents the security context of the current HTTP request and implements the [IPrincipal interface](https://msdn.microsoft.com/en-us/library/system.security.principal.iprincipal.aspx).</span></span>

<span data-ttu-id="35d38-366">Pomocí FormsAuthenticationModule nastavena vlastnost uživatele.</span><span class="sxs-lookup"><span data-stu-id="35d38-366">The User property is set by the FormsAuthenticationModule.</span></span> <span data-ttu-id="35d38-367">Konkrétně když FormsAuthenticationModule vyhledá lístek ověřování formulářů v příchozím požadavku, se vytvoří nový objekt GenericPrincipal a přiřadí ji k vlastnost uživatele.</span><span class="sxs-lookup"><span data-stu-id="35d38-367">Specifically, when the FormsAuthenticationModule finds a forms authentication ticket in the incoming request, it creates a new GenericPrincipal object and assigns it to the User property.</span></span>

<span data-ttu-id="35d38-368">Hlavní objekty (např. GenericPrincipal) poskytují informace o identitu uživatele a role, do kterých patří.</span><span class="sxs-lookup"><span data-stu-id="35d38-368">Principal objects (like GenericPrincipal) provide information on the user's identity and the roles to which they belong.</span></span> <span data-ttu-id="35d38-369">Rozhraní IPrincipal definuje dva členy:</span><span class="sxs-lookup"><span data-stu-id="35d38-369">The IPrincipal interface defines two members:</span></span>

- <span data-ttu-id="35d38-370">[IsInRole (*roleName*)](https://msdn.microsoft.com/en-us/library/system.security.principal.iprincipal.isinrole.aspx) – metodu, která vrací logickou hodnotu udávající, pokud objekt patří do zadané roli.</span><span class="sxs-lookup"><span data-stu-id="35d38-370">[IsInRole(*roleName*)](https://msdn.microsoft.com/en-us/library/system.security.principal.iprincipal.isinrole.aspx) – a method that returns a Boolean value indicating if the principal belongs to the specified role.</span></span>
- <span data-ttu-id="35d38-371">[Identity](https://msdn.microsoft.com/en-us/library/system.security.principal.iprincipal.identity.aspx) – vlastnosti, která vrátí objekt, který implementuje [identita rozhraní](https://msdn.microsoft.com/en-us/library/system.security.principal.iidentity.aspx).</span><span class="sxs-lookup"><span data-stu-id="35d38-371">[Identity](https://msdn.microsoft.com/en-us/library/system.security.principal.iprincipal.identity.aspx) – a property that returns an object that implements the [IIdentity interface](https://msdn.microsoft.com/en-us/library/system.security.principal.iidentity.aspx).</span></span> <span data-ttu-id="35d38-372">Definuje rozhraní IIdentity tři vlastnosti: [AuthenticationType](https://msdn.microsoft.com/en-us/library/system.security.principal.iidentity.authenticationtype.aspx), [IsAuthenticated](https://msdn.microsoft.com/en-us/library/system.security.principal.iidentity.isauthenticated.aspx), a [název](https://msdn.microsoft.com/en-us/library/system.security.principal.iidentity.name.aspx).</span><span class="sxs-lookup"><span data-stu-id="35d38-372">The IIdentity interface defines three properties: [AuthenticationType](https://msdn.microsoft.com/en-us/library/system.security.principal.iidentity.authenticationtype.aspx), [IsAuthenticated](https://msdn.microsoft.com/en-us/library/system.security.principal.iidentity.isauthenticated.aspx), and [Name](https://msdn.microsoft.com/en-us/library/system.security.principal.iidentity.name.aspx).</span></span>

<span data-ttu-id="35d38-373">Můžeme určit název aktuální návštěvníka pomocí následujícího kódu:</span><span class="sxs-lookup"><span data-stu-id="35d38-373">We can determine the name of the current visitor using the following code:</span></span>

<span data-ttu-id="35d38-374">řetězec currentUsersName = User.Identity.Name;</span><span class="sxs-lookup"><span data-stu-id="35d38-374">string currentUsersName = User.Identity.Name;</span></span>

<span data-ttu-id="35d38-375">Při ověřování pomocí formulářů [FormsIdentity objekt](https://msdn.microsoft.com/en-us/library/system.web.security.formsidentity.aspx) je pro vlastnost Identity GenericPrincipal vytvořena.</span><span class="sxs-lookup"><span data-stu-id="35d38-375">When using forms authentication, a [FormsIdentity object](https://msdn.microsoft.com/en-us/library/system.web.security.formsidentity.aspx) is created for the GenericPrincipal's Identity property.</span></span> <span data-ttu-id="35d38-376">Třída FormsIdentity vždy vrátí řetězec "Forms" pro jeho vlastnost AuthenticationType a hodnotu true pro vlastnost jeho IsAuthenticated.</span><span class="sxs-lookup"><span data-stu-id="35d38-376">The FormsIdentity class always returns the string "Forms" for its AuthenticationType property and true for its IsAuthenticated property.</span></span> <span data-ttu-id="35d38-377">Vlastnost názvu vrátí zadané uživatelské jméno při vytváření formuláře lístek ověřování.</span><span class="sxs-lookup"><span data-stu-id="35d38-377">The Name property returns the username specified when creating the forms authentication ticket.</span></span> <span data-ttu-id="35d38-378">Kromě těchto tří vlastností FormsIdentity zahrnuje přístup k podkladové lístek ověřování přes jeho [lístku vlastnost](https://msdn.microsoft.com/en-us/library/system.web.security.formsidentity.ticket.aspx).</span><span class="sxs-lookup"><span data-stu-id="35d38-378">In addition to these three properties, FormsIdentity includes access to the underlying authentication ticket via its [Ticket property](https://msdn.microsoft.com/en-us/library/system.web.security.formsidentity.ticket.aspx).</span></span> <span data-ttu-id="35d38-379">Vlastnosti Ticket vrátí objekt typu [FormsAuthenticationTicket](https://msdn.microsoft.com/en-us/library/system.web.security.formsauthenticationticket.aspx), který má vlastnosti, například vypršení platnosti, IsPersistent, IssueDate, název a tak dále.</span><span class="sxs-lookup"><span data-stu-id="35d38-379">The Ticket property returns an object of type [FormsAuthenticationTicket](https://msdn.microsoft.com/en-us/library/system.web.security.formsauthenticationticket.aspx), which has properties like Expiration, IsPersistent, IssueDate, Name, and so on.</span></span>

<span data-ttu-id="35d38-380">Důležité vzít v ulici, zde je, že *uživatelské jméno* parametr zadaný v FormsAuthentication.GetAuthCookie (*uživatelské jméno*, *persistCookie*), FormsAuthentication.SetAuthCookie (*uživatelské jméno*, *persistCookie*) a FormsAuthentication.RedirectFromLoginPage (*uživatelské jméno*, *persistCookie*) metody je stejné hodnoty vrácené User.Identity.Name.</span><span class="sxs-lookup"><span data-stu-id="35d38-380">The important point to take away here is that the *username* parameter specified in the FormsAuthentication.GetAuthCookie(*username*, *persistCookie*), FormsAuthentication.SetAuthCookie(*username*, *persistCookie*), and FormsAuthentication.RedirectFromLoginPage(*username*, *persistCookie*) methods is the same value returned by User.Identity.Name.</span></span> <span data-ttu-id="35d38-381">Lístek ověřování vytvořené tyto metody je navíc k dispozici přetypování User.Identity na FormsIdentity objekt a poté přístup k vlastnosti Ticket.:</span><span class="sxs-lookup"><span data-stu-id="35d38-381">Moreover, the authentication ticket created by these methods is available by casting User.Identity to a FormsIdentity object and then accessing the Ticket property:</span></span>

[!code-csharp[Main](an-overview-of-forms-authentication-cs/samples/sample8.cs)]

<span data-ttu-id="35d38-382">Umožňuje přidat více přizpůsobené zprávu ve Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="35d38-382">Let's provide a more personalized message in Default.aspx.</span></span> <span data-ttu-id="35d38-383">Aktualizovat stránku\_načíst obslužné rutiny události tak, aby vlastnost Text popisku WelcomeBackMessage je přiřazen řetězec "Vítejte zpátky, *uživatelské jméno*!"</span><span class="sxs-lookup"><span data-stu-id="35d38-383">Update the Page\_Load event handler so that the WelcomeBackMessage Label's Text property is assigned the string "Welcome back, *username*!"</span></span>

<span data-ttu-id="35d38-384">WelcomeBackMessage.Text = "Vítejte zpět" + User.Identity.Name + "!";</span><span class="sxs-lookup"><span data-stu-id="35d38-384">WelcomeBackMessage.Text = "Welcome back, " + User.Identity.Name + "!";</span></span>

<span data-ttu-id="35d38-385">Obrázek 13 ukazuje účinek této změny (při přihlášení se jako uživatel Scott).</span><span class="sxs-lookup"><span data-stu-id="35d38-385">Figure 13 shows the effect of this modification (when logging in as user Scott).</span></span>


![Zobrazení uvítací zprávy obsahuje aktuálně přihlášeného uživatelského jména](an-overview-of-forms-authentication-cs/_static/image29.png)

<span data-ttu-id="35d38-387">**Obrázek 13**: zobrazení uvítací zprávy obsahuje aktuálně přihlášeného uživatelského jména</span><span class="sxs-lookup"><span data-stu-id="35d38-387">**Figure 13**: The Welcome Message Includes the Currently Logged In User's Name</span></span>


### <a name="using-the-loginview-and-loginname-controls"></a><span data-ttu-id="35d38-388">Pomocí LoginView a LoginName ovládací prvky</span><span class="sxs-lookup"><span data-stu-id="35d38-388">Using the LoginView and LoginName Controls</span></span>

<span data-ttu-id="35d38-389">Zobrazení jiný obsah ověřený a anonymním uživatelům je běžné požadavek; Proto je zobrazení jméno aktuálně přihlášeného uživatele.</span><span class="sxs-lookup"><span data-stu-id="35d38-389">Displaying different content to authenticated and anonymous users is a common requirement; so is displaying the name of the currently logged on user.</span></span> <span data-ttu-id="35d38-390">Z tohoto důvodu technologie ASP.NET obsahuje dva webové ovládací prvky, které nabízí stejnou funkčnost zobrazí obrázek 13, ale bez nutnosti napsat jediný řádek kódu.</span><span class="sxs-lookup"><span data-stu-id="35d38-390">For that reason, ASP.NET includes two Web controls that provide the same functionality shown in Figure 13, but without the need to write a single line of code.</span></span>

<span data-ttu-id="35d38-391">[Ovládací prvek LoginView](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.loginview.aspx) je založené na šablonách webové ovládací prvek, který lze snadno zobrazit různé datové ověřený a anonymním uživatelům.</span><span class="sxs-lookup"><span data-stu-id="35d38-391">The [LoginView control](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.loginview.aspx) is a template-based Web control that makes it easy to display different data to authenticated and anonymous users.</span></span> <span data-ttu-id="35d38-392">LoginView obsahuje dvě předdefinované šablony:</span><span class="sxs-lookup"><span data-stu-id="35d38-392">The LoginView includes two predefined templates:</span></span>

- <span data-ttu-id="35d38-393">AnonymousTemplate – všechny značky, přidat do této šablony se zobrazí pouze anonymní návštěvníky.</span><span class="sxs-lookup"><span data-stu-id="35d38-393">AnonymousTemplate – any markup added to this template is only displayed to anonymous visitors.</span></span>
- <span data-ttu-id="35d38-394">LoggedInTemplate – značek této šablony se zobrazí pouze ověřeným uživatelům.</span><span class="sxs-lookup"><span data-stu-id="35d38-394">LoggedInTemplate – this template's markup is shown only to authenticated users.</span></span>

<span data-ttu-id="35d38-395">Umožňuje přidání ovládacího prvku LoginView náš web stránku předlohy, Site.master.</span><span class="sxs-lookup"><span data-stu-id="35d38-395">Let's add the LoginView control to our site's master page, Site.master.</span></span> <span data-ttu-id="35d38-396">Místo přidávání právě ovládacího prvku LoginView, ale umožňuje přidat i nové ContentPlaceHolder ovládací prvek a pak přesuňte LoginView ovládací prvek v rámci této nové ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="35d38-396">Rather than adding just the LoginView control, though, let's add both a new ContentPlaceHolder control and then put the LoginView control within that new ContentPlaceHolder.</span></span> <span data-ttu-id="35d38-397">Důvody toto rozhodnutí se stane zřejmá za chvíli.</span><span class="sxs-lookup"><span data-stu-id="35d38-397">The rationale for this decision will become apparent shortly.</span></span>

> [!NOTE]
> <span data-ttu-id="35d38-398">Kromě AnonymousTemplate a LoggedInTemplate může zahrnovat ovládacího prvku LoginView šablony pro konkrétní role.</span><span class="sxs-lookup"><span data-stu-id="35d38-398">In addition to the AnonymousTemplate and LoggedInTemplate, the LoginView control can include role-specific templates.</span></span> <span data-ttu-id="35d38-399">Šablony pro konkrétní role Zobrazit revize jenom na uživatele, kteří patří do zadané roli.</span><span class="sxs-lookup"><span data-stu-id="35d38-399">Role-specific templates show markup only to those users that belong to a specified role.</span></span> <span data-ttu-id="35d38-400">Na základě rolí funkce řízení LoginView vyzkoušíme budoucí kurzu.</span><span class="sxs-lookup"><span data-stu-id="35d38-400">We will examine the role-based features of the LoginView control in a future tutorial.</span></span>


<span data-ttu-id="35d38-401">Začněte přidáním ContentPlaceHolder, s názvem LoginContent na hlavní stránku v rámci navigaci &lt;div&gt; elementu.</span><span class="sxs-lookup"><span data-stu-id="35d38-401">Start by adding a ContentPlaceHolder named LoginContent into the master page within the navigation &lt;div&gt; element.</span></span> <span data-ttu-id="35d38-402">Můžete jednoduše přetáhněte ovládací prvek ContentPlaceHolder z panelu nástrojů na zobrazení zdroje umístění výsledný kód vpravo nahoře "TODO: nabídky bude přejděte sem..."</span><span class="sxs-lookup"><span data-stu-id="35d38-402">You can simply drag a ContentPlaceHolder control from the Toolbox onto the Source view, placing the resulting markup right above the "TODO: Menu will go here…"</span></span> <span data-ttu-id="35d38-403">text.</span><span class="sxs-lookup"><span data-stu-id="35d38-403">text.</span></span>

[!code-aspx[Main](an-overview-of-forms-authentication-cs/samples/sample9.aspx)]

<span data-ttu-id="35d38-404">V dalším kroku přidáte LoginView ovládací prvek v rámci LoginContent ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="35d38-404">Next, add a LoginView control within the LoginContent ContentPlaceHolder.</span></span> <span data-ttu-id="35d38-405">Obsah umístí do ovládacích prvků ContentPlaceHolder stránky předlohy jsou považovány za *výchozí obsah* pro ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="35d38-405">Content placed into the master page's ContentPlaceHolder controls are considered *default content* for the ContentPlaceHolder.</span></span> <span data-ttu-id="35d38-406">To znamená stránek ASP.NET, které používají tuto stránku předlohy můžete zadat své vlastní obsah pro každý ContentPlaceHolder nebo použít výchozí obsah stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="35d38-406">That is, ASP.NET pages that use this master page can specify their own content for each ContentPlaceHolder or use the master page's default content.</span></span>

<span data-ttu-id="35d38-407">Na kartě přihlášení v panelu nástrojů jsou umístěny LoginView a jiných ovládacích prvků související s přihlášením.</span><span class="sxs-lookup"><span data-stu-id="35d38-407">The LoginView and other login-related controls are located in the Toolbox's Login tab.</span></span>


![Ovládací prvek LoginView v panelu nástrojů](an-overview-of-forms-authentication-cs/_static/image30.png)

<span data-ttu-id="35d38-409">**Obrázek 14**: ovládací prvek LoginView v panelu nástrojů</span><span class="sxs-lookup"><span data-stu-id="35d38-409">**Figure 14**: The LoginView Control in the Toolbox</span></span>


<span data-ttu-id="35d38-410">Dál přidejte dva &lt;Brazílie /&gt; elementy ihned po ovládacího prvku LoginView, ale pořád se nachází v ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="35d38-410">Next, add two &lt;br /&gt; elements immediately after the LoginView control, but still within the ContentPlaceHolder.</span></span> <span data-ttu-id="35d38-411">V tomto okamžiku navigační &lt;div&gt; elementu značek by měl vypadat třeba takto:</span><span class="sxs-lookup"><span data-stu-id="35d38-411">At this point, the navigation &lt;div&gt; element's markup should look like the following:</span></span>

[!code-aspx[Main](an-overview-of-forms-authentication-cs/samples/sample10.aspx)]

<span data-ttu-id="35d38-412">Z Návrháře nebo deklarativní lze definovat LoginView šablony.</span><span class="sxs-lookup"><span data-stu-id="35d38-412">The LoginView's templates can be defined from the Designer or the declarative markup.</span></span> <span data-ttu-id="35d38-413">V sadě Visual Studio Designer rozbalte LoginView inteligentních značek, které jsou uvedeny nakonfigurované šablony v rozevíracím seznamu.</span><span class="sxs-lookup"><span data-stu-id="35d38-413">From Visual Studio's Designer, expand the LoginView's smart tag, which lists the configured templates in a drop-down list.</span></span> <span data-ttu-id="35d38-414">Zadejte text "Hello, stranger" do AnonymousTemplate; v dalším kroku přidání ovládacího prvku hypertextový odkaz a jeho Text a nastavit NavigateUrl "Přihlášení" a "~ / Login.aspx", v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="35d38-414">Type in the text "Hello, stranger" into the AnonymousTemplate; next, add a HyperLink control and set its Text and NavigateUrl properties to "Log In" and "~/Login.aspx", respectively.</span></span>

<span data-ttu-id="35d38-415">Po dokončení konfigurace AnonymousTemplate, přepněte do LoggedInTemplate a zadejte text, "Vás vítá zpět,".</span><span class="sxs-lookup"><span data-stu-id="35d38-415">After configuring the AnonymousTemplate, switch to the LoggedInTemplate and enter the text, "Welcome back, ".</span></span> <span data-ttu-id="35d38-416">Pak přetáhněte ovládací prvek LoginName z panelu nástrojů do LoggedInTemplate, jeho umístění ihned po "Vítá zpět," text.</span><span class="sxs-lookup"><span data-stu-id="35d38-416">Then drag a LoginName control from the Toolbox into the LoggedInTemplate, placing it immediately after the "Welcome back, " text.</span></span> <span data-ttu-id="35d38-417">[Ovládací prvek LoginName](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.loginname.aspx), jako její název znamená, zobrazí se název aktuálně přihlášeného uživatele.</span><span class="sxs-lookup"><span data-stu-id="35d38-417">The [LoginName control](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.loginname.aspx), as its name implies, displays the name of the currently logged in user.</span></span> <span data-ttu-id="35d38-418">Interně ovládací prvek LoginName jednoduše výstupy vlastnost User.Identity.Name</span><span class="sxs-lookup"><span data-stu-id="35d38-418">Internally, the LoginName control simply outputs the User.Identity.Name property</span></span>

<span data-ttu-id="35d38-419">Po provedení těchto dodatky LoginView šablon, by měl vypadat podobně jako následující kód:</span><span class="sxs-lookup"><span data-stu-id="35d38-419">After making these additions to the LoginView's templates, the markup should look similar to the following:</span></span>

[!code-aspx[Main](an-overview-of-forms-authentication-cs/samples/sample11.aspx)]

<span data-ttu-id="35d38-420">Pomocí tohoto přidání k hlavní stránce Site.master každé stránce v našem webu zobrazí jiná zpráva v závislosti na tom, jestli je uživatel ověřený.</span><span class="sxs-lookup"><span data-stu-id="35d38-420">With this addition to the Site.master master page, each page in our website will display a different message depending on whether the user is authenticated.</span></span> <span data-ttu-id="35d38-421">Obrázek 15 zobrazuje stránku Default.aspx při návštěvě uživatele Jisun prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="35d38-421">Figure 15 shows the Default.aspx page when visited through a browser by user Jisun.</span></span> <span data-ttu-id="35d38-422">Zpráva "Vítejte zpět, Jisun" se opakuje dvakrát: jednou v části navigace stránky předlohy na levé straně (prostřednictvím řízení LoginView, kterou jsme právě přidali) a jednou Default.aspx obsahu oblasti (prostřednictvím – ovládací prvky Panel a programové logiky).</span><span class="sxs-lookup"><span data-stu-id="35d38-422">The "Welcome back, Jisun" message is repeated twice: once in the master page's navigation section on the left (via the LoginView control we just added) and once in the Default.aspx's content area (via Panel controls and programmatic logic).</span></span>


![Zobrazí ovládací prvek LoginView](an-overview-of-forms-authentication-cs/_static/image31.png)

<span data-ttu-id="35d38-424">**Obrázek 15**: zobrazí ovládací prvek LoginView "Vítejte zpět, Jisun."</span><span class="sxs-lookup"><span data-stu-id="35d38-424">**Figure 15**: The LoginView Control Displays "Welcome back, Jisun."</span></span>


<span data-ttu-id="35d38-425">Vzhledem k tomu, že jsme přidali LoginView k hlavní stránce, může se objevit v každé stránky na svém webovém serveru.</span><span class="sxs-lookup"><span data-stu-id="35d38-425">Because we added the LoginView to the master page, it can appear in every page on our site.</span></span> <span data-ttu-id="35d38-426">Však může existovat webové stránky kde jsme nechcete zobrazit tato zpráva.</span><span class="sxs-lookup"><span data-stu-id="35d38-426">However, there may be web pages where we don't want to show this message.</span></span> <span data-ttu-id="35d38-427">Tyto stránek je přihlašovací stránku, protože odkaz na přihlašovací stránku zdá se, že mimo místě existuje.</span><span class="sxs-lookup"><span data-stu-id="35d38-427">One such page is the login page, since a link to the login page seems out of place there.</span></span> <span data-ttu-id="35d38-428">Vzhledem k tomu, že jsme umístění ovládacího prvku LoginView v ContentPlaceHolder na hlavní stránce, jsme naše obsahu stránce přepsat tato výchozí značka.</span><span class="sxs-lookup"><span data-stu-id="35d38-428">Since we placed the LoginView control in a ContentPlaceHolder in the master page, we can override this default markup in our content page.</span></span> <span data-ttu-id="35d38-429">Otevřete Login.aspx a přejděte do návrháře.</span><span class="sxs-lookup"><span data-stu-id="35d38-429">Open Login.aspx and go to the Designer.</span></span> <span data-ttu-id="35d38-430">Vzhledem k tomu, že jsme nejsou výslovně definované obsahu ovládacího prvku v Login.aspx pro LoginContent ContentPlaceHolder na hlavní stránce přihlašovací stránky se zobrazí kód výchozí stránky předlohy pro tento ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="35d38-430">Since we have not explicitly defined a Content control in Login.aspx for the LoginContent ContentPlaceHolder in the master page, the login page will show the master page's default markup for this ContentPlaceHolder.</span></span> <span data-ttu-id="35d38-431">Zobrazí se to pomocí návrháře – LoginContent ContentPlaceHolder ukazuje výchozí značky (LoginView řízení).</span><span class="sxs-lookup"><span data-stu-id="35d38-431">You can see this through the Designer – the LoginContent ContentPlaceHolder shows the default markup (the LoginView control).</span></span>


<span data-ttu-id="35d38-432">[![Přihlašovací stránky zobrazuje výchozí nastavení obsahu pro LoginContent ContentPlaceHolder stránky předlohy](an-overview-of-forms-authentication-cs/_static/image33.png)](an-overview-of-forms-authentication-cs/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="35d38-432">[![The Login Page Shows the Default Content for the Master Page's LoginContent ContentPlaceHolder](an-overview-of-forms-authentication-cs/_static/image33.png)](an-overview-of-forms-authentication-cs/_static/image32.png)</span></span>

<span data-ttu-id="35d38-433">**Obrázek 16**: přihlašovací stránky zobrazí výchozí obsahu pro LoginContent ContentPlaceHolder stránky předlohy ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-forms-authentication-cs/_static/image34.png))</span><span class="sxs-lookup"><span data-stu-id="35d38-433">**Figure 16**: The Login Page Shows the Default Content for the Master Page's LoginContent ContentPlaceHolder ([Click to view full-size image](an-overview-of-forms-authentication-cs/_static/image34.png))</span></span>


<span data-ttu-id="35d38-434">Pokud chcete přepsat výchozí značka pro LoginContent ContentPlaceHolder, jednoduše klikněte pravým tlačítkem na oblasti v návrháři a zvolte možnost vytvořit vlastní obsah v místní nabídce.</span><span class="sxs-lookup"><span data-stu-id="35d38-434">To override the default markup for the LoginContent ContentPlaceHolder, simply right-click on the region in the Designer and choose the Create Custom Content option from the context menu.</span></span> <span data-ttu-id="35d38-435">(Když pomocí sady Visual Studio 2008 ContentPlaceHolder zahrnuje smart značek, které, pokud vybraná, nabízí stejné možnost.) Tento postup přidá nový obsah ovládacího prvku značek a tím umožňuje definovat vlastní obsah pro tuto stránku.</span><span class="sxs-lookup"><span data-stu-id="35d38-435">(When using Visual Studio 2008 the ContentPlaceHolder includes a smart tag that, when selected, offers the same option.) This adds a new Content control to the page's markup and thereby allows us to define custom content for this page.</span></span> <span data-ttu-id="35d38-436">Může přidat vlastní zprávu tady, jako je například "Prosím protokolovat in...", ale můžeme právě nechte pole prázdné.</span><span class="sxs-lookup"><span data-stu-id="35d38-436">You could add a custom message here, such as "Please log in…", but let's just leave this blank.</span></span>

> [!NOTE]
> <span data-ttu-id="35d38-437">V sadě Visual Studio 2005, vytvoření vlastního obsahu vytvoří prázdnou obsahu ovládacího prvku do stránky ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="35d38-437">In Visual Studio 2005, creating custom content creates an empty Content control in the ASP.NET page.</span></span> <span data-ttu-id="35d38-438">V sadě Visual Studio 2008 ale vytvoření vlastního obsahu zkopíruje obsah výchozí stránky předlohy do nově vytvořený obsah ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="35d38-438">In Visual Studio 2008, however, creating custom content copies the master page's default content into the newly created Content control.</span></span> <span data-ttu-id="35d38-439">Pokud používáte Visual Studio 2008, pak po vytvoření nového obsahu ovládacího prvku nezapomeňte vymažte obsah zkopírovali ze stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="35d38-439">If you are using Visual Studio 2008, then, after creating the new Content control make sure to clear out the content copied over from the master page.</span></span>


<span data-ttu-id="35d38-440">Obrázek 17 ukazuje na stránku Login.aspx při navštívené z prohlížeče po provedení této změny.</span><span class="sxs-lookup"><span data-stu-id="35d38-440">Figure 17 shows the Login.aspx page when visited from a browser after making this change.</span></span> <span data-ttu-id="35d38-441">Všimněte si, že žádný text "Hello, stranger" nebo "Vítejte zpátky, *uživatelské jméno*" zpráva v levé navigaci &lt;div&gt; jako v případě návštěvou Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="35d38-441">Note that there is no "Hello, stranger" or "Welcome back, *username*" message in the left navigation &lt;div&gt; as there is when visiting Default.aspx.</span></span>


<span data-ttu-id="35d38-442">[![Na přihlašovací stránku skryje LoginContent ContentPlaceHolder výchozí značka](an-overview-of-forms-authentication-cs/_static/image36.png)](an-overview-of-forms-authentication-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="35d38-442">[![The Login Page Hides the Default LoginContent ContentPlaceHolder's Markup](an-overview-of-forms-authentication-cs/_static/image36.png)](an-overview-of-forms-authentication-cs/_static/image35.png)</span></span>

<span data-ttu-id="35d38-443">**Obrázek 17**: skryje značek výchozí LoginContent ContentPlaceHolder na přihlašovací stránku ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-forms-authentication-cs/_static/image37.png))</span><span class="sxs-lookup"><span data-stu-id="35d38-443">**Figure 17**: The Login Page Hides the Default LoginContent ContentPlaceHolder's Markup ([Click to view full-size image](an-overview-of-forms-authentication-cs/_static/image37.png))</span></span>


## <a name="step-5-logging-out"></a><span data-ttu-id="35d38-444">Krok 5: Protokolování</span><span class="sxs-lookup"><span data-stu-id="35d38-444">Step 5: Logging Out</span></span>

<span data-ttu-id="35d38-445">V kroku 3 jsme se podívali na vytváření přihlašovací stránku k přihlášení uživatele v lokalitě, ale máme ještě chcete zjistit, jak se odhlásit uživatele. Kromě metod pro protokolování uživatel ve třídě ověřování pomocí formulářů také poskytuje [odhlášení metoda](https://msdn.microsoft.com/en-us/library/system.web.security.formsauthentication.signout.aspx).</span><span class="sxs-lookup"><span data-stu-id="35d38-445">In Step 3 we looked at building a login page to log a user in to the site, but we have yet to see how to log a user out. In addition to methods for logging a user in, the FormsAuthentication class also provides a [SignOut method](https://msdn.microsoft.com/en-us/library/system.web.security.formsauthentication.signout.aspx).</span></span> <span data-ttu-id="35d38-446">Metoda odhlášení jednoduše zničí lístek ověřování pomocí formulářů, tak protokolování uživatele mimo lokalitu.</span><span class="sxs-lookup"><span data-stu-id="35d38-446">The SignOut method simply destroys the forms authentication ticket, thereby logging the user out of the site.</span></span>

<span data-ttu-id="35d38-447">Nabídka odhlášení odkaz je běžnou funkcí této technologie ASP.NET obsahuje ovládací prvek určená speciálně pro odhlášení uživatele. [Ovládací prvek LoginStatus](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.loginstatus.aspx) zobrazí LinkButton "Přihlášení" nebo "Odhlášení" LinkButton, v závislosti na stavu ověřování uživatele.</span><span class="sxs-lookup"><span data-stu-id="35d38-447">Offering a log out link is such a common feature that ASP.NET includes a control specifically designed to log a user out. The [LoginStatus control](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.loginstatus.aspx) displays either a "Login" LinkButton or a "Logout" LinkButton, depending on the user's authentication status.</span></span> <span data-ttu-id="35d38-448">"Login" LinkButton vykreslením pro anonymní uživatele, zatímco LinkButton "Odhlášení" se zobrazí ověřeným uživatelům.</span><span class="sxs-lookup"><span data-stu-id="35d38-448">A "Login" LinkButton is rendered for anonymous users, whereas a "Logout" LinkButton is displayed to authenticated users.</span></span> <span data-ttu-id="35d38-449">Text pro "Login" a "Odhlášení" LinkButtons je možné nakonfigurovat přes LoginStatus LoginText a LogoutText vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="35d38-449">The text for the "Login" and "Logout" LinkButtons can be configured via the LoginStatus's LoginText and LogoutText properties.</span></span>

<span data-ttu-id="35d38-450">Kliknutím na tlačítko "Login" LinkButton způsobí, že zpětné volání, ze kterého se objeví přesměrování na stránku přihlášení.</span><span class="sxs-lookup"><span data-stu-id="35d38-450">Clicking the "Login" LinkButton causes a postback, from which a redirect is issued to the login page.</span></span> <span data-ttu-id="35d38-451">Kliknutím na tlačítko "Odhlášení" LinkButton způsobí, že ovládací prvek LoginStatus k vyvolání metody FormsAuthentication.SignOff a pak přesměruje uživatele na stránku.</span><span class="sxs-lookup"><span data-stu-id="35d38-451">Clicking the "Logout" LinkButton causes the LoginStatus control to invoke the FormsAuthentication.SignOff method and then redirects the user to a page.</span></span> <span data-ttu-id="35d38-452">Stránka přihlášeného vypnout uživatele přesměruje na závisí na vlastnost LogoutAction, která lze přiřadit k jednu ze tří následujících hodnot:</span><span class="sxs-lookup"><span data-stu-id="35d38-452">The page the logged off user is redirected to depends on the LogoutAction property, which can be assigned to one of the three following values:</span></span>

- <span data-ttu-id="35d38-453">Aktualizace – výchozí; přesměruje uživatele na stránku, měla právě návštěvou.</span><span class="sxs-lookup"><span data-stu-id="35d38-453">Refresh – the default; redirects the user to the page they were just visiting.</span></span> <span data-ttu-id="35d38-454">Pokud stránka, kterou právě byly návštěvou nedovoluje anonymní uživatelé, pak FormsAuthenticationModule automaticky přesměruje uživatele na přihlašovací stránku.</span><span class="sxs-lookup"><span data-stu-id="35d38-454">If the page they were just visiting does not allow anonymous users, then the FormsAuthenticationModule will automatically redirect the user to the login page.</span></span>

<span data-ttu-id="35d38-455">Můžete mít zvědaví, proč je zde provedeno přesměrování.</span><span class="sxs-lookup"><span data-stu-id="35d38-455">You may be curious as to why a redirect is performed here.</span></span> <span data-ttu-id="35d38-456">Pokud chce uživatel zůstat na stejné stránce, proč potřebu explicitní přesměrování?</span><span class="sxs-lookup"><span data-stu-id="35d38-456">If the user wants to remain on the same page, why the need for the explicit redirect?</span></span> <span data-ttu-id="35d38-457">Důvodem je, protože při kliknutí na "Odhlášení" LinkButton uživatele stále má lístek pro ověřování pomocí formulářů v jejich kolekce souborů cookie.</span><span class="sxs-lookup"><span data-stu-id="35d38-457">The reason is because when the "Logoff" LinkButton is clicked, the user still has the forms authentication ticket in their cookies collection.</span></span> <span data-ttu-id="35d38-458">V důsledku toho postback žádosti je požadavek na ověřeného.</span><span class="sxs-lookup"><span data-stu-id="35d38-458">Consequently, the postback request is an authenticated request.</span></span> <span data-ttu-id="35d38-459">Ovládací prvek LoginStatus volá metodu odhlášení, ale k tomu dojde poté, co FormsAuthenticationModule ověření uživatele.</span><span class="sxs-lookup"><span data-stu-id="35d38-459">The LoginStatus control calls the SignOut method, but that happens after the FormsAuthenticationModule has authenticated the user.</span></span> <span data-ttu-id="35d38-460">Proto explicitní přesměrování způsobí, že prohlížeč znovu požadavek stránku.</span><span class="sxs-lookup"><span data-stu-id="35d38-460">Therefore, an explicit redirect causes the browser to re-request the page.</span></span> <span data-ttu-id="35d38-461">Při požadavku prohlížeče znovu stránce byl odebrán lístek pro ověřování pomocí formulářů a proto příchozí požadavek je pro anonymní.</span><span class="sxs-lookup"><span data-stu-id="35d38-461">By the time the browser re-requests the page, the forms authentication ticket has been removed and therefore the incoming request is anonymous.</span></span>

- <span data-ttu-id="35d38-462">Přesměrování – uživatel se přesměruje na adresu URL zadanou v LoginStatus LogoutPageUrl vlastnost.</span><span class="sxs-lookup"><span data-stu-id="35d38-462">Redirect – the user is redirected to the URL specified by the LoginStatus's LogoutPageUrl property.</span></span>
- <span data-ttu-id="35d38-463">RedirectToLoginPage – uživatel se přesměruje na přihlašovací stránku.</span><span class="sxs-lookup"><span data-stu-id="35d38-463">RedirectToLoginPage – the user is redirected to the login page.</span></span>

<span data-ttu-id="35d38-464">Umožňuje přidání ovládacího prvku LoginStatus k hlavní stránce a nakonfigurovat ji používat k odesílání uživatele na stránku, který zobrazí výzvu k potvrzení, že jste odhlášeni možnost přesměrování. Začněte vytvořením stránky v kořenovém adresáři s názvem Logout.aspx.</span><span class="sxs-lookup"><span data-stu-id="35d38-464">Let's add a LoginStatus control to the master page and configure it to use the Redirect option to send the user to a page that displays a message confirming that they have been signed out. Start by creating a page in the root directory named Logout.aspx.</span></span> <span data-ttu-id="35d38-465">Nezapomeňte si tuto stránku přidružit Site.master stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="35d38-465">Don't forget to associate this page with the Site.master master page.</span></span> <span data-ttu-id="35d38-466">Potom zadejte zprávu v značek vysvětlením uživateli, které byly zaprotokolovány limitu.</span><span class="sxs-lookup"><span data-stu-id="35d38-466">Next, enter a message in the page's markup explaining to the user that they have been logged out.</span></span>

<span data-ttu-id="35d38-467">V dalším kroku návrat na hlavní stránku Site.master a přidání ovládacího prvku LoginStatus pod LoginView v LoginContent ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="35d38-467">Next, return to the Site.master master page and add a LoginStatus control beneath the LoginView in the LoginContent ContentPlaceHolder.</span></span> <span data-ttu-id="35d38-468">Nastavte vlastnost LogoutAction LoginStatus ovládacího prvku přesměrování a jeho vlastnost LogoutPageUrl na "~ / Logout.aspx".</span><span class="sxs-lookup"><span data-stu-id="35d38-468">Set the LoginStatus control's LogoutAction property to Redirect and its LogoutPageUrl property to "~/Logout.aspx".</span></span>

[!code-aspx[Main](an-overview-of-forms-authentication-cs/samples/sample12.aspx)]

<span data-ttu-id="35d38-469">Vzhledem k tomu, že LoginStatus je mimo ovládací prvek LoginView, zobrazí se pro anonymní i ověřené uživatele, ale je to způsobeno LoginStatus správně zobrazí "Přihlášení" nebo "Odhlášení" LinkButton OK.</span><span class="sxs-lookup"><span data-stu-id="35d38-469">Since the LoginStatus is outside of the LoginView control, it will appear for both anonymous and authenticated users, but that's OK because the LoginStatus will correctly display a "Login" or "Logout" LinkButton.</span></span> <span data-ttu-id="35d38-470">Po přidání ovládacího prvku LoginStatus HyperLink "Přihlášení" v AnonymousTemplate je nadbytečné, takže jej odebrat.</span><span class="sxs-lookup"><span data-stu-id="35d38-470">With the addition of the LoginStatus control, the "Log In" HyperLink in the AnonymousTemplate is superfluous, so remove it.</span></span>

<span data-ttu-id="35d38-471">Obrázek 18 zobrazuje Default.aspx, když navštíví Jisun.</span><span class="sxs-lookup"><span data-stu-id="35d38-471">Figure 18 shows Default.aspx when Jisun visits.</span></span> <span data-ttu-id="35d38-472">Všimněte si, že v levém sloupci zobrazí zprávu, "Vítejte zpět, Jisun" spolu s odkazem na odhlášení. Kliknutím na protokol se LinkButton způsobí, že zpětné volání, podepíše Jisun mimo systém a jí pak přesměruje do Logout.aspx.</span><span class="sxs-lookup"><span data-stu-id="35d38-472">Note that the left column displays the message, "Welcome back, Jisun" along with a link to log out. Clicking the log out LinkButton causes a postback, signs Jisun out of the system, and then redirects her to Logout.aspx.</span></span> <span data-ttu-id="35d38-473">Jak ukazuje obrázek 19, o dobu, kterou Jisun dosáhne Logout.aspx, která má již odhlášeni a je proto anonymní.</span><span class="sxs-lookup"><span data-stu-id="35d38-473">As Figure 19 shows, by the time Jisun reaches Logout.aspx she has already been signed out and is therefore anonymous.</span></span> <span data-ttu-id="35d38-474">V důsledku toho levém sloupci se zobrazuje text "Vítejte, stranger" a odkaz na přihlašovací stránku.</span><span class="sxs-lookup"><span data-stu-id="35d38-474">Consequently, the left column shows the text "Welcome, stranger" and a link to the login page.</span></span>


<span data-ttu-id="35d38-475">[![Ukazuje default.aspx](an-overview-of-forms-authentication-cs/_static/image39.png)](an-overview-of-forms-authentication-cs/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="35d38-475">[![Default.aspx Shows](an-overview-of-forms-authentication-cs/_static/image39.png)](an-overview-of-forms-authentication-cs/_static/image38.png)</span></span>

<span data-ttu-id="35d38-476">**Obrázek 18**: Default.aspx ukazuje "Vítejte zpět, Jisun" spolu s LinkButton "Odhlášení" ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-forms-authentication-cs/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="35d38-476">**Figure 18**: Default.aspx Shows "Welcome Back, Jisun" Along with a "Logout" LinkButton ([Click to view full-size image](an-overview-of-forms-authentication-cs/_static/image40.png))</span></span>


<span data-ttu-id="35d38-477">[![Zobrazuje logout.aspx](an-overview-of-forms-authentication-cs/_static/image42.png)](an-overview-of-forms-authentication-cs/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="35d38-477">[![Logout.aspx Shows](an-overview-of-forms-authentication-cs/_static/image42.png)](an-overview-of-forms-authentication-cs/_static/image41.png)</span></span>

<span data-ttu-id="35d38-478">**Obrázek 19**: Logout.aspx ukazuje "Vítejte, stranger" spolu s LinkButton "Přihlášení" ([Kliknutím zobrazit obrázek v plné velikosti](an-overview-of-forms-authentication-cs/_static/image43.png))</span><span class="sxs-lookup"><span data-stu-id="35d38-478">**Figure 19**: Logout.aspx Shows "Welcome, stranger" Along with a "Login" LinkButton ([Click to view full-size image](an-overview-of-forms-authentication-cs/_static/image43.png))</span></span>


> [!NOTE]
> <span data-ttu-id="35d38-479">I doporučujeme přizpůsobení stránce Logout.aspx ke skrytí LoginContent ContentPlaceHolder stránky předlohy (jako jsme to udělali pro Login.aspx v kroku 4).</span><span class="sxs-lookup"><span data-stu-id="35d38-479">I encourage you to customize the Logout.aspx page to hide the master page's LoginContent ContentPlaceHolder (like we did for Login.aspx in Step 4).</span></span> <span data-ttu-id="35d38-480">Důvodem je, protože LinkButton "Login" pro vykreslení ovládacího prvku LoginStatus (jeden pod "text Hello, stranger") odešle uživatele na přihlašovací stránku v parametru řetězce dotazu ReturnUrl předávání aktuální adresa URL.</span><span class="sxs-lookup"><span data-stu-id="35d38-480">The reason is because the "Login" LinkButton rendered by the LoginStatus control (the one beneath "Hello, stranger") sends the user to the login page passing the current URL in the ReturnUrl querystring parameter.</span></span> <span data-ttu-id="35d38-481">Stručně řečeno pokud uživatel, který má na klikne tento LoginStatus LinkButton "Login" a pak protokoly v, bude možné přesměrován zpět na Logout.aspx, který by mohl snadno zmást uživatele.</span><span class="sxs-lookup"><span data-stu-id="35d38-481">In short, if a user who has logged out clicks this LoginStatus's "Login" LinkButton, and then logs in, they will be redirected back to Logout.aspx, which could easily confuse the user.</span></span>


## <a name="summary"></a><span data-ttu-id="35d38-482">Souhrn</span><span class="sxs-lookup"><span data-stu-id="35d38-482">Summary</span></span>

<span data-ttu-id="35d38-483">V tomto kurzu jsme začít s prošetření pracovního postupu ověřování formulářů a pak vrátit na implementace ověřování pomocí formulářů v aplikaci ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="35d38-483">In this tutorial we started with an examination of the forms authentication workflow and then turned to implementing forms authentication in an ASP.NET application.</span></span> <span data-ttu-id="35d38-484">Ověřování pomocí formulářů používá technologii FormsAuthenticationModule, která má dva odpovědnosti: identifikace uživatelů podle jejich lístek pro ověřování pomocí formulářů a přesměrování na přihlašovací stránku neoprávnění uživatelé.</span><span class="sxs-lookup"><span data-stu-id="35d38-484">Forms authentication is powered by the FormsAuthenticationModule, which has two responsibilities: identifying users based on their forms authentication ticket, and redirecting unauthorized users to the login page.</span></span>

<span data-ttu-id="35d38-485">Ověřování pomocí formulářů rozhraní .NET Framework – třída obsahuje metody pro vytváření, kontroly a odebrání lístků pro ověřování pomocí formulářů.</span><span class="sxs-lookup"><span data-stu-id="35d38-485">The .NET Framework's FormsAuthentication class includes methods for creating, inspecting, and removing forms authentication tickets.</span></span> <span data-ttu-id="35d38-486">Vlastnost Request.IsAuthenticated a objekt uživatele poskytovat další podporu programový při určování, zda je žádost o ověření a informace o identitě uživatele.</span><span class="sxs-lookup"><span data-stu-id="35d38-486">The Request.IsAuthenticated property and User object provide additional programmatic support for determining whether a request is authenticated and information about the user's identity.</span></span> <span data-ttu-id="35d38-487">Existují také LoginView LoginStatus a LoginName webové ovládací prvky, které poskytují vývojářům rychle a bez kódu způsob k provedení mnoha běžné úlohy související s přihlášením.</span><span class="sxs-lookup"><span data-stu-id="35d38-487">There are also the LoginView, LoginStatus, and LoginName Web controls, which give developers a quick, code-free way for performing many common login-related tasks.</span></span> <span data-ttu-id="35d38-488">V budoucích kurzech vyzkoušíme tyto a další související s přihlášením ovládací prvky webového podrobněji.</span><span class="sxs-lookup"><span data-stu-id="35d38-488">We will examine these and other login-related Web controls in greater detail in future tutorials.</span></span>

<span data-ttu-id="35d38-489">V tomto kurzu k dispozici zběžnou Přehled ověřování pomocí formulářů.</span><span class="sxs-lookup"><span data-stu-id="35d38-489">This tutorial provided a cursory overview of forms authentication.</span></span> <span data-ttu-id="35d38-490">Jsme není zkontrolujte možnosti různé konfigurace, podívejte se na jak cookieless pracovní lístků pro ověřování formulářů nebo prozkoumat jak ASP.NET chrání obsah lístek pro ověřování pomocí formulářů.</span><span class="sxs-lookup"><span data-stu-id="35d38-490">We did not examine the assorted configuration options, look at how cookieless forms authentication tickets work, or explore how ASP.NET protects the contents of the forms authentication ticket.</span></span> <span data-ttu-id="35d38-491">Pojednává o těchto tématech a další v [další kurz](forms-authentication-configuration-and-advanced-topics-cs.md).</span><span class="sxs-lookup"><span data-stu-id="35d38-491">We will discuss these topics and more in the [next tutorial](forms-authentication-configuration-and-advanced-topics-cs.md).</span></span>

<span data-ttu-id="35d38-492">Radostí programování!</span><span class="sxs-lookup"><span data-stu-id="35d38-492">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="35d38-493">Další čtení</span><span class="sxs-lookup"><span data-stu-id="35d38-493">Further Reading</span></span>

<span data-ttu-id="35d38-494">Další informace o tématech popsané v tomto kurzu najdete v následujících zdrojích informací:</span><span class="sxs-lookup"><span data-stu-id="35d38-494">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="35d38-495">Změny mezi služby IIS 6 a službu IIS7 zabezpečení</span><span class="sxs-lookup"><span data-stu-id="35d38-495">Changes Between IIS6 and IIS7 Security</span></span>](https://www.iis.net/articles/view.aspx/IIS7/Managing-IIS7/Configuring-Security/Changes-between-IIS6-and-IIS7-Security)
- [<span data-ttu-id="35d38-496">Ovládací prvky ASP.NET přihlášení</span><span class="sxs-lookup"><span data-stu-id="35d38-496">Login ASP.NET Controls</span></span>](https://msdn.microsoft.com/en-us/library/d51ttbhx.aspx)
- <span data-ttu-id="35d38-497">[Professional ASP.NET 2.0 zabezpečení, členství a Role správy](http://www.wrox.com/WileyCDA/WroxTitle/productCd-0764596985.html) (ISBN: 978-0-7645-9698-8)</span><span class="sxs-lookup"><span data-stu-id="35d38-497">[Professional ASP.NET 2.0 Security, Membership, and Role Management](http://www.wrox.com/WileyCDA/WroxTitle/productCd-0764596985.html) (ISBN: 978-0-7645-9698-8)</span></span>
- [<span data-ttu-id="35d38-498">`<authentication>` – Element</span><span class="sxs-lookup"><span data-stu-id="35d38-498">The `<authentication>` Element</span></span>](https://msdn.microsoft.com/en-us/library/532aee0e.aspx)
- [<span data-ttu-id="35d38-499">`<forms>` Element pro`<authentication>`</span><span class="sxs-lookup"><span data-stu-id="35d38-499">The `<forms>` Element for `<authentication>`</span></span>](https://msdn.microsoft.com/en-us/library/1d3t3c61.aspx)

### <a name="video-training-on-topics-contained-in-this-tutorial"></a><span data-ttu-id="35d38-500">Video školení na témata, které jsou obsažené v tomto kurzu</span><span class="sxs-lookup"><span data-stu-id="35d38-500">Video Training on Topics Contained in this Tutorial</span></span>

- [<span data-ttu-id="35d38-501">Základní ověřování pomocí formulářů technologie ASP.NET</span><span class="sxs-lookup"><span data-stu-id="35d38-501">Using Basic Forms Authentication in ASP.NET</span></span>](../../../videos/authentication/using-basic-forms-authentication-in-aspnet.md)

## <a name="about-the-author"></a><span data-ttu-id="35d38-502">O autorovi</span><span class="sxs-lookup"><span data-stu-id="35d38-502">About the Author</span></span>

<span data-ttu-id="35d38-503">[Scott Meisnerová](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor sedm ASP/ASP.NET knih a zakladatele z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje s technologií Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="35d38-503">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="35d38-504">Scott funguje jako nezávislé poradce, trainer a zapisovače.</span><span class="sxs-lookup"><span data-stu-id="35d38-504">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="35d38-505">Jeho nejnovější seznam k [ *Edice nakladatelství Sams naučit sami technologii ASP.NET 2.0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="35d38-505">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="35d38-506">Dosažitelný v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) nebo prostřednictvím svého blogu, který najdete na [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="35d38-506">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="35d38-507">Zvláštní poděkování...</span><span class="sxs-lookup"><span data-stu-id="35d38-507">Special Thanks To…</span></span>

<span data-ttu-id="35d38-508">Tento kurz řady byla zkontrolovány uživatelem mnoho užitečné kontrolorů.</span><span class="sxs-lookup"><span data-stu-id="35d38-508">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="35d38-509">Vést kontrolorem pro tento kurz byl tento kurz, který byl řady zkontrolovány uživatelem mnoho užitečné kontrolorů.</span><span class="sxs-lookup"><span data-stu-id="35d38-509">Lead reviewer for this tutorial was This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="35d38-510">Vést kontroloři pro účely tohoto kurzu zahrnují Alicja Maziarz, Jan Suru a Teresy Murphy.</span><span class="sxs-lookup"><span data-stu-id="35d38-510">Lead reviewers for this tutorial include Alicja Maziarz, John Suru, and Teresa Murphy.</span></span> <span data-ttu-id="35d38-511">Kontrola Moje nadcházející články MSDN máte zájem?</span><span class="sxs-lookup"><span data-stu-id="35d38-511">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="35d38-512">Pokud ano, vyřaďte mi řádek v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="35d38-512">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="35d38-513">[Předchozí](security-basics-and-asp-net-support-cs.md)
[další](forms-authentication-configuration-and-advanced-topics-cs.md)</span><span class="sxs-lookup"><span data-stu-id="35d38-513">[Previous](security-basics-and-asp-net-support-cs.md)
[Next](forms-authentication-configuration-and-advanced-topics-cs.md)</span></span>
