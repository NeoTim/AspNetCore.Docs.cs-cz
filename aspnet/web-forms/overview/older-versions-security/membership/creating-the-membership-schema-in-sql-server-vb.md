---
uid: web-forms/overview/older-versions-security/membership/creating-the-membership-schema-in-sql-server-vb
title: Vytvoření schématu členství v systému SQL Server (VB) | Microsoft Docs
author: rick-anderson
description: V tomto kurzu spustí prověřením techniky pro přidání schéma potřebné k databázi chcete-li použít SqlMembershipProvider. Následující, jsme wi...
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/18/2008
ms.topic: article
ms.assetid: 112a674d-716f-41a6-99b8-4074d65a54c0
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-security/membership/creating-the-membership-schema-in-sql-server-vb
msc.type: authoredcontent
ms.openlocfilehash: 44458e8022f1f0d52cf136ad7fbaa5dd1f546632
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/10/2018
ms.locfileid: "30891754"
---
<a name="creating-the-membership-schema-in-sql-server-vb"></a><span data-ttu-id="5e895-104">Vytvoření schématu členství v systému SQL Server (VB)</span><span class="sxs-lookup"><span data-stu-id="5e895-104">Creating the Membership Schema in SQL Server (VB)</span></span>
====================
<span data-ttu-id="5e895-105">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="5e895-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="5e895-106">[Stáhněte si kód](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/ASPNET_Security_Tutorial_04_VB.zip) nebo [stáhnout PDF](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/aspnet_tutorial04_MembershipSetup_vb.pdf)</span><span class="sxs-lookup"><span data-stu-id="5e895-106">[Download Code](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/ASPNET_Security_Tutorial_04_VB.zip) or [Download PDF](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/aspnet_tutorial04_MembershipSetup_vb.pdf)</span></span>

> <span data-ttu-id="5e895-107">V tomto kurzu spustí prověřením techniky pro přidání schéma potřebné k databázi chcete-li použít SqlMembershipProvider.</span><span class="sxs-lookup"><span data-stu-id="5e895-107">This tutorial starts by examining techniques for adding the necessary schema to the database in order to use the SqlMembershipProvider.</span></span> <span data-ttu-id="5e895-108">Následující, jsme prozkoumá klíče tabulky ve schématu a diskutovat o jejím účelu a význam.</span><span class="sxs-lookup"><span data-stu-id="5e895-108">Following that, we will examine the key tables in the schema and discuss their purpose and importance.</span></span> <span data-ttu-id="5e895-109">V tomto kurzu končí podívejte se na poskytovatele, kterého by měl používat rozhraní členství ověření pravosti aplikace ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5e895-109">This tutorial ends with a look at how to tell an ASP.NET application which provider the Membership framework should use.</span></span>


## <a name="introduction"></a><span data-ttu-id="5e895-110">Úvod</span><span class="sxs-lookup"><span data-stu-id="5e895-110">Introduction</span></span>

<span data-ttu-id="5e895-111">Předchozí dva kurzy zkontrolován použití ověřování pomocí formulářů k identifikaci návštěvníky webu.</span><span class="sxs-lookup"><span data-stu-id="5e895-111">The previous two tutorials examined using forms authentication to identify website visitors.</span></span> <span data-ttu-id="5e895-112">Rozhraní framework ověřování formulářů umožňuje snadno pro vývojáře pro přihlášení uživatele na web a jejich pamatovat napříč návštěv stránky prostřednictvím lístků pro ověřování.</span><span class="sxs-lookup"><span data-stu-id="5e895-112">The forms authentication framework makes it easy for developers to log a user into a website and to remember them across page visits through the use of authentication tickets.</span></span> <span data-ttu-id="5e895-113">`FormsAuthentication` Třída obsahuje metody pro generování lístku a její přidání do souborů cookie návštěvníka.</span><span class="sxs-lookup"><span data-stu-id="5e895-113">The `FormsAuthentication` class includes methods for generating the ticket and adding it to the visitor's cookies.</span></span> <span data-ttu-id="5e895-114">`FormsAuthenticationModule` Prozkoumá všechny příchozí požadavky a pro ty platné ověřovací lístek, vytvoří a přidruží `GenericPrincipal` a `FormsIdentity` objektu s aktuálním požadavkem.</span><span class="sxs-lookup"><span data-stu-id="5e895-114">The `FormsAuthenticationModule` examines all incoming requests and, for those with a valid authentication ticket, creates and associates a `GenericPrincipal` and a `FormsIdentity` object with the current request.</span></span> <span data-ttu-id="5e895-115">Ověřování pomocí formulářů je jenom mechanismus pro udělení na ověřovací lístek pro návštěvníka při přihlašování v a na následné žádosti, analýza tento lístek určit identitu uživatele.</span><span class="sxs-lookup"><span data-stu-id="5e895-115">Forms authentication is merely a mechanism for granting an authentication ticket to a visitor when logging in and, on subsequent requests, parsing that ticket to determine the user's identity.</span></span> <span data-ttu-id="5e895-116">Pro webovou aplikaci pro podporu uživatelské účty potřebujeme ještě implementace úložiště uživatele a přidat další funkce a ověřte přihlašovací údaje, registrovat nové uživatele a velkého počtu dalších úloh souvisejícím s účtem uživatele.</span><span class="sxs-lookup"><span data-stu-id="5e895-116">For a web application to support user accounts, we still need to implement a user store and add functionality to validate credentials, register new users, and the myriad of other user account-related tasks.</span></span>

<span data-ttu-id="5e895-117">Před aplikaci ASP.NET 2.0 vývojáři byly hák pro implementaci všechny tyto úlohy souvisejícím s účtem uživatele.</span><span class="sxs-lookup"><span data-stu-id="5e895-117">Prior to ASP.NET 2.0, developers were on the hook for implementing all of these user account-related tasks.</span></span> <span data-ttu-id="5e895-118">Naštěstí týmem ASP.NET rozpoznána tohoto nedostatku a zavedená rozhraní členství s prostředím ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="5e895-118">Fortunately the ASP.NET team recognized this shortcoming and introduced the Membership framework with ASP.NET 2.0.</span></span> <span data-ttu-id="5e895-119">Rozhraní framework členství je sada tříd v rozhraní .NET Framework, které poskytují programové rozhraní pro provádění úloh souvisejícím s účtem uživatele jádra.</span><span class="sxs-lookup"><span data-stu-id="5e895-119">The Membership framework is a set of classes in the .NET Framework that provide a programmatic interface for accomplishing core user account-related tasks.</span></span> <span data-ttu-id="5e895-120">Toto rozhraní je vytvořené na [modelu poskytovatelů](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), což umožňuje vývojářům připojte přizpůsobené implementace standardizované rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="5e895-120">This framework is built atop the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), which allows developers to plug a customized implementation into a standardized API.</span></span>

<span data-ttu-id="5e895-121">Jak je popsáno v <a id="Tutorial1"> </a> [ *Základy zabezpečení a podporu ASP.NET* ](../introduction/security-basics-and-asp-net-support-vb.md) kurzu rozhraní .NET Framework se dodává s dvě předdefinované zprostředkovatele členství: [ `ActiveDirectoryMembershipProvider` ](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) a [ `SqlMembershipProvider` ](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx).</span><span class="sxs-lookup"><span data-stu-id="5e895-121">As discussed in the <a id="Tutorial1"></a>[*Security Basics and ASP.NET Support*](../introduction/security-basics-and-asp-net-support-vb.md) tutorial, the .NET Framework ships with two built-in Membership providers: [`ActiveDirectoryMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) and [`SqlMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx).</span></span> <span data-ttu-id="5e895-122">Jak již název napovídá, `SqlMembershipProvider` používá databázi systému Microsoft SQL Server jako úložiště uživatele.</span><span class="sxs-lookup"><span data-stu-id="5e895-122">As its name implies, the `SqlMembershipProvider` uses a Microsoft SQL Server database as the user store.</span></span> <span data-ttu-id="5e895-123">Chcete-li použít tento zprostředkovatel v aplikaci, je potřeba oznámit zprostředkovateli, jaké databáze pro použití jako úložiště.</span><span class="sxs-lookup"><span data-stu-id="5e895-123">In order to use this provider in an application, we need to tell the provider what database to use as the store.</span></span> <span data-ttu-id="5e895-124">Jak je možné si můžete představit, `SqlMembershipProvider` očekává databáze úložiště uživatele tak, aby měl určité databázových tabulek, zobrazení a uložených procedur.</span><span class="sxs-lookup"><span data-stu-id="5e895-124">As you might imagine, the `SqlMembershipProvider` expects the user store database to have certain database tables, views, and stored procedures.</span></span> <span data-ttu-id="5e895-125">Je potřeba přidat tento očekávané schéma k vybrané databázi.</span><span class="sxs-lookup"><span data-stu-id="5e895-125">We need to add this expected schema to the selected database.</span></span>

<span data-ttu-id="5e895-126">V tomto kurzu spustí prověřením techniky pro přidání schéma potřebné k databázi chcete-li použít `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="5e895-126">This tutorial starts by examining techniques for adding the necessary schema to the database in order to use the `SqlMembershipProvider`.</span></span> <span data-ttu-id="5e895-127">Následující, jsme prozkoumá klíče tabulky ve schématu a diskutovat o jejím účelu a význam.</span><span class="sxs-lookup"><span data-stu-id="5e895-127">Following that, we will examine the key tables in the schema and discuss their purpose and importance.</span></span> <span data-ttu-id="5e895-128">V tomto kurzu končí podívejte se na poskytovatele, kterého by měl používat rozhraní členství ověření pravosti aplikace ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5e895-128">This tutorial ends with a look at how to tell an ASP.NET application which provider the Membership framework should use.</span></span>

<span data-ttu-id="5e895-129">Můžeme začít!</span><span class="sxs-lookup"><span data-stu-id="5e895-129">Let's get started!</span></span>

## <a name="step-1-deciding-where-to-place-the-user-store"></a><span data-ttu-id="5e895-130">Krok 1: Rozhodování, kam umístit úložiště uživatele</span><span class="sxs-lookup"><span data-stu-id="5e895-130">Step 1: Deciding Where to Place the User Store</span></span>

<span data-ttu-id="5e895-131">Aplikace technologie ASP.NET data se ukládají běžně v počet tabulek v databázi.</span><span class="sxs-lookup"><span data-stu-id="5e895-131">An ASP.NET application's data is commonly stored in a number of tables in a database.</span></span> <span data-ttu-id="5e895-132">Při implementaci `SqlMembershipProvider` schéma databáze jsme rozhodnout, zda umístěte schéma členství ve stejné databázi jako data aplikací, nebo do alternativní databáze.</span><span class="sxs-lookup"><span data-stu-id="5e895-132">When implementing the `SqlMembershipProvider` database schema we must decide whether to place the Membership schema in the same database as the application data or in an alternate database.</span></span>

<span data-ttu-id="5e895-133">I doporučujeme vyhledání schéma členství ve stejné databázi jako data aplikací z následujících důvodů:</span><span class="sxs-lookup"><span data-stu-id="5e895-133">I recommend locating the Membership schema in the same database as the application data for the following reasons:</span></span>

- <span data-ttu-id="5e895-134">**Udržovatelnost** aplikace, jejichž data se zapouzdřené v jedné databáze je snazší pochopit, udržovat a nasadit než aplikace, která má dva samostatné databáze.</span><span class="sxs-lookup"><span data-stu-id="5e895-134">**Maintainability** � an application whose data is encapsulated in one database is easier to understand, maintain, and deploy than an application that has two separate databases.</span></span>
- <span data-ttu-id="5e895-135">**Relační Integrity** tím, že tabulky související s členstvím ve stejné databázi jako aplikace tabulky ho je možné stanovit [omezení cizích klíčů](http://en.wikipedia.org/wiki/Foreign_key) mezi primárních klíčů v Členství související tabulky a tabulek souvisejících aplikací.</span><span class="sxs-lookup"><span data-stu-id="5e895-135">**Relational Integrity** � by locating the Membership-related tables in the same database as the application tables it is possible to establish [foreign key constraints](http://en.wikipedia.org/wiki/Foreign_key) between the primary keys in the Membership-related tables and related application tables.</span></span>

<span data-ttu-id="5e895-136">Oddělení dat úložiště a aplikace uživatele do samostatné databáze má smysl pouze, pokud máte více aplikací, že každý použít samostatné databáze, ale muset sdílet běžné úložiště uživatele.</span><span class="sxs-lookup"><span data-stu-id="5e895-136">Decoupling the user store and application data into separate databases only makes sense if you have multiple applications that each use separate databases, but need to share a common user store.</span></span>

### <a name="creating-a-database"></a><span data-ttu-id="5e895-137">Vytvoření databáze</span><span class="sxs-lookup"><span data-stu-id="5e895-137">Creating a Database</span></span>

<span data-ttu-id="5e895-138">Aplikace, kterou jsme byla vytváření od druhého kurzu není potřeba ještě databáze.</span><span class="sxs-lookup"><span data-stu-id="5e895-138">The application we have been building since the second tutorial has not yet needed a database.</span></span> <span data-ttu-id="5e895-139">Potřebujeme jeden nyní, ale pro úložiště uživatelů.</span><span class="sxs-lookup"><span data-stu-id="5e895-139">We need one now, however, for the user store.</span></span> <span data-ttu-id="5e895-140">Umožňuje vytvořit a pak přidejte do ní schéma vyžaduje `SqlMembershipProvider` zprostředkovatele (viz krok 2).</span><span class="sxs-lookup"><span data-stu-id="5e895-140">Let's create one and then add to it the schema required by the `SqlMembershipProvider` provider (see Step 2).</span></span>

> [!NOTE]
> <span data-ttu-id="5e895-141">V rámci tohoto kurzu řady použijeme [Microsoft SQL Server 2005 Express Edition](https://msdn.microsoft.com/sql/Aa336346.aspx) databázi k ukládání tabulek naše aplikací a `SqlMembershipProvider` schématu.</span><span class="sxs-lookup"><span data-stu-id="5e895-141">Throughout this tutorial series we will be using a [Microsoft SQL Server 2005 Express Edition](https://msdn.microsoft.com/sql/Aa336346.aspx) database to store our application tables and the `SqlMembershipProvider` schema.</span></span> <span data-ttu-id="5e895-142">Toto rozhodnutí byl proveden dvou důvodů: nejprve z důvodu jeho náklady - free - Express Edition je nejvíce readably přístupné verzi systému SQL Server 2005; za druhé mohou být umístěny databáze SQL Server 2005 Express Edition přímo ve webové aplikaci `App_Data` složky, takže je velmi jednoduché balíčku databáze a webové aplikace společně v jednom souboru ZIP a znovu ji nasaďte bez jakékoli speciální instalační pokyny nebo možnosti konfigurace.</span><span class="sxs-lookup"><span data-stu-id="5e895-142">This decision was made for two reasons: first, due to its cost - free - the Express Edition is the most readably accessible version of SQL Server 2005; second, SQL Server 2005 Express Edition databases can be placed directly in the web application's `App_Data` folder, making it a cinch to package the database and web application together in one ZIP file and to redeploy it without any special setup instructions or configuration options.</span></span> <span data-ttu-id="5e895-143">Pokud chcete sledovat, používáte verzi systému SQL Server Express Edition, klidně.</span><span class="sxs-lookup"><span data-stu-id="5e895-143">If you'd prefer to follow along using a non-Express Edition version of SQL Server, feel free.</span></span> <span data-ttu-id="5e895-144">Kroky jsou téměř stejné.</span><span class="sxs-lookup"><span data-stu-id="5e895-144">The steps are virtually identical.</span></span> <span data-ttu-id="5e895-145">`SqlMembershipProvider` Bude fungovat v žádné verzi systému Microsoft SQL Server 2000 a až schématu.</span><span class="sxs-lookup"><span data-stu-id="5e895-145">The `SqlMembershipProvider` schema will work with any version of Microsoft SQL Server 2000 and up.</span></span>

<span data-ttu-id="5e895-146">V Průzkumníku řešení klikněte pravým tlačítkem na `App_Data` složky a přidat novou položku.</span><span class="sxs-lookup"><span data-stu-id="5e895-146">From the Solution Explorer, right-click on the `App_Data` folder and choose to Add New Item.</span></span> <span data-ttu-id="5e895-147">(Pokud se nezobrazí `App_Data` složku ve vašem projektu, klikněte pravým tlačítkem na projekt v Průzkumníku řešení, vyberte Přidat složku ASP.NET a vyberte `App_Data`.) Vyberte z dialogového okna Přidat novou položku, chcete-li přidat novou databázi SQL s názvem `SecurityTutorials.mdf`.</span><span class="sxs-lookup"><span data-stu-id="5e895-147">(If you do not see an `App_Data` folder in your project, right-click on the project in Solution Explorer, select Add ASP.NET Folder, and pick `App_Data`.) From the Add New Item dialog box, choose to add a new SQL Database named `SecurityTutorials.mdf`.</span></span> <span data-ttu-id="5e895-148">V tomto kurzu přidáme `SqlMembershipProvider` schématu do této databáze; v následujících kurzech vytvoříme další tabulky k zaznamenání dat naše aplikace.</span><span class="sxs-lookup"><span data-stu-id="5e895-148">In this tutorial we will add the `SqlMembershipProvider` schema to this database; in subsequent tutorials we will create additional tables to capture our application data.</span></span>


<span data-ttu-id="5e895-149">[![Přidat novou databázi SQL s názvem SecurityTutorials.mdf databázi do složky App_Data](creating-the-membership-schema-in-sql-server-vb/_static/image2.png)](creating-the-membership-schema-in-sql-server-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="5e895-149">[![Add a New SQL Database Named SecurityTutorials.mdf Database to the App_Data Folder](creating-the-membership-schema-in-sql-server-vb/_static/image2.png)](creating-the-membership-schema-in-sql-server-vb/_static/image1.png)</span></span>

<span data-ttu-id="5e895-150">**Obrázek 1**: Přidání nové databáze SQL název `SecurityTutorials.mdf` do databáze `App_Data` složky ([Kliknutím zobrazit obrázek v plné velikosti](creating-the-membership-schema-in-sql-server-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="5e895-150">**Figure 1**: Add a New SQL Database Named `SecurityTutorials.mdf` Database to the `App_Data` Folder ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image3.png))</span></span>


<span data-ttu-id="5e895-151">Přidání databáze do `App_Data` složky automaticky zahrne v zobrazení Průzkumník databáze.</span><span class="sxs-lookup"><span data-stu-id="5e895-151">Adding a database to the `App_Data` folder automatically includes it in the Database Explorer view.</span></span> <span data-ttu-id="5e895-152">(Ve verzi Express Edition sady Visual Studio, se nazývá Průzkumník databáze Průzkumníka serveru.) Přejděte do Průzkumníka databáze a rozbalte právě přidané `SecurityTutorials` databáze.</span><span class="sxs-lookup"><span data-stu-id="5e895-152">(In the non-Express Edition version of Visual Studio, the Database Explorer is called the Server Explorer.) Go to the Database Explorer and expand the just-added `SecurityTutorials` database.</span></span> <span data-ttu-id="5e895-153">Pokud nevidíte Průzkumník databáze na obrazovce, přejděte do nabídky Zobrazit a vybrat Průzkumník databáze nebo stiskněte tlačítko Ctrl + Alt + S.</span><span class="sxs-lookup"><span data-stu-id="5e895-153">If you do not see the Database Explorer on screen, go to the View menu and choose Database Explorer, or hit Ctrl+Alt+S.</span></span> <span data-ttu-id="5e895-154">Jak je vidět na obrázku 2, `SecurityTutorials` databáze je prázdná – obsahuje žádné tabulky, žádná zobrazení a žádné uložené procedury.</span><span class="sxs-lookup"><span data-stu-id="5e895-154">As Figure 2 shows, the `SecurityTutorials` database is empty - it contains no tables, no views, and no stored procedures.</span></span>


<span data-ttu-id="5e895-155">[![Databázi SecurityTutorials je teď prázdný](creating-the-membership-schema-in-sql-server-vb/_static/image5.png)](creating-the-membership-schema-in-sql-server-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="5e895-155">[![The SecurityTutorials Database is Currently Empty](creating-the-membership-schema-in-sql-server-vb/_static/image5.png)](creating-the-membership-schema-in-sql-server-vb/_static/image4.png)</span></span>

<span data-ttu-id="5e895-156">**Obrázek 2**: `SecurityTutorials` databáze je aktuálně prázdná ([Kliknutím zobrazit obrázek v plné velikosti](creating-the-membership-schema-in-sql-server-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="5e895-156">**Figure 2**: The `SecurityTutorials` Database is Currently Empty ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image6.png))</span></span>


## <a name="step-2-adding-thesqlmembershipproviderschema-to-the-database"></a><span data-ttu-id="5e895-157">Krok 2: Přidání`SqlMembershipProvider`schématu do databáze</span><span class="sxs-lookup"><span data-stu-id="5e895-157">Step 2: Adding the`SqlMembershipProvider`Schema to the Database</span></span>

<span data-ttu-id="5e895-158">`SqlMembershipProvider` Vyžaduje konkrétní sadu tabulek, zobrazení a uložených procedur být nainstalovaný v úložišti databáze uživatelů.</span><span class="sxs-lookup"><span data-stu-id="5e895-158">The `SqlMembershipProvider` requires a particular set of tables, views, and stored procedures to be installed in the user store database.</span></span> <span data-ttu-id="5e895-159">Tyto objekty požadavků databázi lze přidat pomocí [ `aspnet_regsql.exe` nástroj](https://msdn.microsoft.com/library/ms229862.aspx).</span><span class="sxs-lookup"><span data-stu-id="5e895-159">These requisite database objects can be added using the [`aspnet_regsql.exe` tool](https://msdn.microsoft.com/library/ms229862.aspx).</span></span> <span data-ttu-id="5e895-160">Tento soubor je umístěný v `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\` složky.</span><span class="sxs-lookup"><span data-stu-id="5e895-160">This file is located in the `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\` folder.</span></span>

> [!NOTE]
> <span data-ttu-id="5e895-161">`aspnet_regsql.exe` Nástroj nabízí funkce příkazový řádek a grafické uživatelské rozhraní.</span><span class="sxs-lookup"><span data-stu-id="5e895-161">The `aspnet_regsql.exe` tool offers both command line functionality and a graphical user interface.</span></span> <span data-ttu-id="5e895-162">Grafické rozhraní je uživatelsky přívětivější a co vyzkoušíme v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="5e895-162">The graphical interface is more user friendly and is what we will examine in this tutorial.</span></span> <span data-ttu-id="5e895-163">Rozhraní příkazového řádku je užitečné při přidání `SqlMembershipProvider` musí se schéma je možné automatizovat, například sestavení skriptů nebo automatizované testování scénáře.</span><span class="sxs-lookup"><span data-stu-id="5e895-163">The command line interface is useful when the addition of the `SqlMembershipProvider` schema needs to be automated, such as in build scripts or automated testing scenarios.</span></span>

<span data-ttu-id="5e895-164">`aspnet_regsql.exe` Nástroj se používá k přidání nebo odebrání *aplikačními službami ASP.NET* zadanou databázi serveru SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5e895-164">The `aspnet_regsql.exe` tool is used to add or remove *ASP.NET application services* to a specified SQL Server database.</span></span> <span data-ttu-id="5e895-165">Schémata pro zahrnovat služby aplikace ASP.NET `SqlMembershipProvider` a `SqlRoleProvider`, společně s schémata pro zprostředkovatele na základě SQL pro ostatní rozhraní ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="5e895-165">The ASP.NET application services encompass the schemas for the `SqlMembershipProvider` and `SqlRoleProvider`, along with the schemas for the SQL-based providers for other ASP.NET 2.0 frameworks.</span></span> <span data-ttu-id="5e895-166">Je potřeba zadat dva bity informace, které `aspnet_regsql.exe` nástroje:</span><span class="sxs-lookup"><span data-stu-id="5e895-166">We need to provide two bits of information to the `aspnet_regsql.exe` tool:</span></span>

- <span data-ttu-id="5e895-167">Jestli chcete přidat nebo odebrat aplikační služby, a</span><span class="sxs-lookup"><span data-stu-id="5e895-167">Whether we want to add or remove application services, and</span></span>
- <span data-ttu-id="5e895-168">Databáze, ze kterého chcete přidat nebo odebrat schématu služby aplikací</span><span class="sxs-lookup"><span data-stu-id="5e895-168">The database from which to add or remove the application services schema</span></span>

<span data-ttu-id="5e895-169">V zobrazení výzvy k databázi chcete použít, `aspnet_regsql.exe` nástroj požádá, abychom mohli poskytovat název serveru databáze nachází na zabezpečovací pověření pro připojení k databázi a název databáze.</span><span class="sxs-lookup"><span data-stu-id="5e895-169">In prompting for the database to use, the `aspnet_regsql.exe` tool asks us to provide the name of the server the database resides on, the security credentials for connecting to the database, and the database name.</span></span> <span data-ttu-id="5e895-170">Pokud používáte jiný - Express edice SQL serveru, musí již víte, tyto informace, jako je stejné informace, které je nutné zadat pomocí připojovacího řetězce při práci s databází přes webovou stránku ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5e895-170">If you are using the non-Express Edition of SQL Server, you should already know this information, as it is the same information you must provide through a connection string when working with the database through an ASP.NET web page.</span></span> <span data-ttu-id="5e895-171">Určení názvu serveru a databáze při použití v databázi SQL Server 2005 Express Edition `App_Data` složky, je však složitější.</span><span class="sxs-lookup"><span data-stu-id="5e895-171">Determining the server and database name when using a SQL Server 2005 Express Edition database in the `App_Data` folder, however, is a bit more involved.</span></span>

<span data-ttu-id="5e895-172">V následující části prozkoumá snadný způsob, jak zadat název serveru a databáze pro databázi SQL Server 2005 Express Edition v `App_Data` složky.</span><span class="sxs-lookup"><span data-stu-id="5e895-172">The following section examines a straightforward way for specifying the server and database name for a SQL Server 2005 Express Edition database in the `App_Data` folder.</span></span> <span data-ttu-id="5e895-173">Pokud nepoužíváte, můžete přeskočit na instalace SQL serveru 2005 Express Edition chování části aplikačních služeb.</span><span class="sxs-lookup"><span data-stu-id="5e895-173">If you are not using SQL Server 2005 Express Edition feel free to skip ahead to the Installing the Application Services section.</span></span>

### <a name="determining-the-server-and-database-name-for-a-sql-server-2005-express-edition-database-in-theappdatafolder"></a><span data-ttu-id="5e895-174">Určení serveru a název databáze pro databázi SQL Server 2005 Express Edition v`App_Data`složky</span><span class="sxs-lookup"><span data-stu-id="5e895-174">Determining the Server and Database Name for a SQL Server 2005 Express Edition Database in the`App_Data`Folder</span></span>

<span data-ttu-id="5e895-175">Chcete-li použít `aspnet_regsql.exe` nástroj, je potřeba znát název serveru a databáze.</span><span class="sxs-lookup"><span data-stu-id="5e895-175">In order to use the `aspnet_regsql.exe` tool we need to know the server and database names.</span></span> <span data-ttu-id="5e895-176">Název serveru není `localhost\InstanceName`.</span><span class="sxs-lookup"><span data-stu-id="5e895-176">The server name is `localhost\InstanceName`.</span></span> <span data-ttu-id="5e895-177">Nejpravděpodobnější, *InstanceName* je `SQLExpress`.</span><span class="sxs-lookup"><span data-stu-id="5e895-177">Most likely, the *InstanceName* is `SQLExpress`.</span></span> <span data-ttu-id="5e895-178">Ale pokud jste nainstalovali SQL Server 2005 Express Edition ručně (to znamená, že jste nenainstalovali ji automaticky při instalaci sady Visual Studio), je možné, že jste vybrali jiný název instance.</span><span class="sxs-lookup"><span data-stu-id="5e895-178">However, if you installed SQL Server 2005 Express Edition manually (that is, you did not install it automatically while installing Visual Studio), then it is possible that you selected a different instance name.</span></span>

<span data-ttu-id="5e895-179">Název databáze je trochu trickier k určení.</span><span class="sxs-lookup"><span data-stu-id="5e895-179">The database name is a bit trickier to determine.</span></span> <span data-ttu-id="5e895-180">Databáze v `App_Data` složky mají obvykle název databáze, která zahrnuje [globálně jedinečný identifikátor](http://en.wikipedia.org/wiki/Globally_Unique_Identifier) a cesty k souboru databáze.</span><span class="sxs-lookup"><span data-stu-id="5e895-180">Databases in the `App_Data` folder typically have a database name that includes a [globally unique identifier](http://en.wikipedia.org/wiki/Globally_Unique_Identifier) along with the path to the database file.</span></span> <span data-ttu-id="5e895-181">Je potřeba určit tento název databáze, aby bylo možné přidat schématu aplikací služby prostřednictvím `aspnet_regsql.exe`.</span><span class="sxs-lookup"><span data-stu-id="5e895-181">We need to determine this database name in order to add the application services schema through `aspnet_regsql.exe`.</span></span>

<span data-ttu-id="5e895-182">Nejjednodušší způsob, jak zjistit název databáze je prozkoumat pomocí SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="5e895-182">The easiest way to ascertain the database name is to examine it through SQL Server Management Studio.</span></span> <span data-ttu-id="5e895-183">SQL Server Management Studio poskytuje grafické rozhraní pro správu databáze SQL Server 2005, ale není dodávají spolu s Express edice systému SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="5e895-183">SQL Server Management Studio provides a graphical interface for managing SQL Server 2005 databases, but it does not ship with the Express Edition of SQL Server 2005.</span></span> <span data-ttu-id="5e895-184">Dobrá zpráva je, že [si můžete stáhnout](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) volné Express edice systému SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="5e895-184">The good news is that [you can download](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) the free Express Edition of SQL Server Management Studio.</span></span>

> [!NOTE]
> <span data-ttu-id="5e895-185">Pokud máte také Express Edition verze systému SQL Server 2005 nainstalovaná na pracovní ploše plnou verzi Management Studio pravděpodobně nainstalován.</span><span class="sxs-lookup"><span data-stu-id="5e895-185">If you also have a non-Express Edition version of SQL Server 2005 installed on your desktop then the full version of Management Studio is likely installed.</span></span> <span data-ttu-id="5e895-186">Chcete-li zjistit název databáze, následující stejný postup, jak je uvedeno níže pro edici Express můžete na plnou verzi.</span><span class="sxs-lookup"><span data-stu-id="5e895-186">You can use the full version to determine the database name, following the same steps as outlined below for the Express Edition.</span></span>

<span data-ttu-id="5e895-187">Spusťte ukončením Visual Studio zajistit, aby byly zavřeny všechny zámky vyvolané sady Visual Studio na soubor databáze.</span><span class="sxs-lookup"><span data-stu-id="5e895-187">Start by closing Visual Studio to ensure that any locks imposed by Visual Studio on the database file are closed.</span></span> <span data-ttu-id="5e895-188">Potom spusťte SQL Server Management Studio a připojte se k `localhost\InstanceName` databáze pro SQL Server 2005 Express Edition.</span><span class="sxs-lookup"><span data-stu-id="5e895-188">Next, launch SQL Server Management Studio and connect to the `localhost\InstanceName` database for SQL Server 2005 Express Edition.</span></span> <span data-ttu-id="5e895-189">Jak již bylo uvedeno dříve, je možné se název instance je `SQLExpress`.</span><span class="sxs-lookup"><span data-stu-id="5e895-189">As noted earlier, chances are the instance name is `SQLExpress`.</span></span> <span data-ttu-id="5e895-190">Pro možnost ověřování vyberte ověřování systému Windows.</span><span class="sxs-lookup"><span data-stu-id="5e895-190">For the Authentication option, select Windows Authentication.</span></span>


<span data-ttu-id="5e895-191">[![Připojte se k instanci SQL Server 2005 Express Edition](creating-the-membership-schema-in-sql-server-vb/_static/image8.png)](creating-the-membership-schema-in-sql-server-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="5e895-191">[![Connect to the SQL Server 2005 Express Edition Instance](creating-the-membership-schema-in-sql-server-vb/_static/image8.png)](creating-the-membership-schema-in-sql-server-vb/_static/image7.png)</span></span>

<span data-ttu-id="5e895-192">**Obrázek 3**: připojení k instanci serveru SQL Server 2005 Express Edition ([Kliknutím zobrazit obrázek v plné velikosti](creating-the-membership-schema-in-sql-server-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="5e895-192">**Figure 3**: Connect to the SQL Server 2005 Express Edition Instance ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image9.png))</span></span>


<span data-ttu-id="5e895-193">Po připojení k instanci SQL Server 2005 Express Edition, zobrazí Management Studio složky pro databáze, nastavení zabezpečení, Server objekty a tak dále.</span><span class="sxs-lookup"><span data-stu-id="5e895-193">After connecting to the SQL Server 2005 Express Edition instance, Management Studio displays folders for the Databases, the Security settings, the Server Objects, and so on.</span></span> <span data-ttu-id="5e895-194">Pokud rozbalíte kartě databáze zobrazí se `SecurityTutorials.mdf` databáze je *není* zaregistrovaný v instanci databáze – potřebujeme nejprve připojit databázi.</span><span class="sxs-lookup"><span data-stu-id="5e895-194">If you expand the Databases tab you will see that the `SecurityTutorials.mdf` database is *not* registered in the database instance - we need to attach the database first.</span></span>

<span data-ttu-id="5e895-195">Klikněte pravým tlačítkem na složku databází a vyberte připojit v místní nabídce.</span><span class="sxs-lookup"><span data-stu-id="5e895-195">Right-click on the Databases folder and choose Attach from the context menu.</span></span> <span data-ttu-id="5e895-196">Tato akce zobrazí dialogové okno připojení databáze.</span><span class="sxs-lookup"><span data-stu-id="5e895-196">This will display the Attach Databases dialog box.</span></span> <span data-ttu-id="5e895-197">Zde klikněte na tlačítko Přidat, přejděte na `SecurityTutorials.mdf` databáze a klikněte na tlačítko OK.</span><span class="sxs-lookup"><span data-stu-id="5e895-197">From here, click the Add button, browse to the `SecurityTutorials.mdf` database, and click OK.</span></span> <span data-ttu-id="5e895-198">Obrázek 4 ukazuje dialogové okno Připojit databáze po `SecurityTutorials.mdf` databáze byla vybrána.</span><span class="sxs-lookup"><span data-stu-id="5e895-198">Figure 4 shows the Attach Databases dialog box after the `SecurityTutorials.mdf` database has been selected.</span></span> <span data-ttu-id="5e895-199">Obrázek 5 ukazuje Průzkumník objektů Management Studio po databáze byla úspěšně připojil.</span><span class="sxs-lookup"><span data-stu-id="5e895-199">Figure 5 shows Management Studio's Object Explorer after the database has been successfully attached.</span></span>


<span data-ttu-id="5e895-200">[![Připojit databázi SecurityTutorials.mdf](creating-the-membership-schema-in-sql-server-vb/_static/image11.png)](creating-the-membership-schema-in-sql-server-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="5e895-200">[![Attach the SecurityTutorials.mdf Database](creating-the-membership-schema-in-sql-server-vb/_static/image11.png)](creating-the-membership-schema-in-sql-server-vb/_static/image10.png)</span></span>

<span data-ttu-id="5e895-201">**Obrázek 4**: připojení `SecurityTutorials.mdf` databáze ([Kliknutím zobrazit obrázek v plné velikosti](creating-the-membership-schema-in-sql-server-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="5e895-201">**Figure 4**: Attach the `SecurityTutorials.mdf` Database ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image12.png))</span></span>


<span data-ttu-id="5e895-202">[![Databázi SecurityTutorials.mdf se zobrazí ve složce databáze](creating-the-membership-schema-in-sql-server-vb/_static/image14.png)](creating-the-membership-schema-in-sql-server-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="5e895-202">[![The SecurityTutorials.mdf Database Appears in the Databases Folder](creating-the-membership-schema-in-sql-server-vb/_static/image14.png)](creating-the-membership-schema-in-sql-server-vb/_static/image13.png)</span></span>

<span data-ttu-id="5e895-203">**Obrázek 5**: `SecurityTutorials.mdf` databáze se zobrazí ve složce databáze ([Kliknutím zobrazit obrázek v plné velikosti](creating-the-membership-schema-in-sql-server-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="5e895-203">**Figure 5**: The `SecurityTutorials.mdf` Database Appears in the Databases Folder ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image15.png))</span></span>


<span data-ttu-id="5e895-204">Jak je vidět na obrázku 5, `SecurityTutorials.mdf` databáze má místo abstruse název.</span><span class="sxs-lookup"><span data-stu-id="5e895-204">As Figure 5 shows, the `SecurityTutorials.mdf` database has a rather abstruse name.</span></span> <span data-ttu-id="5e895-205">Umožňuje změnit na více snadno zapamatovatelný (a usnadňují zadejte) název.</span><span class="sxs-lookup"><span data-stu-id="5e895-205">Let's change it to a more memorable (and easier to type) name.</span></span> <span data-ttu-id="5e895-206">Klikněte pravým tlačítkem na databázi, vyberte v místní nabídce přejmenovat a přejmenujte ji `SecurityTutorialsDatabase`.</span><span class="sxs-lookup"><span data-stu-id="5e895-206">Right-click on the database, choose Rename from the context menu, and rename it `SecurityTutorialsDatabase`.</span></span> <span data-ttu-id="5e895-207">Nezmění se název souboru, pouze název databáze slouží k identifikaci k systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5e895-207">This does not change the filename, just the name the database uses to identify itself to SQL Server.</span></span>


<span data-ttu-id="5e895-208">[![Přejmenujte databázi SecurityTutorialsDatabase](creating-the-membership-schema-in-sql-server-vb/_static/image17.png)](creating-the-membership-schema-in-sql-server-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="5e895-208">[![Rename the Database to SecurityTutorialsDatabase](creating-the-membership-schema-in-sql-server-vb/_static/image17.png)](creating-the-membership-schema-in-sql-server-vb/_static/image16.png)</span></span>

<span data-ttu-id="5e895-209">**Obrázek 6**: Přejmenovat databázi do `SecurityTutorialsDatabase`([Kliknutím zobrazit obrázek v plné velikosti](creating-the-membership-schema-in-sql-server-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="5e895-209">**Figure 6**: Rename the Database to `SecurityTutorialsDatabase`([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image18.png))</span></span>


<span data-ttu-id="5e895-210">V tuto chvíli jsme znát název serveru a databáze pro `SecurityTutorials.mdf` souboru databáze: `localhost\InstanceName` a `SecurityTutorialsDatabase`, v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="5e895-210">At this point we know the server and database names for the `SecurityTutorials.mdf` database file: `localhost\InstanceName` and `SecurityTutorialsDatabase`, respectively.</span></span> <span data-ttu-id="5e895-211">Snažíme se teď připravené k instalaci aplikačních služeb prostřednictvím `aspnet_regsql.exe` nástroj.</span><span class="sxs-lookup"><span data-stu-id="5e895-211">We are now ready to install the application services through the `aspnet_regsql.exe` tool.</span></span>

### <a name="installing-the-application-services"></a><span data-ttu-id="5e895-212">Instalace aplikačních služeb</span><span class="sxs-lookup"><span data-stu-id="5e895-212">Installing the Application Services</span></span>

<span data-ttu-id="5e895-213">Ke spuštění `aspnet_regsql.exe` nástroj, přejděte do nabídky start a vyberte spustit.</span><span class="sxs-lookup"><span data-stu-id="5e895-213">To launch the `aspnet_regsql.exe` tool, go to the start menu and choose Run.</span></span> <span data-ttu-id="5e895-214">Zadejte `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\aspnet_regsql.exe` do textového pole a klikněte na tlačítko OK.</span><span class="sxs-lookup"><span data-stu-id="5e895-214">Enter `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\aspnet_regsql.exe` into the textbox and click OK.</span></span> <span data-ttu-id="5e895-215">Alternativně můžete pomocí Průzkumníka Windows přejít k podrobnostem a příslušné složky a dvakrát klikněte na `aspnet_regsql.exe` souboru.</span><span class="sxs-lookup"><span data-stu-id="5e895-215">Alternatively, you can use Windows Explorer to drill down to the appropriate folder and double-click the `aspnet_regsql.exe` file.</span></span> <span data-ttu-id="5e895-216">Buď přístup budou net stejné výsledky.</span><span class="sxs-lookup"><span data-stu-id="5e895-216">Either approach will net the same results.</span></span>

<span data-ttu-id="5e895-217">Spuštění `aspnet_regsql.exe` nástroj bez argumentů příkazového řádku Spustí grafické uživatelské rozhraní ASP.NET v Průvodci instalací SQL serveru.</span><span class="sxs-lookup"><span data-stu-id="5e895-217">Running the `aspnet_regsql.exe` tool without any command line arguments launches the ASP.NET SQL Server Setup Wizard graphical user interface.</span></span> <span data-ttu-id="5e895-218">Průvodce umožňuje snadno přidat nebo odebrat aplikačními službami ASP.NET zadanou databází.</span><span class="sxs-lookup"><span data-stu-id="5e895-218">The wizard makes it easy to add or remove the ASP.NET application services on a specified database.</span></span> <span data-ttu-id="5e895-219">Na první obrazovce Průvodce vidět na obrázku 7, popisuje účel tohoto nástroje.</span><span class="sxs-lookup"><span data-stu-id="5e895-219">The first screen of the wizard, shown in Figure 7, describes the purpose of the tool.</span></span>


<span data-ttu-id="5e895-220">[![Pomocí Průvodce díky ASP.NET SQL Server instalační program přidejte schéma členství](creating-the-membership-schema-in-sql-server-vb/_static/image20.png)](creating-the-membership-schema-in-sql-server-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="5e895-220">[![Use the ASP.NET SQL Server Setup Wizard Makes to Add the Membership Schema](creating-the-membership-schema-in-sql-server-vb/_static/image20.png)](creating-the-membership-schema-in-sql-server-vb/_static/image19.png)</span></span>

<span data-ttu-id="5e895-221">**Obrázek 7**: pomocí ASP.NET SQL Server instalační program Průvodce odešle přidejte schéma členství ([Kliknutím zobrazit obrázek v plné velikosti](creating-the-membership-schema-in-sql-server-vb/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="5e895-221">**Figure 7**: Use the ASP.NET SQL Server Setup Wizard Makes to Add the Membership Schema ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image21.png))</span></span>


<span data-ttu-id="5e895-222">Druhý krok v Průvodci zjistím, jestli chcete přidat aplikační služby nebo je odeberte.</span><span class="sxs-lookup"><span data-stu-id="5e895-222">The second step in the wizard asks us whether we want to add the application services or remove them.</span></span> <span data-ttu-id="5e895-223">Vzhledem k tomu, že chceme přidání tabulek, zobrazení a uložených procedur, které jsou nezbytné pro `SqlMembershipProvider`, zvolte možnost konfigurovat SQL Server pro aplikaci služby.</span><span class="sxs-lookup"><span data-stu-id="5e895-223">Since we want to add the tables, views, and stored procedures necessary for the `SqlMembershipProvider`, choose the Configure SQL Server for application services option.</span></span> <span data-ttu-id="5e895-224">Později Pokud chcete odebrat toto schéma z vaší databáze, znovu spusťte tohoto průvodce, ale místo toho zvolíte informace o aplikaci služby odebrat z existující databáze možnost.</span><span class="sxs-lookup"><span data-stu-id="5e895-224">Later, if you want to remove this schema from your database, re-run this wizard, but instead choose the Remove application services information from an existing database option.</span></span>


<span data-ttu-id="5e895-225">[![Zvolte konfiguraci SQL serveru pro možnost aplikace služby](creating-the-membership-schema-in-sql-server-vb/_static/image23.png)](creating-the-membership-schema-in-sql-server-vb/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="5e895-225">[![Choose the Configure SQL Server for Application Services Option](creating-the-membership-schema-in-sql-server-vb/_static/image23.png)](creating-the-membership-schema-in-sql-server-vb/_static/image22.png)</span></span>

<span data-ttu-id="5e895-226">**Obrázek 8**: Zvolte nakonfigurujte systém SQL Server pro aplikaci služby možnost ([Kliknutím zobrazit obrázek v plné velikosti](creating-the-membership-schema-in-sql-server-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="5e895-226">**Figure 8**: Choose the Configure SQL Server for Application Services Option ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image24.png))</span></span>


<span data-ttu-id="5e895-227">Třetí krok vyzve k zadání informace o databázi: název serveru, informace o ověřování a název databáze.</span><span class="sxs-lookup"><span data-stu-id="5e895-227">The third step prompts for the database information: the server name, authentication information, and the database name.</span></span> <span data-ttu-id="5e895-228">Pokud jste byli po společně s tohoto kurzu a přidali `SecurityTutorials.mdf` do databáze `App_Data`, připojit se k `localhost\InstanceName`a přejmenoval jej na `SecurityTutorialsDatabase`, potom použijte následující hodnoty:</span><span class="sxs-lookup"><span data-stu-id="5e895-228">If you have been following along with this tutorial and have added the `SecurityTutorials.mdf` database to `App_Data`, attached it to `localhost\InstanceName`, and renamed it to `SecurityTutorialsDatabase`, then use the following values:</span></span>

- <span data-ttu-id="5e895-229">Server: `localhost\InstanceName`</span><span class="sxs-lookup"><span data-stu-id="5e895-229">Server: `localhost\InstanceName`</span></span>
- <span data-ttu-id="5e895-230">Ověřování systému Windows</span><span class="sxs-lookup"><span data-stu-id="5e895-230">Windows authentication</span></span>
- <span data-ttu-id="5e895-231">Databáze: `SecurityTutorialsDatabase`</span><span class="sxs-lookup"><span data-stu-id="5e895-231">Database: `SecurityTutorialsDatabase`</span></span>


<span data-ttu-id="5e895-232">[![Zadejte informace o databázi](creating-the-membership-schema-in-sql-server-vb/_static/image26.png)](creating-the-membership-schema-in-sql-server-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="5e895-232">[![Enter the Database Information](creating-the-membership-schema-in-sql-server-vb/_static/image26.png)](creating-the-membership-schema-in-sql-server-vb/_static/image25.png)</span></span>

<span data-ttu-id="5e895-233">**Obrázek 9**: Zadejte informace o databázi ([Kliknutím zobrazit obrázek v plné velikosti](creating-the-membership-schema-in-sql-server-vb/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="5e895-233">**Figure 9**: Enter the Database Information ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image27.png))</span></span>


<span data-ttu-id="5e895-234">Po zadání informace o databázi, klikněte na tlačítko Další.</span><span class="sxs-lookup"><span data-stu-id="5e895-234">After entering the database information, click Next.</span></span> <span data-ttu-id="5e895-235">V posledním kroku shrnuje kroky, které se provedou.</span><span class="sxs-lookup"><span data-stu-id="5e895-235">The final step summarizes the steps that will be taken.</span></span> <span data-ttu-id="5e895-236">K instalaci aplikace služby a pak dokončete průvodce kliknutím na tlačítko Další.</span><span class="sxs-lookup"><span data-stu-id="5e895-236">Click Next to install the application services and then Finish to complete the wizard.</span></span>

> [!NOTE]
> <span data-ttu-id="5e895-237">Pokud jste použili Management Studio a připojte databázi přejmenujte soubor databáze, nezapomeňte odpojení dané databáze a znovu otevřete Visual Studio zavřít Management Studio.</span><span class="sxs-lookup"><span data-stu-id="5e895-237">If you used Management Studio to attach the database and rename the database file, be sure to detach the database and close Management Studio before reopening Visual Studio.</span></span> <span data-ttu-id="5e895-238">K odpojení `SecurityTutorialsDatabase` databáze, klikněte pravým tlačítkem na název databáze a v nabídce úlohy, zvolte Odpojit.</span><span class="sxs-lookup"><span data-stu-id="5e895-238">To detach the `SecurityTutorialsDatabase` database, right-click on the database name and, from the Tasks menu, choose Detach.</span></span>

<span data-ttu-id="5e895-239">Po dokončení průvodce se vraťte k sadě Visual Studio a přejděte do Průzkumníka databáze.</span><span class="sxs-lookup"><span data-stu-id="5e895-239">Upon completion of the wizard, return to Visual Studio and navigate to the Database Explorer.</span></span> <span data-ttu-id="5e895-240">Rozbalte složku tabulky.</span><span class="sxs-lookup"><span data-stu-id="5e895-240">Expand the Tables folder.</span></span> <span data-ttu-id="5e895-241">Měli byste vidět řadu tabulek, jejichž názvy začínají předponou `aspnet_`.</span><span class="sxs-lookup"><span data-stu-id="5e895-241">You should see a series of tables whose names start with the prefix `aspnet_`.</span></span> <span data-ttu-id="5e895-242">Podobně různých zobrazení a uložených procedur najdete v části složky zobrazení a uložených procedur.</span><span class="sxs-lookup"><span data-stu-id="5e895-242">Likewise, a variety of views and stored procedures can be found under the Views and Stored Procedures folders.</span></span> <span data-ttu-id="5e895-243">Tyto objekty databáze tvoří schématu služby aplikací.</span><span class="sxs-lookup"><span data-stu-id="5e895-243">These database objects make up the application services schema.</span></span> <span data-ttu-id="5e895-244">Vyzkoušíme členství a role konkrétní databázové objekty v kroku 3.</span><span class="sxs-lookup"><span data-stu-id="5e895-244">We will examine the membership- and role-specific database objects in Step 3.</span></span>


<span data-ttu-id="5e895-245">[![Různých tabulek, zobrazení a uložených procedur jsou přidané do databáze](creating-the-membership-schema-in-sql-server-vb/_static/image29.png)](creating-the-membership-schema-in-sql-server-vb/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="5e895-245">[![A Variety of Tables, Views, and Stored Procedures Have Been Added to the Database](creating-the-membership-schema-in-sql-server-vb/_static/image29.png)](creating-the-membership-schema-in-sql-server-vb/_static/image28.png)</span></span>

<span data-ttu-id="5e895-246">**Obrázek 10**: A různých tabulek, zobrazení a uložené procedury byly přidány do databáze ([Kliknutím zobrazit obrázek v plné velikosti](creating-the-membership-schema-in-sql-server-vb/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="5e895-246">**Figure 10**: A Variety of Tables, Views, and Stored Procedures Have Been Added to the Database ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image30.png))</span></span>


> [!NOTE]
> <span data-ttu-id="5e895-247">`aspnet_regsql.exe` Grafické uživatelské rozhraní nástroje nainstaluje schéma celá aplikace služby.</span><span class="sxs-lookup"><span data-stu-id="5e895-247">The `aspnet_regsql.exe` tool's graphical user interface installs the entire application services schema.</span></span> <span data-ttu-id="5e895-248">Ale při provádění `aspnet_regsql.exe` z příkazového řádku můžete zadat, jaký konkrétní aplikace součásti instalace (nebo odebrání) služby.</span><span class="sxs-lookup"><span data-stu-id="5e895-248">But when executing `aspnet_regsql.exe` from the command-line you can specify what particular application services components to install (or remove).</span></span> <span data-ttu-id="5e895-249">Proto, pokud chcete přidat pouze tabulky, zobrazení a uložené procedury, které jsou nezbytné pro `SqlMembershipProvider` a `SqlRoleProvider` poskytovatelů, spouštění `aspnet_regsql.exe` z příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="5e895-249">Therefore, if you want to add just the tables, views, and stored procedures necessary for the `SqlMembershipProvider` and `SqlRoleProvider` providers, run `aspnet_regsql.exe` from the command-line.</span></span> <span data-ttu-id="5e895-250">Alternativně můžete ručně spustit příslušné podmnožinu T-SQL vytvořit skripty, které používá `aspnet_regsql.exe`.</span><span class="sxs-lookup"><span data-stu-id="5e895-250">Alternatively, you can manually run the appropriate subset of T-SQL create scripts used by `aspnet_regsql.exe`.</span></span> <span data-ttu-id="5e895-251">Tyto skripty jsou umístěné v `WINDIR%\Microsoft.Net\Framework\v2.0.50727\` složky s názvy jako `InstallCommon.sql`, `InstallMembership.sql`, `InstallRoles.sql`, `InstallProfile.sql`, `InstallSqlState.sql`a tak dále.</span><span class="sxs-lookup"><span data-stu-id="5e895-251">These scripts are located in the `WINDIR%\Microsoft.Net\Framework\v2.0.50727\` folder with names like `InstallCommon.sql`, `InstallMembership.sql`, `InstallRoles.sql`, `InstallProfile.sql`, `InstallSqlState.sql`, and so on.</span></span>

<span data-ttu-id="5e895-252">V tuto chvíli jsme vytvořili databázové objekty, které vyžaduje `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="5e895-252">At this point we have created the database objects needed by the `SqlMembershipProvider`.</span></span> <span data-ttu-id="5e895-253">Však ještě musíme pokyn rozhraní členství, že mají používat `SqlMembershipProvider` (versus, můžete, `ActiveDirectoryMembershipProvider`) a že `SqlMembershipProvider` by měl používat `SecurityTutorials` databáze.</span><span class="sxs-lookup"><span data-stu-id="5e895-253">However, we still need to instruct the Membership framework that it should use the `SqlMembershipProvider` (versus, say, the `ActiveDirectoryMembershipProvider`) and that the `SqlMembershipProvider` should use the `SecurityTutorials` database.</span></span> <span data-ttu-id="5e895-254">Podíváme určení zprostředkovatele, používat a přizpůsobení nastavení vybraného zprostředkovatele v kroku 4.</span><span class="sxs-lookup"><span data-stu-id="5e895-254">We'll look at how to specify what provider to use and how to customize the selected provider's settings in Step 4.</span></span> <span data-ttu-id="5e895-255">Ale nejdřív Podívejme hlubší pohled na databázové objekty, které byly právě vytvořili.</span><span class="sxs-lookup"><span data-stu-id="5e895-255">But first, let's take a deeper look at the database objects that were just created.</span></span>

## <a name="step-3-a-look-at-the-schemas-core-tables"></a><span data-ttu-id="5e895-256">Krok 3: Podívejte se na základní tabulky na schéma</span><span class="sxs-lookup"><span data-stu-id="5e895-256">Step 3: A Look at the Schema's Core Tables</span></span>

<span data-ttu-id="5e895-257">Při práci s rozhraními členství a rolí v aplikaci ASP.NET, jsou podrobnosti implementace zapouzdřené zprostředkovatelem.</span><span class="sxs-lookup"><span data-stu-id="5e895-257">When working with the Membership and Roles frameworks in an ASP.NET application, the implementation details are encapsulated by the provider.</span></span> <span data-ttu-id="5e895-258">V budoucích kurzy jsme bude rozhraní s tyto architektury prostřednictvím rozhraní .NET Framework `Membership` a `Roles` třídy.</span><span class="sxs-lookup"><span data-stu-id="5e895-258">In future tutorials we will interface with these frameworks via the .NET Framework's `Membership` and `Roles` classes.</span></span> <span data-ttu-id="5e895-259">Při použití těchto vysoké úrovně rozhraní API jsme nemusíte týkají označována s podrobnostmi nízké úrovně, jako jsou vykonány jaké dotazy a jaké tabulky jsou změnit pomocí `SqlMembershipProvider` a `SqlRoleProvider`.</span><span class="sxs-lookup"><span data-stu-id="5e895-259">When using these high-level APIs we do not need to concern ourselves with the low-level details, like what queries are executed or what tables are modified by the `SqlMembershipProvider` and `SqlRoleProvider`.</span></span>

<span data-ttu-id="5e895-260">Zadána to jsme mohli bez obav použít rozhraní členství a role bez nutnosti prozkoumali schéma databáze vytvořené v kroku 2.</span><span class="sxs-lookup"><span data-stu-id="5e895-260">Given this, we could confidently use the Membership and Roles frameworks without having explored the database schema created in Step 2.</span></span> <span data-ttu-id="5e895-261">Ale při vytváření tabulky k ukládání dat aplikací může musíme vytvořit entity, které se vztahují na uživatele nebo role.</span><span class="sxs-lookup"><span data-stu-id="5e895-261">However, when creating the tables to store application data we may need to create entities that relate to users or roles.</span></span> <span data-ttu-id="5e895-262">Pomáhá tak, aby měl znalost `SqlMembershipProvider` a `SqlRoleProvider` schémata při vytváření cizího klíče mezi tabulkami dat aplikací a tyto tabulky vytvořili v kroku 2 omezení.</span><span class="sxs-lookup"><span data-stu-id="5e895-262">It helps to have a familiarity with the `SqlMembershipProvider` and `SqlRoleProvider` schemas when establishing foreign key constraints between the application data tables and those tables created in Step 2.</span></span> <span data-ttu-id="5e895-263">Kromě toho v některých výjimečných případech může musíme rozhraní s uživatelem a ukládá role přímo na úrovni databáze (místo prostřednictvím `Membership` nebo `Roles` třídy).</span><span class="sxs-lookup"><span data-stu-id="5e895-263">Moreover, in certain rare circumstances we may need to interface with the user and role stores directly at the database level (instead of through the `Membership` or `Roles` classes).</span></span>

### <a name="partitioning-the-user-store-into-applications"></a><span data-ttu-id="5e895-264">Vytváření oddílů úložiště uživatele do aplikací</span><span class="sxs-lookup"><span data-stu-id="5e895-264">Partitioning the User Store Into Applications</span></span>

<span data-ttu-id="5e895-265">Rozhraní členství a role jsou navrženy tak, že jedno úložiště uživatele a role mohou být sdílená mezi mnoha různými aplikacemi.</span><span class="sxs-lookup"><span data-stu-id="5e895-265">The Membership and Roles frameworks are designed such that a single user and role store can be shared among many different applications.</span></span> <span data-ttu-id="5e895-266">Aplikace technologie ASP.NET, který používá rozhraní členství nebo rolí musíte zadat jaké oddílu aplikace použít.</span><span class="sxs-lookup"><span data-stu-id="5e895-266">An ASP.NET application that uses the Membership or Roles frameworks must specify what application partition to use.</span></span> <span data-ttu-id="5e895-267">Stručně řečeno několika webových aplikací můžete použít stejné úložiště uživatelů a rolí.</span><span class="sxs-lookup"><span data-stu-id="5e895-267">In short, multiple web applications can use the same user and role stores.</span></span> <span data-ttu-id="5e895-268">Uživatele a role úložišť, která jsou rozdělit na tři aplikace znázorňuje obrázek 11: HRSite, CustomerSite a SalesSite.</span><span class="sxs-lookup"><span data-stu-id="5e895-268">Figure 11 depicts user and role stores that are partitioned into three applications: HRSite, CustomerSite, and SalesSite.</span></span> <span data-ttu-id="5e895-269">Tyto tři webové aplikace každý mají své vlastní jedinečných uživatelů a rolí, ale všechny fyzicky ukládat své informace o účtu a role uživatele ve stejné databázových tabulek.</span><span class="sxs-lookup"><span data-stu-id="5e895-269">These three web applications each have their own unique users and roles, yet they all physically store their user account and role information in the same database tables.</span></span>


<span data-ttu-id="5e895-270">[![Uživatelské účty může rozděleného mezi více aplikacemi](creating-the-membership-schema-in-sql-server-vb/_static/image32.png)](creating-the-membership-schema-in-sql-server-vb/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="5e895-270">[![User Accounts May Be Partitioned Across Multiple Applications](creating-the-membership-schema-in-sql-server-vb/_static/image32.png)](creating-the-membership-schema-in-sql-server-vb/_static/image31.png)</span></span>

<span data-ttu-id="5e895-271">**Obrázek 11**: uživatelské účty může být rozdělena na oddíly napříč více aplikacemi ([Kliknutím zobrazit obrázek v plné velikosti](creating-the-membership-schema-in-sql-server-vb/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="5e895-271">**Figure 11**: User Accounts May Be Partitioned Across Multiple Applications ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image33.png))</span></span>


<span data-ttu-id="5e895-272">`aspnet_Applications` Tabulka je co definuje tyto oddíly.</span><span class="sxs-lookup"><span data-stu-id="5e895-272">The `aspnet_Applications` table is what defines these partitions.</span></span> <span data-ttu-id="5e895-273">Každá aplikace, která používá databázi k ukládání informací o uživatelském účtu je reprezentována řádek v této tabulce.</span><span class="sxs-lookup"><span data-stu-id="5e895-273">Each application that uses the database to store user account information is represented by a row in this table.</span></span> <span data-ttu-id="5e895-274">`aspnet_Applications` Tabulka obsahuje čtyři sloupce: `ApplicationId`, `ApplicationName`, `LoweredApplicationName`, a `Description`.`ApplicationId`</span><span class="sxs-lookup"><span data-stu-id="5e895-274">The `aspnet_Applications` table has four columns: `ApplicationId`, `ApplicationName`, `LoweredApplicationName`, and `Description`.`ApplicationId`</span></span> <span data-ttu-id="5e895-275">je typu [ `uniqueidentifier` ](https://msdn.microsoft.com/library/ms187942.aspx) a je primární klíč v tabulce; `ApplicationName` poskytuje jedinečný lidské popisný název pro každou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="5e895-275">is of type [`uniqueidentifier`](https://msdn.microsoft.com/library/ms187942.aspx) and is the table's primary key; `ApplicationName` provides a unique human-friendly name for each application.</span></span>

<span data-ttu-id="5e895-276">Členství a Role související tabulky propojit zpět `ApplicationId` pole `aspnet_Applications`.</span><span class="sxs-lookup"><span data-stu-id="5e895-276">The other Membership- and Role-related tables link back to the `ApplicationId` field in `aspnet_Applications`.</span></span> <span data-ttu-id="5e895-277">Například `aspnet_Users` tabulky a který obsahuje záznam pro každý uživatelský účet, má `ApplicationId` pole cizího klíče; viz výše pro `aspnet_Roles` tabulky.</span><span class="sxs-lookup"><span data-stu-id="5e895-277">For example, the `aspnet_Users` table, which contains a record for each user account, has an `ApplicationId` foreign key field; ditto for the `aspnet_Roles` table.</span></span> <span data-ttu-id="5e895-278">`ApplicationId` Pole v těchto tabulkách určuje oddílu aplikace uživatelský účet nebo role patří.</span><span class="sxs-lookup"><span data-stu-id="5e895-278">The `ApplicationId` field in these tables specifies the application partition the user account or role belongs to.</span></span>

### <a name="storing-user-account-information"></a><span data-ttu-id="5e895-279">Ukládání informací o uživatelském účtu</span><span class="sxs-lookup"><span data-stu-id="5e895-279">Storing User Account Information</span></span>

<span data-ttu-id="5e895-280">Informace o uživatelském účtu je umístěna ve dvou tabulek: `aspnet_Users` a `aspnet_Membership`.</span><span class="sxs-lookup"><span data-stu-id="5e895-280">User account information is housed in two tables: `aspnet_Users` and `aspnet_Membership`.</span></span> <span data-ttu-id="5e895-281">`aspnet_Users` Tabulka obsahuje pole, které obsahují informace nezbytné uživatelského účtu.</span><span class="sxs-lookup"><span data-stu-id="5e895-281">The `aspnet_Users` table contains fields that hold the essential user account information.</span></span> <span data-ttu-id="5e895-282">Jsou tři nejpodstatnější sloupce:</span><span class="sxs-lookup"><span data-stu-id="5e895-282">The three most pertinent columns are:</span></span>

- `UserId`
- `UserName`
- `ApplicationId`

<span data-ttu-id="5e895-283">`UserId` je primární klíč (a typu `uniqueidentifier`).</span><span class="sxs-lookup"><span data-stu-id="5e895-283">`UserId` is the primary key (and of type `uniqueidentifier`).</span></span> <span data-ttu-id="5e895-284">`UserName` je typu `nvarchar(256)` a společně s heslo, tvoří přihlašovacích údajů uživatele.</span><span class="sxs-lookup"><span data-stu-id="5e895-284">`UserName` is of type `nvarchar(256)` and, along with the password, makes up the user's credentials.</span></span> <span data-ttu-id="5e895-285">(Heslo uživatele je uložený v `aspnet_Membership` tabulku.) `ApplicationId` odkazuje na uživatelský účet na konkrétní aplikace v `aspnet_Applications`.</span><span class="sxs-lookup"><span data-stu-id="5e895-285">(A user's password is stored in the `aspnet_Membership` table.) `ApplicationId` links the user account to a particular application in `aspnet_Applications`.</span></span> <span data-ttu-id="5e895-286">Je složené [ `UNIQUE` omezení](https://msdn.microsoft.com/library/ms191166.aspx) na `UserName` a `ApplicationId` sloupce.</span><span class="sxs-lookup"><span data-stu-id="5e895-286">There is a composite [`UNIQUE` constraint](https://msdn.microsoft.com/library/ms191166.aspx) on the `UserName` and `ApplicationId` columns.</span></span> <span data-ttu-id="5e895-287">To zajistí, že v dané aplikaci každé uživatelské jméno je jedinečný, ale umožňuje pro stejné `UserName` pro použití v různých aplikací.</span><span class="sxs-lookup"><span data-stu-id="5e895-287">This ensures that in a given application each UserName is unique, yet it allows for the same `UserName` to be used in different applications.</span></span>

<span data-ttu-id="5e895-288">`aspnet_Membership` Tabulka obsahuje další informace o uživatelském účtu, jako je heslo uživatele, e-mailovou adresu, poslední přihlášení datum a čas a tak dále.</span><span class="sxs-lookup"><span data-stu-id="5e895-288">The `aspnet_Membership` table includes additional user account information, like the user's password, email address, the last login date and time, and so forth.</span></span> <span data-ttu-id="5e895-289">Je mezi záznamy v souvislosti `aspnet_Users` a `aspnet_Membership` tabulky.</span><span class="sxs-lookup"><span data-stu-id="5e895-289">There is a one-to-one correspondence between records in the `aspnet_Users` and `aspnet_Membership` tables.</span></span> <span data-ttu-id="5e895-290">Tento vztah je zajištěna `UserId` pole `aspnet_Membership`, který slouží jako primární klíč tabulky.</span><span class="sxs-lookup"><span data-stu-id="5e895-290">This relationship is ensured by the `UserId` field in `aspnet_Membership`, which serves as the table's primary key.</span></span> <span data-ttu-id="5e895-291">Podobně jako `aspnet_Users` tabulky, `aspnet_Membership` zahrnuje `ApplicationId` pole, která sváže tyto informace do oddílu aplikace.</span><span class="sxs-lookup"><span data-stu-id="5e895-291">Like the `aspnet_Users` table, `aspnet_Membership` includes an `ApplicationId` field that ties this information to a particular application partition.</span></span>

### <a name="securing-passwords"></a><span data-ttu-id="5e895-292">Zabezpečení hesla</span><span class="sxs-lookup"><span data-stu-id="5e895-292">Securing Passwords</span></span>

<span data-ttu-id="5e895-293">Heslo informace jsou uloženy v `aspnet_Membership` tabulky.</span><span class="sxs-lookup"><span data-stu-id="5e895-293">Password information is stored in the `aspnet_Membership` table.</span></span> <span data-ttu-id="5e895-294">`SqlMembershipProvider` Umožňuje hesel se neukládají v databázi pomocí jedné z následujících tří postupů:</span><span class="sxs-lookup"><span data-stu-id="5e895-294">The `SqlMembershipProvider` allows for passwords to be stored in the database using one of the following three techniques:</span></span>

- <span data-ttu-id="5e895-295">**Zrušte** -je heslo uloženo v databázi jako prostý text.</span><span class="sxs-lookup"><span data-stu-id="5e895-295">**Clear** - the password is stored in the database as plain-text.</span></span> <span data-ttu-id="5e895-296">I důrazně bránit použití této možnosti.</span><span class="sxs-lookup"><span data-stu-id="5e895-296">I strongly discourage using this option.</span></span> <span data-ttu-id="5e895-297">Pokud databáze dojde k ohrožení bezpečnosti - se hacker, kdo najde zadní vrátka nebo propuštěný zaměstnanec, který má přístup k databázi - existují každých jednoho uživatele přihlašovací údaje pro přístup k.</span><span class="sxs-lookup"><span data-stu-id="5e895-297">If the database is compromised - be it by a hacker who finds a back door or a disgruntled employee who has database access - every single user's credentials are there for the taking.</span></span>
- <span data-ttu-id="5e895-298">**Rozdělí** -jsou hesla hashována pomocí jednocestného algoritmu hash a náhodně generované hodnoty řetězce salt.</span><span class="sxs-lookup"><span data-stu-id="5e895-298">**Hashed** - passwords are hashed using a one-way hash algorithm and a randomly generated salt value.</span></span> <span data-ttu-id="5e895-299">Tato hodnota hash (spolu s salt) je uložen v databázi.</span><span class="sxs-lookup"><span data-stu-id="5e895-299">This hashed value (along with the salt) is stored in the database.</span></span>
- <span data-ttu-id="5e895-300">**Šifrované** -zašifrovaná verze heslo uloženo v databázi.</span><span class="sxs-lookup"><span data-stu-id="5e895-300">**Encrypted** - an encrypted version of the password is stored in the database.</span></span>

<span data-ttu-id="5e895-301">Použitá metoda heslo úložiště závisí na `SqlMembershipProvider` nastavení zadané v `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="5e895-301">The password storage technique used depends on the `SqlMembershipProvider` settings specified in `Web.config`.</span></span> <span data-ttu-id="5e895-302">Přizpůsobení se podíváme `SqlMembershipProvider` nastavení v kroku 4.</span><span class="sxs-lookup"><span data-stu-id="5e895-302">We will look at customizing the `SqlMembershipProvider` settings in Step 4.</span></span> <span data-ttu-id="5e895-303">Výchozí chování je uložení hodnoty hash hesla.</span><span class="sxs-lookup"><span data-stu-id="5e895-303">The default behavior is to store the hash of the password.</span></span>

<span data-ttu-id="5e895-304">Sloupce zodpovědná za uložení hesla `Password`, `PasswordFormat`, a `PasswordSalt`.</span><span class="sxs-lookup"><span data-stu-id="5e895-304">The columns responsible for storing the password are `Password`, `PasswordFormat`, and `PasswordSalt`.</span></span> <span data-ttu-id="5e895-305">`PasswordFormat` je pole typu `int` techniku, používá se pro ukládání heslo označuje, jehož hodnota: 0 pro zaškrtnutí, 1 pro Hashed; 2 pro šifrovaný.</span><span class="sxs-lookup"><span data-stu-id="5e895-305">`PasswordFormat` is a field of type `int` whose value indicates the technique used for storing the password: 0 for Clear; 1 for Hashed; 2 for Encrypted.</span></span> <span data-ttu-id="5e895-306">`PasswordSalt` je přiřazen náhodně generované řetězec bez ohledu na to technika úložiště heslo, používat; Hodnota `PasswordSalt` se používá pouze při výpočtu hodnoty hash hesla.</span><span class="sxs-lookup"><span data-stu-id="5e895-306">`PasswordSalt` is assigned a randomly generated string regardless of the password storage technique used; the value of `PasswordSalt` is only used when computing the hash of the password.</span></span> <span data-ttu-id="5e895-307">Nakonec `Password` sloupec obsahuje data vlastní heslo, je jej heslo v prostém textu, hodnota hash hesla nebo zašifrované heslo.</span><span class="sxs-lookup"><span data-stu-id="5e895-307">Finally, the `Password` column contains the actual password data, be it the plain-text password, the hash of the password, or the encrypted password.</span></span>

<span data-ttu-id="5e895-308">Tabulka 1 ukazuje, jak tyto tři sloupce může vypadat pro různé postupy úložiště při ukládání hesel MySecret!</span><span class="sxs-lookup"><span data-stu-id="5e895-308">Table 1 illustrates what these three columns might look like for the various storage techniques when storing the password MySecret!</span></span> <span data-ttu-id="5e895-309">.</span><span class="sxs-lookup"><span data-stu-id="5e895-309">.</span></span>

| <span data-ttu-id="5e895-310">**Storage Technique&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="5e895-310">**Storage Technique&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="5e895-311">**Heslo&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="5e895-311">**Password&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="5e895-312">**PasswordFormat&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="5e895-312">**PasswordFormat&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="5e895-313">**PasswordSalt&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="5e895-313">**PasswordSalt&lt;\_o3a\_p /&gt;**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="5e895-314">Zrušte zaškrtnutí</span><span class="sxs-lookup"><span data-stu-id="5e895-314">Clear</span></span> | <span data-ttu-id="5e895-315">MySecret!</span><span class="sxs-lookup"><span data-stu-id="5e895-315">MySecret!</span></span> | <span data-ttu-id="5e895-316">0</span><span class="sxs-lookup"><span data-stu-id="5e895-316">0</span></span> | <span data-ttu-id="5e895-317">tTnkPlesqissc2y2SMEygA==</span><span class="sxs-lookup"><span data-stu-id="5e895-317">tTnkPlesqissc2y2SMEygA==</span></span> |
| <span data-ttu-id="5e895-318">S použitím algoritmu hash</span><span class="sxs-lookup"><span data-stu-id="5e895-318">Hashed</span></span> | <span data-ttu-id="5e895-319">2oXm6sZHWbTHFgjgkGQsc2Ec9ZM=</span><span class="sxs-lookup"><span data-stu-id="5e895-319">2oXm6sZHWbTHFgjgkGQsc2Ec9ZM=</span></span> | <span data-ttu-id="5e895-320">1</span><span class="sxs-lookup"><span data-stu-id="5e895-320">1</span></span> | <span data-ttu-id="5e895-321">wFgjUfhdUFOCKQiI61vtiQ==</span><span class="sxs-lookup"><span data-stu-id="5e895-321">wFgjUfhdUFOCKQiI61vtiQ==</span></span> |
| <span data-ttu-id="5e895-322">Šifrované</span><span class="sxs-lookup"><span data-stu-id="5e895-322">Encrypted</span></span> | <span data-ttu-id="5e895-323">62RZgDvhxykkqsMchZ0Yly7HS6onhpaoCYaRxV8g0F4CW56OXUU3e7Inza9j9BKp</span><span class="sxs-lookup"><span data-stu-id="5e895-323">62RZgDvhxykkqsMchZ0Yly7HS6onhpaoCYaRxV8g0F4CW56OXUU3e7Inza9j9BKp</span></span> | <span data-ttu-id="5e895-324">2</span><span class="sxs-lookup"><span data-stu-id="5e895-324">2</span></span> | <span data-ttu-id="5e895-325">LSRzhGS/aa/oqAXGLHJNBw==</span><span class="sxs-lookup"><span data-stu-id="5e895-325">LSRzhGS/aa/oqAXGLHJNBw==</span></span> |

<span data-ttu-id="5e895-326">**Tabulka 1**: ukázkové hodnoty související s hesly pole při ukládání MySecret heslo!</span><span class="sxs-lookup"><span data-stu-id="5e895-326">**Table 1**: Example Values for the Password-Related Fields When Storing the Password MySecret!</span></span>

> [!NOTE]
> <span data-ttu-id="5e895-327">Konkrétní šifrování nebo používá algoritmus hash `SqlMembershipProvider` je určen podle nastavení v `<machineKey>` elementu.</span><span class="sxs-lookup"><span data-stu-id="5e895-327">The particular encryption or hashing algorithm used by the `SqlMembershipProvider` is determined by the settings in the `<machineKey>` element.</span></span> <span data-ttu-id="5e895-328">Jsme probrali tento element konfigurace v kroku 3 <a id="Tutorial3"> </a> [ *konfiguraci ověřování formulářů a rozšířené témata* ](../introduction/forms-authentication-configuration-and-advanced-topics-vb.md) kurzu.</span><span class="sxs-lookup"><span data-stu-id="5e895-328">We discussed this configuration element in Step 3 of the <a id="Tutorial3"></a>[*Forms Authentication Configuration and Advanced Topics*](../introduction/forms-authentication-configuration-and-advanced-topics-vb.md) tutorial.</span></span>

### <a name="storing-roles-and-role-associations"></a><span data-ttu-id="5e895-329">Ukládání role a Role přidružení</span><span class="sxs-lookup"><span data-stu-id="5e895-329">Storing Roles and Role Associations</span></span>

<span data-ttu-id="5e895-330">Rozhraní framework role vývojářům umožňuje definovat sadu rolí a určit, co uživatelé patří do jaké role.</span><span class="sxs-lookup"><span data-stu-id="5e895-330">The Roles framework allows developers to define a set of roles and specify what users belong to what roles.</span></span> <span data-ttu-id="5e895-331">Tyto informace v databázi pomocí dvou tabulek zachycenou: `aspnet_Roles` a `aspnet_UsersInRoles`.</span><span class="sxs-lookup"><span data-stu-id="5e895-331">This information is captured in the database through two tables: `aspnet_Roles` and `aspnet_UsersInRoles`.</span></span> <span data-ttu-id="5e895-332">Každý záznam v `aspnet_Roles` tabulka představuje roli pro konkrétní aplikace.</span><span class="sxs-lookup"><span data-stu-id="5e895-332">Each record in the `aspnet_Roles` table represents a role for a particular application.</span></span> <span data-ttu-id="5e895-333">Podobně jako `aspnet_Users` tabulky, `aspnet_Roles` tabulka má tři sloupce, které jsou relevantní pro naše diskusní:</span><span class="sxs-lookup"><span data-stu-id="5e895-333">Much like the `aspnet_Users` table, the `aspnet_Roles` table has three columns pertinent to our discussion:</span></span>

- `RoleId`
- `RoleName`
- `ApplicationId`

<span data-ttu-id="5e895-334">`RoleId` je primární klíč (a typu `uniqueidentifier`).</span><span class="sxs-lookup"><span data-stu-id="5e895-334">`RoleId` is the primary key (and of type `uniqueidentifier`).</span></span> <span data-ttu-id="5e895-335">`RoleName` je typu `nvarchar(256)`.</span><span class="sxs-lookup"><span data-stu-id="5e895-335">`RoleName` is of type `nvarchar(256)`.</span></span> <span data-ttu-id="5e895-336">A `ApplicationId` odkazuje na uživatelský účet na konkrétní aplikace v `aspnet_Applications`.</span><span class="sxs-lookup"><span data-stu-id="5e895-336">And `ApplicationId` links the user account to a particular application in `aspnet_Applications`.</span></span> <span data-ttu-id="5e895-337">Je složené `UNIQUE` omezení `RoleName` a `ApplicationId` sloupců, zajišťující, že v dané aplikaci je jedinečný název každé role.</span><span class="sxs-lookup"><span data-stu-id="5e895-337">There is a composite `UNIQUE` constraint on the `RoleName` and `ApplicationId` columns, ensuring that in a given application each role name is unique.</span></span>

<span data-ttu-id="5e895-338">`aspnet_UsersInRoles` Tabulka slouží jako mapování mezi uživateli a role.</span><span class="sxs-lookup"><span data-stu-id="5e895-338">The `aspnet_UsersInRoles` table serves as a mapping between users and roles.</span></span> <span data-ttu-id="5e895-339">Jsou pouze dva sloupce - `UserId` a `RoleId` - a společně tvoří složené primární klíč.</span><span class="sxs-lookup"><span data-stu-id="5e895-339">There are only two columns - `UserId` and `RoleId` - and together they make up a composite primary key.</span></span>

## <a name="step-4-specifying-the-provider-and-customizing-its-settings"></a><span data-ttu-id="5e895-340">Krok 4: Určení poskytovatele a přizpůsobení nastavení</span><span class="sxs-lookup"><span data-stu-id="5e895-340">Step 4: Specifying the Provider and Customizing Its Settings</span></span>

<span data-ttu-id="5e895-341">Všechny architektury, které podporují modelu poskytovatelů – například členství a rolí architektury - nedostatku podrobnosti implementace sami a místo toho tuto delegovat na třídu zprostředkovatele.</span><span class="sxs-lookup"><span data-stu-id="5e895-341">All of the frameworks that support the provider model - such as the Membership and Roles frameworks - lack implementation details themselves and instead delegate that responsibility to a provider class.</span></span> <span data-ttu-id="5e895-342">V případě rozhraní členství `Membership` třída definuje rozhraní API pro správu uživatelských účtů, ale není komunikovat přímo s úložištěm všechny uživatele.</span><span class="sxs-lookup"><span data-stu-id="5e895-342">In the case of the Membership framework, the `Membership` class defines the API for managing user accounts, but it does not interact directly with any user store.</span></span> <span data-ttu-id="5e895-343">Místo toho `Membership` metody třídy můžete předat požadavek na nakonfigurovaného zprostředkovatele - použijeme `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="5e895-343">Rather, the `Membership` class's methods hand off the request to the configured provider - we will be using the `SqlMembershipProvider`.</span></span> <span data-ttu-id="5e895-344">Když jsme jednu z metod v vyvolání `Membership` třídu, jak členství v rámci vědět o delegování volání `SqlMembershipProvider`?</span><span class="sxs-lookup"><span data-stu-id="5e895-344">When we invoke one of the methods in the `Membership` class, how does the Membership framework know to delegate the call to the `SqlMembershipProvider`?</span></span>

<span data-ttu-id="5e895-345">`Membership` Třída má [ `Providers` vlastnost](https://msdn.microsoft.com/library/system.web.security.membership.providers.aspx) obsahující odkaz na všechny dostupné pro použití třídy registrované zprostředkovatele rámcem členství.</span><span class="sxs-lookup"><span data-stu-id="5e895-345">The `Membership` class has a [`Providers` property](https://msdn.microsoft.com/library/system.web.security.membership.providers.aspx) that contains a reference to all of the registered provider classes available for use by the Membership framework.</span></span> <span data-ttu-id="5e895-346">Každý registrovaný poskytovatel má přidruženému názvu a typu.</span><span class="sxs-lookup"><span data-stu-id="5e895-346">Each registered provider has an associated name and type.</span></span> <span data-ttu-id="5e895-347">Název nabízí lidské friendly způsob, jak odkazovat na konkrétní zprostředkovatele v `Providers` kolekce, když typ identifikuje třída zprostředkovatele.</span><span class="sxs-lookup"><span data-stu-id="5e895-347">The name offers a human-friendly way to reference a particular provider in the `Providers` collection, while the type identifies the provider class.</span></span> <span data-ttu-id="5e895-348">Navíc může každý registrovaný poskytovatel zahrnují nastavení konfigurace.</span><span class="sxs-lookup"><span data-stu-id="5e895-348">Moreover, each registered provider may include configuration settings.</span></span> <span data-ttu-id="5e895-349">Konfigurace nastavení pro rozhraní členství zahrnují `PasswordFormat` a `requiresUniqueEmail`, mezi mnohé další.</span><span class="sxs-lookup"><span data-stu-id="5e895-349">Configuration settings for the Membership framework include `PasswordFormat` and `requiresUniqueEmail`, among many others.</span></span> <span data-ttu-id="5e895-350">Tabulka 2 najdete úplný seznam nastavení konfigurace používané `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="5e895-350">See Table 2 for a complete list of configuration settings used by the `SqlMembershipProvider`.</span></span>

<span data-ttu-id="5e895-351">`Providers` Obsah vlastnosti jsou určeny pomocí nastavení konfigurace webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="5e895-351">The `Providers` property's contents are specified through the web application's configuration settings.</span></span> <span data-ttu-id="5e895-352">Všechny webové aplikace mají jako výchozí zprostředkovatel s názvem `AspNetSqlMembershipProvider` typu `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="5e895-352">By default, all web applications have a provider named `AspNetSqlMembershipProvider` of type `SqlMembershipProvider`.</span></span> <span data-ttu-id="5e895-353">Tento výchozí zprostředkovatel členství je zaregistrován v `machine.config` (umístěné v `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\CONFIG`):</span><span class="sxs-lookup"><span data-stu-id="5e895-353">This default Membership provider is registered in `machine.config` (located at `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\CONFIG`):</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-vb/samples/sample1.xml)]

<span data-ttu-id="5e895-354">Jako značka výš ukazuje [ `<membership>` element](https://msdn.microsoft.com/library/1b9hw62f.aspx) definuje nastavení konfigurace pro rozhraní členství při [ `<providers>` podřízený element](https://msdn.microsoft.com/library/6d4936ht.aspx) určuje zaregistrovanou zprostředkovatelé.</span><span class="sxs-lookup"><span data-stu-id="5e895-354">As the markup above shows, the [`<membership>` element](https://msdn.microsoft.com/library/1b9hw62f.aspx) defines the configuration settings for the Membership framework while the [`<providers>` child element](https://msdn.microsoft.com/library/6d4936ht.aspx) specifies the registered providers.</span></span> <span data-ttu-id="5e895-355">Zprostředkovatelé lze přidat nebo odebrat pomocí [ `<add>` ](https://msdn.microsoft.com/library/whae3t94.aspx) nebo [ `<remove>` ](https://msdn.microsoft.com/library/aykw9a6d.aspx) elementy; použijte [ `<clear>` ](https://msdn.microsoft.com/library/t062y6yc.aspx) elementu, který chcete odebrat všechny aktuálně Registrovaní zprostředkovatelé.</span><span class="sxs-lookup"><span data-stu-id="5e895-355">Providers may be added or removed using the [`<add>`](https://msdn.microsoft.com/library/whae3t94.aspx) or [`<remove>`](https://msdn.microsoft.com/library/aykw9a6d.aspx) elements; use the [`<clear>`](https://msdn.microsoft.com/library/t062y6yc.aspx) element to remove all currently registered providers.</span></span> <span data-ttu-id="5e895-356">Jako značka výš ukazuje `machine.config` Přidá zprostředkovatele s názvem `AspNetSqlMembershipProvider` typu `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="5e895-356">As the markup above shows, `machine.config` adds a provider named `AspNetSqlMembershipProvider` of type `SqlMembershipProvider`.</span></span>

<span data-ttu-id="5e895-357">Kromě `name` a `type` atributy, `<add>` element obsahuje atributy, které definovat hodnoty pro různá nastavení konfigurace.</span><span class="sxs-lookup"><span data-stu-id="5e895-357">In addition to the `name` and `type` attributes, the `<add>` element contains attributes that define the values for various configuring settings.</span></span> <span data-ttu-id="5e895-358">Tabulka 2 uvádí dostupných `SqlMembershipProvider`-specifické nastavení, spolu s jejich popis.</span><span class="sxs-lookup"><span data-stu-id="5e895-358">Table 2 lists the available `SqlMembershipProvider`-specific configuration settings, along with a description of each.</span></span>

> [!NOTE]
> <span data-ttu-id="5e895-359">Všechny výchozí hodnoty uvedené v tabulce 2 odkazují na výchozí hodnoty definované v `SqlMembershipProvider` třídy.</span><span class="sxs-lookup"><span data-stu-id="5e895-359">Any default values noted in Table 2 refer to the default values defined in the `SqlMembershipProvider` class.</span></span> <span data-ttu-id="5e895-360">Všimněte si, že ne všechna nastavení konfigurace v `AspNetSqlMembershipProvider` odpovídají na výchozí hodnoty `SqlMembershipProvider` třídy.</span><span class="sxs-lookup"><span data-stu-id="5e895-360">Note that not all of the configuration settings in `AspNetSqlMembershipProvider` correspond to the default values of the `SqlMembershipProvider` class.</span></span> <span data-ttu-id="5e895-361">Pokud nebyly zadány v zprostředkovatele členství, například `requiresUniqueEmail` nastavení výchozí nastavení na hodnotu true.</span><span class="sxs-lookup"><span data-stu-id="5e895-361">For example, if not specified in a Membership provider, the `requiresUniqueEmail` setting defaults to true.</span></span> <span data-ttu-id="5e895-362">Ale `AspNetSqlMembershipProvider` přepíše tuto výchozí hodnotu podle explicitně zadáte třeba hodnotu `false`.</span><span class="sxs-lookup"><span data-stu-id="5e895-362">However, the `AspNetSqlMembershipProvider` overrides this default value by explicitly specifying a value of `false`.</span></span>

| <span data-ttu-id="5e895-363">**Nastavení&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="5e895-363">**Setting&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="5e895-364">**Popis&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="5e895-364">**Description&lt;\_o3a\_p /&gt;**</span></span> |
| --- | --- |
| `ApplicationName` | <span data-ttu-id="5e895-365">Pro vyvolání umožňující rozhraní členství pro jednoho uživatele úložiště k rozdělení na oddíly napříč různými aplikacemi.</span><span class="sxs-lookup"><span data-stu-id="5e895-365">Recall that the Membership framework allows for a single user store to be partitioned across multiple applications.</span></span> <span data-ttu-id="5e895-366">Toto nastavení určuje název oddílu aplikace používá zprostředkovatele členství.</span><span class="sxs-lookup"><span data-stu-id="5e895-366">This setting indicates the name of the application partition used by the Membership provider.</span></span> <span data-ttu-id="5e895-367">Pokud tato hodnota není zadaná explicitně, nastavte v době běhu na hodnotu cesta virtuální kořenový adresář aplikace.</span><span class="sxs-lookup"><span data-stu-id="5e895-367">If this value is not explicitly specified, it is set, at runtime, to the value of the application's virtual root path.</span></span> |
| `commandTimeout` | <span data-ttu-id="5e895-368">Určuje hodnota časového limitu příkazů SQL (v sekundách).</span><span class="sxs-lookup"><span data-stu-id="5e895-368">Specifies the SQL command timeout value (in seconds).</span></span> <span data-ttu-id="5e895-369">Výchozí hodnota je 30.</span><span class="sxs-lookup"><span data-stu-id="5e895-369">The default value is 30.</span></span> |
| `connectionStringName` | <span data-ttu-id="5e895-370">Název připojovacího řetězce v `<connectionStrings>` elementu, který chcete použít pro připojení k databázi úložiště uživatele.</span><span class="sxs-lookup"><span data-stu-id="5e895-370">The name of the connection string in the `<connectionStrings>` element to use to connect to the user store database.</span></span> <span data-ttu-id="5e895-371">Tato hodnota je vyžadována.</span><span class="sxs-lookup"><span data-stu-id="5e895-371">This value is required.</span></span> |
| `description` | <span data-ttu-id="5e895-372">Obsahuje popis lidské friendly registrované zprostředkovatele.</span><span class="sxs-lookup"><span data-stu-id="5e895-372">Provides a human-friendly description of the registered provider.</span></span> |
| `enablePasswordRetrieval` | <span data-ttu-id="5e895-373">Určuje, zda uživatelé mohou načítat jejich zapomenuté heslo.</span><span class="sxs-lookup"><span data-stu-id="5e895-373">Specifies whether users may retrieve their forgotten password.</span></span> <span data-ttu-id="5e895-374">Výchozí hodnota je `false`.</span><span class="sxs-lookup"><span data-stu-id="5e895-374">The default value is `false`.</span></span> |
| `enablePasswordReset` | <span data-ttu-id="5e895-375">Určuje, zda uživatelé mohou obnovit své heslo.</span><span class="sxs-lookup"><span data-stu-id="5e895-375">Indicates whether users are allowed to reset their password.</span></span> <span data-ttu-id="5e895-376">Použije se výchozí hodnota `true`.</span><span class="sxs-lookup"><span data-stu-id="5e895-376">Defaults to `true`.</span></span> |
| `maxInvalidPasswordAttempts` | <span data-ttu-id="5e895-377">Maximální počet pokusů o neúspěšných přihlášení, které mohou nastat pro daného uživatele během stanovených `passwordAttemptWindow` před zablokováním uživatele. Výchozí hodnota je 5.</span><span class="sxs-lookup"><span data-stu-id="5e895-377">The maximum number of unsuccessful login attempts that may occur for a given user during the specified `passwordAttemptWindow` before the user is locked out. The default value is 5.</span></span> |
| `minRequiredNonalphanumericCharacters` | <span data-ttu-id="5e895-378">Minimální počet jiných než alfanumerických znaků, které musí být zadány v heslo uživatele.</span><span class="sxs-lookup"><span data-stu-id="5e895-378">The minimum number of non-alphanumeric characters that must appear in a user's password.</span></span> <span data-ttu-id="5e895-379">Tato hodnota musí být mezi 0 a 128. Výchozí hodnota je 1.</span><span class="sxs-lookup"><span data-stu-id="5e895-379">This value must be between 0 and 128; the default is 1.</span></span> |
| `minRequiredPasswordLength` | <span data-ttu-id="5e895-380">Minimální počet znaků požadovaných v heslo.</span><span class="sxs-lookup"><span data-stu-id="5e895-380">The minimum number of characters required in a password.</span></span> <span data-ttu-id="5e895-381">Tato hodnota musí být mezi 0 a 128. Výchozí hodnota je 7.</span><span class="sxs-lookup"><span data-stu-id="5e895-381">This value must be between 0 and 128; the default is 7.</span></span> |
| `name` | <span data-ttu-id="5e895-382">Název registrované zprostředkovatele.</span><span class="sxs-lookup"><span data-stu-id="5e895-382">The name of the registered provider.</span></span> <span data-ttu-id="5e895-383">Tato hodnota je vyžadována.</span><span class="sxs-lookup"><span data-stu-id="5e895-383">This value is required.</span></span> |
| `passwordAttemptWindow` | <span data-ttu-id="5e895-384">Počet minut, během kterého se nezdařila se sledují pokusů o přihlášení.</span><span class="sxs-lookup"><span data-stu-id="5e895-384">The number of minutes during which failed login attempts are tracked.</span></span> <span data-ttu-id="5e895-385">Pokud uživatel zadává neplatné přihlašovací údaje `maxInvalidPasswordAttempts` zadány časy v rámci toto okno, jsou uzamčen. Výchozí hodnota je 10.</span><span class="sxs-lookup"><span data-stu-id="5e895-385">If a user supplies invalid login credentials `maxInvalidPasswordAttempts` times within this specified window, they are locked out. The default value is 10.</span></span> |
| `PasswordFormat` | <span data-ttu-id="5e895-386">Formát úložiště heslo: `Clear`, `Hashed`, nebo `Encrypted`.</span><span class="sxs-lookup"><span data-stu-id="5e895-386">The password storage format: `Clear`, `Hashed`, or `Encrypted`.</span></span> <span data-ttu-id="5e895-387">Výchozí hodnota je `Hashed`.</span><span class="sxs-lookup"><span data-stu-id="5e895-387">The default is `Hashed`.</span></span> |
| `passwordStrengthRegularExpression` | <span data-ttu-id="5e895-388">Pokud je k dispozici, tento regulární výraz se používá k vyhodnocení sílu vybrané heslo uživatele při vytvoření nového účtu nebo při změně hesla.</span><span class="sxs-lookup"><span data-stu-id="5e895-388">If provided, this regular expression is used to evaluate the strength of the user's selected password when creating a new account or when changing their password.</span></span> <span data-ttu-id="5e895-389">Výchozí hodnota je prázdný řetězec.</span><span class="sxs-lookup"><span data-stu-id="5e895-389">The default value is an empty string.</span></span> |
| `requiresQuestionAndAnswer` | <span data-ttu-id="5e895-390">Určuje, zda musí uživatel odpovědět, jeho bezpečnostní otázku při načítání nebo obnovení jeho hesla.</span><span class="sxs-lookup"><span data-stu-id="5e895-390">Specifies whether a user must answer his security question when retrieving or resetting his password.</span></span> <span data-ttu-id="5e895-391">Výchozí hodnota je `true`.</span><span class="sxs-lookup"><span data-stu-id="5e895-391">The default value is `true`.</span></span> |
| `requiresUniqueEmail` | <span data-ttu-id="5e895-392">Určuje, zda všechny uživatelské účty v dané aplikaci oddílu musí mít jedinečnou e-mailovou adresu.</span><span class="sxs-lookup"><span data-stu-id="5e895-392">Indicates whether all user accounts in a given application partition must have a unique email address.</span></span> <span data-ttu-id="5e895-393">Výchozí hodnota je `true`.</span><span class="sxs-lookup"><span data-stu-id="5e895-393">The default value is `true`.</span></span> |
| `type` | <span data-ttu-id="5e895-394">Určuje typ poskytovatele.</span><span class="sxs-lookup"><span data-stu-id="5e895-394">Specifies the type of the provider.</span></span> <span data-ttu-id="5e895-395">Tato hodnota je vyžadována.</span><span class="sxs-lookup"><span data-stu-id="5e895-395">This value is required.</span></span> |

<span data-ttu-id="5e895-396">**Tabulka 2**: členství a `SqlMembershipProvider` nastavení konfigurace</span><span class="sxs-lookup"><span data-stu-id="5e895-396">**Table 2**: Membership and `SqlMembershipProvider` Configuration Settings</span></span>

<span data-ttu-id="5e895-397">Kromě `AspNetSqlMembershipProvider`, může být registrován dalších zprostředkovatelů členství na základě aplikací pomocí aplikace přidáním podobně jako značku pro `Web.config` souboru.</span><span class="sxs-lookup"><span data-stu-id="5e895-397">In addition to `AspNetSqlMembershipProvider`, other Membership providers may be registered on an application-by-application basis by adding similar markup to the `Web.config` file.</span></span>

> [!NOTE]
> <span data-ttu-id="5e895-398">Rozhraní role funguje prakticky stejně: je výchozí poskytovatel registrované role v `machine.config` a registrovaní zprostředkovatelé lze přizpůsobit pro jednotlivé aplikace aplikace v `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="5e895-398">The Roles framework works in much the same way: there is a default registered role provider in `machine.config` and the registered providers may be customized on an application-by-application basis in `Web.config`.</span></span> <span data-ttu-id="5e895-399">Vyzkoušíme rozhraní role a jeho konfigurace značek podrobně budoucí kurzu.</span><span class="sxs-lookup"><span data-stu-id="5e895-399">We will examine the Roles framework and its configuration markup in detail in a future tutorial.</span></span>

### <a name="customizing-thesqlmembershipprovidersettings"></a><span data-ttu-id="5e895-400">Přizpůsobení`SqlMembershipProvider`nastavení</span><span class="sxs-lookup"><span data-stu-id="5e895-400">Customizing the`SqlMembershipProvider`Settings</span></span>

<span data-ttu-id="5e895-401">Výchozí hodnota `SqlMembershipProvider` (`AspNetSqlMembershipProvider`) má jeho `connectionStringName` atribut nastaven na `LocalSqlServer`.</span><span class="sxs-lookup"><span data-stu-id="5e895-401">The default `SqlMembershipProvider` (`AspNetSqlMembershipProvider`) has its `connectionStringName` attribute set to `LocalSqlServer`.</span></span> <span data-ttu-id="5e895-402">Podobně jako `AspNetSqlMembershipProvider` poskytovatele, název připojovacího řetězce `LocalSqlServer` je definována v `machine.config`.</span><span class="sxs-lookup"><span data-stu-id="5e895-402">Like the `AspNetSqlMembershipProvider` provider, the connection string name `LocalSqlServer` is defined in `machine.config`.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-vb/samples/sample2.xml)]

<span data-ttu-id="5e895-403">Jak vidíte, definuje tento připojovací řetězec SQL 2005 Express Edition se databáze nachází na | DataDirectory|aspnetdb.mdf.</span><span class="sxs-lookup"><span data-stu-id="5e895-403">As you can see, this connection string defines a SQL 2005 Express Edition database located at |DataDirectory|aspnetdb.mdf.</span></span> <span data-ttu-id="5e895-404">Řetězec | DataDirectory | je přeložená za běhu tak, aby odkazoval `~/App_Data/` directory, proto cestu databáze | DataDirectory|aspnetdb.mdf přeloží na `~/App_Data` / `aspnet.mdf`.</span><span class="sxs-lookup"><span data-stu-id="5e895-404">The string |DataDirectory| is translated at runtime to point to the `~/App_Data/` directory, so the database path |DataDirectory|aspnetdb.mdf translates to `~/App_Data`/`aspnet.mdf`.</span></span>

<span data-ttu-id="5e895-405">Pokud jsme nezadali žádné informace o poskytovateli členství v naší aplikaci `Web.config` soubor, aplikace použije výchozí zaregistrovaný zprostředkovatel členství, `AspNetSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="5e895-405">If we did not specify any Membership provider information in our application's `Web.config` file, the application uses the default registered Membership provider, `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="5e895-406">Pokud `~/App_Data/aspnet.mdf` databáze neexistuje, bude modulem runtime ASP.NET automaticky vytvořit a přidat schématu služby aplikací.</span><span class="sxs-lookup"><span data-stu-id="5e895-406">If the `~/App_Data/aspnet.mdf` database does not exist, the ASP.NET runtime will automatically create it and add the application services schema.</span></span> <span data-ttu-id="5e895-407">Jsme ale nechcete použít `aspnet.mdf` databáze; místo toho chcete použít `SecurityTutorials.mdf` databáze jsme vytvořili v kroku 2.</span><span class="sxs-lookup"><span data-stu-id="5e895-407">However, we don't want to use the `aspnet.mdf` database; rather, we want to use the `SecurityTutorials.mdf` database we created in Step 2.</span></span> <span data-ttu-id="5e895-408">Tato úprava se dá udělat v jednom ze dvou způsobů:</span><span class="sxs-lookup"><span data-stu-id="5e895-408">This modification can be accomplished in one of two ways:</span></span>

- <span data-ttu-id="5e895-409"><strong>Zadejte hodnotu</strong><strong>`LocalSqlServer`</strong><strong>název připojovacího řetězce v</strong><strong>`Web.config`</strong><strong>.</strong></span><span class="sxs-lookup"><span data-stu-id="5e895-409"><strong>Specify a value for the</strong><strong>`LocalSqlServer`</strong><strong>connection string name in</strong><strong>`Web.config`</strong><strong>.</strong></span></span> <span data-ttu-id="5e895-410">Přepsáním `LocalSqlServer` hodnota název připojovacího řetězce v `Web.config`, můžeme použít výchozí zaregistrovaný zprostředkovatel členství (`AspNetSqlMembershipProvider`) a mějte ho správně pracovat `SecurityTutorials.mdf` databáze.</span><span class="sxs-lookup"><span data-stu-id="5e895-410">By overwriting the `LocalSqlServer` connection string name value in `Web.config`, we can use the default registered Membership provider (`AspNetSqlMembershipProvider`) and have it correctly work with the `SecurityTutorials.mdf` database.</span></span> <span data-ttu-id="5e895-411">Tento přístup je v pořádku, pokud obsahu s nastavením konfigurace určeného `AspNetSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="5e895-411">This approach is fine if you are content with the configuration settings specified by `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="5e895-412">Další informace o této technice najdete v tématu [Scott Guthrie](https://weblogs.asp.net/scottgu/)na příspěvku na blogu [konfigurace služby ASP.NET 2.0 pomocí SQL Server 2000 nebo SQL Server 2005 aplikace](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx).</span><span class="sxs-lookup"><span data-stu-id="5e895-412">For more information on this technique, see [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog post, [Configuring ASP.NET 2.0 Application Services to Use SQL Server 2000 or SQL Server 2005](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx).</span></span>
- <span data-ttu-id="5e895-413"><strong>Přidat nového poskytovatele registrované typu</strong><strong>`SqlMembershipProvider`</strong><strong>a nakonfigurujte jeho</strong><strong>`connectionStringName`</strong><strong>nastavení tak, aby odkazoval</strong> <strong>`SecurityTutorials.mdf`</strong> <strong>databáze.</strong></span><span class="sxs-lookup"><span data-stu-id="5e895-413"><strong>Add a new registered provider of type</strong><strong>`SqlMembershipProvider`</strong><strong>and configure its</strong><strong>`connectionStringName`</strong><strong>setting to point to the</strong><strong>`SecurityTutorials.mdf`</strong><strong>database.</strong></span></span> <span data-ttu-id="5e895-414">Tento přístup je užitečný ve scénářích, kde chcete přizpůsobit další vlastnosti konfigurace kromě připojovací řetězec databáze.</span><span class="sxs-lookup"><span data-stu-id="5e895-414">This approach is useful in scenarios where you want to customize other configuration properties in addition to the database connection string.</span></span> <span data-ttu-id="5e895-415">V projektech pro vlastní I vždy tuto metodu použijte, z důvodu jeho flexibilitu a přehlednosti.</span><span class="sxs-lookup"><span data-stu-id="5e895-415">In my own projects I always use this approach because of its flexibility and readability.</span></span>

<span data-ttu-id="5e895-416">Před přidáním nové registrované zprostředkovatele, který odkazuje `SecurityTutorials.mdf` databáze, nejprve musíme přidejte hodnotu řetězce odpovídající připojení v `<connectionStrings>` v tématu `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="5e895-416">Before we can add a new registered provider that references the `SecurityTutorials.mdf` database, we first need to add an appropriate connection string value in the `<connectionStrings>` section in `Web.config`.</span></span> <span data-ttu-id="5e895-417">Následující kód přidá nový připojovací řetězec s názvem `SecurityTutorialsConnectionString` odkazující SQL Server 2005 Express Edition `SecurityTutorials.mdf` databáze `App_Data` složky.</span><span class="sxs-lookup"><span data-stu-id="5e895-417">The following markup adds a new connection string named `SecurityTutorialsConnectionString` that references the SQL Server 2005 Express Edition `SecurityTutorials.mdf` database in the `App_Data` folder.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-vb/samples/sample3.xml)]

> [!NOTE]
> <span data-ttu-id="5e895-418">Pokud používáte soubor alternativní databáze, podle potřeby aktualizujte připojovací řetězec.</span><span class="sxs-lookup"><span data-stu-id="5e895-418">If you are using an alternate database file, update the connection string as needed.</span></span> <span data-ttu-id="5e895-419">Další informace o tvořící správný připojovací řetězec, najdete v části [ConnectionStrings.com](http://www.connectionstrings.com/).</span><span class="sxs-lookup"><span data-stu-id="5e895-419">For more information on forming the correct connection string, refer to [ConnectionStrings.com](http://www.connectionstrings.com/).</span></span>

<span data-ttu-id="5e895-420">Dál přidejte následující kód konfigurace členství pro `Web.config` souboru.</span><span class="sxs-lookup"><span data-stu-id="5e895-420">Next, add the following Membership configuration markup to the `Web.config` file.</span></span> <span data-ttu-id="5e895-421">Tento kód zaregistruje nového poskytovatele s názvem `SecurityTutorialsSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="5e895-421">This markup registers a new provider named `SecurityTutorialsSqlMembershipProvider`.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-vb/samples/sample4.xml)]

<span data-ttu-id="5e895-422">Kromě registrace `SecurityTutorialsSqlMembershipProvider` definuje výše uvedený kód poskytovatele, `SecurityTutorialsSqlMembershipProvider` jako výchozí zprostředkovatel (prostřednictvím `defaultProvider` atribut `<membership>` element).</span><span class="sxs-lookup"><span data-stu-id="5e895-422">In addition to registering the `SecurityTutorialsSqlMembershipProvider` provider, the above markup defines the `SecurityTutorialsSqlMembershipProvider` as the default provider (via the `defaultProvider` attribute in the `<membership>` element).</span></span> <span data-ttu-id="5e895-423">Odvolat, aby rozhraní členství může mít víc registrovaných zprostředkovatelů.</span><span class="sxs-lookup"><span data-stu-id="5e895-423">Recall that the Membership framework can have multiple registered providers.</span></span> <span data-ttu-id="5e895-424">Vzhledem k tomu `AspNetSqlMembershipProvider` je registrován jako první zprostředkovatele v `machine.config`, slouží jako výchozího zprostředkovatele, pokud jsme znamenat jinak.</span><span class="sxs-lookup"><span data-stu-id="5e895-424">Since `AspNetSqlMembershipProvider` is registered as the first provider in `machine.config`, it serves as the default provider unless we indicate otherwise.</span></span>

<span data-ttu-id="5e895-425">V současné době naše aplikace má dva registrovaní zprostředkovatelé: `AspNetSqlMembershipProvider` a `SecurityTutorialsSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="5e895-425">Currently, our application has two registered providers: `AspNetSqlMembershipProvider` and `SecurityTutorialsSqlMembershipProvider`.</span></span> <span data-ttu-id="5e895-426">Ale před registrací `SecurityTutorialsSqlMembershipProvider` zprostředkovatele jsme může mít bylo vymazáno všechny dříve registrovaných zprostředkovatelů přidáním [ `<clear />` element](https://msdn.microsoft.com/library/t062y6yc.aspx) bezprostředně před naše `<add>` elementu.</span><span class="sxs-lookup"><span data-stu-id="5e895-426">However, before registering the `SecurityTutorialsSqlMembershipProvider` provider we could have cleared out all previously registered providers by adding a [`<clear />` element](https://msdn.microsoft.com/library/t062y6yc.aspx) immediately before our `<add>` element.</span></span> <span data-ttu-id="5e895-427">To by Vyčistit `AspNetSqlMembershipProvider` ze seznamu registrovaných zprostředkovatelů, znamená to, že `SecurityTutorialsSqlMembershipProvider` by pouze registrované zprostředkovatele členství.</span><span class="sxs-lookup"><span data-stu-id="5e895-427">This would clear out the `AspNetSqlMembershipProvider` from the list of registered providers, meaning that the `SecurityTutorialsSqlMembershipProvider` would be the only registered Membership provider.</span></span> <span data-ttu-id="5e895-428">Pokud jsme použili tento postup, pak by musíme označit `SecurityTutorialsSqlMembershipProvider` jako výchozího zprostředkovatele, protože je pouze registrované zprostředkovatele členství.</span><span class="sxs-lookup"><span data-stu-id="5e895-428">If we used this approach, then we would not need to mark the `SecurityTutorialsSqlMembershipProvider` as the default provider, since it would be the only registered Membership provider.</span></span> <span data-ttu-id="5e895-429">Další informace o používání `<clear />`, najdete v části [pomocí `<clear />` při přidávání poskytovatelů](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx).</span><span class="sxs-lookup"><span data-stu-id="5e895-429">For more information on using `<clear />`, see [Using `<clear />` When Adding providers](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx).</span></span>

<span data-ttu-id="5e895-430">Všimněte si, že `SecurityTutorialsSqlMembershipProvider`na `connectionStringName` nastavení odkazy právě přidané `SecurityTutorialsConnectionString` název připojovacího řetězce a že jeho `applicationName` bylo nastaveno na hodnotu SecurityTutorials.</span><span class="sxs-lookup"><span data-stu-id="5e895-430">Note that the `SecurityTutorialsSqlMembershipProvider`'s `connectionStringName` setting references the just-added `SecurityTutorialsConnectionString` connection string name, and that its `applicationName` setting has been set to a value of SecurityTutorials.</span></span> <span data-ttu-id="5e895-431">Kromě toho `requiresUniqueEmail` nastavení byla nastavena na `true`.</span><span class="sxs-lookup"><span data-stu-id="5e895-431">Additionally, the `requiresUniqueEmail` setting has been set to `true`.</span></span> <span data-ttu-id="5e895-432">Všechny ostatní možnosti konfigurace jsou identické s hodnotami v `AspNetSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="5e895-432">All other configuration options are identical to the values in `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="5e895-433">Nebojte se provádět žádné změny konfigurace sem, pokud chcete.</span><span class="sxs-lookup"><span data-stu-id="5e895-433">Feel free to make any configuration modifications here, if you wish.</span></span> <span data-ttu-id="5e895-434">Tím, že dvě jiných než alfanumerických znaků místo jednoho nebo zvýšením délka hesla na osm znaků místo 7, například může posílit síly hesla.</span><span class="sxs-lookup"><span data-stu-id="5e895-434">For example, you could tighten the password strength by requiring two non-alphanumeric characters instead of one, or by increasing the password length to eight characters instead of seven.</span></span>

> [!NOTE]
> <span data-ttu-id="5e895-435">Pro vyvolání umožňující rozhraní členství pro jednoho uživatele úložiště k rozdělení na oddíly napříč různými aplikacemi.</span><span class="sxs-lookup"><span data-stu-id="5e895-435">Recall that the Membership framework allows for a single user store to be partitioned across multiple applications.</span></span> <span data-ttu-id="5e895-436">Zprostředkovatel členství `applicationName` nastavení určuje, jaké aplikace používá zprostředkovatel při práci s úložišti uživatele.</span><span class="sxs-lookup"><span data-stu-id="5e895-436">The Membership provider's `applicationName` setting indicates what application the provider uses when working with the user store.</span></span> <span data-ttu-id="5e895-437">Je důležité explicitně nastavit hodnotu `applicationName` nastavení konfigurace, protože pokud `applicationName` není explicitně nastaven, je přiřazena k virtuální kořenová cesta webové aplikace za běhu.</span><span class="sxs-lookup"><span data-stu-id="5e895-437">It is important that you explicitly set a value for the `applicationName` configuration setting because if the `applicationName` is not explicitly set, it is assigned to the web application's virtual root path at runtime.</span></span> <span data-ttu-id="5e895-438">To funguje bez problémů tak dlouho, dokud se nezmění. cesta virtuální kořenový adresář aplikace, ale pokud přesunete aplikaci jinou cestu, `applicationName` příliš změní nastavení.</span><span class="sxs-lookup"><span data-stu-id="5e895-438">This works fine as long as the application's virtual root path doesn't change, but if you move the application to a different path, the `applicationName` setting will change too.</span></span> <span data-ttu-id="5e895-439">V takovém případě bude zprostředkovatel členství začít pracovat s oddíl jinou aplikaci, než byl dříve používán.</span><span class="sxs-lookup"><span data-stu-id="5e895-439">When this happens, the Membership provider will start working with a different application partition than was previously used.</span></span> <span data-ttu-id="5e895-440">Uživatelské účty, které jsou vytvořené před přesunutí se bude nacházet v oddílu jinou aplikaci a tito uživatelé nebudou moci přihlásit do lokality.</span><span class="sxs-lookup"><span data-stu-id="5e895-440">User accounts created prior to the move will reside in a different application partition and those users will no longer be able to log into the site.</span></span> <span data-ttu-id="5e895-441">Podrobné informace v této věci naleznete v tématu [vždy nastavená `applicationName` vlastnost při konfiguraci členství technologie ASP.NET 2.0 nebo jiní poskytovatelé](https://weblogs.asp.net/scottgu/443634).</span><span class="sxs-lookup"><span data-stu-id="5e895-441">For a more in-depth discussion on this matter, see [Always Set the `applicationName` Property When Configuring ASP.NET 2.0 Membership and Other providers](https://weblogs.asp.net/scottgu/443634).</span></span>

## <a name="summary"></a><span data-ttu-id="5e895-442">Souhrn</span><span class="sxs-lookup"><span data-stu-id="5e895-442">Summary</span></span>

<span data-ttu-id="5e895-443">V tomto okamžiku máme databáze s nakonfigurovanou aplikačních služeb (`SecurityTutorials.mdf`) a nakonfigurovali naše webové aplikace tak, aby používalo rozhraní členství `SecurityTutorialsSqlMembershipProvider` zprostředkovatele jsme právě zaregistrován.</span><span class="sxs-lookup"><span data-stu-id="5e895-443">At this point we have a database with the configured application services (`SecurityTutorials.mdf`) and have configured our web application so that the Membership framework uses the `SecurityTutorialsSqlMembershipProvider` provider we just registered.</span></span> <span data-ttu-id="5e895-444">Tato registrovaný poskytovatel je typu `SqlMembershipProvider` a jeho `connectionStringName` nastavit odpovídající připojovací řetězec (`SecurityTutorialsConnectionString`) a jeho `applicationName` explicitně nastavena hodnota.</span><span class="sxs-lookup"><span data-stu-id="5e895-444">This registered provider is of type `SqlMembershipProvider` and has its `connectionStringName` set to the appropriate connection string (`SecurityTutorialsConnectionString`) and its `applicationName` value explicitly set.</span></span>

<span data-ttu-id="5e895-445">Snažíme se teď připravené k použití rozhraní členství z naší aplikace.</span><span class="sxs-lookup"><span data-stu-id="5e895-445">We are now ready to use the Membership framework from our application.</span></span> <span data-ttu-id="5e895-446">V dalším kurzu vyzkoušíme postup vytvoření nových uživatelských účtů.</span><span class="sxs-lookup"><span data-stu-id="5e895-446">In the next tutorial we will examine how to create new user accounts.</span></span> <span data-ttu-id="5e895-447">Následující, že se podíváme na ověřování uživatelů, provádí ověření na základě uživatele a ukládá Další informace související s uživatelem v databázi.</span><span class="sxs-lookup"><span data-stu-id="5e895-447">Following that we will explore authenticating users, performing user-based authorization, and storing additional user-related information in the database.</span></span>

<span data-ttu-id="5e895-448">Radostí programování!</span><span class="sxs-lookup"><span data-stu-id="5e895-448">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="5e895-449">Další čtení</span><span class="sxs-lookup"><span data-stu-id="5e895-449">Further Reading</span></span>

<span data-ttu-id="5e895-450">Další informace o tématech popsané v tomto kurzu najdete v následujících zdrojích informací:</span><span class="sxs-lookup"><span data-stu-id="5e895-450">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="5e895-451">Vždy nastaven `applicationName` vlastnost při konfiguraci členství technologie ASP.NET 2.0 a dalších zprostředkovatelů</span><span class="sxs-lookup"><span data-stu-id="5e895-451">Always Set the `applicationName` Property When Configuring ASP.NET 2.0 Membership and Other providers</span></span>](https://weblogs.asp.net/scottgu/443634)
- [<span data-ttu-id="5e895-452">Konfigurace technologie ASP.NET 2.0 aplikace služeb na použít SQL Server 2000 nebo SQL Server 2005</span><span class="sxs-lookup"><span data-stu-id="5e895-452">Configuring ASP.NET 2.0 Application Services to Use SQL Server 2000 or SQL Server 2005</span></span>](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx)
- [<span data-ttu-id="5e895-453">Stáhnout systému SQL Server Management Studio Express Edition</span><span class="sxs-lookup"><span data-stu-id="5e895-453">Download SQL Server Management Studio Express Edition</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en)
- [<span data-ttu-id="5e895-454">Zkoumání ASP.NET 2.0 s členství, role a profil</span><span class="sxs-lookup"><span data-stu-id="5e895-454">Examining ASP.NET 2.0�s Membership, Roles, and Profile</span></span>](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx)
- [<span data-ttu-id="5e895-455">`<add>` Element pro zprostředkovatele pro členství</span><span class="sxs-lookup"><span data-stu-id="5e895-455">The `<add>` Element for providers for Membership</span></span>](https://msdn.microsoft.com/library/whae3t94.aspx)
- [<span data-ttu-id="5e895-456">`<membership>` – Element</span><span class="sxs-lookup"><span data-stu-id="5e895-456">The `<membership>` Element</span></span>](https://msdn.microsoft.com/library/1b9hw62f.aspx)
- [<span data-ttu-id="5e895-457">`<providers>` Element pro členství</span><span class="sxs-lookup"><span data-stu-id="5e895-457">The `<providers>` Element for Membership</span></span>](https://msdn.microsoft.com/library/6d4936ht.aspx)
- [<span data-ttu-id="5e895-458">Pomocí `<clear />` při přidávání zprostředkovatelů</span><span class="sxs-lookup"><span data-stu-id="5e895-458">Using `<clear />` When Adding providers</span></span>](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx)
- [<span data-ttu-id="5e895-459">Práce přímo se `SqlMembershipProvider`</span><span class="sxs-lookup"><span data-stu-id="5e895-459">Working Directly with the `SqlMembershipProvider`</span></span>](http://aspnet.4guysfromrolla.com/articles/091207-1.aspx)

### <a name="video-training-on-topics-contained-in-this-tutorial"></a><span data-ttu-id="5e895-460">Video školení na témata, které jsou obsažené v tomto kurzu</span><span class="sxs-lookup"><span data-stu-id="5e895-460">Video Training on Topics Contained in this Tutorial</span></span>

- [<span data-ttu-id="5e895-461">Principy členství v ASP.NET</span><span class="sxs-lookup"><span data-stu-id="5e895-461">Understanding ASP.NET Memberships</span></span>](../../../videos/authentication/understanding-aspnet-memberships.md)
- [<span data-ttu-id="5e895-462">Konfigurace SQL kvůli spolupráci se schématy členství</span><span class="sxs-lookup"><span data-stu-id="5e895-462">Configuring SQL To Work with Membership Schemas</span></span>](../../../videos/authentication/configuring-sql-to-work-with-membership-schemas.md)
- [<span data-ttu-id="5e895-463">Změna nastavení členství ve výchozím schématu členství</span><span class="sxs-lookup"><span data-stu-id="5e895-463">Changing Membership Settings in the Default Membership Schema</span></span>](../../../videos/authentication/changing-membership-settings-in-the-default-membership-schema.md)

### <a name="about-the-author"></a><span data-ttu-id="5e895-464">O autorovi</span><span class="sxs-lookup"><span data-stu-id="5e895-464">About the Author</span></span>

<span data-ttu-id="5e895-465">Scott Meisnerová, vytvořit více knih ASP/ASP.NET a zakladatele 4GuysFromRolla.com, má byla od 1998 práce s technologií Microsoft Web.</span><span class="sxs-lookup"><span data-stu-id="5e895-465">Scott Mitchell, author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="5e895-466">Scott funguje jako nezávislé poradce, trainer a zapisovače.</span><span class="sxs-lookup"><span data-stu-id="5e895-466">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="5e895-467">Jeho nejnovější seznam k  *[Edice nakladatelství Sams naučit sami technologii ASP.NET 2.0 za 24 hodin](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*.</span><span class="sxs-lookup"><span data-stu-id="5e895-467">His latest book is *[Sams Teach Yourself ASP.NET 2.0 in 24 Hours](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*.</span></span> <span data-ttu-id="5e895-468">Scott lze dosáhnout za [ mitchell@4guysfromrolla.com ](mailto:mitchell@4guysfromrolla.com) nebo prostřednictvím svého blogu v [ http://ScottOnWriting.NET ](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="5e895-468">Scott can be reached at [mitchell@4guysfromrolla.com](mailto:mitchell@4guysfromrolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="5e895-469">Zvláštní poděkování</span><span class="sxs-lookup"><span data-stu-id="5e895-469">Special Thanks To</span></span>

<span data-ttu-id="5e895-470">Tento kurz řady byla zkontrolovány uživatelem mnoho užitečné kontrolorů.</span><span class="sxs-lookup"><span data-stu-id="5e895-470">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="5e895-471">Vést kontrolorem pro tento kurz byl Alicja Maziarz.</span><span class="sxs-lookup"><span data-stu-id="5e895-471">Lead reviewer for this tutorial was Alicja Maziarz.</span></span> <span data-ttu-id="5e895-472">Kontrola Moje nadcházející články MSDN máte zájem?</span><span class="sxs-lookup"><span data-stu-id="5e895-472">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="5e895-473">Pokud ano, vyřaďte mi řádek v [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com).</span><span class="sxs-lookup"><span data-stu-id="5e895-473">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="5e895-474">[Předchozí](storing-additional-user-information-cs.md)
> [další](creating-user-accounts-vb.md)</span><span class="sxs-lookup"><span data-stu-id="5e895-474">[Previous](storing-additional-user-information-cs.md)
[Next](creating-user-accounts-vb.md)</span></span>
