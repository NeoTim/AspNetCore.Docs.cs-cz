---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/displaying-data
title: Představení technologie ASP.NET Web Pages – zobrazení dat | Microsoft Docs
author: tfitzmac
description: Tento kurz ukazuje, jak vytvořit databázi ve službě WebMatrix a postup zobrazení dat z databáze na stránce, pokud používáte rozhraní ASP.NET Web Pages (Razor). Předpokládá y...
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/28/2015
ms.topic: article
ms.assetid: b3a006a0-3ea2-4d45-b833-e20e3a3c0a1a
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/displaying-data
msc.type: authoredcontent
ms.openlocfilehash: 6c66e5fb0a1a49da411286e19c7954f83055c3fd
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/06/2018
---
<a name="introducing-aspnet-web-pages---displaying-data"></a><span data-ttu-id="ef3c0-104">Představení technologie ASP.NET Web Pages – zobrazení dat</span><span class="sxs-lookup"><span data-stu-id="ef3c0-104">Introducing ASP.NET Web Pages - Displaying Data</span></span>
====================
<span data-ttu-id="ef3c0-105">podle [tní FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="ef3c0-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="ef3c0-106">Tento kurz ukazuje, jak vytvořit databázi ve službě WebMatrix a postup zobrazení dat z databáze na stránce, pokud používáte rozhraní ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="ef3c0-106">This tutorial shows you how to create a database in WebMatrix and how to display database data in a page when you use ASP.NET Web Pages (Razor).</span></span> <span data-ttu-id="ef3c0-107">Předpokládá, že jste dokončili řady prostřednictvím [Úvod do programování webových stránek ASP.NET](../introducing-razor-syntax-c.md).</span><span class="sxs-lookup"><span data-stu-id="ef3c0-107">It assumes you have completed the series through [Introduction to ASP.NET Web Pages Programming](../introducing-razor-syntax-c.md).</span></span>
> 
> <span data-ttu-id="ef3c0-108">Získáte informace:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-108">What you'll learn:</span></span>
> 
> - <span data-ttu-id="ef3c0-109">Jak používat nástroje WebMatrix k vytvoření databáze a tabulky databáze.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-109">How to use WebMatrix tools to create a database and database tables.</span></span>
> - <span data-ttu-id="ef3c0-110">Jak používat nástroje WebMatrix můžete přidat do databáze.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-110">How to use WebMatrix tools to add data to a database.</span></span>
> - <span data-ttu-id="ef3c0-111">Jak zobrazit data z databáze na stránce.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-111">How to display data from the database on a page.</span></span>
> - <span data-ttu-id="ef3c0-112">Jak spouštět příkazy SQL na webových stránkách ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-112">How to run SQL commands in ASP.NET Web Pages.</span></span>
> - <span data-ttu-id="ef3c0-113">Postup přizpůsobení `WebGrid` pomocná ke změně zobrazení dat a přidat stránkování a řazení.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-113">How to customize the `WebGrid` helper to change the data display and to add paging and sorting.</span></span>
>   
> 
> <span data-ttu-id="ef3c0-114">Funkce nebo technologie popsané:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-114">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="ef3c0-115">Databázové nástroje WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-115">WebMatrix database tools.</span></span>
> - <span data-ttu-id="ef3c0-116">`WebGrid` pomocné rutiny.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-116">`WebGrid` helper.</span></span>


## <a name="what-youll-build"></a><span data-ttu-id="ef3c0-117">Co budete sestavení</span><span class="sxs-lookup"><span data-stu-id="ef3c0-117">What You'll Build</span></span>

<span data-ttu-id="ef3c0-118">V tomto kurzu předchozí byly zavedeny pro webové stránky ASP.NET (*.cshtml* soubory), základní informace o syntaxi Razor a pomocné rutiny.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-118">In the previous tutorial, you were introduced to ASP.NET Web Pages (*.cshtml* files), to the basics of Razor syntax, and to helpers.</span></span> <span data-ttu-id="ef3c0-119">V tomto kurzu začnete budete vytvářet skutečné webové aplikace, které budete používat pro zbytek řady.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-119">In this tutorial, you'll begin creating the actual web application that you'll use for the rest of the series.</span></span> <span data-ttu-id="ef3c0-120">Aplikace je jednoduchý filmová aplikace, která vám umožní zobrazit, přidat, změnit a odstranit informace o filmy.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-120">The app is a simple movie application that lets you view, add, change, and delete information about movies.</span></span>

<span data-ttu-id="ef3c0-121">Po dokončení v tomto kurzu, budete moct zobrazit výpis film, který může vypadat této stránce:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-121">When you're done with this tutorial, you'll be able to view a movie listing that looks like this page:</span></span>

![Zobrazení WebGrid, který obsahuje parametry, které jsou nastaveny na názvy šablon stylů CSS – třída](displaying-data/_static/image1.png)

<span data-ttu-id="ef3c0-123">Ale pokud chcete začít, budete muset vytvořit databázi.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-123">But to begin, you have to create a database.</span></span>

## <a name="a-very-brief-introduction-to-databases"></a><span data-ttu-id="ef3c0-124">Velmi stručný úvod k databázím</span><span class="sxs-lookup"><span data-stu-id="ef3c0-124">A Very Brief Introduction to Databases</span></span>

<span data-ttu-id="ef3c0-125">Tento kurz vám poskytne pouze briefest Úvod do databáze.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-125">This tutorial will provide only the briefest introduction to databases.</span></span> <span data-ttu-id="ef3c0-126">Pokud máte zkušenosti s databáze, můžete tento krátký část přeskočit.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-126">If you have database experience, you can skip this short section.</span></span>

<span data-ttu-id="ef3c0-127">Databáze obsahuje jednu nebo více tabulek, které obsahují informace &mdash; například tabulky pro zákazníky, objednávky a dodavatele, nebo pro studenty, učitele, třídy a třídy.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-127">A database contains one or more tables that contain information &mdash; for example, tables for customers, orders, and vendors, or for students, teachers, classes, and grades.</span></span> <span data-ttu-id="ef3c0-128">Databázové tabulky strukturálně, je třeba tabulkou.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-128">Structurally, a database table is like a spreadsheet.</span></span> <span data-ttu-id="ef3c0-129">Představte si typické adresáře.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-129">Imagine a typical address book.</span></span> <span data-ttu-id="ef3c0-130">Pro každou položku v adresáři (který je pro každou osobu) máte několik informací například křestní jméno, příjmení, adresu, e-mailová adresa a telefonní číslo.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-130">For each entry in the address book (that is, for each person) you have several pieces of information such as first name, last name, address, email address, and phone number.</span></span>

![Ukázka databázové tabulky jako jednoduchý mřížky](displaying-data/_static/image2.png)

<span data-ttu-id="ef3c0-132">(Řádky se někdy označují jako *záznamy*, a sloupce se někdy označují jako *pole*.)</span><span class="sxs-lookup"><span data-stu-id="ef3c0-132">(Rows are sometimes referred to as *records*, and columns are sometimes referred to as *fields*.)</span></span>

<span data-ttu-id="ef3c0-133">Pro většinu tabulky databáze v tabulce musí obsahovat sloupec, který obsahuje jedinečná hodnota, jako je zákaznické číslo, číslo účtu a tak dále.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-133">For most database tables, the table has to have a column that contains a unique value, like a customer number, account number, and so on.</span></span> <span data-ttu-id="ef3c0-134">Tato hodnota se označuje jako v tabulce *primární klíč*, a můžete ji použít k identifikaci každý řádek v tabulce.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-134">This value is known as the table's *primary key*, and you use it to identify each row in the table.</span></span> <span data-ttu-id="ef3c0-135">V příkladu je ID sloupce primární klíč pro adresář v předchozím příkladu.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-135">In the example, the ID column is the primary key for the address book shown in the previous example.</span></span>

<span data-ttu-id="ef3c0-136">Velká část práce, které můžete provést ve webové aplikace se skládá z čtení informací z databáze nástroje a zobrazení na stránce.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-136">Much of the work you do in web applications consists of reading information out of the database and displaying it on a page.</span></span> <span data-ttu-id="ef3c0-137">Budete také často shromažďovat informace od uživatelů a přidejte ji do databáze, nebo upravte záznamy, které jsou již v databázi.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-137">You'll also often gather information from users and add it to a database, or you'll modify records that are already in the database.</span></span> <span data-ttu-id="ef3c0-138">(Jsme zaměříme všechny tyto operace v průběhu této kurz sady.)</span><span class="sxs-lookup"><span data-stu-id="ef3c0-138">(We'll cover all of these operations in the course of this tutorial set.)</span></span>

<span data-ttu-id="ef3c0-139">Pracovní databáze může být složité, enormously a může vyžadovat specializované znalosti.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-139">Database work can be enormously complex and can require specialized knowledge.</span></span> <span data-ttu-id="ef3c0-140">Pro tento kurz sadu ale musíte pochopit pouze základní koncepty, které budou všechny vysvětleny rovnou.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-140">For this tutorial set, though, you have to understand only basic concepts, which will all be explained as you go.</span></span>

## <a name="creating-a-database"></a><span data-ttu-id="ef3c0-141">Vytvoření databáze</span><span class="sxs-lookup"><span data-stu-id="ef3c0-141">Creating a Database</span></span>

<span data-ttu-id="ef3c0-142">Služba WebMatrix nabízí nástroje, které usnadní k vytvoření databáze a k vytváření tabulek v databázi.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-142">WebMatrix includes tools that make it easy to create a database and to create tables in the database.</span></span> <span data-ttu-id="ef3c0-143">(Struktura databáze se označuje jako databáze *schématu*.) Pro tento kurz sadu vytvoříte databázi, která se nachází pouze jednu tabulku &mdash; filmy.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-143">(The structure of a database is referred to as the database's *schema*.) For this tutorial set, you'll create a database that has only one table in it &mdash; Movies.</span></span>

<span data-ttu-id="ef3c0-144">Otevřete službu WebMatrix, pokud jste tak již neučinili a otevřete WebPagesMovies web, který jste vytvořili v předchozí kurzu.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-144">Open WebMatrix if you haven't already done so, and open the WebPagesMovies site that you created in the previous tutorial.</span></span>

<span data-ttu-id="ef3c0-145">V levém podokně klikněte **databáze** pracovního prostoru.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-145">In the left pane, click the **Database** workspace.</span></span>

![Karta pracovní prostor databáze služby WebMatrix](displaying-data/_static/image3.png)

<span data-ttu-id="ef3c0-147">Změny pásu karet zobrazíte úkolech týkajících se databáze.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-147">The ribbon changes to show database-related tasks.</span></span> <span data-ttu-id="ef3c0-148">Na pásu karet klikněte na tlačítko **novou databázi**.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-148">In the ribbon, click **New Database**.</span></span>

![V WebMatrix pásu karet na tlačítko 'novou databázi.](displaying-data/_static/image4.png)

<span data-ttu-id="ef3c0-150">Služba WebMatrix vytvoří databázi SQL CE serveru ( *SDF* soubor), má stejný název jako vaše lokalita &mdash; *WebPagesMovies.sdf*.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-150">WebMatrix creates a SQL Server CE database (an *.sdf* file) that has the same name as your site &mdash; *WebPagesMovies.sdf*.</span></span> <span data-ttu-id="ef3c0-151">(To nebude provádět zde, ale přejmenujte soubor k ničemu se vám líbí, dokud obsahuje *SDF* rozšíření.)</span><span class="sxs-lookup"><span data-stu-id="ef3c0-151">(You won't do this here, but you can rename the file to anything you like, as long as it has an *.sdf* extension.)</span></span>

## <a name="creating-a-table"></a><span data-ttu-id="ef3c0-152">Vytvoření tabulky</span><span class="sxs-lookup"><span data-stu-id="ef3c0-152">Creating a Table</span></span>

<span data-ttu-id="ef3c0-153">Na pásu karet klikněte na tlačítko **novou tabulku**.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-153">In the ribbon, click **New Table**.</span></span> <span data-ttu-id="ef3c0-154">Služba WebMatrix otevře návrháře tabulky na nové kartě. (Pokud není k dispozici možnost nové tabulky, ujistěte se, že nové databáze je vybraný ve stromovém zobrazení na levé straně.)</span><span class="sxs-lookup"><span data-stu-id="ef3c0-154">WebMatrix opens the table designer in a new tab. (If the New Table option isn't available, make sure that the new database is selected in the tree view on the left.)</span></span>

![V WebMatrix pásu karet na tlačítko 'novou tabulku.](displaying-data/_static/image5.png)

<span data-ttu-id="ef3c0-156">V textovém poli nahoře (kde vodoznak říká "Zadejte název tabulky") zadejte "Filmy".</span><span class="sxs-lookup"><span data-stu-id="ef3c0-156">In the text box at the top (where the watermark says "Enter table name"), enter "Movies".</span></span>

![Zadáte název tabulky v Návrháři databáze služby WebMatrix](displaying-data/_static/image6.png)

<span data-ttu-id="ef3c0-158">V podokně pod název tabulky je, kde můžete definovat jednotlivé sloupce.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-158">The pane underneath the table name is where you define individual columns.</span></span> <span data-ttu-id="ef3c0-159">Pro *filmy* tabulky v tomto kurzu vytvoříte pouze několik sloupců: *ID*, *název*, *Genre*, a *rok*.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-159">For the *Movies* table in this tutorial, you'll create only a few columns: *ID*, *Title*, *Genre*, and *Year*.</span></span>

<span data-ttu-id="ef3c0-160">V **název** zadejte "ID".</span><span class="sxs-lookup"><span data-stu-id="ef3c0-160">In the **Name** box, enter "ID".</span></span> <span data-ttu-id="ef3c0-161">Zadáním hodnoty zde aktivuje všechny ovládací prvky pro nový sloupec.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-161">Entering a value here activates all the controls for the new column.</span></span>

<span data-ttu-id="ef3c0-162">Na kartě **datový typ** seznam a vyberte **int**. Tato hodnota určuje, že sloupec ID bude obsahovat data, celé číslo (number).</span><span class="sxs-lookup"><span data-stu-id="ef3c0-162">Tab to the **Data Type** list and choose **int**. This value specifies that the ID column will contain integer (number) data.</span></span>

> [!NOTE]
> <span data-ttu-id="ef3c0-163">Nebude říkáme mu na všechny zde (mnohem), ale můžete použít standardní gesta klávesnice Windows a přejděte v mřížce.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-163">We won't call it out any more here (much), but you can use standard Windows keyboard gestures to navigate in this grid.</span></span> <span data-ttu-id="ef3c0-164">Například můžete kartě mezi poli, můžete právě začněte zadávat text, aby bylo možné, vyberte položku v seznamu a tak dále.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-164">For example, you can tab between fields, you can just start typing in order to select an item in a list, and so on.</span></span>


<span data-ttu-id="ef3c0-165">Kartě po **výchozí hodnotu** pole (to znamená, že necháte prázdné).</span><span class="sxs-lookup"><span data-stu-id="ef3c0-165">Tab past the **Default Value** box (that is, leave it blank).</span></span> <span data-ttu-id="ef3c0-166">Na kartě **je primární klíč** zaškrtněte políčko a vyberte ho.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-166">Tab to the **Is Primary Key** check box and select it.</span></span> <span data-ttu-id="ef3c0-167">Tato možnost umožňuje databázi, která *ID* sloupec bude obsahovat data, která identifikuje jednotlivé řádky.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-167">This option tells the database that the *ID* column will contain the data that identifies individual rows.</span></span> <span data-ttu-id="ef3c0-168">(To znamená, každý řádek bude mít jedinečnou hodnotu ve sloupci ID, který můžete použít k vyhledání tento řádek.)</span><span class="sxs-lookup"><span data-stu-id="ef3c0-168">(That is, each row will have a unique value in the ID column that you can use to find that row.)</span></span>

<span data-ttu-id="ef3c0-169">Vyberte **je Identity** možnost.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-169">Choose the **Is Identity** option.</span></span> <span data-ttu-id="ef3c0-170">Tato možnost umožňuje databázi, aby měl automaticky generovat další pořadové číslo pro každý nový řádek.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-170">This option tells the database that it should automatically generate the next sequential number for each new row.</span></span> <span data-ttu-id="ef3c0-171">( **Je Identity** možnost funguje jenom v případě, že jste vybrali **je primární klíč** možnost.)</span><span class="sxs-lookup"><span data-stu-id="ef3c0-171">(The **Is Identity** option works only if you've also selected the **Is Primary Key** option.)</span></span>

<span data-ttu-id="ef3c0-172">Kliknutím na další řádek mřížky nebo stiskněte klávesu Tab dvakrát na dokončení aktuální řádek.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-172">Click in the next grid row, or press Tab twice to finish the current row.</span></span> <span data-ttu-id="ef3c0-173">Buď gesto uloží na aktuálním řádku a spuštění dalšímu.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-173">Either gesture saves the current row and starts the next one.</span></span> <span data-ttu-id="ef3c0-174">Všimněte si, že **výchozí hodnotu** sloupec teď uvádí **Null**.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-174">Notice that the **Default Value** column now says **Null**.</span></span> <span data-ttu-id="ef3c0-175">(Null je výchozí hodnota pro výchozí hodnota, tak na speak.)</span><span class="sxs-lookup"><span data-stu-id="ef3c0-175">(Null is the default value for the default value, so to speak.)</span></span>

<span data-ttu-id="ef3c0-176">Když jste dokončili definování nové **ID** sloupce návrháře bude vypadat jako tento obrázek:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-176">When you've finished defining the new **ID** column, the designer will look like this illustration:</span></span>

![Služba WebMatrix Návrhář databáze po definování ID sloupce pro tabulku filmy](displaying-data/_static/image7.png)

<span data-ttu-id="ef3c0-178">Chcete-li vytvořit další sloupce, klikněte do pole v **název** sloupce.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-178">To create the next column, click in the box in the **Name** column.</span></span> <span data-ttu-id="ef3c0-179">Zadejte "Title" pro sloupec a potom vyberte **nvarchar** pro **datový typ** hodnotu.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-179">Enter "Title" for the column and then select **nvarchar** for the **Data Type** value.</span></span> <span data-ttu-id="ef3c0-180">Část "var" **nvarchar** databáze oznamuje, že data pro tento sloupec bude řetězec, jehož velikost může lišit od záznamy.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-180">The "var" part of **nvarchar** tells the database that the data for this column will be a string whose size might vary from record to record.</span></span> <span data-ttu-id="ef3c0-181">(Předponu "n" představuje "national", což naznačuje, že pole může obsahovat znak data pro všechny abecedy nebo zápis systému – to znamená, pole obsahuje data ve formátu Unicode.)</span><span class="sxs-lookup"><span data-stu-id="ef3c0-181">(The "n" prefix represents "national," which indicates that the field can hold character data for any alphabet or writing system — that is, the field holds Unicode data.)</span></span>

<span data-ttu-id="ef3c0-182">Pokud vyberete **nvarchar**, jiného pole se zobrazí, kde můžete zadat maximální délku pole.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-182">When you choose **nvarchar**, another box appears where you can enter the maximum length for the field.</span></span> <span data-ttu-id="ef3c0-183">Zadejte hodnotu 50, za předpokladu, že žádný název filmu, který budete pracovat v tomto kurzu bude delší než 50 znaků.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-183">Enter 50, on the assumption that no movie title that you'll work with in this tutorial will be longer than 50 characters.</span></span>

<span data-ttu-id="ef3c0-184">Přeskočit **výchozí hodnotu** a zrušte zaškrtnutí **povolit hodnoty Null** možnost.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-184">Skip **Default Value** and clear the **Allow Nulls** option.</span></span> <span data-ttu-id="ef3c0-185">Nechcete, aby databázi tak, aby filmy se zapisují do databáze, které nemají název.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-185">You don't want the database to allow any movies to be entered into the database that don't have a title.</span></span>

<span data-ttu-id="ef3c0-186">Když jste hotovi a přechod na další řádek, vypadá návrháře tomto obrázku:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-186">When you're done and move to the next row, the designer looks like this illustration:</span></span>

![Služba WebMatrix Návrhář databáze po definování název sloupce pro tabulku filmy](displaying-data/_static/image8.png)

<span data-ttu-id="ef3c0-188">Opakujte tyto kroky k vytvoření sloupec s názvem "Genre", s výjimkou délky, nastavte na hodnotu pouze 30.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-188">Repeat these steps to create a column named "Genre", except for the length, set it to just 30.</span></span>

<span data-ttu-id="ef3c0-189">Vytvořte jiný sloupec s názvem "Rok."</span><span class="sxs-lookup"><span data-stu-id="ef3c0-189">Create another column named "Year."</span></span> <span data-ttu-id="ef3c0-190">Datový typ, zvolte **nchar** (ne **nvarchar**) a nastavte délku 4.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-190">For the data type, choose **nchar** (not **nvarchar**) and set the length to 4.</span></span> <span data-ttu-id="ef3c0-191">Rok se chystáte použít 4 číslice jako "1995" nebo "2010", takže nevyžadují proměnlivé velikosti sloupce.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-191">For the year, you're going to use a 4-digit number like "1995" or "2010", so you don't require a variable-sized column.</span></span>

<span data-ttu-id="ef3c0-192">Tady je dokončení návrhu, které bude vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-192">Here's what the finished design looks like:</span></span>

![Návrhář databáze služby WebMatrix po všechna pole jsou definovány pro tabulku filmy](displaying-data/_static/image9.png)

<span data-ttu-id="ef3c0-194">Stisknutím kláves Ctrl + S nebo klikněte na tlačítko **Uložit** tlačítka na panelu nástrojů Rychlý přístup.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-194">Press Ctrl+S or click the **Save** button in the Quick Access toolbar.</span></span> <span data-ttu-id="ef3c0-195">Zavřete návrháře databáze ukončením kartě.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-195">Close the database designer by closing the tab.</span></span>

## <a name="adding-some-example-data"></a><span data-ttu-id="ef3c0-196">Přidání některé příklad dat</span><span class="sxs-lookup"><span data-stu-id="ef3c0-196">Adding Some Example Data</span></span>

<span data-ttu-id="ef3c0-197">Dále v této série kurzu vytvoříte stránky, kde můžete zadat nový filmy ve formuláři.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-197">Later in this tutorial series you'll create a page where you can enter new movies in a form.</span></span> <span data-ttu-id="ef3c0-198">Teď ale můžete přidat příklad data, která pak můžete zobrazit na stránce.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-198">For now, however, you can add some example data that you can then display on a page.</span></span>

<span data-ttu-id="ef3c0-199">V **databáze** prostoru ve službě WebMatrix, Všimněte si, že je stromové struktury, která ukazuje *SDF* souborů, které jste vytvořili dříve.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-199">In the **Database** workspace in WebMatrix, notice that there's a tree that shows you the *.sdf* file you created earlier.</span></span> <span data-ttu-id="ef3c0-200">Otevřete uzel nové *SDF* souboru a pak otevřete **tabulky** uzlu.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-200">Open the node for your new *.sdf* file, and then open the **Tables** node.</span></span>

![Pracovní prostor služby WebMatrix databáze s stromu otevřete filmy tabulky](displaying-data/_static/image10.png)

<span data-ttu-id="ef3c0-202">Klikněte pravým tlačítkem myši **filmy** uzel a potom zvolte **Data**.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-202">Right-click the **Movies** node and then choose **Data**.</span></span> <span data-ttu-id="ef3c0-203">Služba WebMatrix otevře mřížky, kde můžete zadat data *filmy* tabulky:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-203">WebMatrix opens a grid where you can enter data for the *Movies* table:</span></span>

![Databáze položky mřížky ve službě WebMatrix (prázdný)](displaying-data/_static/image11.png)

<span data-ttu-id="ef3c0-205">Klikněte **název** sloupci a zadejte "Při Harry Sverdlove splněny Jan".</span><span class="sxs-lookup"><span data-stu-id="ef3c0-205">Click the **Title** column and enter "When Harry Met Sally".</span></span> <span data-ttu-id="ef3c0-206">Přesunout do **Genre** sloupce (můžete pomocí klávesy Tab) a zadejte "Milostné komedie".</span><span class="sxs-lookup"><span data-stu-id="ef3c0-206">Move to the **Genre** column (you can use the Tab key) and enter "Romantic Comedy".</span></span> <span data-ttu-id="ef3c0-207">Přesunout do **roku** sloupci a zadejte "1989":</span><span class="sxs-lookup"><span data-stu-id="ef3c0-207">Move to the **Year** column and enter "1989":</span></span>

![Databáze položky mřížky ve službě WebMatrix s jedním záznamem](displaying-data/_static/image12.png)

<span data-ttu-id="ef3c0-209">Stiskněte klávesu Enter a službě WebMatrix uloží novou film.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-209">Press Enter, and WebMatrix saves the new movie.</span></span> <span data-ttu-id="ef3c0-210">Všimněte si, že **ID** bylo vyplněno sloupce.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-210">Notice that the **ID** column has been filled in.</span></span>

![Databáze položky mřížky ve službě WebMatrix s jedním záznamem a automaticky vygeneruje ID](displaying-data/_static/image13.png)

<span data-ttu-id="ef3c0-212">Zadejte jiný movie (například "zmizel s the běh", "Obrázkům", "1939").</span><span class="sxs-lookup"><span data-stu-id="ef3c0-212">Enter another movie (for example, "Gone with the Wind", "Drama", "1939").</span></span> <span data-ttu-id="ef3c0-213">Sloupec ID se znovu vyplní:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-213">The ID column is filled in again:</span></span>

![Databáze položky mřížky ve službě WebMatrix se dva záznamy a automaticky vygeneruje ID](displaying-data/_static/image14.png)

<span data-ttu-id="ef3c0-215">Zadejte třetí film (například "Ghostbusters", "Komedie").</span><span class="sxs-lookup"><span data-stu-id="ef3c0-215">Enter a third movie (for example, "Ghostbusters", "Comedy").</span></span> <span data-ttu-id="ef3c0-216">Experiment, nechat **roku** sloupec prázdná a stiskněte klávesu Enter.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-216">As an experiment, leave the **Year** column blank and then press Enter.</span></span> <span data-ttu-id="ef3c0-217">Protože můžete zrušit **povolit hodnoty Null** možnost ukazuje chybu, databáze:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-217">Because you unselected the **Allow Nulls** option, the database shows an error:</span></span>

![Zobrazí chyba 'Neplatná data' Pokud hodnota požadovaný sloupec je prázdné](displaying-data/_static/image15.png)

<span data-ttu-id="ef3c0-219">Klikněte na tlačítko **OK** přejít zpět a opravte položka (roku pro hodnotu "Ghostbusters" je 1984) a stiskněte klávesu Enter.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-219">Click **OK** to go back and fix the entry (the year for "Ghostbusters" is 1984), and then press Enter.</span></span>

<span data-ttu-id="ef3c0-220">Vyplňte několik filmy, dokud nebudete mít 8, nebo tak.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-220">Fill in several movies until you have 8 or so.</span></span> <span data-ttu-id="ef3c0-221">(Zadání 8 usnadňuje práci s stránkování později.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-221">(Entering 8 makes it easier to work with paging later.</span></span> <span data-ttu-id="ef3c0-222">Ale pokud, je příliš mnoho, zadejte jenom pár prozatím.) Skutečná data není důležité.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-222">But if that's too many, enter just a few for now.) The actual data doesn't matter.</span></span>

![Databáze položky mřížky ve službě WebMatrix se buď záznamy](displaying-data/_static/image16.png)

<span data-ttu-id="ef3c0-224">Pokud jste zadali všechny filmy bez chyb, jsou hodnoty ID sekvenční.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-224">If you entered all the movies without any errors, the ID values are sequential.</span></span> <span data-ttu-id="ef3c0-225">Pokud jste se pokusili uložit záznam neúplné film, nemusí být čísla ID sekvenční.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-225">If you tried to save an incomplete movie record, the ID numbers might not be sequential.</span></span> <span data-ttu-id="ef3c0-226">Pokud ano, který je v pořádku.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-226">If so, that's okay.</span></span> <span data-ttu-id="ef3c0-227">Čísla, která nemají žádný význam vyplývajících a jediné, co je důležité je, že jsou jedinečné v *filmy* tabulky.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-227">The numbers don't have any inherent meaning, and the only thing that's important is that they're unique in the *Movies* table.</span></span>

<span data-ttu-id="ef3c0-228">Zavřete kartu, která obsahuje Návrhář databáze.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-228">Close the tab that contains the database designer.</span></span>

<span data-ttu-id="ef3c0-229">Nyní můžete zapnout k zobrazení tato data na webové stránce.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-229">Now you can turn to displaying this data on a web page.</span></span>

## <a name="displaying-data-in-a-page-by-using-the-webgrid-helper"></a><span data-ttu-id="ef3c0-230">Zobrazení dat na stránce pomocí WebGrid pomocné rutiny</span><span class="sxs-lookup"><span data-stu-id="ef3c0-230">Displaying Data in a Page by Using the WebGrid Helper</span></span>

<span data-ttu-id="ef3c0-231">K zobrazení dat na stránce, se chystáte použít `WebGrid` pomocné rutiny.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-231">To display data in a page, you're going to use the `WebGrid` helper.</span></span> <span data-ttu-id="ef3c0-232">Tento Pomocník vytvoří zobrazení v mřížce nebo tabulce (řádků a sloupců).</span><span class="sxs-lookup"><span data-stu-id="ef3c0-232">This helper produces a display in a grid or table (rows and columns).</span></span> <span data-ttu-id="ef3c0-233">Jak zjistíte, budete moct upravit mřížka s formátování a dalších funkcí.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-233">As you'll see, you'll be able refine the grid with formatting and other features.</span></span>

<span data-ttu-id="ef3c0-234">Pokud chcete spustit mřížky, budete mít k zápisu po zadání několika řádků kódu.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-234">To run the grid, you'll have to write a few lines of code.</span></span> <span data-ttu-id="ef3c0-235">Tyto několika řádků bude sloužit jako druh vzor pro téměř všechny přístup k datům, která učiníte v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-235">These few lines will serve as a kind of pattern for almost all of the data access that you do in this tutorial.</span></span>

> [!NOTE]
> <span data-ttu-id="ef3c0-236">Máte ve skutečnosti mnoho možností pro zobrazení dat na stránce. `WebGrid` helper je jen jednou.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-236">You actually have many options for displaying data on a page; the `WebGrid` helper is just one.</span></span> <span data-ttu-id="ef3c0-237">Jsme zvolili ho v tomto kurzu vzhledem k tomu, že je nejjednodušší způsob, jak zobrazit data a je to bude přiměřeně flexibilní.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-237">We chose it for this tutorial because it's the easiest way to display data and because it's reasonably flexible.</span></span> <span data-ttu-id="ef3c0-238">V dalším kurzu sadu uvidíte, jak používat další "Ruční" způsob, jak pracovat s daty na stránce, která vám dává větší kontrolu nad jak zobrazit data.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-238">In the next tutorial set, you'll see how to use a more "manual" way to work with data in the page, which gives you more direct control over how to display the data.</span></span>


<span data-ttu-id="ef3c0-239">V levém podokně ve službě WebMatrix, klikněte **soubory** pracovního prostoru.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-239">In the left pane in WebMatrix, click the **Files** workspace.</span></span>

<span data-ttu-id="ef3c0-240">Nové databáze jste vytvořili *aplikace\_Data* složky.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-240">The new database you created is in the *App\_Data* folder.</span></span> <span data-ttu-id="ef3c0-241">Pokud složce ještě neexistuje, služba WebMatrix se vytvoří pro novou databázi.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-241">If the folder didn't already exist, WebMatrix created it for your new database.</span></span> <span data-ttu-id="ef3c0-242">(Složky může mít existuje Pokud jste dříve nainstalovali pomocné rutiny.)</span><span class="sxs-lookup"><span data-stu-id="ef3c0-242">(The folder might have existed if you'd previously installed helpers.)</span></span>

<span data-ttu-id="ef3c0-243">Ve stromovém zobrazení vyberte kořenovém adresáři webu.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-243">In the tree view, select the root of the website.</span></span> <span data-ttu-id="ef3c0-244">Je nutné vybrat kořenovém webu; jinak, může nový soubor přidán do aplikace\_složku Data.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-244">You must select the root of the website; otherwise, the new file might be added to the App\_Data folder.</span></span>

<span data-ttu-id="ef3c0-245">Na pásu karet klikněte na tlačítko **nový**.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-245">In the ribbon, click **New**.</span></span> <span data-ttu-id="ef3c0-246">V **vyberte typ souboru** vyberte **CSHTML**.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-246">In the **Choose a File Type** box, choose **CSHTML**.</span></span>

<span data-ttu-id="ef3c0-247">V **název** pole, zadejte název nové stránky "Movies.cshtml":</span><span class="sxs-lookup"><span data-stu-id="ef3c0-247">In the **Name** box, name the new page "Movies.cshtml":</span></span>

!["Vyberte typ souboru, dialogové okno stránkou, filmy,](displaying-data/_static/image17.png)

<span data-ttu-id="ef3c0-249">Klikněte **OK** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-249">Click the **OK** button.</span></span> <span data-ttu-id="ef3c0-250">Služba WebMatrix otevře nový soubor s některé kostru prvky v ní.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-250">WebMatrix opens a new file with some skeleton elements in it.</span></span> <span data-ttu-id="ef3c0-251">Nejprve budete napsat kód přejdete získat data z databáze.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-251">First you'll write some code to go get the data from the database.</span></span> <span data-ttu-id="ef3c0-252">Potom přidáte kód na stránku pro zobrazení dat ve skutečnosti.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-252">Then you'll add markup to the page to actually display the data.</span></span>

### <a name="writing-the-data-query-code"></a><span data-ttu-id="ef3c0-253">Psaní kódu dotazu dat</span><span class="sxs-lookup"><span data-stu-id="ef3c0-253">Writing the Data Query Code</span></span>

<span data-ttu-id="ef3c0-254">V horní části stránky mezi `@{` a `}` znaky, zadejte následující kód.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-254">At the top of the page, between the `@{` and `}` characters, enter the following code.</span></span> <span data-ttu-id="ef3c0-255">(Ujistěte se, abyste zadali tento kód mezi počáteční a koncovou složené závorky.)</span><span class="sxs-lookup"><span data-stu-id="ef3c0-255">(Make sure that you enter this code between the opening and closing braces.)</span></span>

[!code-csharp[Main](displaying-data/samples/sample1.cs)]

<span data-ttu-id="ef3c0-256">První řádek otevře databázi, kterou jste vytvořili dříve, což je vždy první krok před provedením něco s databází.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-256">The first line opens the database that you created earlier, which is always the first step before doing something with the database.</span></span> <span data-ttu-id="ef3c0-257">Můžete zjistit `Database.Open` metoda název databáze, chcete-li otevřít.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-257">You tell the `Database.Open` method name of the database to open.</span></span> <span data-ttu-id="ef3c0-258">Všimněte si, že nechcete zahrnout *SDF* v názvu.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-258">Notice that you don't include *.sdf* in the name.</span></span> <span data-ttu-id="ef3c0-259">`Open` Metoda předpokládá, že je hledá *SDF* souboru (to znamená, *WebPagesMovies.sdf*) a že *SDF* soubor *aplikace\_ Data* složky.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-259">The `Open` method assumes that it's looking for an *.sdf* file (that is, *WebPagesMovies.sdf*) and that the *.sdf* file is in the *App\_Data* folder.</span></span> <span data-ttu-id="ef3c0-260">(Dříve jsme zjištěno, že *aplikace\_Data* je vyhrazené složky, tento scénář je jedno z míst, kde ASP.NET provádí předpoklady o tímto názvem.)</span><span class="sxs-lookup"><span data-stu-id="ef3c0-260">(Earlier we noted that the *App\_Data* folder is reserved; this scenario is one of the places where ASP.NET makes assumptions about that name.)</span></span>

<span data-ttu-id="ef3c0-261">Po otevření databáze odkaz na jeho umístí do proměnné s názvem `db`.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-261">When the database is opened, a reference to it is put into the variable named `db`.</span></span> <span data-ttu-id="ef3c0-262">(Který může být s názvem nic.) `db` Proměnná je, jak budete skončili interakce s databází.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-262">(Which could be named anything.) The `db` variable is how you'll end up interacting with the database.</span></span>

<span data-ttu-id="ef3c0-263">Druhý řádek ve skutečnosti načte data databáze pomocí `Query` metoda.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-263">The second line actually fetches the database data by using the `Query` method.</span></span> <span data-ttu-id="ef3c0-264">Všimněte si, jak funguje tento kód: `db` proměnná nemá odkaz na otevřenou databázi a vyvolání `Query` metoda pomocí `db` proměnné (`db.Query`).</span><span class="sxs-lookup"><span data-stu-id="ef3c0-264">Notice how this code works: the `db` variable has a reference to the opened database, and you invoke the `Query` method by using the `db` variable (`db.Query`).</span></span>

<span data-ttu-id="ef3c0-265">Samotný dotaz je SQL `Select` příkaz.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-265">The query itself is a SQL `Select` statement.</span></span> <span data-ttu-id="ef3c0-266">(Pro trochu informace o SQL viz vysvětlení později.) V příkazu `Movies` identifikuje tabulky pro dotaz.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-266">(For a little background about SQL, see the explanation later.) In the statement, `Movies` identifies the table to query.</span></span> <span data-ttu-id="ef3c0-267">`*` Znak určuje, zda má dotaz vrátit všechny sloupce z tabulky.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-267">The `*` character specifies that the query should return all the columns from the table.</span></span> <span data-ttu-id="ef3c0-268">(Může být také seznam sloupců jednotlivě, oddělených čárkami.)</span><span class="sxs-lookup"><span data-stu-id="ef3c0-268">(You could also list columns individually, separated by commas.)</span></span>

<span data-ttu-id="ef3c0-269">Výsledky dotazu, pokud existuje, se vrátí a dostupná `selectedData` proměnné.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-269">The results of the query, if any, are returned and made available in the `selectedData` variable.</span></span> <span data-ttu-id="ef3c0-270">Může mít znovu, název proměnné, nic.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-270">Again, the variable could be named anything.</span></span>

<span data-ttu-id="ef3c0-271">Nakonec ve třetím řádku informuje ASP.NET, že chcete použít instanci systému `WebGrid` pomocné rutiny.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-271">Finally, the third line tells ASP.NET that you want to use an instance of the `WebGrid` helper.</span></span> <span data-ttu-id="ef3c0-272">Vytvoříte (*doložit*) pomocný objekt pomocí `new` – klíčové slovo a předejte ji výsledky dotazu prostřednictvím `selectedData` proměnné.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-272">You create (*instantiate*) the helper object by using the `new` keyword and pass it the query results via the `selectedData` variable.</span></span> <span data-ttu-id="ef3c0-273">Nové `WebGrid` jsou k dispozici v objektu, spolu s výsledky dotazu databáze `grid` proměnné.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-273">The new `WebGrid` object, along with the results of the database query, are made available in the `grid` variable.</span></span> <span data-ttu-id="ef3c0-274">Tento výsledek budete potřebovat za chvíli ve skutečnosti zobrazení dat na stránce.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-274">You'll need that result in a moment to actually display the data in the page.</span></span>

<span data-ttu-id="ef3c0-275">V této fázi databázi otevřít, že jste podmínky data chcete a jste připravili `WebGrid` Pomocník s daty.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-275">At this stage, the database has been opened, you've gotten the data you want, and you've prepared the `WebGrid` helper with that data.</span></span> <span data-ttu-id="ef3c0-276">Dále je vytvoření kód na stránce.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-276">Next is to create the markup in the page.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="ef3c0-277">**Structured Query Language (SQL)**</span><span class="sxs-lookup"><span data-stu-id="ef3c0-277">**Structured Query Language (SQL)**</span></span>
> 
> <span data-ttu-id="ef3c0-278">SQL je jazyk, který se používá ve většině relační databáze pro správu dat v databázi.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-278">SQL is a language that's used in most relational databases for managing data in a database.</span></span> <span data-ttu-id="ef3c0-279">Obsahuje příkazy, které umožňují data načíst a aktualizovat je, a které umožňují vytvářet, upravovat a spravovat data v tabulkách databáze.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-279">It includes commands that let you retrieve data and update it, and that let you create, modify, and manage data in database tables.</span></span> <span data-ttu-id="ef3c0-280">SQL se liší od programovací jazyk (například C#).</span><span class="sxs-lookup"><span data-stu-id="ef3c0-280">SQL is different than a programming language (like C#).</span></span> <span data-ttu-id="ef3c0-281">Pomocí SQL řekněte databázi co chcete použít a je databáze úlohy, zjistěte, jak získat data nebo provést úlohu.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-281">With SQL, you tell the database what you want, and it's the database's job to figure out how to get the data or perform the task.</span></span> <span data-ttu-id="ef3c0-282">Zde jsou příklady některých příkazů SQL a co dělat:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-282">Here are examples of some SQL commands and what they do:</span></span>
> 
> `Select * From Movies`
> 
> `SELECT ID, Name, Price FROM Product WHERE Price > 10.00 ORDER BY Name`
> 
> <span data-ttu-id="ef3c0-283">První `Select` příkaz načte všechny sloupce (zadáno v `*`) z *filmy* tabulky.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-283">The first `Select` statement gets all the columns (specified by `*`) from the *Movies* table.</span></span>
> 
> <span data-ttu-id="ef3c0-284">Druhý `Select` příkaz načte ID, názvu a cena sloupce ze záznamů *produktu* tabulky, jehož hodnota sloupce Price je více než 10.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-284">The second `Select` statement fetches the ID, Name, and Price columns from records in the *Product* table whose Price column value is more than 10.</span></span> <span data-ttu-id="ef3c0-285">Příkaz vrátí výsledky v abecedním pořadí na základě hodnot název sloupce.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-285">The command returns the results in alphabetical order based on the values of the Name column.</span></span> <span data-ttu-id="ef3c0-286">Pokud se cena kritériím neodpovídají žádné záznamy, příkaz vrátí prázdnou sadou.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-286">If no records match the price criteria, the command returns an empty set.</span></span>
> 
> `INSERT INTO Product (Name, Description, Price) VALUES ('Croissant', 'A flaky delight', 1.99)`
> 
> <span data-ttu-id="ef3c0-287">Tento příkaz vloží nový záznam do *produktu* tabulky, nastavení název sloupce "Croissant", popis sloupce "A nestabilním stavu štěstím" a cenu na 1,99.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-287">This command inserts a new record into the *Product* table, setting the Name column to "Croissant", the Description column to "A flaky delight", and the price to 1.99.</span></span>
> 
> <span data-ttu-id="ef3c0-288">Všimněte si, že když určujete jiné než číselné hodnoty, hodnota se udává v jednoduchých uvozovkách (ne dvojité uvozovky, jako v C#).</span><span class="sxs-lookup"><span data-stu-id="ef3c0-288">Notice that when you're specifying a non-numeric value, the value is enclosed in single quotation marks (not double quotation marks, as in C#).</span></span> <span data-ttu-id="ef3c0-289">Můžete použít tyto uvozovky kolem hodnoty text nebo data, ale není kolem čísel.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-289">You use these quotation marks around text or date values, but not around numbers.</span></span>
> 
> `DELETE FROM Product WHERE ExpirationDate < '01/01/2008'`
> 
> <span data-ttu-id="ef3c0-290">Tento příkaz odstraní záznamy v *produktu* tabulku, jejíž sloupce s datem vypršení platnosti je starší než 1. ledna 2008.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-290">This command deletes records in the *Product* table whose expiration date column is earlier than January 1, 2008.</span></span> <span data-ttu-id="ef3c0-291">(Příkaz předpokládá, že *produktu* tabulka obsahuje sloupec, samozřejmě.) Datum je zde uvedeno ve formátu MM/DD/RRRR, ale by měly být zadány ve formátu, který se používá pro národní prostředí.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-291">(The command assumes that the *Product* table has such a column, of course.) The date is entered here in MM/DD/YYYY format, but it should be entered in the format that's used for your locale.</span></span>
> 
> <span data-ttu-id="ef3c0-292">`Insert` a `Delete` příkazy nevrací sad výsledků dotazu.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-292">The `Insert` and `Delete` commands don't return result sets.</span></span> <span data-ttu-id="ef3c0-293">Místo toho že budou vracet číslo informující o tom, kolik záznamů situace měla vliv na příkaz.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-293">Instead, they return a number that tells you how many records were affected by the command.</span></span>
> 
> <span data-ttu-id="ef3c0-294">Proces, který požaduje operaci pro některé z těchto operací (např. vkládání a odstraňování záznamů), musí mít příslušná oprávnění v databázi.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-294">For some of these operations (like inserting and deleting records), the process that's requesting the operation has to have appropriate permissions in the database.</span></span> <span data-ttu-id="ef3c0-295">To je důvod, proč pro provozní databáze je často nutné zadat uživatelské jméno a heslo při připojení k databázi.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-295">That's why for production databases you often have to supply a user name and password when you connect to the database.</span></span>
> 
> <span data-ttu-id="ef3c0-296">Existují desítky příkazy SQL, ale všechny se řídí připomínat příkazy, kterou tady vidíte.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-296">There are dozens of SQL commands, but they all follow a pattern like the commands you see here.</span></span> <span data-ttu-id="ef3c0-297">Příkazy SQL můžete vytvářet tabulky databáze, počet záznamů v tabulce, výpočet ceny a provádět mnoho dalších operacích.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-297">You can use SQL commands to create database tables, count the number of records in a table, calculate prices, and perform many more operations.</span></span>


### <a name="adding-markup-to-display-the-data"></a><span data-ttu-id="ef3c0-298">Přidání značek k zobrazení dat</span><span class="sxs-lookup"><span data-stu-id="ef3c0-298">Adding Markup to Display the Data</span></span>

<span data-ttu-id="ef3c0-299">Uvnitř `<head>` elementu, obsah sady `<title>` element "Filmy":</span><span class="sxs-lookup"><span data-stu-id="ef3c0-299">Inside the `<head>` element, set contents of the `<title>` element to "Movies":</span></span>

[!code-html[Main](displaying-data/samples/sample2.html?highlight=3)]

<span data-ttu-id="ef3c0-300">Uvnitř `<body>` element stránky, přidejte následující:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-300">Inside the `<body>` element of the page, add the following:</span></span>

[!code-html[Main](displaying-data/samples/sample3.html)]

<span data-ttu-id="ef3c0-301">Je to.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-301">That's it.</span></span> <span data-ttu-id="ef3c0-302">`grid` Proměnné je hodnota jste vytvořili, když jste vytvořili `WebGrid` objektu v kódu dříve.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-302">The `grid` variable is the value you created when you created the `WebGrid` object in code earlier.</span></span>

<span data-ttu-id="ef3c0-303">Služba WebMatrix stromové zobrazení, klikněte pravým tlačítkem na stránku a vyberte **spustit v prohlížeči**.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-303">In the WebMatrix tree view, right-click the page and select **Launch in browser**.</span></span> <span data-ttu-id="ef3c0-304">Zobrazí se něco podobného jako na této stránce:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-304">You'll see something like this page:</span></span>

![Výchozí WebGrid pomocná výstup z tabulky filmy](displaying-data/_static/image18.png)

<span data-ttu-id="ef3c0-306">Kliknutím na odkaz záhlaví sloupce řadit podle sloupce.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-306">Click a column heading link to sort by that column.</span></span> <span data-ttu-id="ef3c0-307">Schopnost seřadit kliknutím na záhlaví je funkce, která je integrovaná **WebGrid** pomocné rutiny.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-307">Being able to sort by clicking a heading is a feature that's built into the **WebGrid** helper.</span></span>

<span data-ttu-id="ef3c0-308">`GetHtml` Metoda, jak naznačuje název generuje kód, který zobrazí data.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-308">The `GetHtml` method, as its name suggests, generates markup that displays the data.</span></span> <span data-ttu-id="ef3c0-309">Ve výchozím nastavení `GetHtml` metoda generuje HTML `<table>` elementu.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-309">By default, the `GetHtml` method generates an HTML `<table>` element.</span></span> <span data-ttu-id="ef3c0-310">(Pokud chcete, můžete ověřit vykreslování podle zdroj stránku v prohlížeči.)</span><span class="sxs-lookup"><span data-stu-id="ef3c0-310">(If you want, you can verify the rendering by looking at the source of the page in the browser.)</span></span>

## <a name="modifying-the-look-of-the-grid"></a><span data-ttu-id="ef3c0-311">Úpravy vzhledu mřížky</span><span class="sxs-lookup"><span data-stu-id="ef3c0-311">Modifying the Look of the Grid</span></span>

<span data-ttu-id="ef3c0-312">Pomocí `WebGrid` pomocná stejně, jako jste právě je snadno, ale výsledné zobrazení je prostý.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-312">Using the `WebGrid` helper like you just did is easy, but the resulting display is plain.</span></span> <span data-ttu-id="ef3c0-313">`WebGrid` Pomocná má nejrůznějším možnosti, ve kterých můžete řídit, jak se zobrazí data.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-313">The `WebGrid` helper has all sorts of options that let you control how the data is displayed.</span></span> <span data-ttu-id="ef3c0-314">Příliš mnoho prozkoumat v tomto kurzu, ale v této části získáte představu o některé z těchto možností.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-314">There are far too many to explore in this tutorial, but this section will give you an idea of some of those options.</span></span> <span data-ttu-id="ef3c0-315">V dalších kurzech této série se budeme několik dalších možností.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-315">A few additional options will be covered in later tutorials in this series.</span></span>

### <a name="specifying-individual-columns-to-display"></a><span data-ttu-id="ef3c0-316">Zadání jednotlivých sloupců do zobrazení</span><span class="sxs-lookup"><span data-stu-id="ef3c0-316">Specifying Individual Columns to Display</span></span>

<span data-ttu-id="ef3c0-317">Pokud chcete spustit, můžete zadat, že chcete zobrazit jenom určitým sloupce.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-317">To start, you can specify that you want to display only certain columns.</span></span> <span data-ttu-id="ef3c0-318">Ve výchozím nastavení, jako jste se seznámili, mřížky ukazuje všechny čtyři sloupce z *filmy* tabulky.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-318">By default, as you've seen, the grid shows all four of the columns from the *Movies* table.</span></span>

<span data-ttu-id="ef3c0-319">V *Movies.cshtml* souboru, nahraďte `@grid.GetHtml()` kód, který jste právě přidali následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-319">In the *Movies.cshtml* file, replace the `@grid.GetHtml()` markup that you just added with the following:</span></span>

[!code-css[Main](displaying-data/samples/sample4.css)]

<span data-ttu-id="ef3c0-320">Zjistit pomocné rutiny, které sloupce budou zobrazeny, zahrnete `columns` parametr pro `GetHtml` metoda a předejte jí v kolekci sloupců.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-320">To tell the helper which columns to display, you include a `columns` parameter for the `GetHtml` method and pass in a collection of columns.</span></span> <span data-ttu-id="ef3c0-321">V kolekci určíte každý sloupec zahrnout.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-321">In the collection, you specify each column to include.</span></span> <span data-ttu-id="ef3c0-322">Zadejte jednotlivé sloupec, který se zobrazí zahrnutím `grid.Column` objektu a předejte názvu sloupce dat, který chcete.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-322">You specify an individual column to display by including a `grid.Column` object, and pass in the name of the data column you want.</span></span> <span data-ttu-id="ef3c0-323">(Tyto sloupce musí být součástí výsledků dotazu SQL – `WebGrid` pomocníka nelze zobrazit sloupce, které nebyly vrácených dotazem.)</span><span class="sxs-lookup"><span data-stu-id="ef3c0-323">(These columns must be included in the SQL query results — the `WebGrid` helper cannot display columns that were not returned by the query.)</span></span>

<span data-ttu-id="ef3c0-324">Spusťte *Movies.cshtml* stránku v prohlížeči znovu a tentokrát získat zobrazení stejný, jako je následující (Všimněte si, že se zobrazí ve sloupci žádné ID):</span><span class="sxs-lookup"><span data-stu-id="ef3c0-324">Launch the *Movies.cshtml* page in the browser again, and this time you get a display like the following one (notice that no ID column is displayed):</span></span>

![Zobrazení WebGrid zobrazuje pouze vybrané sloupce](displaying-data/_static/image19.png)

### <a name="changing-the-look-of-the-grid"></a><span data-ttu-id="ef3c0-326">Změna vzhledu mřížky</span><span class="sxs-lookup"><span data-stu-id="ef3c0-326">Changing the Look of the Grid</span></span>

<span data-ttu-id="ef3c0-327">Existuje několik další možnosti pro zobrazení sloupce, z nichž některé bude prozkoumali v dalších kurzech v této sadě.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-327">There are quite a few more options for displaying columns, some of which will be explored in later tutorials in this set.</span></span> <span data-ttu-id="ef3c0-328">Prozatím se v této části vás seznámí s způsoby, ve kterém můžete stylů mřížky jako celek.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-328">For now, this section will introduce you to ways in which you can style the grid as a whole.</span></span>

<span data-ttu-id="ef3c0-329">Uvnitř `<head>` části stránky, těsně před uzavírací `</head>` značky, přidejte následující `<style>` element:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-329">Inside the `<head>` section of the page, just before the closing `</head>` tag, add the following `<style>` element:</span></span>

[!code-css[Main](displaying-data/samples/sample5.css)]

<span data-ttu-id="ef3c0-330">Tento kód šablon stylů CSS definuje třídy s názvem `grid`, `head`a tak dále.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-330">This CSS markup defines classes named `grid`, `head`, and so on.</span></span> <span data-ttu-id="ef3c0-331">Tyto definice styl by také mohlo v samostatném *.css* souboru a odkaz, který na stránku.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-331">You could also put these style definitions in a separate *.css* file and link that to the page.</span></span> <span data-ttu-id="ef3c0-332">(Ve skutečnosti, můžete to udělat později v tomto kurzu.) Chcete-li věcí snadno pro účely tohoto kurzu, jsou ale uvnitř stejné stránce, která zobrazuje data.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-332">(In fact, you'll do that later in this tutorial set.) But to make things easy for this tutorial, they're inside the same page that displays the data.</span></span>

<span data-ttu-id="ef3c0-333">Teď můžete získat `WebGrid` pomocná rutina pro použití těchto tříd stylu.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-333">Now you can get the `WebGrid` helper to use these style classes.</span></span> <span data-ttu-id="ef3c0-334">Pomocné rutiny má několik vlastností (například `tableStyle`) pro právě tento účel – přiřadit název třídy CSS styl na ně, a že název třídy je vykreslen jako součást kód, který je vykreslen metodou pomocné rutiny.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-334">The helper has a number of properties (for example, `tableStyle`) for just this purpose — you assign a CSS style class name to them, and that class name is rendered as part of the markup that's rendered by the helper.</span></span>

<span data-ttu-id="ef3c0-335">Změna `grid.GetHtml` kód tak, aby se teď vypadá jako tento kód:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-335">Change the `grid.GetHtml` markup so that it now looks like this code:</span></span>

[!code-css[Main](displaying-data/samples/sample6.css)]

<span data-ttu-id="ef3c0-336">Co je nového v tomto poli je, že jste přidali `tableStyle`, `headerStyle`, a `alternatingRowStyle` parametry, které `GetHtml` metoda.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-336">What's new here is that you've added `tableStyle`, `headerStyle`, and `alternatingRowStyle` parameters to the `GetHtml` method.</span></span> <span data-ttu-id="ef3c0-337">Tyto parametry byly nastaveny na názvy stylů CSS, které jste přidali před chvíli.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-337">These parameters have been set to the names of the CSS styles that you added a moment ago.</span></span>

<span data-ttu-id="ef3c0-338">Spuštění stránky a Tentokrát uvidíte v mřížce, která vypadá než prostý mnohem menší než:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-338">Run the page, and this time you see a grid that looks much less plain than before:</span></span>

![Zobrazení WebGrid, který obsahuje parametry, které jsou nastaveny na názvy šablon stylů CSS – třída](displaying-data/_static/image20.png)

<span data-ttu-id="ef3c0-340">Chcete-li zjistit, jaká `GetHtml` metoda vygenerována, můžete se podívat na zdroji stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-340">To see what the `GetHtml` method generated, you can look at the source of the page in the browser.</span></span> <span data-ttu-id="ef3c0-341">Jsme nebude přejděte sem podrobností, ale důležité je tak, že zadáte parametry jako `tableStyle`, způsobila mřížky mají vygenerovat značky HTML jako následující:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-341">We won't go into detail here, but the important point is that by specifying parameters like `tableStyle`, you caused the grid to generate HTML tags like the following:</span></span>

`<table class="grid">`

<span data-ttu-id="ef3c0-342">`<table>` Značky došlo `class` do ní přidat atribut, který odkazuje na jeden pravidla šablon stylů CSS, která jste přidali dříve.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-342">The `<table>` tag has had a `class` attribute added to it that references one of the CSS rules that you added earlier.</span></span> <span data-ttu-id="ef3c0-343">Tento kód ukazuje základní vzor &mdash; různé parametry pro `GetHtml` metoda umožňují vám odkaz šablon stylů CSS třídy, že metoda pak generuje společně s kód.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-343">This code shows you the basic pattern &mdash; different parameters for the `GetHtml` method let you reference CSS classes that the method then generates along with the markup.</span></span> <span data-ttu-id="ef3c0-344">Co se děje s tříd šablon stylů CSS je na vás.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-344">What you do with the CSS classes is up to you.</span></span>

## <a name="adding-paging"></a><span data-ttu-id="ef3c0-345">Přidání stránkování</span><span class="sxs-lookup"><span data-stu-id="ef3c0-345">Adding Paging</span></span>

<span data-ttu-id="ef3c0-346">Jako poslední úlohy pro účely tohoto kurzu přidáte stránkování mřížky.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-346">As the last task for this tutorial, you'll add paging to the grid.</span></span> <span data-ttu-id="ef3c0-347">Tuto chvíli je žádný problém zobrazíte všechny filmy najednou.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-347">Right now it's no problem to display all your movies at once.</span></span> <span data-ttu-id="ef3c0-348">Ale pokud jste přidali stovky filmy, zobrazení stránky by získat dlouho.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-348">But if you added hundreds of movies, the page display would get long.</span></span>

<span data-ttu-id="ef3c0-349">V kódu stránky, změňte řádek, který vytvoří `WebGrid` objekt, který má následující kód:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-349">In the page code, change the line that creates the `WebGrid` object to the following code:</span></span>

[!code-csharp[Main](displaying-data/samples/sample7.cs)]

<span data-ttu-id="ef3c0-350">Jediným rozdílem z před je, že jste přidali `rowsPerPage` parametr, který je nastaven na 3.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-350">The only difference from before is that you've added a `rowsPerPage` parameter that's set to 3.</span></span>

<span data-ttu-id="ef3c0-351">Spuštění stránky.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-351">Run the page.</span></span> <span data-ttu-id="ef3c0-352">V mřížce zobrazené na čas, plus navigační odkazy, které umožní stránku prostřednictvím filmy ve vaší databázi 3 řádky:</span><span class="sxs-lookup"><span data-stu-id="ef3c0-352">The grid displays 3 rows at a time, plus navigation links that let you page through the movies in your database:</span></span>

![Zobrazení WebGrid s stránkování](displaying-data/_static/image21.png)

## <a name="coming-up-next"></a><span data-ttu-id="ef3c0-354">Objevuje další</span><span class="sxs-lookup"><span data-stu-id="ef3c0-354">Coming Up Next</span></span>

<span data-ttu-id="ef3c0-355">V dalším kurzu budete Další informace o použití kódu Razor a C# pro získání vstupu uživatele ve formuláři.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-355">In the next tutorial, you'll learn how to use Razor and C# code to get user input in a form.</span></span> <span data-ttu-id="ef3c0-356">Přidáte vyhledávací pole na stránku filmy, aby mohli najít filmy podle názvu nebo genre.</span><span class="sxs-lookup"><span data-stu-id="ef3c0-356">You'll add a search box to the Movies page so that you can find movies by title or genre.</span></span>

## <a name="complete-listing-for-movies-page"></a><span data-ttu-id="ef3c0-357">Úplný seznam filmy stránky</span><span class="sxs-lookup"><span data-stu-id="ef3c0-357">Complete Listing for Movies Page</span></span>

[!code-cshtml[Main](displaying-data/samples/sample8.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="ef3c0-358">Další prostředky</span><span class="sxs-lookup"><span data-stu-id="ef3c0-358">Additional Resources</span></span>

- [<span data-ttu-id="ef3c0-359">Úvod do rozhraní ASP.NET Web programování pomocí syntaxe Razor</span><span class="sxs-lookup"><span data-stu-id="ef3c0-359">Introduction to ASP.NET Web Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=202890)

> [!div class="step-by-step"]
> <span data-ttu-id="ef3c0-360">[Předchozí](intro-to-web-pages-programming.md)
> [další](form-basics.md)</span><span class="sxs-lookup"><span data-stu-id="ef3c0-360">[Previous](intro-to-web-pages-programming.md)
[Next](form-basics.md)</span></span>
