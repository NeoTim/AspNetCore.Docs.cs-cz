---
uid: mvc/overview/older-versions-1/contact-manager/iteration-6-use-test-driven-development-vb
title: 'Iterace #6 – použijte testy řízený vývoj (VB) | Microsoft Docs'
author: microsoft
description: V této šesté iteraci přidáme nové funkce pro naši aplikaci tak, že nejprve zápis testů částí a psaní kódu pro testování částí. V této iteraci...
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/20/2009
ms.topic: article
ms.assetid: e1fd226f-3f8e-4575-a179-5c75b240333d
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions-1/contact-manager/iteration-6-use-test-driven-development-vb
msc.type: authoredcontent
ms.openlocfilehash: 71b3425c5ca8cbfc1b89493c7afb26681f8bdc9d
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/06/2018
ms.locfileid: "30877587"
---
<a name="iteration-6--use-test-driven-development-vb"></a><span data-ttu-id="59018-104">Iterace #6 – použijte testy řízený vývoj (VB)</span><span class="sxs-lookup"><span data-stu-id="59018-104">Iteration #6 – Use test-driven development (VB)</span></span>
====================
<span data-ttu-id="59018-105">podle [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="59018-105">by [Microsoft](https://github.com/microsoft)</span></span>

[<span data-ttu-id="59018-106">Stáhněte si kód</span><span class="sxs-lookup"><span data-stu-id="59018-106">Download Code</span></span>](iteration-6-use-test-driven-development-vb/_static/contactmanager_6_vb1.zip)

> <span data-ttu-id="59018-107">V této šesté iteraci přidáme nové funkce pro naši aplikaci tak, že nejprve zápis testů částí a psaní kódu pro testování částí.</span><span class="sxs-lookup"><span data-stu-id="59018-107">In this sixth iteration, we add new functionality to our application by writing unit tests first and writing code against the unit tests.</span></span> <span data-ttu-id="59018-108">V této iteraci přidáme kontaktní skupiny.</span><span class="sxs-lookup"><span data-stu-id="59018-108">In this iteration, we add contact groups.</span></span>


## <a name="building-a-contact-management-aspnet-mvc-application-vb"></a><span data-ttu-id="59018-109">Vytvoření aplikace ASP.NET MVC správy kontaktů (VB)</span><span class="sxs-lookup"><span data-stu-id="59018-109">Building a Contact Management ASP.NET MVC Application (VB)</span></span>
  

<span data-ttu-id="59018-110">Z této série kurzů využijeme celou aplikaci obraťte se na správu od začátku ukončíte.</span><span class="sxs-lookup"><span data-stu-id="59018-110">In this series of tutorials, we build an entire Contact Management application from start to finish.</span></span> <span data-ttu-id="59018-111">Obraťte se na správce aplikace umožňuje ukládat kontaktní údaje - názvy, telefonní čísla a e-mailové adresy – seznam osob.</span><span class="sxs-lookup"><span data-stu-id="59018-111">The Contact Manager application enables you to store contact information - names, phone numbers and email addresses - for a list of people.</span></span>

<span data-ttu-id="59018-112">Přes několikrát jsme sestavení aplikace.</span><span class="sxs-lookup"><span data-stu-id="59018-112">We build the application over multiple iterations.</span></span> <span data-ttu-id="59018-113">S každé iteraci jsme postupně zlepšení aplikace.</span><span class="sxs-lookup"><span data-stu-id="59018-113">With each iteration, we gradually improve the application.</span></span> <span data-ttu-id="59018-114">Cílem tohoto více iterace přístupu je vám umožní pochopit důvod pro každé změně.</span><span class="sxs-lookup"><span data-stu-id="59018-114">The goal of this multiple iteration approach is to enable you to understand the reason for each change.</span></span>

- <span data-ttu-id="59018-115">Iterace #1 – Vytvoření aplikace.</span><span class="sxs-lookup"><span data-stu-id="59018-115">Iteration #1 - Create the application.</span></span> <span data-ttu-id="59018-116">V první iteraci vytvoříme obraťte se na správce v nejjednodušší způsob, jak to možné.</span><span class="sxs-lookup"><span data-stu-id="59018-116">In the first iteration, we create the Contact Manager in the simplest way possible.</span></span> <span data-ttu-id="59018-117">Nemůžeme přidat podporu pro základní databázových operací: vytvořit, číst, aktualizovat a odstranit (CRUD).</span><span class="sxs-lookup"><span data-stu-id="59018-117">We add support for basic database operations: Create, Read, Update, and Delete (CRUD).</span></span>

- <span data-ttu-id="59018-118">Iterace #2 – zpřístupnění aplikace vypadat dobrý.</span><span class="sxs-lookup"><span data-stu-id="59018-118">Iteration #2 - Make the application look nice.</span></span> <span data-ttu-id="59018-119">V této iteraci můžeme vylepšit vzhled aplikace Úprava výchozí stránky předlohy zobrazení ASP.NET MVC a stylů CSS.</span><span class="sxs-lookup"><span data-stu-id="59018-119">In this iteration, we improve the appearance of the application by modifying the default ASP.NET MVC view master page and cascading style sheet.</span></span>

- <span data-ttu-id="59018-120">Iterace #3 – přidání ověřování formuláře.</span><span class="sxs-lookup"><span data-stu-id="59018-120">Iteration #3 - Add form validation.</span></span> <span data-ttu-id="59018-121">V třetím iteraci přidáme ověření základní formulář.</span><span class="sxs-lookup"><span data-stu-id="59018-121">In the third iteration, we add basic form validation.</span></span> <span data-ttu-id="59018-122">Jsme zabránit neoprávněným osobám v odeslání formuláře bez dokončení vyžadovaná pole formuláře.</span><span class="sxs-lookup"><span data-stu-id="59018-122">We prevent people from submitting a form without completing required form fields.</span></span> <span data-ttu-id="59018-123">Můžeme také ověřit e-mailových adres a telefonních čísel.</span><span class="sxs-lookup"><span data-stu-id="59018-123">We also validate email addresses and phone numbers.</span></span>

- <span data-ttu-id="59018-124">Iterace #4 - li aplikaci volně vázány.</span><span class="sxs-lookup"><span data-stu-id="59018-124">Iteration #4 - Make the application loosely coupled.</span></span> <span data-ttu-id="59018-125">V této třetí iteraci jsme využít výhod několik softwaru vzory návrhu na bylo snazší spravovat a upravovat aplikace obraťte se na správce.</span><span class="sxs-lookup"><span data-stu-id="59018-125">In this third iteration, we take advantage of several software design patterns to make it easier to maintain and modify the Contact Manager application.</span></span> <span data-ttu-id="59018-126">Například můžeme Refaktorovat naše aplikace pro použití vzoru úložiště a vzoru vkládání závislostí.</span><span class="sxs-lookup"><span data-stu-id="59018-126">For example, we refactor our application to use the Repository pattern and the Dependency Injection pattern.</span></span>

- <span data-ttu-id="59018-127">Iterace #5 – vytvoření testování částí.</span><span class="sxs-lookup"><span data-stu-id="59018-127">Iteration #5 - Create unit tests.</span></span> <span data-ttu-id="59018-128">V páté iteraci jsme snadněji naše aplikace spravovat a upravovat přidáním testování částí.</span><span class="sxs-lookup"><span data-stu-id="59018-128">In the fifth iteration, we make our application easier to maintain and modify by adding unit tests.</span></span> <span data-ttu-id="59018-129">Jsme model třídy modelu našich dat a vytvářet testy částí pro naše řadiče a logiku ověření.</span><span class="sxs-lookup"><span data-stu-id="59018-129">We mock our data model classes and build unit tests for our controllers and validation logic.</span></span>

- <span data-ttu-id="59018-130">Iterace #6 - použití vývoje řízeného testováním.</span><span class="sxs-lookup"><span data-stu-id="59018-130">Iteration #6 - Use test-driven development.</span></span> <span data-ttu-id="59018-131">V této šesté iteraci přidáme nové funkce pro naši aplikaci tak, že nejprve zápis testů částí a psaní kódu pro testování částí.</span><span class="sxs-lookup"><span data-stu-id="59018-131">In this sixth iteration, we add new functionality to our application by writing unit tests first and writing code against the unit tests.</span></span> <span data-ttu-id="59018-132">V této iteraci přidáme kontaktní skupiny.</span><span class="sxs-lookup"><span data-stu-id="59018-132">In this iteration, we add contact groups.</span></span>

- <span data-ttu-id="59018-133">Iterace #7 – přidání funkci Ajax.</span><span class="sxs-lookup"><span data-stu-id="59018-133">Iteration #7 - Add Ajax functionality.</span></span> <span data-ttu-id="59018-134">V sedmého iteraci jsme přidáním podpory pro Ajax zvýšit rychlost reakce a výkon aplikace.</span><span class="sxs-lookup"><span data-stu-id="59018-134">In the seventh iteration, we improve the responsiveness and performance of our application by adding support for Ajax.</span></span>

## <a name="this-iteration"></a><span data-ttu-id="59018-135">Tato iterace</span><span class="sxs-lookup"><span data-stu-id="59018-135">This Iteration</span></span>

<span data-ttu-id="59018-136">V předchozí iteraci aplikace, obraťte se na správce jsme vytvořili testování částí zajistit o bezpečnostní opatření pro naše kódu.</span><span class="sxs-lookup"><span data-stu-id="59018-136">In the previous iteration of the Contact Manager application, we created unit tests to provide a safety net for our code.</span></span> <span data-ttu-id="59018-137">Motivace pro testování částí se aby naše kód odolnější vůči změnit.</span><span class="sxs-lookup"><span data-stu-id="59018-137">The motivation for creating the unit tests was to make our code more resilient to change.</span></span> <span data-ttu-id="59018-138">Pomocí jednotkových testů na místě jsme brouka provést změnu kódu a okamžitě vědět, zda jsme zrušili existující funkce.</span><span class="sxs-lookup"><span data-stu-id="59018-138">With unit tests in place, we can happily make any change to our code and immediately know whether we have broken existing functionality.</span></span>

<span data-ttu-id="59018-139">V této iteraci používáme testování částí pro úplně jinou účel.</span><span class="sxs-lookup"><span data-stu-id="59018-139">In this iteration, we use unit tests for an entirely different purpose.</span></span> <span data-ttu-id="59018-140">V této iteraci používáme testování částí v rámci filosofie návrhu aplikace volá *vývoje řízeného testováním*.</span><span class="sxs-lookup"><span data-stu-id="59018-140">In this iteration, we use unit tests as part of an application design philosophy called *test-driven development*.</span></span> <span data-ttu-id="59018-141">Můžete provádět testy řízený vývoj, nejprve napsat testy a zapište kód pro testy.</span><span class="sxs-lookup"><span data-stu-id="59018-141">When you practice test-driven development, you write tests first and then write code against the tests.</span></span>

<span data-ttu-id="59018-142">Přesněji řečeno, když cvičení vývoje řízeného testováním, existují tři kroky, které můžete provést při vytváření kódu (červená / Refaktorovat nebo zelená):</span><span class="sxs-lookup"><span data-stu-id="59018-142">More precisely, when practicing test-driven development, there are three steps that you complete when creating code (Red/ Green/Refactor):</span></span>

1. <span data-ttu-id="59018-143">Zápis testů jednotek, které selžou (červený)</span><span class="sxs-lookup"><span data-stu-id="59018-143">Write a unit test that fails (Red)</span></span>
2. <span data-ttu-id="59018-144">Napsat kód, který předává testování částí (zelený)</span><span class="sxs-lookup"><span data-stu-id="59018-144">Write code that passes the unit test (Green)</span></span>
3. <span data-ttu-id="59018-145">Refaktorovat kódu (Refaktorovat)</span><span class="sxs-lookup"><span data-stu-id="59018-145">Refactor your code (Refactor)</span></span>

<span data-ttu-id="59018-146">Nejprve zápisu testování částí.</span><span class="sxs-lookup"><span data-stu-id="59018-146">First, you write the unit test.</span></span> <span data-ttu-id="59018-147">Testování částí mají vyjádřit svůj záměr pro jak očekáváte, že váš kód se bude chovat.</span><span class="sxs-lookup"><span data-stu-id="59018-147">The unit test should express your intention for how you expect your code to behave.</span></span> <span data-ttu-id="59018-148">Při prvním vytvoření testu jednotek, má selhat testování částí.</span><span class="sxs-lookup"><span data-stu-id="59018-148">When you first create the unit test, the unit test should fail.</span></span> <span data-ttu-id="59018-149">Test by měl nezdaří, protože ještě nebyly zapsány žádné aplikační kód, který splňuje test.</span><span class="sxs-lookup"><span data-stu-id="59018-149">The test should fail because you have not yet written any application code that satisfies the test.</span></span>

<span data-ttu-id="59018-150">V dalším kroku v pořadí pro testování částí předat napsat přesně akorát kód.</span><span class="sxs-lookup"><span data-stu-id="59018-150">Next, you write just enough code in order for the unit test to pass.</span></span> <span data-ttu-id="59018-151">Cílem je napsat kód laziest, sloppiest a nejrychlejších možné způsobem.</span><span class="sxs-lookup"><span data-stu-id="59018-151">The goal is to write the code in the laziest, sloppiest and fastest possible way.</span></span> <span data-ttu-id="59018-152">Neměli odpady čas přemýšlení o architektuře vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="59018-152">You should not waste time thinking about the architecture of your application.</span></span> <span data-ttu-id="59018-153">Místo toho měli byste se zaměřit na zápis minimální množství kódu, které jsou nezbytné pro splnění záměr vyjádřená testování částí.</span><span class="sxs-lookup"><span data-stu-id="59018-153">Instead, you should focus on writing the minimal amount of code necessary to satisfy the intention expressed by the unit test.</span></span>

<span data-ttu-id="59018-154">Nakonec po jste napsali dostatek kódu, můžete krok zpět a zvažte přehled architektury aplikace.</span><span class="sxs-lookup"><span data-stu-id="59018-154">Finally, after you have written enough code, you can step back and consider the overall architecture of your application.</span></span> <span data-ttu-id="59018-155">V tomto kroku přepisování (refactor) kódu využitím návrh softwaru vzory – například použitému vzoru – tak, aby váš kód více udržovatelný.</span><span class="sxs-lookup"><span data-stu-id="59018-155">In this step, you rewrite (refactor) your code by taking advantage of software design patterns -- such as the repository pattern -- so that your code is more maintainable.</span></span> <span data-ttu-id="59018-156">Kód v tomto kroku můžete přepsat pomocí fearlessly vzhledem k tomu, že váš kód je předmětem testování částí.</span><span class="sxs-lookup"><span data-stu-id="59018-156">You can fearlessly rewrite your code in this step because your code is covered by unit tests.</span></span>

<span data-ttu-id="59018-157">Existuje mnoho výhod, které jsou výsledkem cvičení testy řízený vývoj.</span><span class="sxs-lookup"><span data-stu-id="59018-157">There are many benefits that result from practicing test-driven development.</span></span> <span data-ttu-id="59018-158">První, testy řízený vývoj vynutí se můžete soustředit na kód, který je ve skutečnosti potřebuje k zapsání.</span><span class="sxs-lookup"><span data-stu-id="59018-158">First, test-driven development forces you to focus on code that actually needs to be written.</span></span> <span data-ttu-id="59018-159">Vzhledem k tomu, že jsou neustále zaměřuje na právě zápis dostatek kódu předat konkrétní test, nebudou moci wandering do plevelem a zápis masivní objemy kód, který se nikdy nepoužívejte.</span><span class="sxs-lookup"><span data-stu-id="59018-159">Because you are constantly focused on just writing enough code to pass a particular test, you are prevented from wandering into the weeds and writing massive amounts of code that you will never use.</span></span>

<span data-ttu-id="59018-160">Druhý návrh metodika "nejdřív otestovat" vynutí psaní kódu z perspektivy použití vašeho kódu.</span><span class="sxs-lookup"><span data-stu-id="59018-160">Second, a "test first" design methodology forces you to write code from the perspective of how your code will be used.</span></span> <span data-ttu-id="59018-161">Jinými slovy při cvičení vývoje řízeného testováním, neustále programujete testy z hlediska uživatelů.</span><span class="sxs-lookup"><span data-stu-id="59018-161">In other words, when practicing test-driven development, you are constantly writing your tests from a user perspective.</span></span> <span data-ttu-id="59018-162">Proto může způsobit vývoje řízeného testováním čisticí a více nerozumí rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="59018-162">Therefore, test-driven development can result in cleaner and more understandable APIs.</span></span>

<span data-ttu-id="59018-163">Nakonec vývoje řízeného testováním vynutí zápis testů částí jako součást normální proces vytváření aplikace.</span><span class="sxs-lookup"><span data-stu-id="59018-163">Finally, test-driven development forces you to write unit tests as part of the normal process of writing an application.</span></span> <span data-ttu-id="59018-164">Jak se blíží konečný termín projektu, testování je obvykle první věc, kterou nedostane mimo okno.</span><span class="sxs-lookup"><span data-stu-id="59018-164">As a project deadline approaches, testing is typically the first thing that goes out the window.</span></span> <span data-ttu-id="59018-165">Při cvičení vývoje řízeného testováním na druhé straně, se pravděpodobně být virtuous o zápis testů částí, protože vývoje řízeného testováním provede testování částí centrální proces vytváření aplikace.</span><span class="sxs-lookup"><span data-stu-id="59018-165">When practicing test-driven development, on the other hand, you are more likely to be virtuous about writing unit tests because test-driven development makes unit tests central to the process of building an application.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="59018-166">Další informace o vývoje řízeného testováním, I doporučujeme, abyste si přečetli Michael peří kniha **efektivní práce s kódem starší**.</span><span class="sxs-lookup"><span data-stu-id="59018-166">To learn more about test-driven development, I recommend that you read Michael Feathers book **Working Effectively with Legacy Code**.</span></span>


<span data-ttu-id="59018-167">V této iteraci přidáme novou funkci pro naši aplikaci obraťte se na správce.</span><span class="sxs-lookup"><span data-stu-id="59018-167">In this iteration, we add a new feature to our Contact Manager application.</span></span> <span data-ttu-id="59018-168">Nemůžeme přidat podporu pro skupiny kontaktu.</span><span class="sxs-lookup"><span data-stu-id="59018-168">We add support for Contact Groups.</span></span> <span data-ttu-id="59018-169">Můžete vytvořit, obraťte se na skupiny a uspořádat do kategorií, jako je například obchodní kontakty a skupiny Friend.</span><span class="sxs-lookup"><span data-stu-id="59018-169">You can use Contact Groups to organize your contacts into categories such as Business and Friend groups.</span></span>

<span data-ttu-id="59018-170">Tato nová funkce přidáme do aplikace pomocí následujících proces vývoje řízeného testováním.</span><span class="sxs-lookup"><span data-stu-id="59018-170">We'll add this new functionality to our application by following a process of test-driven development.</span></span> <span data-ttu-id="59018-171">Jsme budete nejprve napsat naše testy jednotek a jsme budete psát všechny naše kód pro tyto testy.</span><span class="sxs-lookup"><span data-stu-id="59018-171">We'll write our unit tests first and we'll write all of our code against these tests.</span></span>

## <a name="what-gets-tested"></a><span data-ttu-id="59018-172">Získá testů, které</span><span class="sxs-lookup"><span data-stu-id="59018-172">What Gets Tested</span></span>

<span data-ttu-id="59018-173">Jak již bylo zmíněno v předchozí iteraci, obvykle nemáte zápisu testování částí pro logiku přístup dat nebo zobrazit logiku.</span><span class="sxs-lookup"><span data-stu-id="59018-173">As we discussed in the previous iteration, you typically do not write unit tests for data access logic or view logic.</span></span> <span data-ttu-id="59018-174">Testování částí t zápisu pro logiku přístup dat neuděláte, protože přístup k databázi je relativně pomalé operace.</span><span class="sxs-lookup"><span data-stu-id="59018-174">You don t write unit tests for data access logic because accessing a database is a relatively slow operation.</span></span> <span data-ttu-id="59018-175">Testování částí t zápisu pro zobrazení logiku neuděláte, protože přístup k zobrazení vyžaduje roztočený až webového serveru, který je relativně pomalé operace.</span><span class="sxs-lookup"><span data-stu-id="59018-175">You don t write unit tests for view logic because accessing a view requires spinning up a web server which is a relatively slow operation.</span></span> <span data-ttu-id="59018-176">By neměl t zápis testů jednotek, pokud test mohou být provedeny opakovaně velmi rychle</span><span class="sxs-lookup"><span data-stu-id="59018-176">You shouldn t write a unit test unless the test can be executed over and over again very fast</span></span>

<span data-ttu-id="59018-177">Protože vývoje řízeného testováním vycházejí z testů jednotek, zaměříme původně na zápis řadiče a obchodní logiku.</span><span class="sxs-lookup"><span data-stu-id="59018-177">Because test-driven development is driven by unit tests, we focus initially on writing controller and business logic.</span></span> <span data-ttu-id="59018-178">Budeme-li se vyhnout zásahu do databáze nebo zobrazení.</span><span class="sxs-lookup"><span data-stu-id="59018-178">We avoid touching the database or views.</span></span> <span data-ttu-id="59018-179">Jsme won t změnit databázi nebo vytvořte naše zobrazení až velmi konce tohoto kurzu.</span><span class="sxs-lookup"><span data-stu-id="59018-179">We won t modify the database or create our views until the very end of this tutorial.</span></span> <span data-ttu-id="59018-180">Začneme s co může být testována.</span><span class="sxs-lookup"><span data-stu-id="59018-180">We start with what can be tested.</span></span>

## <a name="creating-user-stories"></a><span data-ttu-id="59018-181">Vytvoření uživatelských scénářů</span><span class="sxs-lookup"><span data-stu-id="59018-181">Creating User Stories</span></span>

<span data-ttu-id="59018-182">Při cvičení vývoje řízeného testováním, je vždy nejprve zápis testu.</span><span class="sxs-lookup"><span data-stu-id="59018-182">When practicing test-driven development, you always start by writing a test.</span></span> <span data-ttu-id="59018-183">To okamžitě vyvolá Otázka: jak můžete rozhodnout, jaké testovací zápis nejprve?</span><span class="sxs-lookup"><span data-stu-id="59018-183">This immediately raises the question: How do you decide what test to write first?</span></span> <span data-ttu-id="59018-184">Na tuto otázku odpovědět, je nutné zapsat sadu [ *uživatelských scénářů*](http://en.wikipedia.org/wiki/User_stories).</span><span class="sxs-lookup"><span data-stu-id="59018-184">To answer this question, you should write a set of [*user stories*](http://en.wikipedia.org/wiki/User_stories).</span></span>

<span data-ttu-id="59018-185">Uživatelský scénář je velmi stručný popis (obvykle jedna věta) požadavek na software.</span><span class="sxs-lookup"><span data-stu-id="59018-185">A user story is a very brief (usually one sentence) description of a software requirement.</span></span> <span data-ttu-id="59018-186">Mělo by být netechnické popis požadavek zapsán z hlediska uživatelů.</span><span class="sxs-lookup"><span data-stu-id="59018-186">It should be a non-technical description of a requirement written from a user perspective.</span></span>

<span data-ttu-id="59018-187">Tady s sadu uživatelských scénářů, které popisují funkce vyžadované službou nové funkce kontaktujte skupiny:</span><span class="sxs-lookup"><span data-stu-id="59018-187">Here s the set of user stories that describe the features required by the new Contact Group functionality:</span></span>

1. <span data-ttu-id="59018-188">Uživatele můžete zobrazit seznam skupin kontaktů.</span><span class="sxs-lookup"><span data-stu-id="59018-188">User can view a list of contact groups.</span></span>
2. <span data-ttu-id="59018-189">Uživatele můžete vytvořit novou skupinu kontaktu.</span><span class="sxs-lookup"><span data-stu-id="59018-189">User can create a new contact group.</span></span>
3. <span data-ttu-id="59018-190">Uživatel může odstranit existující kontaktní skupiny.</span><span class="sxs-lookup"><span data-stu-id="59018-190">User can delete an existing contact group.</span></span>
4. <span data-ttu-id="59018-191">Uživatele můžete vybrat skupinu kontaktů, při vytváření nového kontaktu.</span><span class="sxs-lookup"><span data-stu-id="59018-191">User can select a contact group when creating a new contact.</span></span>
5. <span data-ttu-id="59018-192">Uživatele můžete vybrat skupinu kontaktů, při úpravě existující kontakt.</span><span class="sxs-lookup"><span data-stu-id="59018-192">User can select a contact group when editing an existing contact.</span></span>
6. <span data-ttu-id="59018-193">Seznam skupin kontaktů se zobrazí v zobrazení indexu.</span><span class="sxs-lookup"><span data-stu-id="59018-193">A list of contact groups is displayed in the Index view.</span></span>
7. <span data-ttu-id="59018-194">Po kliknutí kontaktujte skupiny, zobrazí se seznam odpovídající kontakty.</span><span class="sxs-lookup"><span data-stu-id="59018-194">When a user clicks a contact group, a list of matching contacts is displayed.</span></span>

<span data-ttu-id="59018-195">Všimněte si, že tento seznam uživatelských scénářů je zcela nerozumí zákazníka.</span><span class="sxs-lookup"><span data-stu-id="59018-195">Notice that this list of user stories is completely understandable by a customer.</span></span> <span data-ttu-id="59018-196">Neexistuje žádné zmínky technickou implementaci podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="59018-196">There is no mention of technical implementation details.</span></span>

<span data-ttu-id="59018-197">Při procesu vytváření aplikace, se může stát přesnější sadu uživatelských scénářů.</span><span class="sxs-lookup"><span data-stu-id="59018-197">While in the process of building your application, the set of user stories can become more refined.</span></span> <span data-ttu-id="59018-198">Uživatelský scénář může rozdělit na několik scénářů (požadavky).</span><span class="sxs-lookup"><span data-stu-id="59018-198">You might break a user story into multiple stories (requirements).</span></span> <span data-ttu-id="59018-199">Například můžete rozhodnout, že vytvoření nové skupiny kontaktní by měla zahrnovat ověření.</span><span class="sxs-lookup"><span data-stu-id="59018-199">For example, you might decide that creating a new contact group should involve validation.</span></span> <span data-ttu-id="59018-200">Odesílání kontaktní skupiny bez názvu by měla vrátit chybu ověření.</span><span class="sxs-lookup"><span data-stu-id="59018-200">Submitting a contact group without a name should return a validation error.</span></span>

<span data-ttu-id="59018-201">Po vytvoření seznam uživatelských scénářů, jste připraveni k zápisu svůj první test jednotky.</span><span class="sxs-lookup"><span data-stu-id="59018-201">After you create a list of user stories, you are ready to write your first unit test.</span></span> <span data-ttu-id="59018-202">Začneme vytvořením testování částí pro zobrazení seznamu kontaktů skupin.</span><span class="sxs-lookup"><span data-stu-id="59018-202">We'll start by creating a unit test for viewing the list of contact groups.</span></span>

## <a name="listing-contact-groups"></a><span data-ttu-id="59018-203">Seznam skupin kontaktů</span><span class="sxs-lookup"><span data-stu-id="59018-203">Listing Contact Groups</span></span>

<span data-ttu-id="59018-204">Naše první uživatelský scénář je, že uživatel by měl být zobrazit seznam skupin kontaktů.</span><span class="sxs-lookup"><span data-stu-id="59018-204">Our first user story is that a user should be able to view a list of contact groups.</span></span> <span data-ttu-id="59018-205">Musíme express tento scénář s testu.</span><span class="sxs-lookup"><span data-stu-id="59018-205">We need to express this story with a test.</span></span>

<span data-ttu-id="59018-206">Vytvořit nový test jednotky kliknutím pravým tlačítkem na složku řadiče v projektu ContactManager.Tests výběr **přidat, nové testovací**a výběr **jednotkové testování** šablony (viz obrázek 1).</span><span class="sxs-lookup"><span data-stu-id="59018-206">Create a new unit test by right-clicking the Controllers folder in the ContactManager.Tests project, selecting **Add, New Test**, and selecting the **Unit Test** template (see Figure 1).</span></span> <span data-ttu-id="59018-207">Název nové jednotky testování GroupControllerTest.vb a klikněte na **OK** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="59018-207">Name the new unit test GroupControllerTest.vb and click the **OK** button.</span></span>


<span data-ttu-id="59018-208">[![Přidání testů jednotek GroupControllerTest](iteration-6-use-test-driven-development-vb/_static/image1.jpg)](iteration-6-use-test-driven-development-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="59018-208">[![Adding the GroupControllerTest unit test](iteration-6-use-test-driven-development-vb/_static/image1.jpg)](iteration-6-use-test-driven-development-vb/_static/image1.png)</span></span>

<span data-ttu-id="59018-209">**Obrázek 01**: Přidání testů jednotek GroupControllerTest ([Kliknutím zobrazit obrázek v plné velikosti](iteration-6-use-test-driven-development-vb/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="59018-209">**Figure 01**: Adding the GroupControllerTest unit test([Click to view full-size image](iteration-6-use-test-driven-development-vb/_static/image2.png))</span></span>


<span data-ttu-id="59018-210">Naše první testování částí je obsažený v výpis 1.</span><span class="sxs-lookup"><span data-stu-id="59018-210">Our first unit test is contained in Listing 1.</span></span> <span data-ttu-id="59018-211">Tento test ověřuje, že metoda Index() řadiče skupiny vrátí sadu skupin.</span><span class="sxs-lookup"><span data-stu-id="59018-211">This test verifies that the Index() method of the Group controller returns a set of Groups.</span></span> <span data-ttu-id="59018-212">Test ověřuje, že kolekce skupin se vrátí v zobrazení data.</span><span class="sxs-lookup"><span data-stu-id="59018-212">The test verifies that a collection of Groups is returned in view data.</span></span>

<span data-ttu-id="59018-213">**Výpis 1 - Controllers\GroupControllerTest.vb**</span><span class="sxs-lookup"><span data-stu-id="59018-213">**Listing 1 - Controllers\GroupControllerTest.vb**</span></span>

[!code-vb[Main](iteration-6-use-test-driven-development-vb/samples/sample1.vb)]

<span data-ttu-id="59018-214">Když zadáte nejprve kód v výpis 1 v sadě Visual Studio, získáte spoustu červenými vlnovkami.</span><span class="sxs-lookup"><span data-stu-id="59018-214">When you first type the code in Listing 1 in Visual Studio, you'll get a lot of red squiggly lines.</span></span> <span data-ttu-id="59018-215">Nevytvořili jsme třídy GroupController nebo skupinu.</span><span class="sxs-lookup"><span data-stu-id="59018-215">We have not created the GroupController or Group classes.</span></span>

<span data-ttu-id="59018-216">V tomto okamžiku můžeme i sestavení t naše aplikace, můžeme t spouštění naše první testování částí.</span><span class="sxs-lookup"><span data-stu-id="59018-216">At this point, we can t even build our application so we can t execute our first unit test.</span></span> <span data-ttu-id="59018-217">Tento s funkčním.</span><span class="sxs-lookup"><span data-stu-id="59018-217">That s good.</span></span> <span data-ttu-id="59018-218">Který počítá jako selhání testu.</span><span class="sxs-lookup"><span data-stu-id="59018-218">That counts as a failing test.</span></span> <span data-ttu-id="59018-219">Proto máme teď oprávnění, aby vám začali psát kód aplikace.</span><span class="sxs-lookup"><span data-stu-id="59018-219">Therefore, we now have permission to start writing application code.</span></span> <span data-ttu-id="59018-220">Musíme napsat dostatek kód pro spuštění našem testu.</span><span class="sxs-lookup"><span data-stu-id="59018-220">We need to write enough code to execute our test.</span></span>

<span data-ttu-id="59018-221">Třídy kontroleru skupiny v výpis 2 obsahuje minimální požadované předat testování částí kódu.</span><span class="sxs-lookup"><span data-stu-id="59018-221">The Group controller class in Listing 2 contains the bare minimum of code required to pass the unit test.</span></span> <span data-ttu-id="59018-222">Akce Index() vrátí seznam staticky programové skupiny (třídy skupiny je definována v výpis 3).</span><span class="sxs-lookup"><span data-stu-id="59018-222">The Index() action returns a statically coded list of Groups (the Group class is defined in Listing 3).</span></span>

<span data-ttu-id="59018-223">**Výpis 2 - Controllers\GroupController.vb**</span><span class="sxs-lookup"><span data-stu-id="59018-223">**Listing 2 - Controllers\GroupController.vb**</span></span>

[!code-vb[Main](iteration-6-use-test-driven-development-vb/samples/sample2.vb)]

<span data-ttu-id="59018-224">**Výpis 3 - Models\Group.vb**</span><span class="sxs-lookup"><span data-stu-id="59018-224">**Listing 3 - Models\Group.vb**</span></span>

[!code-vb[Main](iteration-6-use-test-driven-development-vb/samples/sample3.vb)]

<span data-ttu-id="59018-225">Po přidáme třídy GroupController a skupiny do našich projektu, naše první testování částí úspěšně dokončen (viz obrázek 2).</span><span class="sxs-lookup"><span data-stu-id="59018-225">After we add the GroupController and Group classes to our project, our first unit test completes successfully (see Figure 2).</span></span> <span data-ttu-id="59018-226">Provedli jsme minimální práce potřebné k projde testem.</span><span class="sxs-lookup"><span data-stu-id="59018-226">We have done the minimum work required to pass the test.</span></span> <span data-ttu-id="59018-227">Je třeba sváteční.</span><span class="sxs-lookup"><span data-stu-id="59018-227">It is time to celebrate.</span></span>


<span data-ttu-id="59018-228">[![Úspěšné!](iteration-6-use-test-driven-development-vb/_static/image2.jpg)](iteration-6-use-test-driven-development-vb/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="59018-228">[![Success!](iteration-6-use-test-driven-development-vb/_static/image2.jpg)](iteration-6-use-test-driven-development-vb/_static/image3.png)</span></span>

<span data-ttu-id="59018-229">**Obrázek 02**: úspěšné! () [Kliknutím zobrazit obrázek v plné velikosti](iteration-6-use-test-driven-development-vb/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="59018-229">**Figure 02**: Success!([Click to view full-size image](iteration-6-use-test-driven-development-vb/_static/image4.png))</span></span>


## <a name="creating-contact-groups"></a><span data-ttu-id="59018-230">Vytváření skupin kontaktů</span><span class="sxs-lookup"><span data-stu-id="59018-230">Creating Contact Groups</span></span>

<span data-ttu-id="59018-231">Nyní se můžeme přesunout k druhý uživatelský scénář.</span><span class="sxs-lookup"><span data-stu-id="59018-231">Now we can move on to the second user story.</span></span> <span data-ttu-id="59018-232">Je potřeba k vytvoření nové skupiny kontaktů.</span><span class="sxs-lookup"><span data-stu-id="59018-232">We need to be able to create new contact groups.</span></span> <span data-ttu-id="59018-233">Musíme express svůj záměr s testu.</span><span class="sxs-lookup"><span data-stu-id="59018-233">We need to express this intention with a test.</span></span>

<span data-ttu-id="59018-234">Test v výpis 4 ověřuje, že volání Create() metoda s novou skupinu přidá do seznamu skupin vráceném metodou Index() skupině.</span><span class="sxs-lookup"><span data-stu-id="59018-234">The test in Listing 4 verifies that calling the Create() method with a new Group adds the Group to the list of Groups returned by the Index() method.</span></span> <span data-ttu-id="59018-235">Jinými slovy je-li vytvořit novou skupinu pak bych moct vrátit do nové skupiny ze seznamu skupin vráceném metodou Index().</span><span class="sxs-lookup"><span data-stu-id="59018-235">In other words, if I create a new group then I should be able to get the new Group back from the list of Groups returned by the Index() method.</span></span>

<span data-ttu-id="59018-236">**Listing 4 - Controllers\GroupControllerTest.vb**</span><span class="sxs-lookup"><span data-stu-id="59018-236">**Listing 4 - Controllers\GroupControllerTest.vb**</span></span>

[!code-vb[Main](iteration-6-use-test-driven-development-vb/samples/sample4.vb)]

<span data-ttu-id="59018-237">Test v výpis 4 volá řadičem skupiny Create() metoda s nový kontakt skupiny.</span><span class="sxs-lookup"><span data-stu-id="59018-237">The test in Listing 4 calls the Group controller Create() method with a new contact Group.</span></span> <span data-ttu-id="59018-238">V dalším kroku test ověřuje, volání řadičem skupiny Index() metoda vrátí do nové skupiny v dat zobrazení.</span><span class="sxs-lookup"><span data-stu-id="59018-238">Next, the test verifies that calling the Group controller Index() method returns the new Group in view data.</span></span>

<span data-ttu-id="59018-239">Změny skupiny řadiče v výpis 5 obsahuje minimální změn, které vyžadují předat nový test.</span><span class="sxs-lookup"><span data-stu-id="59018-239">The modified Group controller in Listing 5 contains the bare minimum of changes required to pass the new test.</span></span>

<span data-ttu-id="59018-240">**Listing 5 - Controllers\GroupController.vb**</span><span class="sxs-lookup"><span data-stu-id="59018-240">**Listing 5 - Controllers\GroupController.vb**</span></span>

[!code-vb[Main](iteration-6-use-test-driven-development-vb/samples/sample5.vb)]

## <a name="the-group-controller-in-listing-5-has-a-new-create-action-this-action-adds-a-group-to-a-collection-of-groups-notice-that-the-index-action-has-been-modified-to-return-the-contents-of-the-collection-of-groups"></a><span data-ttu-id="59018-241">Skupiny řadiče v výpis 5 má novou akci Create().</span><span class="sxs-lookup"><span data-stu-id="59018-241">The Group controller in Listing 5 has a new Create() action.</span></span> <span data-ttu-id="59018-242">Tato akce přidá skupinu na kolekci skupin.</span><span class="sxs-lookup"><span data-stu-id="59018-242">This action adds a Group to a collection of Groups.</span></span> <span data-ttu-id="59018-243">Všimněte si, že byl upraven Index() akce vrátí obsah kolekce skupin.</span><span class="sxs-lookup"><span data-stu-id="59018-243">Notice that the Index() action has been modified to return the contents of the collection of Groups.</span></span>

<span data-ttu-id="59018-244">Ještě jednou jsme provedli minimální množství práce potřebné k předání testování částí.</span><span class="sxs-lookup"><span data-stu-id="59018-244">Once again, we have performed the bare minimum amount of work required to pass the unit test.</span></span> <span data-ttu-id="59018-245">Po jsme tyto změny provést řadičem skupiny, všechny naše jednotky testy průchodu.</span><span class="sxs-lookup"><span data-stu-id="59018-245">After we make these changes to the Group controller, all of our unit tests pass.</span></span>

## <a name="adding-validation"></a><span data-ttu-id="59018-246">Přidání ověřování</span><span class="sxs-lookup"><span data-stu-id="59018-246">Adding Validation</span></span>

<span data-ttu-id="59018-247">Tento požadavek nebyl explicitně uvádí uživatelský scénář.</span><span class="sxs-lookup"><span data-stu-id="59018-247">This requirement was not stated explicitly in the user story.</span></span> <span data-ttu-id="59018-248">Nicméně je možné logicky nutné, aby skupina název.</span><span class="sxs-lookup"><span data-stu-id="59018-248">However, it is reasonable to require that a Group have a name.</span></span> <span data-ttu-id="59018-249">Uspořádání kontakty do skupiny, jinak by být velmi užitečné.</span><span class="sxs-lookup"><span data-stu-id="59018-249">Otherwise, organizing contacts into Groups would not be very useful.</span></span>

<span data-ttu-id="59018-250">Výpis 6 obsahuje nový test, který vyjadřuje svůj záměr.</span><span class="sxs-lookup"><span data-stu-id="59018-250">Listing 6 contains a new test that expresses this intention.</span></span> <span data-ttu-id="59018-251">Tento test ověřuje, že při pokusu o vytvoření skupiny bez nutnosti zadávat název výsledky v chybovou zprávu ověření ve stavu modelu.</span><span class="sxs-lookup"><span data-stu-id="59018-251">This test verifies that attempting to create a Group without supplying a name results in a validation error message in model state.</span></span>

<span data-ttu-id="59018-252">**Výpis 6 - Controllers\GroupControllerTest.vb**</span><span class="sxs-lookup"><span data-stu-id="59018-252">**Listing 6 - Controllers\GroupControllerTest.vb**</span></span>

[!code-vb[Main](iteration-6-use-test-driven-development-vb/samples/sample6.vb)]

<span data-ttu-id="59018-253">Účelem uspokojení tento test, je potřeba přidat název vlastnosti do třídy Naše skupiny (viz seznam 7).</span><span class="sxs-lookup"><span data-stu-id="59018-253">In order to satisfy this test, we need to add a Name property to our Group class (see Listing 7).</span></span> <span data-ttu-id="59018-254">Kromě toho je potřeba přidat jen nepatrnou kousek logiku ověření do kontroleru skupiny s Create() akce (viz seznam 8).</span><span class="sxs-lookup"><span data-stu-id="59018-254">Furthermore, we need to add a tiny bit of validation logic to our Group controller s Create() action (see Listing 8).</span></span>

<span data-ttu-id="59018-255">**Výpis 7 – Models\Group.vb**</span><span class="sxs-lookup"><span data-stu-id="59018-255">**Listing 7 - Models\Group.vb**</span></span>

[!code-vb[Main](iteration-6-use-test-driven-development-vb/samples/sample7.vb)]

<span data-ttu-id="59018-256">**Výpis 8 - Controllers\GroupController.vb**</span><span class="sxs-lookup"><span data-stu-id="59018-256">**Listing 8 - Controllers\GroupController.vb**</span></span>

[!code-vb[Main](iteration-6-use-test-driven-development-vb/samples/sample8.vb)]

<span data-ttu-id="59018-257">Všimněte si, že řadičem skupiny Create() akci nyní obsahuje logiku ověřování i databáze.</span><span class="sxs-lookup"><span data-stu-id="59018-257">Notice that the Group controller Create() action now contains both validation and database logic.</span></span> <span data-ttu-id="59018-258">V současné době databázi použitou adaptérem skupiny se skládá z nic jiného než kolekci v paměti.</span><span class="sxs-lookup"><span data-stu-id="59018-258">Currently, the database used by the Group controller consists of nothing more than an in-memory collection.</span></span>

## <a name="time-to-refactor"></a><span data-ttu-id="59018-259">Čas Refaktorovat</span><span class="sxs-lookup"><span data-stu-id="59018-259">Time to Refactor</span></span>

<span data-ttu-id="59018-260">Třetí krok v červená, zelená/Refaktorovat je součástí Refaktorovat.</span><span class="sxs-lookup"><span data-stu-id="59018-260">The third step in Red/Green/Refactor is the Refactor part.</span></span> <span data-ttu-id="59018-261">V tomto okamžiku musíme krok zpět z našich kódu a zvážit, jak jsme Refaktorovat naše aplikace ke zlepšení návrh.</span><span class="sxs-lookup"><span data-stu-id="59018-261">At this point, we need to step back from our code and consider how we can refactor our application to improve its design.</span></span> <span data-ttu-id="59018-262">Fáze Refaktorovat je fázi, kdy myslíme pevný o nejlepší způsob implementace Principy návrhu softwaru a vzory.</span><span class="sxs-lookup"><span data-stu-id="59018-262">The Refactor stage is the stage at which we think hard about the best way of implementing software design principles and patterns.</span></span>

<span data-ttu-id="59018-263">Snažíme se volné změnit naše kód žádným způsobem, který jsme vybrat pro zlepšení návrh kódu.</span><span class="sxs-lookup"><span data-stu-id="59018-263">We are free to modify our code in any way that we choose to improve the design of the code.</span></span> <span data-ttu-id="59018-264">Máme bezpečnostní opatření testů jednotek, které nám zabránit v zastavení stávající funkce.</span><span class="sxs-lookup"><span data-stu-id="59018-264">We have a safety net of unit tests that prevent us from breaking existing functionality.</span></span>

<span data-ttu-id="59018-265">Teď, skupiny kontroleru je nepořádek z hlediska návrhu dobrý softwaru.</span><span class="sxs-lookup"><span data-stu-id="59018-265">Right now, our Group controller is a mess from the perspective of good software design.</span></span> <span data-ttu-id="59018-266">Řadičem skupiny obsahuje zamotaných nepořádek ověření a data přístupový kód.</span><span class="sxs-lookup"><span data-stu-id="59018-266">The Group controller contains a tangled mess of validation and data access code.</span></span> <span data-ttu-id="59018-267">Aby se zabránilo narušení jeden zásady odpovědnosti, je potřeba oddělit tyto problémy do různých tříd.</span><span class="sxs-lookup"><span data-stu-id="59018-267">To avoid violating the Single Responsibility Principle, we need to separate these concerns into different classes.</span></span>

<span data-ttu-id="59018-268">Naše refactored třídy kontroleru skupina je obsažena v výpis 9.</span><span class="sxs-lookup"><span data-stu-id="59018-268">Our refactored Group controller class is contained in Listing 9.</span></span> <span data-ttu-id="59018-269">K použití vrstvy služby ContactManager se změnilo kontroleru.</span><span class="sxs-lookup"><span data-stu-id="59018-269">The controller has been modified to use the ContactManager service layer.</span></span> <span data-ttu-id="59018-270">Toto je stejné vrstvě služby využívající obraťte se na řadiči.</span><span class="sxs-lookup"><span data-stu-id="59018-270">This is the same service layer that we use with the Contact controller.</span></span>

<span data-ttu-id="59018-271">Výpis 10 obsahuje nové metody přidat do vrstvy služby ContactManager pro podporu ověřování, výpis a vytvoření skupin.</span><span class="sxs-lookup"><span data-stu-id="59018-271">Listing 10 contains the new methods added to the ContactManager service layer to support validating, listing, and creating groups.</span></span> <span data-ttu-id="59018-272">Rozhraní IContactManagerService se aktualizovalo se o nové metody.</span><span class="sxs-lookup"><span data-stu-id="59018-272">The IContactManagerService interface was updated to include the new methods.</span></span>

<span data-ttu-id="59018-273">Výpis 11 obsahuje novou třídu FakeContactManagerRepository, která implementuje rozhraní IContactManagerRepository.</span><span class="sxs-lookup"><span data-stu-id="59018-273">Listing 11 contains a new FakeContactManagerRepository class that implements the IContactManagerRepository interface.</span></span> <span data-ttu-id="59018-274">Na rozdíl od EntityContactManagerRepository třídu, která také implementuje rozhraní IContactManagerRepository naše nová třída FakeContactManagerRepository nekomunikuje s databází.</span><span class="sxs-lookup"><span data-stu-id="59018-274">Unlike the EntityContactManagerRepository class that also implements the IContactManagerRepository interface, our new FakeContactManagerRepository class does not communicate with the database.</span></span> <span data-ttu-id="59018-275">Třída FakeContactManagerRepository používá kolekci v paměti jako proxy server pro databázi.</span><span class="sxs-lookup"><span data-stu-id="59018-275">The FakeContactManagerRepository class uses an in-memory collection as a proxy for the database.</span></span> <span data-ttu-id="59018-276">Tato třída použijeme v testech jednotek jako vrstva falešných úložiště.</span><span class="sxs-lookup"><span data-stu-id="59018-276">We'll use this class in our unit tests as a fake repository layer.</span></span>

<span data-ttu-id="59018-277">**Výpis 9 – Controllers\GroupController.vb**</span><span class="sxs-lookup"><span data-stu-id="59018-277">**Listing 9 - Controllers\GroupController.vb**</span></span>

[!code-vb[Main](iteration-6-use-test-driven-development-vb/samples/sample9.vb)]

<span data-ttu-id="59018-278">**Výpis 10 - Controllers\ContactManagerService.vb**</span><span class="sxs-lookup"><span data-stu-id="59018-278">**Listing 10 - Controllers\ContactManagerService.vb**</span></span>

[!code-vb[Main](iteration-6-use-test-driven-development-vb/samples/sample10.vb)]

<span data-ttu-id="59018-279">**Listing 11 - Controllers\FakeContactManagerRepository.vb**</span><span class="sxs-lookup"><span data-stu-id="59018-279">**Listing 11 - Controllers\FakeContactManagerRepository.vb**</span></span>

[!code-vb[Main](iteration-6-use-test-driven-development-vb/samples/sample11.vb)]


<span data-ttu-id="59018-280">Úprava IContactManagerRepository vyžaduje rozhraní použít k implementaci CreateGroup() a ListGroups() metody ve třídě EntityContactManagerRepository.</span><span class="sxs-lookup"><span data-stu-id="59018-280">Modifying the IContactManagerRepository interface requires use to implement the CreateGroup() and ListGroups() methods in the EntityContactManagerRepository class.</span></span> <span data-ttu-id="59018-281">Laziest a nejrychlejší způsob, jak to udělat, je přidání se zakázaným inzerováním metody, které vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="59018-281">The laziest and fastest way to do this is to add stub methods that look like this:</span></span>

[!code-vb[Main](iteration-6-use-test-driven-development-vb/samples/sample12.vb)]


<span data-ttu-id="59018-282">Nakonec tyto změny v návrhu aplikace vyžadovat, aby určité změny pro naše testy jednotek.</span><span class="sxs-lookup"><span data-stu-id="59018-282">Finally, these changes to the design of our application require us to make some modifications to our unit tests.</span></span> <span data-ttu-id="59018-283">Nyní potřebujeme používat FakeContactManagerRepository při provádění testování částí.</span><span class="sxs-lookup"><span data-stu-id="59018-283">We now need to use the FakeContactManagerRepository when performing the unit tests.</span></span> <span data-ttu-id="59018-284">Aktualizované třídy GroupControllerTest je součástí výpis 12.</span><span class="sxs-lookup"><span data-stu-id="59018-284">The updated GroupControllerTest class is contained in Listing 12.</span></span>

<span data-ttu-id="59018-285">**Výpis 12 – Controllers\GroupControllerTest.vb**</span><span class="sxs-lookup"><span data-stu-id="59018-285">**Listing 12 - Controllers\GroupControllerTest.vb**</span></span>

[!code-vb[Main](iteration-6-use-test-driven-development-vb/samples/sample13.vb)]

<span data-ttu-id="59018-286">Po zajišťujeme, že všechny tyto změny, znovu všechny naše testy průchodu jednotky.</span><span class="sxs-lookup"><span data-stu-id="59018-286">After we make all of these changes, once again, all of our unit tests pass.</span></span> <span data-ttu-id="59018-287">Celý cyklus systému Red, zelená/Refaktorovat jsme byly dokončeny.</span><span class="sxs-lookup"><span data-stu-id="59018-287">We have completed the entire cycle of Red/Green/Refactor.</span></span> <span data-ttu-id="59018-288">Implementovali jsme první dva uživatelských scénářů.</span><span class="sxs-lookup"><span data-stu-id="59018-288">We have implemented the first two user stories.</span></span> <span data-ttu-id="59018-289">Teď máte podpoře testování částí pro požadavky vyjádřené v uživatelských scénářů.</span><span class="sxs-lookup"><span data-stu-id="59018-289">We now have supporting unit tests for the requirements expressed in the user stories.</span></span> <span data-ttu-id="59018-290">Implementace zbytek uživatelských scénářů zahrnuje opakují na stejné cyklus červená, zelená/Refaktorovat.</span><span class="sxs-lookup"><span data-stu-id="59018-290">Implementing the remainder of the user stories involves repeating the same cycle of Red/Green/Refactor.</span></span>

## <a name="modifying-our-database"></a><span data-ttu-id="59018-291">Úprava databáze</span><span class="sxs-lookup"><span data-stu-id="59018-291">Modifying our Database</span></span>

<span data-ttu-id="59018-292">Bohužel to i v případě, že jsme splnili všechny požadavky vyjádřená naše testy jednotek, není potřeba našich pracovních.</span><span class="sxs-lookup"><span data-stu-id="59018-292">Unfortunately, even though we have satisfied all of the requirements expressed by our unit tests, our work is not done.</span></span> <span data-ttu-id="59018-293">Stále potřebujeme upravit naše databáze.</span><span class="sxs-lookup"><span data-stu-id="59018-293">We still need to modify our database.</span></span>

<span data-ttu-id="59018-294">Je potřeba vytvořit novou tabulku databáze skupiny.</span><span class="sxs-lookup"><span data-stu-id="59018-294">We need to create a new Group database table.</span></span> <span data-ttu-id="59018-295">Postupujte podle těchto kroků:</span><span class="sxs-lookup"><span data-stu-id="59018-295">Follow these steps:</span></span>

1. <span data-ttu-id="59018-296">V okně Průzkumníka serveru klikněte pravým tlačítkem na složku tabulky a vyberte možnost nabídky **přidat novou tabulku**.</span><span class="sxs-lookup"><span data-stu-id="59018-296">In the Server Explorer window, right-click the Tables folder and select the menu option **Add New Table**.</span></span>
2. <span data-ttu-id="59018-297">Zadejte dva sloupce, které jsou popsané dál v Návrháři tabulky.</span><span class="sxs-lookup"><span data-stu-id="59018-297">Enter the two columns described below in the Table Designer.</span></span>
3. <span data-ttu-id="59018-298">Označte sloupec Id jako primární klíč a sloupec Identity.</span><span class="sxs-lookup"><span data-stu-id="59018-298">Mark the Id column as a primary key and Identity column.</span></span>
4. <span data-ttu-id="59018-299">Uložte novou tabulku s názvem skupiny kliknutím na ikonu disketová.</span><span class="sxs-lookup"><span data-stu-id="59018-299">Save the new table with the name Groups by clicking the icon of the floppy.</span></span>

<a id="0.12_table01"></a>


| <span data-ttu-id="59018-300">**Název sloupce**</span><span class="sxs-lookup"><span data-stu-id="59018-300">**Column Name**</span></span> | <span data-ttu-id="59018-301">**Datový typ**</span><span class="sxs-lookup"><span data-stu-id="59018-301">**Data Type**</span></span> | <span data-ttu-id="59018-302">**Povolit hodnoty Null**</span><span class="sxs-lookup"><span data-stu-id="59018-302">**Allow Nulls**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="59018-303">ID</span><span class="sxs-lookup"><span data-stu-id="59018-303">Id</span></span> | <span data-ttu-id="59018-304">int</span><span class="sxs-lookup"><span data-stu-id="59018-304">int</span></span> | <span data-ttu-id="59018-305">False</span><span class="sxs-lookup"><span data-stu-id="59018-305">False</span></span> |
| <span data-ttu-id="59018-306">Název</span><span class="sxs-lookup"><span data-stu-id="59018-306">Name</span></span> | <span data-ttu-id="59018-307">nvarchar(50)</span><span class="sxs-lookup"><span data-stu-id="59018-307">nvarchar(50)</span></span> | <span data-ttu-id="59018-308">False</span><span class="sxs-lookup"><span data-stu-id="59018-308">False</span></span> |


<span data-ttu-id="59018-309">Dále je potřeba odstranit všechna data z tabulky kontaktů (jinak, jsme won t možné vytvořit relaci mezi tabulkami kontakty a skupiny).</span><span class="sxs-lookup"><span data-stu-id="59018-309">Next, we need to delete all of the data from the Contacts table (otherwise, we won t be able to create a relationship between the Contacts and Groups tables).</span></span> <span data-ttu-id="59018-310">Postupujte podle těchto kroků:</span><span class="sxs-lookup"><span data-stu-id="59018-310">Follow these steps:</span></span>

1. <span data-ttu-id="59018-311">Klikněte pravým tlačítkem na tabulku kontaktů a vyberte možnost nabídky **zobrazit Data tabulky**.</span><span class="sxs-lookup"><span data-stu-id="59018-311">Right-click the Contacts table and select the menu option **Show Table Data**.</span></span>
2. <span data-ttu-id="59018-312">Odstraňte všechny řádky.</span><span class="sxs-lookup"><span data-stu-id="59018-312">Delete all of the rows.</span></span>

<span data-ttu-id="59018-313">Dále je potřeba definovat relaci mezi tabulkou databáze skupiny a stávající databázové tabulky kontaktů.</span><span class="sxs-lookup"><span data-stu-id="59018-313">Next, we need to define a relationship between the Groups database table and the existing Contacts database table.</span></span> <span data-ttu-id="59018-314">Postupujte podle těchto kroků:</span><span class="sxs-lookup"><span data-stu-id="59018-314">Follow these steps:</span></span>

1. <span data-ttu-id="59018-315">Klikněte dvakrát na tabulku kontaktů v okně Průzkumníka serveru otevřete návrháře tabulky.</span><span class="sxs-lookup"><span data-stu-id="59018-315">Double-click the Contacts table in the Server Explorer window to open the Table Designer.</span></span>
2. <span data-ttu-id="59018-316">Do tabulky kontaktů s názvem GroupId umožňuje přidáte nový sloupec celé číslo.</span><span class="sxs-lookup"><span data-stu-id="59018-316">Add a new integer column to the Contacts table named GroupId.</span></span>
3. <span data-ttu-id="59018-317">Kliknutím na tlačítko vztah otevřete dialogové okno relace cizího klíče (viz obrázek 3).</span><span class="sxs-lookup"><span data-stu-id="59018-317">Click the Relationship button to open the Foreign Key Relationships dialog (see Figure 3).</span></span>
4. <span data-ttu-id="59018-318">Kliknutím na tlačítko Přidat.</span><span class="sxs-lookup"><span data-stu-id="59018-318">Click the Add button.</span></span>
5. <span data-ttu-id="59018-319">Klikněte na tlačítko se třemi tečkami, který se zobrazí vedle tlačítko tabulky a sloupce specifikace.</span><span class="sxs-lookup"><span data-stu-id="59018-319">Click the ellipsis button that appears next to the Table and Columns Specification button.</span></span>
6. <span data-ttu-id="59018-320">V dialogovém okně tabulky a sloupce, vyberte skupiny jako primární klíč tabulky a Id jako sloupec primárního klíče.</span><span class="sxs-lookup"><span data-stu-id="59018-320">In the Tables and Columns dialog, select Groups as the primary key table and Id as the primary key column.</span></span> <span data-ttu-id="59018-321">Vyberte kontakty jako tabulka cizího klíče a GroupId jako sloupec cizího klíče (viz obrázek 4).</span><span class="sxs-lookup"><span data-stu-id="59018-321">Select Contacts as the foreign key table and GroupId as the foreign key column (see Figure 4).</span></span> <span data-ttu-id="59018-322">Klikněte na tlačítko OK.</span><span class="sxs-lookup"><span data-stu-id="59018-322">Click the OK button.</span></span>
7. <span data-ttu-id="59018-323">V části **INSERT a UPDATE specifikace**, vyberte hodnotu **Cascade** pro **odstranit pravidlo**.</span><span class="sxs-lookup"><span data-stu-id="59018-323">Under **INSERT and UPDATE Specification**, select the value **Cascade** for **Delete Rule**.</span></span>
8. <span data-ttu-id="59018-324">Klikněte na tlačítko Zavřít zavřete dialogové okno relace cizího klíče.</span><span class="sxs-lookup"><span data-stu-id="59018-324">Click the Close button to close the Foreign Key Relationships dialog.</span></span>
9. <span data-ttu-id="59018-325">Klikněte na tlačítko Uložit a uložte změny do tabulky kontaktů.</span><span class="sxs-lookup"><span data-stu-id="59018-325">Click the Save button to save the changes to the Contacts table.</span></span>


<span data-ttu-id="59018-326">[![Vytvoření relace tabulky databáze](iteration-6-use-test-driven-development-vb/_static/image3.jpg)](iteration-6-use-test-driven-development-vb/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="59018-326">[![Creating a database table relationship](iteration-6-use-test-driven-development-vb/_static/image3.jpg)](iteration-6-use-test-driven-development-vb/_static/image5.png)</span></span>

<span data-ttu-id="59018-327">**Obrázek 03**: vytvoření databázové tabulky relace ([Kliknutím zobrazit obrázek v plné velikosti](iteration-6-use-test-driven-development-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="59018-327">**Figure 03**: Creating a database table relationship ([Click to view full-size image](iteration-6-use-test-driven-development-vb/_static/image6.png))</span></span>


<span data-ttu-id="59018-328">[![Určení relace mezi tabulkami](iteration-6-use-test-driven-development-vb/_static/image4.jpg)](iteration-6-use-test-driven-development-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="59018-328">[![Specifying table relationships](iteration-6-use-test-driven-development-vb/_static/image4.jpg)](iteration-6-use-test-driven-development-vb/_static/image7.png)</span></span>

<span data-ttu-id="59018-329">**Obrázek 04**: určení relace mezi tabulkami ([Kliknutím zobrazit obrázek v plné velikosti](iteration-6-use-test-driven-development-vb/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="59018-329">**Figure 04**: Specifying table relationships([Click to view full-size image](iteration-6-use-test-driven-development-vb/_static/image8.png))</span></span>


### <a name="updating-our-data-model"></a><span data-ttu-id="59018-330">Aktualizace našeho datového modelu</span><span class="sxs-lookup"><span data-stu-id="59018-330">Updating our Data Model</span></span>

<span data-ttu-id="59018-331">Dále je potřeba aktualizovat našeho datového modelu představují nové databázové tabulky.</span><span class="sxs-lookup"><span data-stu-id="59018-331">Next, we need to update our data model to represent the new database table.</span></span> <span data-ttu-id="59018-332">Postupujte podle těchto kroků:</span><span class="sxs-lookup"><span data-stu-id="59018-332">Follow these steps:</span></span>

1. <span data-ttu-id="59018-333">Poklikejte na soubor ContactManagerModel.edmx ve složce modely otevřete Entity Designer.</span><span class="sxs-lookup"><span data-stu-id="59018-333">Double-click the ContactManagerModel.edmx file in the Models folder to open the Entity Designer.</span></span>
2. <span data-ttu-id="59018-334">Klikněte pravým tlačítkem na plochu návrháře a vyberte možnost nabídky **aktualizovat Model z databáze**.</span><span class="sxs-lookup"><span data-stu-id="59018-334">Right-click the Designer surface and select the menu option **Update Model from Database**.</span></span>
3. <span data-ttu-id="59018-335">V Průvodci aktualizací vyberte skupiny, tabulky a klikněte dokončit tlačítko (viz obrázek 5).</span><span class="sxs-lookup"><span data-stu-id="59018-335">In the Update Wizard, select the Groups table and click the Finish button (see Figure 5).</span></span>
4. <span data-ttu-id="59018-336">Klikněte pravým tlačítkem na entity skupiny a vyberte možnost nabídky **přejmenovat**.</span><span class="sxs-lookup"><span data-stu-id="59018-336">Right-click the Groups entity and select the menu option **Rename**.</span></span> <span data-ttu-id="59018-337">Změňte název *skupiny* entity, která má *skupiny* (singulární).</span><span class="sxs-lookup"><span data-stu-id="59018-337">Change the name of the *Groups* entity to *Group* (singular).</span></span>
5. <span data-ttu-id="59018-338">Klikněte pravým tlačítkem na navigační vlastnost skupin, které se zobrazuje v dolní části entity Kontakt.</span><span class="sxs-lookup"><span data-stu-id="59018-338">Right-click the Groups navigation property that appears at the bottom of the Contact entity.</span></span> <span data-ttu-id="59018-339">Změňte název *skupiny* navigační vlastnost pro *skupiny* (singulární).</span><span class="sxs-lookup"><span data-stu-id="59018-339">Change the name of the *Groups* navigation property to *Group* (singular).</span></span>


<span data-ttu-id="59018-340">[![Aktualizace model Entity Framework z databáze](iteration-6-use-test-driven-development-vb/_static/image5.jpg)](iteration-6-use-test-driven-development-vb/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="59018-340">[![Updating an Entity Framework model from the database](iteration-6-use-test-driven-development-vb/_static/image5.jpg)](iteration-6-use-test-driven-development-vb/_static/image9.png)</span></span>

<span data-ttu-id="59018-341">**Obrázek 05**: aktualizace model Entity Framework z databáze ([Kliknutím zobrazit obrázek v plné velikosti](iteration-6-use-test-driven-development-vb/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="59018-341">**Figure 05**: Updating an Entity Framework model from the database([Click to view full-size image](iteration-6-use-test-driven-development-vb/_static/image10.png))</span></span>


<span data-ttu-id="59018-342">Po dokončení těchto kroků bude reprezentovat datový model kontakty a skupiny tabulek.</span><span class="sxs-lookup"><span data-stu-id="59018-342">After you complete these steps, your data model will represent both the Contacts and Groups tables.</span></span> <span data-ttu-id="59018-343">Entity Designer by měl zobrazit obě entity (viz obrázek 6).</span><span class="sxs-lookup"><span data-stu-id="59018-343">The Entity Designer should show both entities (see Figure 6).</span></span>


<span data-ttu-id="59018-344">[![Entity Designer zobrazení skupiny a obraťte se na](iteration-6-use-test-driven-development-vb/_static/image6.jpg)](iteration-6-use-test-driven-development-vb/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="59018-344">[![Entity Designer displaying Group and Contact](iteration-6-use-test-driven-development-vb/_static/image6.jpg)](iteration-6-use-test-driven-development-vb/_static/image11.png)</span></span>

<span data-ttu-id="59018-345">**Obrázek 06**: zobrazení skupiny a obraťte se na Entity Designer ([Kliknutím zobrazit obrázek v plné velikosti](iteration-6-use-test-driven-development-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="59018-345">**Figure 06**: Entity Designer displaying Group and Contact([Click to view full-size image](iteration-6-use-test-driven-development-vb/_static/image12.png))</span></span>


### <a name="creating-our-repository-classes"></a><span data-ttu-id="59018-346">Vytváření tříd naše úložiště</span><span class="sxs-lookup"><span data-stu-id="59018-346">Creating our Repository Classes</span></span>

<span data-ttu-id="59018-347">V dalším kroku musíme implementovat třídu naše úložiště.</span><span class="sxs-lookup"><span data-stu-id="59018-347">Next, we need to implement our repository class.</span></span> <span data-ttu-id="59018-348">V průběhu této iterace jsme přidali několik nových metod rozhraní IContactManagerRepository při psaní kódu pro uspokojení naše testy jednotek.</span><span class="sxs-lookup"><span data-stu-id="59018-348">Over the course of this iteration, we added several new methods to the IContactManagerRepository interface while writing code to satisfy our unit tests.</span></span> <span data-ttu-id="59018-349">Finální verzi rozhraní IContactManagerRepository je obsažený v výpis 14.</span><span class="sxs-lookup"><span data-stu-id="59018-349">The final version of the IContactManagerRepository interface is contained in Listing 14.</span></span>

<span data-ttu-id="59018-350">**Výpis 14 - Models\IContactManagerRepository.vb**</span><span class="sxs-lookup"><span data-stu-id="59018-350">**Listing 14 - Models\IContactManagerRepository.vb**</span></span>

[!code-vb[Main](iteration-6-use-test-driven-development-vb/samples/sample14.vb)]

<span data-ttu-id="59018-351">Jsme některou z metod týkající se práce s skupiny kontaktů v našem skutečné třídě EntityContactManagerRepository nebyla některá t ve skutečnosti implementována.</span><span class="sxs-lookup"><span data-stu-id="59018-351">We haven t actually implemented any of the methods related to working with contact groups in our real EntityContactManagerRepository class.</span></span> <span data-ttu-id="59018-352">V současné době třída EntityContactManagerRepository má se zakázaným inzerováním metody pro každou skupinu kontaktů metody uvedené v IContactManagerRepository rozhraní.</span><span class="sxs-lookup"><span data-stu-id="59018-352">Currently, the EntityContactManagerRepository class has stub methods for each of the contact group methods listed in the IContactManagerRepository interface.</span></span> <span data-ttu-id="59018-353">Například metoda ListGroups() aktuálně vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="59018-353">For example, the ListGroups() method currently looks like this:</span></span>

[!code-vb[Main](iteration-6-use-test-driven-development-vb/samples/sample15.vb)]

<span data-ttu-id="59018-354">Metody se zakázaným inzerováním povoleno nám zkompilovat naší aplikaci a předejte testování částí.</span><span class="sxs-lookup"><span data-stu-id="59018-354">The stub methods enabled us to compile our application and pass the unit tests.</span></span> <span data-ttu-id="59018-355">Ale nyní je čas ve skutečnosti implementovat tyto metody.</span><span class="sxs-lookup"><span data-stu-id="59018-355">However, now it is time to actually implement these methods.</span></span> <span data-ttu-id="59018-356">Finální verzi třída EntityContactManagerRepository je součástí výpis 13.</span><span class="sxs-lookup"><span data-stu-id="59018-356">The final version of the EntityContactManagerRepository class is contained in Listing 13.</span></span>

<span data-ttu-id="59018-357">**Výpis 13 – Models\EntityContactManagerRepository.vb**</span><span class="sxs-lookup"><span data-stu-id="59018-357">**Listing 13 - Models\EntityContactManagerRepository.vb**</span></span>

[!code-vb[Main](iteration-6-use-test-driven-development-vb/samples/sample16.vb)]

### <a name="creating-the-views"></a><span data-ttu-id="59018-358">Vytvoření zobrazení</span><span class="sxs-lookup"><span data-stu-id="59018-358">Creating the Views</span></span>

<span data-ttu-id="59018-359">Aplikace ASP.NET MVC při použití výchozí modul zobrazení ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="59018-359">ASP.NET MVC application when you use the default ASP.NET view engine.</span></span> <span data-ttu-id="59018-360">Ano tento t vytvářet zobrazení v odpovědi na test konkrétní jednotka.</span><span class="sxs-lookup"><span data-stu-id="59018-360">So, you don t create views in response to a particular unit test.</span></span> <span data-ttu-id="59018-361">Ale vzhledem k aplikaci by být nelze bez zobrazení, můžeme t dokončit tento iterace bez vytvoření a úprava zobrazení obsažené v aplikaci obraťte se na správce.</span><span class="sxs-lookup"><span data-stu-id="59018-361">However, because an application would be useless without views, we can t complete this iteration without creating and modifying the views contained in the Contact Manager application.</span></span>

<span data-ttu-id="59018-362">Je potřeba vytvořit následující nové zobrazení pro správu skupin kontaktů (viz obrázek 7):</span><span class="sxs-lookup"><span data-stu-id="59018-362">We need to create the following new views for managing contact groups (see Figure 7):</span></span>

- <span data-ttu-id="59018-363">Views\Group\Index.aspx - zobrazí seznam skupin kontaktů</span><span class="sxs-lookup"><span data-stu-id="59018-363">Views\Group\Index.aspx - Displays list of contact groups</span></span>
- <span data-ttu-id="59018-364">Views\Group\Delete.aspx - zobrazí potvrzení formuláře pro odstranění skupiny kontaktů</span><span class="sxs-lookup"><span data-stu-id="59018-364">Views\Group\Delete.aspx - Displays confirmation form for deleting a contact group</span></span>


<span data-ttu-id="59018-365">[![Zobrazení skupiny indexu](iteration-6-use-test-driven-development-vb/_static/image7.jpg)](iteration-6-use-test-driven-development-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="59018-365">[![The Group Index view](iteration-6-use-test-driven-development-vb/_static/image7.jpg)](iteration-6-use-test-driven-development-vb/_static/image13.png)</span></span>

<span data-ttu-id="59018-366">**Obrázek 07**: Zobrazení indexu skupiny ([Kliknutím zobrazit obrázek v plné velikosti](iteration-6-use-test-driven-development-vb/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="59018-366">**Figure 07**: The Group Index view([Click to view full-size image](iteration-6-use-test-driven-development-vb/_static/image14.png))</span></span>


<span data-ttu-id="59018-367">Je potřeba změnit následující stávající zobrazení, aby zahrnovaly kontaktní skupiny:</span><span class="sxs-lookup"><span data-stu-id="59018-367">We need to modify the following existing views so that they include contact groups:</span></span>

- <span data-ttu-id="59018-368">Views\Home\Create.aspx</span><span class="sxs-lookup"><span data-stu-id="59018-368">Views\Home\Create.aspx</span></span>
- <span data-ttu-id="59018-369">Views\Home\Edit.aspx</span><span class="sxs-lookup"><span data-stu-id="59018-369">Views\Home\Edit.aspx</span></span>
- <span data-ttu-id="59018-370">Views\Home\Index.aspx</span><span class="sxs-lookup"><span data-stu-id="59018-370">Views\Home\Index.aspx</span></span>

<span data-ttu-id="59018-371">Zobrazí se změny zobrazení prohlížením aplikace Visual Studio, který doprovází v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="59018-371">You can see the modified views by looking at the Visual Studio application that accompanies this tutorial.</span></span> <span data-ttu-id="59018-372">Například obrázek 8 znázorňuje zobrazení obraťte se na Index.</span><span class="sxs-lookup"><span data-stu-id="59018-372">For example, Figure 8 illustrates the Contact Index view.</span></span>


<span data-ttu-id="59018-373">[![Obraťte se na Index zobrazení](iteration-6-use-test-driven-development-vb/_static/image8.jpg)](iteration-6-use-test-driven-development-vb/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="59018-373">[![The Contact Index view](iteration-6-use-test-driven-development-vb/_static/image8.jpg)](iteration-6-use-test-driven-development-vb/_static/image15.png)</span></span>

<span data-ttu-id="59018-374">**Obrázek 08**: zobrazení v obraťte se na Index ([Kliknutím zobrazit obrázek v plné velikosti](iteration-6-use-test-driven-development-vb/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="59018-374">**Figure 08**: The Contact Index view([Click to view full-size image](iteration-6-use-test-driven-development-vb/_static/image16.png))</span></span>


## <a name="summary"></a><span data-ttu-id="59018-375">Souhrn</span><span class="sxs-lookup"><span data-stu-id="59018-375">Summary</span></span>

<span data-ttu-id="59018-376">V této iteraci jsme přidali nové funkce pro naše obraťte se na správce aplikace podle návrhu metodika vývoje řízeného testováním aplikace.</span><span class="sxs-lookup"><span data-stu-id="59018-376">In this iteration, we added new functionality to our Contact Manager application by following a test-driven development application design methodology.</span></span> <span data-ttu-id="59018-377">Spuštění tak, že vytvoříte sadu uživatelských scénářů.</span><span class="sxs-lookup"><span data-stu-id="59018-377">We started by creating a set of user stories.</span></span> <span data-ttu-id="59018-378">Jsme vytvořili sada testů jednotek, které odpovídají požadavkům vyjádřená uživatelských scénářů.</span><span class="sxs-lookup"><span data-stu-id="59018-378">We created a set of unit tests that corresponds to the requirements expressed by the user stories.</span></span> <span data-ttu-id="59018-379">Nakonec napsali jsme právě dostatek kód vyhovět jejich požadavkům vyjádřená testování částí.</span><span class="sxs-lookup"><span data-stu-id="59018-379">Finally, we wrote just enough code to satisfy the requirements expressed by the unit tests.</span></span>

<span data-ttu-id="59018-380">Po jsme dokončení zápisu dostatek kódu vyhovět jejich požadavkům vyjádřená testování částí aktualizovali jsme naši databáze a zobrazení.</span><span class="sxs-lookup"><span data-stu-id="59018-380">After we finished writing enough code to satisfy the requirements expressed by the unit tests, we updated our database and views.</span></span> <span data-ttu-id="59018-381">Jsme přidali novou tabulku skupiny do databáze hotový a aktualizovat datového modelu Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="59018-381">We added a new Groups table to our database and updated our Entity Framework Data Model.</span></span> <span data-ttu-id="59018-382">Můžeme také vytvořit a upravit sadu zobrazení.</span><span class="sxs-lookup"><span data-stu-id="59018-382">We also created and modified a set of views.</span></span>

<span data-ttu-id="59018-383">V další iterace – poslední iterace – přepisování jsme naši aplikaci chcete využít výhod Ajax.</span><span class="sxs-lookup"><span data-stu-id="59018-383">In the next iteration -- the final iteration -- we rewrite our application to take advantage of Ajax.</span></span> <span data-ttu-id="59018-384">Využitím Ajax, jsme budete zvýšit rychlost reakce a výkonu aplikace, obraťte se na správce.</span><span class="sxs-lookup"><span data-stu-id="59018-384">By taking advantage of Ajax, we'll improve the responsiveness and performance of the Contact Manager application.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="59018-385">[Předchozí](iteration-5-create-unit-tests-vb.md)
> [další](iteration-7-add-ajax-functionality-vb.md)</span><span class="sxs-lookup"><span data-stu-id="59018-385">[Previous](iteration-5-create-unit-tests-vb.md)
[Next](iteration-7-add-ajax-functionality-vb.md)</span></span>
