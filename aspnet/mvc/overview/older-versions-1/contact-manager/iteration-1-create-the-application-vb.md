---
uid: mvc/overview/older-versions-1/contact-manager/iteration-1-create-the-application-vb
title: "Iterace #1 – Vytvoření aplikace (VB) | Microsoft Docs"
author: microsoft
description: "V první iteraci vytvoříme obraťte se na správce v nejjednodušší způsob, jak to možné. Nemůžeme přidat podporu pro základní databázových operací: vytvořit, číst, aktualizovat a D...."
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/20/2009
ms.topic: article
ms.assetid: 5b033582-1646-42c2-b20d-7edc8814e970
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions-1/contact-manager/iteration-1-create-the-application-vb
msc.type: authoredcontent
ms.openlocfilehash: 11d3d4f174207f5370849fdf4517f272b4b6bc6b
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/10/2017
---
<a name="iteration-1--create-the-application-vb"></a><span data-ttu-id="2ae01-104">Iterace #1 – Vytvoření aplikace (VB)</span><span class="sxs-lookup"><span data-stu-id="2ae01-104">Iteration #1 – Create the Application (VB)</span></span>
====================
<span data-ttu-id="2ae01-105">podle [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="2ae01-105">by [Microsoft](https://github.com/microsoft)</span></span>

[<span data-ttu-id="2ae01-106">Stáhněte si kód</span><span class="sxs-lookup"><span data-stu-id="2ae01-106">Download Code</span></span>](iteration-1-create-the-application-vb/_static/contactmanager_1_vb1.zip)

> <span data-ttu-id="2ae01-107">V první iteraci vytvoříme obraťte se na správce v nejjednodušší způsob, jak to možné.</span><span class="sxs-lookup"><span data-stu-id="2ae01-107">In the first iteration, we create the Contact Manager in the simplest way possible.</span></span> <span data-ttu-id="2ae01-108">Nemůžeme přidat podporu pro základní databázových operací: vytvořit, číst, aktualizovat a odstranit (CRUD).</span><span class="sxs-lookup"><span data-stu-id="2ae01-108">We add support for basic database operations: Create, Read, Update, and Delete (CRUD).</span></span>


## <a name="building-a-contact-management-aspnet-mvc-application-vb"></a><span data-ttu-id="2ae01-109">Vytvoření aplikace ASP.NET MVC správy kontaktů (VB)</span><span class="sxs-lookup"><span data-stu-id="2ae01-109">Building a Contact Management ASP.NET MVC Application (VB)</span></span>

<span data-ttu-id="2ae01-110">Z této série kurzů využijeme celou aplikaci obraťte se na správu od začátku ukončíte.</span><span class="sxs-lookup"><span data-stu-id="2ae01-110">In this series of tutorials, we build an entire Contact Management application from start to finish.</span></span> <span data-ttu-id="2ae01-111">Obraťte se na správce aplikace umožňuje ukládat kontaktní údaje - názvy, telefonní čísla a e-mailové adresy – seznam osob.</span><span class="sxs-lookup"><span data-stu-id="2ae01-111">The Contact Manager application enables you to store contact information - names, phone numbers and email addresses - for a list of people.</span></span>

<span data-ttu-id="2ae01-112">Přes několikrát jsme sestavení aplikace.</span><span class="sxs-lookup"><span data-stu-id="2ae01-112">We build the application over multiple iterations.</span></span> <span data-ttu-id="2ae01-113">S každé iteraci jsme postupně zlepšení aplikace.</span><span class="sxs-lookup"><span data-stu-id="2ae01-113">With each iteration, we gradually improve the application.</span></span> <span data-ttu-id="2ae01-114">Cílem tohoto více iterace přístupu je vám umožní pochopit důvod pro každé změně.</span><span class="sxs-lookup"><span data-stu-id="2ae01-114">The goal of this multiple iteration approach is to enable you to understand the reason for each change.</span></span>

- <span data-ttu-id="2ae01-115">Iterace #1 – Vytvoření aplikace.</span><span class="sxs-lookup"><span data-stu-id="2ae01-115">Iteration #1 - Create the application.</span></span> <span data-ttu-id="2ae01-116">V první iteraci vytvoříme obraťte se na správce v nejjednodušší způsob, jak to možné.</span><span class="sxs-lookup"><span data-stu-id="2ae01-116">In the first iteration, we create the Contact Manager in the simplest way possible.</span></span> <span data-ttu-id="2ae01-117">Nemůžeme přidat podporu pro základní databázových operací: vytvořit, číst, aktualizovat a odstranit (CRUD).</span><span class="sxs-lookup"><span data-stu-id="2ae01-117">We add support for basic database operations: Create, Read, Update, and Delete (CRUD).</span></span>

- <span data-ttu-id="2ae01-118">Iterace #2 – zpřístupnění aplikace vypadat dobrý.</span><span class="sxs-lookup"><span data-stu-id="2ae01-118">Iteration #2 - Make the application look nice.</span></span> <span data-ttu-id="2ae01-119">V této iteraci můžeme vylepšit vzhled aplikace Úprava výchozí stránky předlohy zobrazení ASP.NET MVC a stylů CSS.</span><span class="sxs-lookup"><span data-stu-id="2ae01-119">In this iteration, we improve the appearance of the application by modifying the default ASP.NET MVC view master page and cascading style sheet.</span></span>

- <span data-ttu-id="2ae01-120">Iterace #3 – přidání ověřování formuláře.</span><span class="sxs-lookup"><span data-stu-id="2ae01-120">Iteration #3 - Add form validation.</span></span> <span data-ttu-id="2ae01-121">V třetím iteraci přidáme ověření základní formulář.</span><span class="sxs-lookup"><span data-stu-id="2ae01-121">In the third iteration, we add basic form validation.</span></span> <span data-ttu-id="2ae01-122">Jsme zabránit neoprávněným osobám v odeslání formuláře bez dokončení vyžadovaná pole formuláře.</span><span class="sxs-lookup"><span data-stu-id="2ae01-122">We prevent people from submitting a form without completing required form fields.</span></span> <span data-ttu-id="2ae01-123">Můžeme také ověřit e-mailových adres a telefonních čísel.</span><span class="sxs-lookup"><span data-stu-id="2ae01-123">We also validate email addresses and phone numbers.</span></span>

- <span data-ttu-id="2ae01-124">Iterace #4 - li aplikaci volně vázány.</span><span class="sxs-lookup"><span data-stu-id="2ae01-124">Iteration #4 - Make the application loosely coupled.</span></span> <span data-ttu-id="2ae01-125">V této třetí iteraci jsme využít výhod několik softwaru vzory návrhu na bylo snazší spravovat a upravovat aplikace obraťte se na správce.</span><span class="sxs-lookup"><span data-stu-id="2ae01-125">In this third iteration, we take advantage of several software design patterns to make it easier to maintain and modify the Contact Manager application.</span></span> <span data-ttu-id="2ae01-126">Například můžeme Refaktorovat naše aplikace pro použití vzoru úložiště a vzoru vkládání závislostí.</span><span class="sxs-lookup"><span data-stu-id="2ae01-126">For example, we refactor our application to use the Repository pattern and the Dependency Injection pattern.</span></span>

- <span data-ttu-id="2ae01-127">Iterace #5 – vytvoření testování částí.</span><span class="sxs-lookup"><span data-stu-id="2ae01-127">Iteration #5 - Create unit tests.</span></span> <span data-ttu-id="2ae01-128">V páté iteraci jsme snadněji naše aplikace spravovat a upravovat přidáním testování částí.</span><span class="sxs-lookup"><span data-stu-id="2ae01-128">In the fifth iteration, we make our application easier to maintain and modify by adding unit tests.</span></span> <span data-ttu-id="2ae01-129">Jsme model třídy modelu našich dat a vytvářet testy částí pro naše řadiče a logiku ověření.</span><span class="sxs-lookup"><span data-stu-id="2ae01-129">We mock our data model classes and build unit tests for our controllers and validation logic.</span></span>

- <span data-ttu-id="2ae01-130">Iterace #6 - použití vývoje řízeného testováním.</span><span class="sxs-lookup"><span data-stu-id="2ae01-130">Iteration #6 - Use test-driven development.</span></span> <span data-ttu-id="2ae01-131">V této šesté iteraci přidáme nové funkce pro naši aplikaci tak, že nejprve zápis testů částí a psaní kódu pro testování částí.</span><span class="sxs-lookup"><span data-stu-id="2ae01-131">In this sixth iteration, we add new functionality to our application by writing unit tests first and writing code against the unit tests.</span></span> <span data-ttu-id="2ae01-132">V této iteraci přidáme kontaktní skupiny.</span><span class="sxs-lookup"><span data-stu-id="2ae01-132">In this iteration, we add contact groups.</span></span>

- <span data-ttu-id="2ae01-133">Iterace #7 – přidání funkci Ajax.</span><span class="sxs-lookup"><span data-stu-id="2ae01-133">Iteration #7 - Add Ajax functionality.</span></span> <span data-ttu-id="2ae01-134">V sedmého iteraci jsme přidáním podpory pro Ajax zvýšit rychlost reakce a výkon aplikace.</span><span class="sxs-lookup"><span data-stu-id="2ae01-134">In the seventh iteration, we improve the responsiveness and performance of our application by adding support for Ajax.</span></span>

## <a name="this-iteration"></a><span data-ttu-id="2ae01-135">Tato iterace</span><span class="sxs-lookup"><span data-stu-id="2ae01-135">This Iteration</span></span>

<span data-ttu-id="2ae01-136">V této první iteraci jsme sestavení základní aplikace.</span><span class="sxs-lookup"><span data-stu-id="2ae01-136">In this first iteration, we build the basic application.</span></span> <span data-ttu-id="2ae01-137">Cílem je sestavení obraťte se na správce nejrychleji a nejsnáze způsobem.</span><span class="sxs-lookup"><span data-stu-id="2ae01-137">The goal is to build the Contact Manager in the fastest and simplest way possible.</span></span> <span data-ttu-id="2ae01-138">V novějších iterací jsme zvýšit návrhu aplikace.</span><span class="sxs-lookup"><span data-stu-id="2ae01-138">In later iterations, we improve the design of the application.</span></span>

<span data-ttu-id="2ae01-139">Obraťte se na správce aplikace je základní aplikace vycházející z databáze.</span><span class="sxs-lookup"><span data-stu-id="2ae01-139">The Contact Manager application is a basic database-driven application.</span></span> <span data-ttu-id="2ae01-140">Aplikace můžete použít k vytvoření nových kontaktů, upravte existující kontakty a odstraňovat kontakty.</span><span class="sxs-lookup"><span data-stu-id="2ae01-140">You can use the application to create new contacts, edit existing contacts, and delete contacts.</span></span>

<span data-ttu-id="2ae01-141">V této iteraci jsme proveďte následující kroky:</span><span class="sxs-lookup"><span data-stu-id="2ae01-141">In this iteration, we complete the following steps:</span></span>

1. <span data-ttu-id="2ae01-142">Aplikace ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="2ae01-142">ASP.NET MVC application</span></span>
2. <span data-ttu-id="2ae01-143">Vytvořit databázi k ukládání naše kontaktů</span><span class="sxs-lookup"><span data-stu-id="2ae01-143">Create a database to store our contacts</span></span>
3. <span data-ttu-id="2ae01-144">Generovat třídu modelu pro naše databáze s Microsoft Entity Framework</span><span class="sxs-lookup"><span data-stu-id="2ae01-144">Generate a model class for our database with the Microsoft Entity Framework</span></span>
4. <span data-ttu-id="2ae01-145">Vytvoření akce kontroleru a zobrazení, která umožňuje nám seznam všech kontaktů v databázi</span><span class="sxs-lookup"><span data-stu-id="2ae01-145">Create a controller action and view that enables us to list all of the contacts in the database</span></span>
5. <span data-ttu-id="2ae01-146">Vytvoření akce kontroleru a zobrazení, která umožňuje vytvořit nový kontakt v databázi</span><span class="sxs-lookup"><span data-stu-id="2ae01-146">Create controller actions and a view that enables us to create a new contact in the database</span></span>
6. <span data-ttu-id="2ae01-147">Vytvoření akce kontroleru a zobrazení, která umožňuje nám chcete upravit existující skupiny v databázi</span><span class="sxs-lookup"><span data-stu-id="2ae01-147">Create controller actions and a view that enables us to edit an existing contact in the database</span></span>
7. <span data-ttu-id="2ae01-148">Vytvoření akce kontroleru a zobrazení, která umožňuje nám odstranit existující skupiny v databázi</span><span class="sxs-lookup"><span data-stu-id="2ae01-148">Create controller actions and a view that enables us to delete an existing contact in the database</span></span>

## <a name="software-prerequisites"></a><span data-ttu-id="2ae01-149">Požadovaný software</span><span class="sxs-lookup"><span data-stu-id="2ae01-149">Software Prerequisites</span></span>

<span data-ttu-id="2ae01-150">V aplikacích ASP.NET MVC musíte mít Visual Studio 2008 nebo Visual Web Developer 2008 nainstalovaná ve vašem počítači (Visual Web Developer je bezplatnou verzi Visual Studia, která nezahrnuje všechny rozšířené funkce sady Visual Studio).</span><span class="sxs-lookup"><span data-stu-id="2ae01-150">In ASP.NET MVC applications, you must have either Visual Studio 2008 or Visual Web Developer 2008 installed on your computer (Visual Web Developer is a free version of Visual Studio that does not include all of the advanced features of Visual Studio).</span></span> <span data-ttu-id="2ae01-151">Buď zkušební verzi sady Visual Studio 2008 nebo Visual Web Developer si můžete stáhnout z následující adresy:</span><span class="sxs-lookup"><span data-stu-id="2ae01-151">You can download either the trial version of Visual Studio 2008 or Visual Web Developer from the following address:</span></span>

[<span data-ttu-id="2ae01-152">https://www.ASP.NET/downloads/Essential/</span><span class="sxs-lookup"><span data-stu-id="2ae01-152">https://www.asp.net/downloads/essential/</span></span>](https://www.asp.net/downloads/essential)

> [!NOTE] 
> 
> <span data-ttu-id="2ae01-153">Pro aplikace ASP.NET MVC s Visual Web Developer musí mít Visual Web Developer Service Pack 1 nainstalována.</span><span class="sxs-lookup"><span data-stu-id="2ae01-153">For ASP.NET MVC applications with Visual Web Developer, you must have Visual Web Developer Service Pack 1 installed.</span></span> <span data-ttu-id="2ae01-154">Bez aktualizace Service Pack 1 nelze vytvořit projekty webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="2ae01-154">Without Service Pack 1, you cannot create Web Application Projects.</span></span>


<span data-ttu-id="2ae01-155">Architektura ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="2ae01-155">ASP.NET MVC framework.</span></span> <span data-ttu-id="2ae01-156">Rozhraní ASP.NET MVC můžete stáhnout z následující adresy:</span><span class="sxs-lookup"><span data-stu-id="2ae01-156">You can download the ASP.NET MVC framework from the following address:</span></span>

[<span data-ttu-id="2ae01-157">https://www.ASP.NET/MVC</span><span class="sxs-lookup"><span data-stu-id="2ae01-157">https://www.asp.net/mvc</span></span>](../../../index.md)

<span data-ttu-id="2ae01-158">V tomto kurzu používáme Microsoft Entity Framework pro přístup k databázi.</span><span class="sxs-lookup"><span data-stu-id="2ae01-158">In this tutorial, we use the Microsoft Entity Framework to access a database.</span></span> <span data-ttu-id="2ae01-159">Rozhraní Entity Framework je součástí rozhraní .NET Framework 3.5 Service Pack 1.</span><span class="sxs-lookup"><span data-stu-id="2ae01-159">The Entity Framework is included with .NET Framework 3.5 Service Pack 1.</span></span> <span data-ttu-id="2ae01-160">Tato aktualizace service pack můžete stáhnout z následujícího umístění:</span><span class="sxs-lookup"><span data-stu-id="2ae01-160">You can download this service pack from the following location:</span></span>

[<span data-ttu-id="2ae01-161">https://www.microsoft.com/downloads/details.aspx?FamilyId=ab99342f-5d1a-413d-8319-81da479ab0d7&amp;displaylang = en</span><span class="sxs-lookup"><span data-stu-id="2ae01-161">https://www.microsoft.com/downloads/details.aspx?familyid=ab99342f-5d1a-413d-8319-81da479ab0d7&amp;displaylang=en</span></span>](https://www.microsoft.com/downloads/details.aspx?familyid=ab99342f-5d1a-413d-8319-81da479ab0d7&amp;displaylang=en)

<span data-ttu-id="2ae01-162">Jako alternativu k provádění každé z těchto souborů ke stažení jeden po druhém můžete využít výhod služby instalace webové platformy (instalace webové platformy).</span><span class="sxs-lookup"><span data-stu-id="2ae01-162">As an alternative to performing each of these downloads one by one, you can take advantage of the Web Platform Installer (Web PI).</span></span> <span data-ttu-id="2ae01-163">Instalace webové platformy si můžete stáhnout z následující adresy:</span><span class="sxs-lookup"><span data-stu-id="2ae01-163">You can download the Web PI from the following address:</span></span>

[<span data-ttu-id="2ae01-164">https://www.ASP.NET/downloads/Essential/</span><span class="sxs-lookup"><span data-stu-id="2ae01-164">https://www.asp.net/downloads/essential/</span></span>](https://www.asp.net/downloads/essential)

## <a name="aspnet-mvc-project"></a><span data-ttu-id="2ae01-165">Projektu ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="2ae01-165">ASP.NET MVC Project</span></span>

<span data-ttu-id="2ae01-166">Projekt webové aplikace ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="2ae01-166">ASP.NET MVC Web Application Project.</span></span> <span data-ttu-id="2ae01-167">Spusťte sadu Visual Studio a vyberte možnost nabídky **soubor, nový projekt**.</span><span class="sxs-lookup"><span data-stu-id="2ae01-167">Launch Visual Studio and select the menu option **File, New Project**.</span></span> <span data-ttu-id="2ae01-168">**Nový projekt** otevře se dialogové okno (viz obrázek 1).</span><span class="sxs-lookup"><span data-stu-id="2ae01-168">The **New Project** dialog appears (see Figure 1).</span></span> <span data-ttu-id="2ae01-169">Vyberte **webové** typ projektu a **webové aplikace ASP.NET MVC** šablony.</span><span class="sxs-lookup"><span data-stu-id="2ae01-169">Select the **Web** project type and the **ASP.NET MVC Web Application** template.</span></span> <span data-ttu-id="2ae01-170">Název nového projektu *ContactManager* a klikněte na tlačítko OK.</span><span class="sxs-lookup"><span data-stu-id="2ae01-170">Name your new project *ContactManager* and click the OK button.</span></span>


<span data-ttu-id="2ae01-171">Ujistěte se, zda máte rozhraní .NET Framework 3.5 vybraný z rozevíracího seznamu v horní části vpravo **nový projekt** dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="2ae01-171">Make sure that you have .NET Framework 3.5 selected from the dropdown list at the top right of the **New Project** dialog.</span></span> <span data-ttu-id="2ae01-172">Jinak se zobrazí šablony webové aplikace ASP.NET MVC won t.</span><span class="sxs-lookup"><span data-stu-id="2ae01-172">Otherwise, the ASP.NET MVC Web Application template won t appear.</span></span>


<span data-ttu-id="2ae01-173">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image1.jpg)](iteration-1-create-the-application-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-173">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image1.jpg)](iteration-1-create-the-application-vb/_static/image1.png)</span></span>

<span data-ttu-id="2ae01-174">**Obrázek 01**: dialogové okno Nový projekt ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-174">**Figure 01**: The New Project dialog([Click to view full-size image](iteration-1-create-the-application-vb/_static/image2.png))</span></span>


<span data-ttu-id="2ae01-175">Aplikace ASP.NET MVC **vytvoření projektu testování částí** otevře se dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="2ae01-175">ASP.NET MVC application, the **Create Unit Test Project** dialog appears.</span></span> <span data-ttu-id="2ae01-176">Tento dialog můžete použít k označení, že chcete vytvořit a přidat projektu testů jednotek pro vaše řešení, když vytvoříte aplikaci ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="2ae01-176">You can use this dialog to indicate that you want to create and add a unit test project to your solution when you create your ASP.NET MVC application.</span></span> <span data-ttu-id="2ae01-177">I když jsme won t vytváření testů jednotek v této iteraci, byste měli vybrat možnost **Ano, vytvoření projektu testování částí** protože plánujeme přidat testování částí v novější iteraci.</span><span class="sxs-lookup"><span data-stu-id="2ae01-177">Although we won t be building unit tests in this iteration, you should select the option **Yes, create a unit test project** because we plan to add unit tests in a later iteration.</span></span> <span data-ttu-id="2ae01-178">Přidání testovacího projektu při prvním vytvoření nového projektu ASP.NET MVC je mnohem jednodušší než přidání testovacího projektu po vytvoření projektu ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="2ae01-178">Adding a Test project when you first create a new ASP.NET MVC project is much easier than adding a Test project after the ASP.NET MVC project has been created.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="2ae01-179">Protože Visual Web Developer nepodporuje projektů testů, obdržíte dialogové okno Vytvoření projektu testů jednotek při použití Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="2ae01-179">Because Visual Web Developer does not support Test projects, you do not get the Create Unit Test Project dialog when using Visual Web Developer.</span></span>


<span data-ttu-id="2ae01-180">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image2.jpg)](iteration-1-create-the-application-vb/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-180">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image2.jpg)](iteration-1-create-the-application-vb/_static/image3.png)</span></span>

<span data-ttu-id="2ae01-181">**Obrázek 02**: dialogové okno Vytvoření projektu testování částí ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-181">**Figure 02**: The Create Unit Test Project dialog ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image4.png))</span></span>


<span data-ttu-id="2ae01-182">Aplikace ASP.NET MVC se zobrazí v okně Průzkumníka řešení Visual Studio (viz obrázek 3).</span><span class="sxs-lookup"><span data-stu-id="2ae01-182">ASP.NET MVC application appears in the Visual Studio Solution Explorer window (see Figure 3).</span></span> <span data-ttu-id="2ae01-183">Pokud tento t zobrazí okno Průzkumník řešení, pak toto okno můžete otevřít tak, že vyberete možnost nabídky **zobrazení, Průzkumník řešení**.</span><span class="sxs-lookup"><span data-stu-id="2ae01-183">If you don t see the Solution Explorer window then you can open this window by selecting the menu option **View, Solution Explorer**.</span></span> <span data-ttu-id="2ae01-184">Všimněte si, že řešení obsahuje dva projekty: projektu ASP.NET MVC a k testovacímu projektu.</span><span class="sxs-lookup"><span data-stu-id="2ae01-184">Notice that the solution contains two projects: the ASP.NET MVC project and the Test project.</span></span> <span data-ttu-id="2ae01-185">ContactManager názvem projektu ASP.NET MVC a k testovacímu projektu jmenuje ContactManager.Tests.</span><span class="sxs-lookup"><span data-stu-id="2ae01-185">The ASP.NET MVC project is named ContactManager and the Test project is named ContactManager.Tests.</span></span>


<span data-ttu-id="2ae01-186">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image3.jpg)](iteration-1-create-the-application-vb/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-186">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image3.jpg)](iteration-1-create-the-application-vb/_static/image5.png)</span></span>

<span data-ttu-id="2ae01-187">**Obrázek 03**: okno Průzkumníku řešení ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-187">**Figure 03**: The Solution Explorer window ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image6.png))</span></span>


## <a name="deleting-the-project-sample-files"></a><span data-ttu-id="2ae01-188">Odstraňuje se ukázkové soubory projektu</span><span class="sxs-lookup"><span data-stu-id="2ae01-188">Deleting the Project Sample Files</span></span>

<span data-ttu-id="2ae01-189">Šablona projektu ASP.NET MVC zahrnuje ukázkové soubory pro kontrolery a zobrazení.</span><span class="sxs-lookup"><span data-stu-id="2ae01-189">The ASP.NET MVC project template includes sample files for controllers and views.</span></span> <span data-ttu-id="2ae01-190">Před vytvořením nové aplikace ASP.NET MVC, odstraňte tyto soubory.</span><span class="sxs-lookup"><span data-stu-id="2ae01-190">Before creating a new ASP.NET MVC application, you should delete these files.</span></span> <span data-ttu-id="2ae01-191">Pravým tlačítkem myši na soubor nebo složku a výběrem možnosti nabídky můžete odstranit soubory a složky v Průzkumníku řešení okně **odstranit**.</span><span class="sxs-lookup"><span data-stu-id="2ae01-191">You can delete files and folders in the Solution Explorer window by right-clicking a file or folder and selecting the menu option **Delete**.</span></span>

<span data-ttu-id="2ae01-192">Je třeba odstranit následující soubory z projektu ASP.NET MVC:</span><span class="sxs-lookup"><span data-stu-id="2ae01-192">You need to delete the following files from the ASP.NET MVC project:</span></span>

- <span data-ttu-id="2ae01-193">\Controllers\HomeController.vb</span><span class="sxs-lookup"><span data-stu-id="2ae01-193">\Controllers\HomeController.vb</span></span>

- <span data-ttu-id="2ae01-194">\Views\Home\About.aspx</span><span class="sxs-lookup"><span data-stu-id="2ae01-194">\Views\Home\About.aspx</span></span>

- <span data-ttu-id="2ae01-195">\Views\Home\Index.aspx</span><span class="sxs-lookup"><span data-stu-id="2ae01-195">\Views\Home\Index.aspx</span></span>

<span data-ttu-id="2ae01-196">A je nutné odstranit následující soubory z testovacího projektu:</span><span class="sxs-lookup"><span data-stu-id="2ae01-196">And, you need to delete the following file from the Test project:</span></span>

<span data-ttu-id="2ae01-197">\Controllers\HomeControllerTest.vb</span><span class="sxs-lookup"><span data-stu-id="2ae01-197">\Controllers\HomeControllerTest.vb</span></span>

## <a name="creating-the-database"></a><span data-ttu-id="2ae01-198">Vytvoření databáze</span><span class="sxs-lookup"><span data-stu-id="2ae01-198">Creating the Database</span></span>

<span data-ttu-id="2ae01-199">Obraťte se na správce aplikace je řízené databáze webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="2ae01-199">The Contact Manager application is a database-driven web application.</span></span> <span data-ttu-id="2ae01-200">Používáme databázi k ukládání kontaktní informace.</span><span class="sxs-lookup"><span data-stu-id="2ae01-200">We use a database to store the contact information.</span></span>

<span data-ttu-id="2ae01-201">Rozhraní ASP.NET MVC framework s všechny moderní databáze, včetně databází systému Microsoft SQL Server, Oracle, MySQL a IBM DB2.</span><span class="sxs-lookup"><span data-stu-id="2ae01-201">The ASP.NET MVC framework with any modern database including Microsoft SQL Server, Oracle, MySQL, and IBM DB2 databases.</span></span> <span data-ttu-id="2ae01-202">V tomto kurzu používáme databázi systému Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2ae01-202">In this tutorial, we use a Microsoft SQL Server database.</span></span> <span data-ttu-id="2ae01-203">Při instalaci sady Visual Studio, jsou k dispozici možnost instalace Microsoft SQL Server Express, která je bezplatnou verzi databáze Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2ae01-203">When you install Visual Studio, you are provided with the option of installing Microsoft SQL Server Express which is a free version of the Microsoft SQL Server database.</span></span>

<span data-ttu-id="2ae01-204">Vytvořit novou databázi kliknutím pravým tlačítkem na aplikaci\_složky dat v okně Průzkumníka řešení a výběrem možnosti nabídky **přidat, nové položky**.</span><span class="sxs-lookup"><span data-stu-id="2ae01-204">Create a new database by right-clicking the App\_Data folder in the Solution Explorer window and selecting the menu option **Add, New Item**.</span></span> <span data-ttu-id="2ae01-205">V **přidat novou položku** dialogovém okně, vyberte **Data** kategorie a **databáze systému SQL Server** šablony (viz obrázek 4).</span><span class="sxs-lookup"><span data-stu-id="2ae01-205">In the **Add New Item** dialog, select the **Data** category and the **SQL Server Database** template (see Figure 4).</span></span> <span data-ttu-id="2ae01-206">Název nové databáze ContactManagerDB.mdf a klikněte na tlačítko OK.</span><span class="sxs-lookup"><span data-stu-id="2ae01-206">Name the new database ContactManagerDB.mdf and click the OK button.</span></span>


<span data-ttu-id="2ae01-207">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image4.jpg)](iteration-1-create-the-application-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-207">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image4.jpg)](iteration-1-create-the-application-vb/_static/image7.png)</span></span>

<span data-ttu-id="2ae01-208">**Obrázek 04**: vytvoření nové databáze Microsoft SQL Server Express ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-208">**Figure 04**: Creating a new Microsoft SQL Server Express database ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image8.png))</span></span>


<span data-ttu-id="2ae01-209">Po vytvoření nové databáze, databáze se zobrazí v aplikaci\_složky dat v okně Průzkumníka řešení.</span><span class="sxs-lookup"><span data-stu-id="2ae01-209">After you create the new database, the database appears in the App\_Data folder in the Solution Explorer window.</span></span> <span data-ttu-id="2ae01-210">Poklikejte na soubor ContactManager.mdf a otevřete okno Průzkumníka serveru a připojení k databázi.</span><span class="sxs-lookup"><span data-stu-id="2ae01-210">Double-click the ContactManager.mdf file to open the Server Explorer window and connect to the database.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="2ae01-211">Okno Průzkumníka serveru se nazývá okno Průzkumník databáze v případě Microsoft Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="2ae01-211">The Server Explorer window is called the Database Explorer window in the case of Microsoft Visual Web Developer.</span></span>


<span data-ttu-id="2ae01-212">Okno Průzkumníka serveru můžete použít k vytvoření nové databázové objekty, například databázových tabulek, zobrazení, triggery a uložené procedury.</span><span class="sxs-lookup"><span data-stu-id="2ae01-212">You can use the Server Explorer window to create new database objects such as database tables, views, triggers, and stored procedures.</span></span> <span data-ttu-id="2ae01-213">Klikněte pravým tlačítkem na složku tabulky a vyberte možnost nabídky **přidat novou tabulku**.</span><span class="sxs-lookup"><span data-stu-id="2ae01-213">Right-click the Tables folder and select the menu option **Add New Table**.</span></span> <span data-ttu-id="2ae01-214">Návrhář tabulky databáze se zobrazí, (viz obrázek 5).</span><span class="sxs-lookup"><span data-stu-id="2ae01-214">The Database Table Designer appears (see Figure 5).</span></span>


<span data-ttu-id="2ae01-215">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image5.jpg)](iteration-1-create-the-application-vb/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-215">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image5.jpg)](iteration-1-create-the-application-vb/_static/image9.png)</span></span>

<span data-ttu-id="2ae01-216">**Obrázek 05**: Návrhář tabulky databáze ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-216">**Figure 05**: The Database Table Designer ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image10.png))</span></span>


<span data-ttu-id="2ae01-217">Je potřeba vytvořit tabulku, která obsahuje následující sloupce:</span><span class="sxs-lookup"><span data-stu-id="2ae01-217">We need to create a table that contains the following columns:</span></span>

<a id="0.2_table01"></a>


| <span data-ttu-id="2ae01-218">**Název sloupce**</span><span class="sxs-lookup"><span data-stu-id="2ae01-218">**Column Name**</span></span> | <span data-ttu-id="2ae01-219">**Datový typ**</span><span class="sxs-lookup"><span data-stu-id="2ae01-219">**Data Type**</span></span> | <span data-ttu-id="2ae01-220">**Povolit hodnoty Null**</span><span class="sxs-lookup"><span data-stu-id="2ae01-220">**Allow Nulls**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="2ae01-221">ID</span><span class="sxs-lookup"><span data-stu-id="2ae01-221">Id</span></span> | <span data-ttu-id="2ae01-222">int</span><span class="sxs-lookup"><span data-stu-id="2ae01-222">int</span></span> | <span data-ttu-id="2ae01-223">false</span><span class="sxs-lookup"><span data-stu-id="2ae01-223">false</span></span> |
| <span data-ttu-id="2ae01-224">FirstName</span><span class="sxs-lookup"><span data-stu-id="2ae01-224">FirstName</span></span> | <span data-ttu-id="2ae01-225">Nvarchar(50)</span><span class="sxs-lookup"><span data-stu-id="2ae01-225">nvarchar(50)</span></span> | <span data-ttu-id="2ae01-226">false</span><span class="sxs-lookup"><span data-stu-id="2ae01-226">false</span></span> |
| <span data-ttu-id="2ae01-227">Příjmení</span><span class="sxs-lookup"><span data-stu-id="2ae01-227">LastName</span></span> | <span data-ttu-id="2ae01-228">Nvarchar(50)</span><span class="sxs-lookup"><span data-stu-id="2ae01-228">nvarchar(50)</span></span> | <span data-ttu-id="2ae01-229">false</span><span class="sxs-lookup"><span data-stu-id="2ae01-229">false</span></span> |
| <span data-ttu-id="2ae01-230">Telefon</span><span class="sxs-lookup"><span data-stu-id="2ae01-230">Phone</span></span> | <span data-ttu-id="2ae01-231">Nvarchar(50)</span><span class="sxs-lookup"><span data-stu-id="2ae01-231">nvarchar(50)</span></span> | <span data-ttu-id="2ae01-232">false</span><span class="sxs-lookup"><span data-stu-id="2ae01-232">false</span></span> |
| <span data-ttu-id="2ae01-233">E-mailu</span><span class="sxs-lookup"><span data-stu-id="2ae01-233">Email</span></span> | <span data-ttu-id="2ae01-234">nvarchar(255)</span><span class="sxs-lookup"><span data-stu-id="2ae01-234">nvarchar(255)</span></span> | <span data-ttu-id="2ae01-235">false</span><span class="sxs-lookup"><span data-stu-id="2ae01-235">false</span></span> |


<span data-ttu-id="2ae01-236">První sloupec, ve sloupci Id je speciální.</span><span class="sxs-lookup"><span data-stu-id="2ae01-236">The first column, the Id column, is special.</span></span> <span data-ttu-id="2ae01-237">Je třeba označit Id sloupec jako sloupec Identity a sloupec primárního klíče.</span><span class="sxs-lookup"><span data-stu-id="2ae01-237">You need to mark the Id column as an Identity column and a Primary Key column.</span></span> <span data-ttu-id="2ae01-238">Můžete znamenat, že sloupec sloupec Identity tak, že rozšíření sloupec Properties (podívejte se v dolní části Obrázek 6) a posunete se dolů vlastnost specifikace Identity.</span><span class="sxs-lookup"><span data-stu-id="2ae01-238">You indicate that a column is an Identity column by expanding Column Properites (look at the bottom of Figure 6) and scrolling down to the Identity Specification property.</span></span> <span data-ttu-id="2ae01-239">Nastavte **(je identita)** vlastnost na hodnotu **Ano**.</span><span class="sxs-lookup"><span data-stu-id="2ae01-239">Set the **(Is Identity)** property to the value **Yes**.</span></span>

<span data-ttu-id="2ae01-240">Označte sloupec jako sloupec primárního klíče výběrem sloupce a kliknutím na tlačítko s ikonou klíče.</span><span class="sxs-lookup"><span data-stu-id="2ae01-240">You mark a column as a Primary Key column by selecting the column and clicking the button with the icon of a key.</span></span> <span data-ttu-id="2ae01-241">Po sloupec označen jako sloupec primárního klíče, se vedle sloupec zobrazuje ikonu klíče (viz obrázek 6).</span><span class="sxs-lookup"><span data-stu-id="2ae01-241">After a column is marked as a Primary Key column, an icon of a key appears next to the column (see Figure 6).</span></span>

<span data-ttu-id="2ae01-242">Po dokončení vytváření tabulky, klikněte na tlačítko Uložit (tlačítko ikonou floppy) k uložení nové tabulky.</span><span class="sxs-lookup"><span data-stu-id="2ae01-242">After you finish creating the table, click the Save button (the button with an icon of a floppy) to save the new table.</span></span> <span data-ttu-id="2ae01-243">Zadejte název nové tabulky *kontakty*.</span><span class="sxs-lookup"><span data-stu-id="2ae01-243">Give your new table the name *Contacts*.</span></span>

<span data-ttu-id="2ae01-244">Po dokončení vytvoření databázové tabulky kontaktů měli byste přidat některé záznamy do tabulky.</span><span class="sxs-lookup"><span data-stu-id="2ae01-244">After finish creating the Contacts database table, you should add some records to the table.</span></span> <span data-ttu-id="2ae01-245">Klikněte pravým tlačítkem na tabulku kontaktů v okně Průzkumníka serveru a vyberte možnost nabídky **zobrazit Data tabulky**.</span><span class="sxs-lookup"><span data-stu-id="2ae01-245">Right-click the Contacts table in the Server Explorer window and select the menu option **Show Table Data**.</span></span> <span data-ttu-id="2ae01-246">Zadejte jeden nebo více kontaktů v mřížce, který se zobrazí.</span><span class="sxs-lookup"><span data-stu-id="2ae01-246">Enter one or more contacts in the grid that appears.</span></span>

## <a name="creating-the-data-model"></a><span data-ttu-id="2ae01-247">Vytvoření datového modelu</span><span class="sxs-lookup"><span data-stu-id="2ae01-247">Creating the Data Model</span></span>

<span data-ttu-id="2ae01-248">Aplikace ASP.NET MVC se skládá z modely, zobrazení a Kontrolery.</span><span class="sxs-lookup"><span data-stu-id="2ae01-248">The ASP.NET MVC application consists of Models, Views, and Controllers.</span></span> <span data-ttu-id="2ae01-249">Začneme vytvořením třídy modelu, která představuje tabulku kontaktů, kterou jsme vytvořili v předchozí části.</span><span class="sxs-lookup"><span data-stu-id="2ae01-249">We start by creating a Model class that represents the Contacts table that we created in the previous section.</span></span>

<span data-ttu-id="2ae01-250">V tomto kurzu používáme Microsoft Entity Framework má automaticky generovat třídu modelu z databáze.</span><span class="sxs-lookup"><span data-stu-id="2ae01-250">In this tutorial, we use the Microsoft Entity Framework to generate a model class from the database automatically.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="2ae01-251">Rozhraní ASP.NET MVC není vázaný na rozhraní Entity Framework Microsoft žádným způsobem.</span><span class="sxs-lookup"><span data-stu-id="2ae01-251">The ASP.NET MVC framework is not tied to the Microsoft Entity Framework in any way.</span></span> <span data-ttu-id="2ae01-252">ASP.NET MVC můžete použít s technologií přístupu k alternativní databáze, včetně NHibernate, technologie LINQ to SQL nebo ADO.NET.</span><span class="sxs-lookup"><span data-stu-id="2ae01-252">You can use ASP.NET MVC with alternative database access technologies including NHibernate, LINQ to SQL, or ADO.NET.</span></span>


<span data-ttu-id="2ae01-253">Postupujte podle těchto kroků můžete vytvořit datové třídy modelu:</span><span class="sxs-lookup"><span data-stu-id="2ae01-253">Follow these steps to create the data model classes:</span></span>

1. <span data-ttu-id="2ae01-254">Složku modely v okně Průzkumníku řešení klikněte pravým tlačítkem a vyberte **přidat, nové položky**.</span><span class="sxs-lookup"><span data-stu-id="2ae01-254">Right-click the Models folder in the Solution Explorer window and select **Add, New Item**.</span></span> <span data-ttu-id="2ae01-255">**Přidat novou položku** otevře se dialogové okno (viz obrázek 6).</span><span class="sxs-lookup"><span data-stu-id="2ae01-255">The **Add New Item** dialog appears (see Figure 6).</span></span>
2. <span data-ttu-id="2ae01-256">Vyberte **Data** kategorie a **ADO.NET Entity Data Model** šablony.</span><span class="sxs-lookup"><span data-stu-id="2ae01-256">Select the **Data** category and the **ADO.NET Entity Data Model** template.</span></span> <span data-ttu-id="2ae01-257">Název datového modelu *ContactManagerModel.edmx* a klikněte na **přidat** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="2ae01-257">Name your data model *ContactManagerModel.edmx* and click the **Add** button.</span></span> <span data-ttu-id="2ae01-258">Zobrazí se průvodce Entity Data Model (viz obrázek 7).</span><span class="sxs-lookup"><span data-stu-id="2ae01-258">The Entity Data Model wizard appears (see Figure 7).</span></span>
3. <span data-ttu-id="2ae01-259">V **zvolte obsah modelu** krok, vyberte **generování z databáze** (viz obrázek 7).</span><span class="sxs-lookup"><span data-stu-id="2ae01-259">In the **Choose Model Contents** step, select **Generate from database** (see Figure 7).</span></span>
4. <span data-ttu-id="2ae01-260">V **vybrat datové připojení** krok, vyberte databázi ContactManagerDB.mdf a zadejte název *ContactManagerDBEntities* pro nastavení připojení Entity (viz obrázek 8).</span><span class="sxs-lookup"><span data-stu-id="2ae01-260">In the **Choose Your Data Connection** step, select the ContactManagerDB.mdf database and enter the name *ContactManagerDBEntities* for the Entity Connection Settings (see Figure 8).</span></span>
5. <span data-ttu-id="2ae01-261">V **zvolte si databázové objekty** kroku, zaškrtněte políčko s názvem bez přípony tabulky (viz obrázek 9).</span><span class="sxs-lookup"><span data-stu-id="2ae01-261">In the **Choose Your Database Objects** step, select the checkbox labeled Tables (see Figure 9).</span></span> <span data-ttu-id="2ae01-262">Datový model bude obsahovat všechny tabulky obsažené v databázi (je právě, kontakty tabulky).</span><span class="sxs-lookup"><span data-stu-id="2ae01-262">The data model will include all tables contained in your database (there is just one, the Contacts table).</span></span> <span data-ttu-id="2ae01-263">Zadejte obor názvů *modely*.</span><span class="sxs-lookup"><span data-stu-id="2ae01-263">Enter the namespace *Models*.</span></span> <span data-ttu-id="2ae01-264">Kliknutím na tlačítko Dokončit dokončete průvodce.</span><span class="sxs-lookup"><span data-stu-id="2ae01-264">Click the Finish button to complete the wizard.</span></span>


<span data-ttu-id="2ae01-265">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image6.jpg)](iteration-1-create-the-application-vb/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-265">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image6.jpg)](iteration-1-create-the-application-vb/_static/image11.png)</span></span>

<span data-ttu-id="2ae01-266">**Obrázek 06**: dialogové okno Přidat novou položku ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-266">**Figure 06**: The Add New Item dialog ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image12.png))</span></span>


<span data-ttu-id="2ae01-267">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image7.jpg)](iteration-1-create-the-application-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-267">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image7.jpg)](iteration-1-create-the-application-vb/_static/image13.png)</span></span>

<span data-ttu-id="2ae01-268">**Obrázek 07**: Zvolte obsah modelu ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-268">**Figure 07**: Choose Model Contents ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image14.png))</span></span>


<span data-ttu-id="2ae01-269">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image8.jpg)](iteration-1-create-the-application-vb/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-269">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image8.jpg)](iteration-1-create-the-application-vb/_static/image15.png)</span></span>

<span data-ttu-id="2ae01-270">**Obrázek 08**: Vybrat datové připojení ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-270">**Figure 08**: Choose Your Data Connection ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image16.png))</span></span>


<span data-ttu-id="2ae01-271">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image9.jpg)](iteration-1-create-the-application-vb/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-271">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image9.jpg)](iteration-1-create-the-application-vb/_static/image17.png)</span></span>

<span data-ttu-id="2ae01-272">**Obrázek 09**: Zvolte si databázové objekty ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-272">**Figure 09**: Choose Your Database Objects ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image18.png))</span></span>


<span data-ttu-id="2ae01-273">Po dokončení průvodce Entity Data Model Entity Data Model Designer se zobrazí.</span><span class="sxs-lookup"><span data-stu-id="2ae01-273">After you complete the Entity Data Model Wizard, the Entity Data Model Designer appears.</span></span> <span data-ttu-id="2ae01-274">Návrhář zobrazí třídu, která odpovídá na všechny tabulky modelovaných.</span><span class="sxs-lookup"><span data-stu-id="2ae01-274">The designer displays a class that corresponds to each table being modeled.</span></span> <span data-ttu-id="2ae01-275">Měli byste vidět jednu třídu s názvem Kontakty.</span><span class="sxs-lookup"><span data-stu-id="2ae01-275">You should see one class named Contacts.</span></span>

<span data-ttu-id="2ae01-276">Průvodce Entity Data Model vygeneruje názvy tříd, které jsou založené na názvy tabulek databáze.</span><span class="sxs-lookup"><span data-stu-id="2ae01-276">The Entity Data Model wizard generates class names based on database table names.</span></span> <span data-ttu-id="2ae01-277">Téměř vždy musíte změnit název třídy je vygenerovat průvodcem.</span><span class="sxs-lookup"><span data-stu-id="2ae01-277">You almost always need to change the name of the class generated by the wizard.</span></span> <span data-ttu-id="2ae01-278">Klikněte pravým tlačítkem na třídu kontaktů v návrháři a vyberte možnost nabídky **přejmenovat**.</span><span class="sxs-lookup"><span data-stu-id="2ae01-278">Right-click the Contacts class in the designer and select the menu option **Rename**.</span></span> <span data-ttu-id="2ae01-279">Změňte název třídy z kontakty (množném čísle) kontaktovat (jednotném čísle).</span><span class="sxs-lookup"><span data-stu-id="2ae01-279">Change the name of the class from Contacts (plural) to Contact (singular).</span></span> <span data-ttu-id="2ae01-280">Po provedení změny názvu třídy, třída měla vypadat jako obrázek 10.</span><span class="sxs-lookup"><span data-stu-id="2ae01-280">After you change the class name, the class should appear like Figure 10.</span></span>


<span data-ttu-id="2ae01-281">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image10.jpg)](iteration-1-create-the-application-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-281">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image10.jpg)](iteration-1-create-the-application-vb/_static/image19.png)</span></span>

<span data-ttu-id="2ae01-282">**Obrázek 10**: vyhodnocení kontaktu ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-282">**Figure 10**: The Contact class ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image20.png))</span></span>


<span data-ttu-id="2ae01-283">V tuto chvíli jsme vytvořili naše model databáze.</span><span class="sxs-lookup"><span data-stu-id="2ae01-283">At this point, we have created our database model.</span></span> <span data-ttu-id="2ae01-284">Obraťte se na třídu jsme můžete použít k reprezentaci konkrétní kontaktní záznam v naší databázi.</span><span class="sxs-lookup"><span data-stu-id="2ae01-284">We can use the Contact class to represent a particular contact record in our database.</span></span>

## <a name="creating-the-home-controller"></a><span data-ttu-id="2ae01-285">Vytvoření domácí řadiče</span><span class="sxs-lookup"><span data-stu-id="2ae01-285">Creating the Home Controller</span></span>

<span data-ttu-id="2ae01-286">Dalším krokem je vytvoření domovské kontroleru.</span><span class="sxs-lookup"><span data-stu-id="2ae01-286">The next step is to create our Home controller.</span></span> <span data-ttu-id="2ae01-287">Řadič domovské je výchozí volána v aplikaci ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="2ae01-287">The Home controller is the default controller invoked in an ASP.NET MVC application.</span></span>

<span data-ttu-id="2ae01-288">Vytvoříte třídu kontroleru domovské kliknutím pravým tlačítkem na složku řadiče v okně Průzkumníka řešení a výběrem možnosti nabídky **přidat, řadiče** (viz obrázek 11).</span><span class="sxs-lookup"><span data-stu-id="2ae01-288">Create the Home controller class by right-clicking the Controllers folder in the Solution Explorer window and selecting the menu option **Add, Controller** (see Figure 11).</span></span> <span data-ttu-id="2ae01-289">Všimněte si, zaškrtávací políčko s názvem bez přípony **přidejte metody akce pro vytvoření, aktualizace a podrobnosti o scénářích**.</span><span class="sxs-lookup"><span data-stu-id="2ae01-289">Notice the checkbox labeled **Add action methods for Create, Update, and Details scenarios**.</span></span> <span data-ttu-id="2ae01-290">Ujistěte se, že je toto políčko zaškrtnuté před kliknutím na tlačítko **přidat** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="2ae01-290">Make sure that this checkbox is checked before clicking the **Add** button.</span></span>


<span data-ttu-id="2ae01-291">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image11.jpg)](iteration-1-create-the-application-vb/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-291">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image11.jpg)](iteration-1-create-the-application-vb/_static/image21.png)</span></span>

<span data-ttu-id="2ae01-292">**Obrázek 11**: přidání řadiče Home ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-292">**Figure 11**: Adding the Home controller ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image22.png))</span></span>


<span data-ttu-id="2ae01-293">Při vytváření řadičem domovské získání třídy v výpis 1.</span><span class="sxs-lookup"><span data-stu-id="2ae01-293">When you create the Home controller, you get the class in Listing 1.</span></span>

<span data-ttu-id="2ae01-294">**Výpis 1 - Controllers\HomeController.vb**</span><span class="sxs-lookup"><span data-stu-id="2ae01-294">**Listing 1 - Controllers\HomeController.vb**</span></span>

[!code-vb[Main](iteration-1-create-the-application-vb/samples/sample1.vb)]

## <a name="listing-the-contacts"></a><span data-ttu-id="2ae01-295">Výpis kontaktů</span><span class="sxs-lookup"><span data-stu-id="2ae01-295">Listing the Contacts</span></span>

<span data-ttu-id="2ae01-296">Aby bylo možné zobrazit záznamy v tabulce databáze kontakty, je potřeba vytvořit Index() akce a zobrazení indexu.</span><span class="sxs-lookup"><span data-stu-id="2ae01-296">In order to display the records in the Contacts database table, we need to create an Index() action and an Index view.</span></span>

<span data-ttu-id="2ae01-297">Řadičem domovské již obsahuje Index() akce.</span><span class="sxs-lookup"><span data-stu-id="2ae01-297">The Home controller already contains an Index() action.</span></span> <span data-ttu-id="2ae01-298">Potřebujeme upravit tuto metodu tak, aby vypadal jako výpis 2.</span><span class="sxs-lookup"><span data-stu-id="2ae01-298">We need to modify this method so that it looks like Listing 2.</span></span>

<span data-ttu-id="2ae01-299">**Výpis 2 - Controllers\HomeController.vb**</span><span class="sxs-lookup"><span data-stu-id="2ae01-299">**Listing 2 - Controllers\HomeController.vb**</span></span>

[!code-vb[Main](iteration-1-create-the-application-vb/samples/sample2.vb)]

<span data-ttu-id="2ae01-300">Všimněte si, že třídy kontroleru domovské v výpis 2 obsahuje soukromé pole s názvem \_entity.</span><span class="sxs-lookup"><span data-stu-id="2ae01-300">Notice that the Home controller class in Listing 2 contains a private field named \_entities.</span></span> <span data-ttu-id="2ae01-301">\_Entity pole představuje z datového modelu entity.</span><span class="sxs-lookup"><span data-stu-id="2ae01-301">The \_entities field represents the entities from the data model.</span></span> <span data-ttu-id="2ae01-302">Používáme \_entity pole ke komunikaci s databází.</span><span class="sxs-lookup"><span data-stu-id="2ae01-302">We use the \_entities field to communicate with the database.</span></span>

<span data-ttu-id="2ae01-303">Index() metoda vrací zobrazení, který reprezentuje všechny kontakty z tabulky databáze Kontakty.</span><span class="sxs-lookup"><span data-stu-id="2ae01-303">The Index() method returns a view that represents all of the contacts from the Contacts database table.</span></span> <span data-ttu-id="2ae01-304">Výraz \_entity. ContactSet.ToList() vrátí seznam kontaktů jako obecný seznam.</span><span class="sxs-lookup"><span data-stu-id="2ae01-304">The expression \_entities.ContactSet.ToList() returns the list of contacts as a generic list.</span></span>

<span data-ttu-id="2ae01-305">Nyní který jsme jste vytvořili Index řadič, musíme vedle vytvořit Index zobrazení.</span><span class="sxs-lookup"><span data-stu-id="2ae01-305">Now that we ve created the Index controller, we next need to create the Index view.</span></span> <span data-ttu-id="2ae01-306">Před vytvořením indexu zobrazení, kompilace aplikace tak, že vyberete možnost nabídky **sestavení, sestavit řešení**.</span><span class="sxs-lookup"><span data-stu-id="2ae01-306">Before creating the Index view, compile your application by selecting the menu option **Build, Build Solution**.</span></span> <span data-ttu-id="2ae01-307">Projekt by měl vždycky kompilovat před přidáním v pořadí seznam tříd modelu, který se má zobrazit v zobrazení **přidat zobrazení** dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="2ae01-307">You should always compile your project before adding a view in order for the list of model classes to be displayed in the **Add View** dialog.</span></span>

<span data-ttu-id="2ae01-308">Vytvoření zobrazení pro Index kliknutím pravým tlačítkem myši na metodu Index() a výběrem možnosti nabídky **přidat zobrazení** (viz obrázek 12).</span><span class="sxs-lookup"><span data-stu-id="2ae01-308">You create the Index view by right-clicking the Index() method and selecting the menu option **Add View** (see Figure 12).</span></span> <span data-ttu-id="2ae01-309">Výběrem této možnosti nabídky otevře **přidat zobrazení** dialogové okno (viz obrázek 13).</span><span class="sxs-lookup"><span data-stu-id="2ae01-309">Selecting this menu option opens the **Add View** dialog (see Figure 13).</span></span>


<span data-ttu-id="2ae01-310">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image12.jpg)](iteration-1-create-the-application-vb/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-310">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image12.jpg)](iteration-1-create-the-application-vb/_static/image23.png)</span></span>

<span data-ttu-id="2ae01-311">**Obrázek 12**: Přidání zobrazení indexu ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-311">**Figure 12**: Adding the Index view ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image24.png))</span></span>


<span data-ttu-id="2ae01-312">V **přidat zobrazení** dialogové okno, zaškrtněte políčko s názvem bez přípony **vytvořit zobrazení silného typu**.</span><span class="sxs-lookup"><span data-stu-id="2ae01-312">In the **Add View** dialog, check the checkbox labeled **Create a strongly-typed view**.</span></span> <span data-ttu-id="2ae01-313">Vyberte třídu data zobrazení ContactManager.Contact a zobrazení seznamu obsahu.</span><span class="sxs-lookup"><span data-stu-id="2ae01-313">Select the View data class ContactManager.Contact and the View content List.</span></span> <span data-ttu-id="2ae01-314">Zobrazení, který zobrazí seznam záznamů, obraťte se na těchto možností generuje.</span><span class="sxs-lookup"><span data-stu-id="2ae01-314">Selecting these options generates a view that displays a list of Contact records.</span></span>


<span data-ttu-id="2ae01-315">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image13.jpg)](iteration-1-create-the-application-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-315">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image13.jpg)](iteration-1-create-the-application-vb/_static/image25.png)</span></span>

<span data-ttu-id="2ae01-316">**Obrázek 13**: Přidat zobrazení dialogu ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-316">**Figure 13**: The Add View dialog ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image26.png))</span></span>


<span data-ttu-id="2ae01-317">Když kliknete **přidat** generováno tlačítko zobrazení indexu v výpis 3.</span><span class="sxs-lookup"><span data-stu-id="2ae01-317">When you click the **Add** button, the Index view in Listing 3 is generated.</span></span> <span data-ttu-id="2ae01-318">Upozornění &lt;% @ % stránky&gt; direktiva, která se zobrazí v horní části souboru.</span><span class="sxs-lookup"><span data-stu-id="2ae01-318">Notice the &lt;%@ Page %&gt; directive that appears at the top of the file.</span></span> <span data-ttu-id="2ae01-319">Zobrazení indexu dědí z ViewPage&lt;rozhraní IEnumerable&lt;ContactManager.Models.Contact&gt; &gt; třídy.</span><span class="sxs-lookup"><span data-stu-id="2ae01-319">The Index view inherits from the ViewPage&lt;IEnumerable&lt;ContactManager.Models.Contact&gt;&gt; class.</span></span> <span data-ttu-id="2ae01-320">Jinými slovy třídu modelu v zobrazení představuje seznam entity kontaktů.</span><span class="sxs-lookup"><span data-stu-id="2ae01-320">In other words, the Model class in the view represents a list of Contact entities.</span></span>

<span data-ttu-id="2ae01-321">Text Index zobrazení obsahuje smyčka typu foreach, který iteruje v rámci každé kontaktů reprezentována třídu modelu.</span><span class="sxs-lookup"><span data-stu-id="2ae01-321">The body of the Index view contains a foreach loop that iterates through each of the contacts represented by the Model class.</span></span> <span data-ttu-id="2ae01-322">Hodnoty vlastností třídy, obraťte se zobrazí v rámci tabulky HTML.</span><span class="sxs-lookup"><span data-stu-id="2ae01-322">The value of each property of the Contact class is displayed within an HTML table.</span></span>

<span data-ttu-id="2ae01-323">**Výpis 3 - Views\Home\Index.aspx (ponechat beze změny)**</span><span class="sxs-lookup"><span data-stu-id="2ae01-323">**Listing 3 - Views\Home\Index.aspx (unmodified)**</span></span>

[!code-aspx[Main](iteration-1-create-the-application-vb/samples/sample3.aspx)]

<span data-ttu-id="2ae01-324">Musíme mít jeden změnu zobrazení indexu.</span><span class="sxs-lookup"><span data-stu-id="2ae01-324">We need to make one modification to the Index view.</span></span> <span data-ttu-id="2ae01-325">Vzhledem k tomu, že jsme nejsou vytváření zobrazení podrobností, jsme odebrat odkaz podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="2ae01-325">Because we are not creating a Details view, we can remove the Details link.</span></span> <span data-ttu-id="2ae01-326">Vyhledat a odstranit ze zobrazení indexu následující kód:</span><span class="sxs-lookup"><span data-stu-id="2ae01-326">Find and remove the following code from the Index view:</span></span>

<span data-ttu-id="2ae01-327">{.id = položky. ID}) %&gt;</span><span class="sxs-lookup"><span data-stu-id="2ae01-327">{.id = item.Id})%&gt;</span></span>

<span data-ttu-id="2ae01-328">Po úpravě zobrazení indexu můžete spustit aplikace obraťte se na správce.</span><span class="sxs-lookup"><span data-stu-id="2ae01-328">After you modify the Index view, you can run the Contact Manager application.</span></span> <span data-ttu-id="2ae01-329">Vyberte možnost nabídky ladění, spustit ladění nebo jednoduše stisknutím klávesy F5.</span><span class="sxs-lookup"><span data-stu-id="2ae01-329">Select the menu option Debug, Start Debugging or simply press F5.</span></span> <span data-ttu-id="2ae01-330">Při prvním spuštění aplikace, zobrazí se dialogové okno obrázek 14.</span><span class="sxs-lookup"><span data-stu-id="2ae01-330">The first time you run the application, you get the dialog in Figure 14.</span></span> <span data-ttu-id="2ae01-331">Vyberte možnost **upravit soubor Web.config, který chcete povolit ladění** a klikněte na tlačítko OK.</span><span class="sxs-lookup"><span data-stu-id="2ae01-331">Select the option **Modify the Web.config file to enable debugging** and click the OK button.</span></span>


<span data-ttu-id="2ae01-332">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image14.jpg)](iteration-1-create-the-application-vb/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-332">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image14.jpg)](iteration-1-create-the-application-vb/_static/image27.png)</span></span>

<span data-ttu-id="2ae01-333">**Obrázek 14**: povolení ladění ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-333">**Figure 14**: Enabling debugging ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image28.png))</span></span>


<span data-ttu-id="2ae01-334">Ve výchozím nastavení se vrátí zobrazení indexu.</span><span class="sxs-lookup"><span data-stu-id="2ae01-334">The Index view is returned by default.</span></span> <span data-ttu-id="2ae01-335">Toto zobrazení uvádí všechna data v tabulce databáze Kontakty (viz obrázek 15).</span><span class="sxs-lookup"><span data-stu-id="2ae01-335">This view lists all of the data from the Contacts database table (see Figure 15).</span></span>


<span data-ttu-id="2ae01-336">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image15.jpg)](iteration-1-create-the-application-vb/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-336">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image15.jpg)](iteration-1-create-the-application-vb/_static/image29.png)</span></span>

<span data-ttu-id="2ae01-337">**Obrázek 15**: Zobrazení indexu ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-337">**Figure 15**: The Index view ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image30.png))</span></span>


<span data-ttu-id="2ae01-338">Všimněte si, že Index zobrazení obsahuje odkaz s názvem bez přípony vytvořit nový, v dolní části zobrazení.</span><span class="sxs-lookup"><span data-stu-id="2ae01-338">Notice that the Index view includes a link labeled Create New at the bottom of the view.</span></span> <span data-ttu-id="2ae01-339">V další části zjistěte, jak vytvořit nové kontakty.</span><span class="sxs-lookup"><span data-stu-id="2ae01-339">In the next section, you learn how to create new contacts.</span></span>

## <a name="creating-new-contacts"></a><span data-ttu-id="2ae01-340">Vytvoření nových kontaktů</span><span class="sxs-lookup"><span data-stu-id="2ae01-340">Creating New Contacts</span></span>

<span data-ttu-id="2ae01-341">Povolit uživatelům vytvářet nové kontakty, je potřeba přidat dvě akce Create() domovské řadiče.</span><span class="sxs-lookup"><span data-stu-id="2ae01-341">To enable users to create new contacts, we need to add two Create() actions to the Home controller.</span></span> <span data-ttu-id="2ae01-342">Je potřeba vytvořit jednu akci Create(), který vrací formuláře HTML pro vytvoření nového kontaktu.</span><span class="sxs-lookup"><span data-stu-id="2ae01-342">We need to create one Create() action that returns an HTML form for creating a new contact.</span></span> <span data-ttu-id="2ae01-343">Je potřeba vytvořit druhou akci Create(), který provádí vložení skutečné databáze nového kontaktu.</span><span class="sxs-lookup"><span data-stu-id="2ae01-343">We need to create a second Create() action that performs the actual database insert of the new contact.</span></span>

<span data-ttu-id="2ae01-344">Nové Create() metody, které je potřeba přidat na domovskou řadič jsou obsažené v výpis 4.</span><span class="sxs-lookup"><span data-stu-id="2ae01-344">The new Create() methods that we need to add to the Home controller are contained in Listing 4.</span></span>

<span data-ttu-id="2ae01-345">**Výpis 4 - Controllers\HomeController.vb (s vytvořit metody)**</span><span class="sxs-lookup"><span data-stu-id="2ae01-345">**Listing 4 - Controllers\HomeController.vb (with Create methods)**</span></span>

[!code-vb[Main](iteration-1-create-the-application-vb/samples/sample4.vb)]

<span data-ttu-id="2ae01-346">První metoda Create() mohou být vyvolány s HTTP GET, zatímco druhý Metoda Create() můžete být volána pouze pomocí HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="2ae01-346">The first Create() method can be invoked with an HTTP GET while the second Create() method can be invoked only by an HTTP POST.</span></span> <span data-ttu-id="2ae01-347">Jinými slovy druhé metody Create() nelze vyvolat jenom v případě, že publikování formuláře HTML.</span><span class="sxs-lookup"><span data-stu-id="2ae01-347">In other words, the second Create() method can be invoked only when posting an HTML form.</span></span> <span data-ttu-id="2ae01-348">První metoda Create() jednoduše vrátí zobrazení obsahující formulář HTML pro vytvoření nového kontaktu.</span><span class="sxs-lookup"><span data-stu-id="2ae01-348">The first Create() method simply returns a view that contains the HTML form for creating a new contact.</span></span> <span data-ttu-id="2ae01-349">Druhá metoda Create() je mnohem zajímavějšího: Přidá nový kontakt do databáze.</span><span class="sxs-lookup"><span data-stu-id="2ae01-349">The second Create() method is much more interesting: it adds the new contact to the database.</span></span>

<span data-ttu-id="2ae01-350">Všimněte si, že druhé metody Create() se změnilo tak, aby přijímal instance třídy, obraťte se na.</span><span class="sxs-lookup"><span data-stu-id="2ae01-350">Notice that the second Create() method has been modified to accept an instance of the Contact class.</span></span> <span data-ttu-id="2ae01-351">Hodnot formuláře odeslat z formuláře HTML je vázána na této třídě kontaktujte rozhraním ASP.NET MVC automaticky.</span><span class="sxs-lookup"><span data-stu-id="2ae01-351">The form values posted from the HTML form are bound to this Contact class by the ASP.NET MVC framework automatically.</span></span> <span data-ttu-id="2ae01-352">Každé pole formuláře z formuláře HTML vytvořit je přiřadit k vlastnosti parametru kontaktu.</span><span class="sxs-lookup"><span data-stu-id="2ae01-352">Each form field from the HTML Create form is assigned to a property of the Contact parameter.</span></span>

<span data-ttu-id="2ae01-353">Všimněte si, že parametr kontaktujte opatřen atributem [vazby].</span><span class="sxs-lookup"><span data-stu-id="2ae01-353">Notice that the Contact parameter is decorated with a [Bind] attribute.</span></span> <span data-ttu-id="2ae01-354">Atribut [vazby] slouží k vyloučení Vlastnost Id kontaktní z vazby.</span><span class="sxs-lookup"><span data-stu-id="2ae01-354">The [Bind] attribute is used to exclude the Contact Id property from binding.</span></span> <span data-ttu-id="2ae01-355">Vzhledem k tomu, že vlastnost Id představuje vlastnost Identity, jsme nejsou zobrazeny t chcete nastavit vlastnost Id.</span><span class="sxs-lookup"><span data-stu-id="2ae01-355">Because the Id property represents an Identity property, we don t want to set the Id property.</span></span>

<span data-ttu-id="2ae01-356">V těle Create() metody rozhraní Entity Framework slouží k vložení nového kontaktu do databáze.</span><span class="sxs-lookup"><span data-stu-id="2ae01-356">In the body of the Create() method, the Entity Framework is used to insert the new Contact into the database.</span></span> <span data-ttu-id="2ae01-357">Nový kontakt je přidán do stávající sady kontakty a SaveChanges() metoda je volána k replikaci těchto změn zpět na základní databázi.</span><span class="sxs-lookup"><span data-stu-id="2ae01-357">The new Contact is added to the existing set of Contacts and the SaveChanges() method is called to push these changes back to the underlying database.</span></span>

<span data-ttu-id="2ae01-358">Můžete vygenerovat formuláře HTML pro vytvoření nových kontaktů buď tyto dvě metody Create() kliknete pravým tlačítkem a výběrem možnosti nabídky **přidat zobrazení** (viz obrázek 16).</span><span class="sxs-lookup"><span data-stu-id="2ae01-358">You can generate an HTML form for creating new Contacts by right-clicking either of the two Create() methods and selecting the menu option **Add View** (see Figure 16).</span></span>


<span data-ttu-id="2ae01-359">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image16.jpg)](iteration-1-create-the-application-vb/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-359">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image16.jpg)](iteration-1-create-the-application-vb/_static/image31.png)</span></span>

<span data-ttu-id="2ae01-360">**Obrázek 16**: Přidání zobrazení pro vytváření ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image32.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-360">**Figure 16**: Adding the Create view ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image32.png))</span></span>


<span data-ttu-id="2ae01-361">V **přidat zobrazení** dialogovém okně, vyberte **ContactManager.Contact** třídy a **vytvořit** možnost pro zobrazení obsahu (viz obrázek 17).</span><span class="sxs-lookup"><span data-stu-id="2ae01-361">In the **Add View** dialog, select the **ContactManager.Contact** class and the **Create** option for view content (see Figure 17).</span></span> <span data-ttu-id="2ae01-362">Když kliknete **přidat** tlačítko, vytvořit zobrazení je generován automaticky.</span><span class="sxs-lookup"><span data-stu-id="2ae01-362">When you click the **Add** button, a Create view is generated automatically.</span></span>


<span data-ttu-id="2ae01-363">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image17.jpg)](iteration-1-create-the-application-vb/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-363">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image17.jpg)](iteration-1-create-the-application-vb/_static/image33.png)</span></span>

<span data-ttu-id="2ae01-364">**Obrázek 17**: zobrazuje stránku Rozbalit ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image34.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-364">**Figure 17**: Seeing a page explode ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image34.png))</span></span>


<span data-ttu-id="2ae01-365">Vytvořit zobrazení obsahuje pro každé z vlastností třídy, obraťte se na pole formuláře.</span><span class="sxs-lookup"><span data-stu-id="2ae01-365">The Create view contains form fields for each of the properties of the Contact class.</span></span> <span data-ttu-id="2ae01-366">Kód pro vytvoření zobrazení je součástí výpis 5.</span><span class="sxs-lookup"><span data-stu-id="2ae01-366">The code for the Create view is included in Listing 5.</span></span>

<span data-ttu-id="2ae01-367">**Výpis 5 - Views\Home\Create.aspx**</span><span class="sxs-lookup"><span data-stu-id="2ae01-367">**Listing 5 - Views\Home\Create.aspx**</span></span>

[!code-aspx[Main](iteration-1-create-the-application-vb/samples/sample5.aspx)]

<span data-ttu-id="2ae01-368">Po metody Create() upravit a přidat zobrazení pro vytváření, můžete spustit aplikace obraťte se na správce a vytvořit nové kontakty.</span><span class="sxs-lookup"><span data-stu-id="2ae01-368">After you modify the Create() methods and add the Create view, you can run the Contact Manger application and create new contacts.</span></span> <span data-ttu-id="2ae01-369">Klikněte **vytvořit nový** odkaz, který se zobrazí v zobrazení indexu navigaci na zobrazení pro vytváření.</span><span class="sxs-lookup"><span data-stu-id="2ae01-369">Click the **Create New** link that appears in the Index view to navigate to the Create view.</span></span> <span data-ttu-id="2ae01-370">Měli byste vidět zobrazení v 18 obrázek.</span><span class="sxs-lookup"><span data-stu-id="2ae01-370">You should see the view in Figure 18.</span></span>


<span data-ttu-id="2ae01-371">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image18.jpg)](iteration-1-create-the-application-vb/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-371">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image18.jpg)](iteration-1-create-the-application-vb/_static/image35.png)</span></span>

<span data-ttu-id="2ae01-372">**Obrázek 18**: vytvořit zobrazení ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-372">**Figure 18**: The Create View ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image36.png))</span></span>


## <a name="editing-contacts"></a><span data-ttu-id="2ae01-373">Úpravy kontaktů</span><span class="sxs-lookup"><span data-stu-id="2ae01-373">Editing Contacts</span></span>

<span data-ttu-id="2ae01-374">Přidání funkce pro úpravu záznamu kontaktu je velmi podobný jako při přidávání funkce pro vytváření nových kontaktní záznamů.</span><span class="sxs-lookup"><span data-stu-id="2ae01-374">Adding the functionality for editing a contact record is very similar to adding the functionality for creating new contact records.</span></span> <span data-ttu-id="2ae01-375">Nejprve musíme přidejte dva nové upravit metody do třídy kontroleru domovské.</span><span class="sxs-lookup"><span data-stu-id="2ae01-375">First, we need to add two new Edit methods to the Home controller class.</span></span> <span data-ttu-id="2ae01-376">Tyto nové metody Edit() jsou obsažené v výpis 6.</span><span class="sxs-lookup"><span data-stu-id="2ae01-376">These new Edit() methods are contained in Listing 6.</span></span>

<span data-ttu-id="2ae01-377">**Výpis 6 - Controllers\HomeController.vb (pomocí metod úpravy)**</span><span class="sxs-lookup"><span data-stu-id="2ae01-377">**Listing 6 - Controllers\HomeController.vb (with Edit methods)**</span></span>

[!code-vb[Main](iteration-1-create-the-application-vb/samples/sample6.vb)]

<span data-ttu-id="2ae01-378">První Edit() metoda je volána operací GET protokolu HTTP.</span><span class="sxs-lookup"><span data-stu-id="2ae01-378">The first Edit() method is invoked by an HTTP GET operation.</span></span> <span data-ttu-id="2ae01-379">Tato metoda, která reprezentuje Id záznamu kontaktu upravovaný je předán parametr s Id.</span><span class="sxs-lookup"><span data-stu-id="2ae01-379">An Id parameter is passed to this method which represents the Id of the contact record being edited.</span></span> <span data-ttu-id="2ae01-380">Rozhraní Entity Framework se používá k načtení kontaktu, který odpovídá Id. Vrátí se zobrazení obsahující formulář HTML pro úpravu záznamu.</span><span class="sxs-lookup"><span data-stu-id="2ae01-380">The Entity Framework is used to retrieve a contact that matches the Id. A view that contains an HTML form for editing a record is returned.</span></span>

<span data-ttu-id="2ae01-381">Druhá metoda Edit() provede skutečné aktualizace do databáze.</span><span class="sxs-lookup"><span data-stu-id="2ae01-381">The second Edit() method performs the actual update to the database.</span></span> <span data-ttu-id="2ae01-382">Tato metoda přijímá instanci třídy kontakt jako parametr.</span><span class="sxs-lookup"><span data-stu-id="2ae01-382">This method accepts an instance of the Contact class as a parameter.</span></span> <span data-ttu-id="2ae01-383">Rozhraní ASP.NET MVC váže pole formuláře z formuláře upravit pro tuto třídu automaticky.</span><span class="sxs-lookup"><span data-stu-id="2ae01-383">The ASP.NET MVC framework binds the form fields from the Edit form to this class automatically.</span></span> <span data-ttu-id="2ae01-384">Všimněte si, že neuděláte t include – atribut [vazby] při úpravě kontakt (potřebujeme hodnotu vlastnosti Id).</span><span class="sxs-lookup"><span data-stu-id="2ae01-384">Notice that you don t include the[Bind] attribute when editing a Contact (we need the value of the Id property).</span></span>

<span data-ttu-id="2ae01-385">Rozhraní Entity Framework se používá pro uložení upravených kontakt do databáze.</span><span class="sxs-lookup"><span data-stu-id="2ae01-385">The Entity Framework is used to save the modified Contact to the database.</span></span> <span data-ttu-id="2ae01-386">Původní kontakt musí nejdřív načíst z databáze.</span><span class="sxs-lookup"><span data-stu-id="2ae01-386">The original Contact must be retrieved from the database first.</span></span> <span data-ttu-id="2ae01-387">Dále je k zaznamenání změny kontakt volání metody Entity Framework ApplyPropertyChanges().</span><span class="sxs-lookup"><span data-stu-id="2ae01-387">Next, the Entity Framework ApplyPropertyChanges() method is called to record the changes to the Contact.</span></span> <span data-ttu-id="2ae01-388">Nakonec je volání metody Entity Framework SaveChanges() a zachová tak změny do základní databáze.</span><span class="sxs-lookup"><span data-stu-id="2ae01-388">Finally, the Entity Framework SaveChanges() method is called to persist the changes to the underlying database.</span></span>

<span data-ttu-id="2ae01-389">Můžete vygenerovat zobrazení, které obsahuje formulář upravit tak, že kliknete pravým tlačítkem na metodu Edit() a výběrem možnosti nabídky přidat zobrazení.</span><span class="sxs-lookup"><span data-stu-id="2ae01-389">You can generate the view that contains the Edit form by right-clicking the Edit() method and selecting the menu option Add View.</span></span> <span data-ttu-id="2ae01-390">V dialogovém okně Přidat zobrazení, vyberte **ContactManager.Models.Contact** třídy a **upravit** zobrazit obsah (viz obrázek 19).</span><span class="sxs-lookup"><span data-stu-id="2ae01-390">In the Add View dialog, select the **ContactManager.Models.Contact** class and the **Edit** view content (see Figure 19).</span></span>


<span data-ttu-id="2ae01-391">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image19.jpg)](iteration-1-create-the-application-vb/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-391">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image19.jpg)](iteration-1-create-the-application-vb/_static/image37.png)</span></span>

<span data-ttu-id="2ae01-392">**Obrázek 19**: Přidání zobrazení upravit o ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image38.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-392">**Figure 19**: Adding an Edit View ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image38.png))</span></span>


<span data-ttu-id="2ae01-393">Když kliknete na tlačítko Přidat, se automaticky vytvoří nové zobrazení upravit.</span><span class="sxs-lookup"><span data-stu-id="2ae01-393">When you click the Add button, a new Edit view is generated automatically.</span></span> <span data-ttu-id="2ae01-394">Formuláře HTML, který je generován obsahuje pole, které odpovídají každé vlastnosti třídy, obraťte se na (viz seznam 7).</span><span class="sxs-lookup"><span data-stu-id="2ae01-394">The HTML form that is generated contains fields that correspond to each of the properties of the Contact class (see Listing 7).</span></span>

<span data-ttu-id="2ae01-395">**Výpis 7 – Views\Home\Edit.aspx**</span><span class="sxs-lookup"><span data-stu-id="2ae01-395">**Listing 7 - Views\Home\Edit.aspx**</span></span>

[!code-aspx[Main](iteration-1-create-the-application-vb/samples/sample7.aspx)]

## <a name="deleting-contacts"></a><span data-ttu-id="2ae01-396">Odstraňování kontaktů</span><span class="sxs-lookup"><span data-stu-id="2ae01-396">Deleting Contacts</span></span>

<span data-ttu-id="2ae01-397">Pokud chcete odstranit kontakty budete muset přidat do třídy kontroleru domovské dvě Delete() akce.</span><span class="sxs-lookup"><span data-stu-id="2ae01-397">If you want to delete contacts then you need to add two Delete() actions to the Home controller class.</span></span> <span data-ttu-id="2ae01-398">Je první akcí Delete() zobrazí formulář potvrzení odstranění.</span><span class="sxs-lookup"><span data-stu-id="2ae01-398">The first Delete() action displays a delete confirmation form.</span></span> <span data-ttu-id="2ae01-399">Druhou akci Delete() provede skutečného odstranění.</span><span class="sxs-lookup"><span data-stu-id="2ae01-399">The second Delete() action performs the actual delete.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="2ae01-400">Později v iterace #7, jsme upravte obraťte se na správce tak, aby podporoval jednom kroku odstranit Ajax.</span><span class="sxs-lookup"><span data-stu-id="2ae01-400">Later, in Iteration #7, we modify the Contact Manager so that it supports a one step Ajax delete.</span></span>


<span data-ttu-id="2ae01-401">Tyto dvě nové metody Delete() jsou obsažené v výpis 8.</span><span class="sxs-lookup"><span data-stu-id="2ae01-401">The two new Delete() methods are contained in Listing 8.</span></span>

<span data-ttu-id="2ae01-402">**Výpis 8 - Controllers\HomeController.vb (metody odstranění)**</span><span class="sxs-lookup"><span data-stu-id="2ae01-402">**Listing 8 - Controllers\HomeController.vb (Delete methods)**</span></span>

[!code-vb[Main](iteration-1-create-the-application-vb/samples/sample8.vb)]

<span data-ttu-id="2ae01-403">Vrátí první metoda Delete() formuláři potvrzení odstranění kontaktní záznam z databáze (viz Figure20).</span><span class="sxs-lookup"><span data-stu-id="2ae01-403">The first Delete() method returns a confirmation form for deleting a contact record from the database (see Figure20).</span></span> <span data-ttu-id="2ae01-404">Druhý Metoda Delete() provádí operace skutečného odstranění v databázi.</span><span class="sxs-lookup"><span data-stu-id="2ae01-404">The second Delete() method performs the actual delete operation against the database.</span></span> <span data-ttu-id="2ae01-405">Po původní kontakt byla načtena z databáze, se nazývají metody Entity Framework DeleteObject() a SaveChanges() provést odstranění databáze.</span><span class="sxs-lookup"><span data-stu-id="2ae01-405">After the original contact has been retrieved from the database, the Entity Framework DeleteObject() and SaveChanges() methods are called to perform the database delete.</span></span>


<span data-ttu-id="2ae01-406">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image20.jpg)](iteration-1-create-the-application-vb/_static/image39.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-406">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image20.jpg)](iteration-1-create-the-application-vb/_static/image39.png)</span></span>

<span data-ttu-id="2ae01-407">**Obrázek 20**: zobrazení potvrzení odstranění ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-407">**Figure 20**: The delete confirmation view ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image40.png))</span></span>


<span data-ttu-id="2ae01-408">Potřebujeme upravit zobrazení indexu tak, aby obsahoval odkaz pro odstraňování kontaktů záznamů (viz obrázek 21).</span><span class="sxs-lookup"><span data-stu-id="2ae01-408">We need to modify the Index view so that it contains a link for deleting contact records (see Figure 21).</span></span> <span data-ttu-id="2ae01-409">Je nutné přidat následující kód do stejné buňky tabulky, který obsahuje odkaz pro úpravy:</span><span class="sxs-lookup"><span data-stu-id="2ae01-409">You need to add the following code to the same table cell that contains the Edit link:</span></span>

<span data-ttu-id="2ae01-410">{.id = položky. ID}) %&gt;</span><span class="sxs-lookup"><span data-stu-id="2ae01-410">{.id = item.Id})%&gt;</span></span>


<span data-ttu-id="2ae01-411">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image21.jpg)](iteration-1-create-the-application-vb/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-411">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image21.jpg)](iteration-1-create-the-application-vb/_static/image41.png)</span></span>

<span data-ttu-id="2ae01-412">**Obrázek 21**: Index zobrazení s odkaz pro úpravy ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-412">**Figure 21**: Index view with Edit link ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image42.png))</span></span>


<span data-ttu-id="2ae01-413">Dále je potřeba vytvořit zobrazení potvrzení odstranění.</span><span class="sxs-lookup"><span data-stu-id="2ae01-413">Next, we need to create the delete confirmation view.</span></span> <span data-ttu-id="2ae01-414">Klikněte pravým tlačítkem na metodu Delete() ve třídě domovské řadiče a vyberte možnost nabídky přidat zobrazení.</span><span class="sxs-lookup"><span data-stu-id="2ae01-414">Right-click the Delete() method in the Home controller class and select the menu option Add View.</span></span> <span data-ttu-id="2ae01-415">(Viz obrázek 22) se zobrazí dialogové okno Přidat zobrazení.</span><span class="sxs-lookup"><span data-stu-id="2ae01-415">The Add View dialog appears (see Figure 22).</span></span>

<span data-ttu-id="2ae01-416">Na rozdíl od v případě zobrazení seznamu, vytvořit a upravit, dialogové okno Přidat zobrazení neobsahuje možnost pro vytvoření zobrazení odstranit.</span><span class="sxs-lookup"><span data-stu-id="2ae01-416">Unlike in the case of the List, Create, and Edit views, the Add View dialog does not contain an option to create a Delete view.</span></span> <span data-ttu-id="2ae01-417">Místo toho vyberte **ContactManager.Models.Contact** třída dat a **prázdný** zobrazit obsah.</span><span class="sxs-lookup"><span data-stu-id="2ae01-417">Instead, select the **ContactManager.Models.Contact** data class and the **Empty** view content.</span></span> <span data-ttu-id="2ae01-418">Prázdné zobrazení, obsahu možnost bude potřeba vytvořit zobrazení, si vyberete.</span><span class="sxs-lookup"><span data-stu-id="2ae01-418">Selecting the Empty view content option will require us to create the view ourselves.</span></span>


<span data-ttu-id="2ae01-419">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image22.jpg)](iteration-1-create-the-application-vb/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-419">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image22.jpg)](iteration-1-create-the-application-vb/_static/image43.png)</span></span>

<span data-ttu-id="2ae01-420">**Obrázek 22**: Přidání zobrazení potvrzení odstranění ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image44.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-420">**Figure 22**: Adding the delete confirmation view ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image44.png))</span></span>


<span data-ttu-id="2ae01-421">Obsah zobrazení odstranění je obsažený v výpis 9.</span><span class="sxs-lookup"><span data-stu-id="2ae01-421">The content of the Delete view is contained in Listing 9.</span></span> <span data-ttu-id="2ae01-422">Toto zobrazení obsahuje formulář, který potvrdí, zda by měla být konkrétní kontakt odstranit (viz obrázek 21).</span><span class="sxs-lookup"><span data-stu-id="2ae01-422">This view contains a form that confirms whether or not a particular contact should be deleted (see Figure 21).</span></span>

<span data-ttu-id="2ae01-423">**Výpis 9 – Views\Home\Delete.aspx**</span><span class="sxs-lookup"><span data-stu-id="2ae01-423">**Listing 9 - Views\Home\Delete.aspx**</span></span>

[!code-aspx[Main](iteration-1-create-the-application-vb/samples/sample9.aspx)]

## <a name="changing-the-name-of-the-default-controller"></a><span data-ttu-id="2ae01-424">Změna názvu řadiče výchozí</span><span class="sxs-lookup"><span data-stu-id="2ae01-424">Changing the Name of the Default Controller</span></span>

<span data-ttu-id="2ae01-425">Může nepokoušejte jste, že je název třídy Naše řadiče pro práci s kontakty s názvem HomeController třídy.</span><span class="sxs-lookup"><span data-stu-id="2ae01-425">It might bother you that the name of our controller class for working with contacts is named the HomeController class.</span></span> <span data-ttu-id="2ae01-426">T by neměl mít řadičem název ContactController?</span><span class="sxs-lookup"><span data-stu-id="2ae01-426">Shouldn t the controller be named ContactController?</span></span>

<span data-ttu-id="2ae01-427">Tento problém je snadné dostatečně opravit.</span><span class="sxs-lookup"><span data-stu-id="2ae01-427">This issue is easy enough to fix.</span></span> <span data-ttu-id="2ae01-428">Nejprve musíme Refaktorovat název domovské řadiče.</span><span class="sxs-lookup"><span data-stu-id="2ae01-428">First, we need to refactor the name of the Home controller.</span></span> <span data-ttu-id="2ae01-429">Třída HomeController otevřete v editoru kódu sady Visual Studio, klikněte pravým tlačítkem na název třídy a vyberte možnost nabídky **přejmenovat**.</span><span class="sxs-lookup"><span data-stu-id="2ae01-429">Open the HomeController class in the Visual Studio Code Editor, right click the name of the class and select the menu option **Rename**.</span></span> <span data-ttu-id="2ae01-430">Výběrem této možnosti nabídky, otevře se dialogové okno Přejmenovat.</span><span class="sxs-lookup"><span data-stu-id="2ae01-430">Selecting this menu option opens the Rename dialog.</span></span>


<span data-ttu-id="2ae01-431">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image23.jpg)](iteration-1-create-the-application-vb/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-431">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image23.jpg)](iteration-1-create-the-application-vb/_static/image45.png)</span></span>

<span data-ttu-id="2ae01-432">**Obrázek 23**: refaktoring název řadiče ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image46.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-432">**Figure 23**: Refactoring a controller name ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image46.png))</span></span>


<span data-ttu-id="2ae01-433">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image24.jpg)](iteration-1-create-the-application-vb/_static/image47.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-433">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image24.jpg)](iteration-1-create-the-application-vb/_static/image47.png)</span></span>

<span data-ttu-id="2ae01-434">**Obrázek 24**: V dialogovém okně přejmenovat ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image48.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-434">**Figure 24**: Using the Rename dialog ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image48.png))</span></span>


<span data-ttu-id="2ae01-435">Pokud přejmenujete vaší třídy kontroleru, Visual Studio bude aktualizovat název složky ve složce zobrazení.</span><span class="sxs-lookup"><span data-stu-id="2ae01-435">If you rename your controller class, Visual Studio will update the name of the folder in the Views folder as well.</span></span> <span data-ttu-id="2ae01-436">Visual Studio bude přejmenujte složku \Views\Home \Views\Contact složky.</span><span class="sxs-lookup"><span data-stu-id="2ae01-436">Visual Studio will rename the \Views\Home folder to the \Views\Contact folder.</span></span>

<span data-ttu-id="2ae01-437">Když provedete tuto změnu, aplikace nebude mít řadič domovské.</span><span class="sxs-lookup"><span data-stu-id="2ae01-437">After you make this change, your application will no longer have a Home controller.</span></span> <span data-ttu-id="2ae01-438">Při spuštění aplikace, získáte v obrázku 25 chybovou stránku.</span><span class="sxs-lookup"><span data-stu-id="2ae01-438">When you run your application, you'll get the error page in Figure 25.</span></span>


<span data-ttu-id="2ae01-439">[![Dialogové okno Nový projekt](iteration-1-create-the-application-vb/_static/image25.jpg)](iteration-1-create-the-application-vb/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="2ae01-439">[![The New Project dialog box](iteration-1-create-the-application-vb/_static/image25.jpg)](iteration-1-create-the-application-vb/_static/image49.png)</span></span>

<span data-ttu-id="2ae01-440">**Obrázek 25**: žádný výchozí řadič ([Kliknutím zobrazit obrázek v plné velikosti](iteration-1-create-the-application-vb/_static/image50.png))</span><span class="sxs-lookup"><span data-stu-id="2ae01-440">**Figure 25**: No default controller ([Click to view full-size image](iteration-1-create-the-application-vb/_static/image50.png))</span></span>


<span data-ttu-id="2ae01-441">Je potřeba aktualizovat výchozí trasu v souboru Global.asax pro použití řadiče obraťte se na místo domovské řadiče.</span><span class="sxs-lookup"><span data-stu-id="2ae01-441">We need to update the default route in the Global.asax file to use the Contact controller instead of the Home controller.</span></span> <span data-ttu-id="2ae01-442">Otevřete soubor Global.asax a upravte výchozí řadiče, používá výchozí trasa (viz seznam 10).</span><span class="sxs-lookup"><span data-stu-id="2ae01-442">Open the Global.asax file and modify the default controller used by the default route (see Listing 10).</span></span>

<span data-ttu-id="2ae01-443">**Výpis 10 - Global.asax.vb**</span><span class="sxs-lookup"><span data-stu-id="2ae01-443">**Listing 10 - Global.asax.vb**</span></span>

[!code-vb[Main](iteration-1-create-the-application-vb/samples/sample10.vb)]

<span data-ttu-id="2ae01-444">Po provedení těchto změn, obraťte se na správce bude fungovat správně.</span><span class="sxs-lookup"><span data-stu-id="2ae01-444">After you make these changes, the Contact Manager will run correctly.</span></span> <span data-ttu-id="2ae01-445">Nyní použije třídy kontroleru kontakt jako řadič výchozí.</span><span class="sxs-lookup"><span data-stu-id="2ae01-445">Now, it will use the Contact controller class as the default controller.</span></span>

## <a name="summary"></a><span data-ttu-id="2ae01-446">Souhrn</span><span class="sxs-lookup"><span data-stu-id="2ae01-446">Summary</span></span>

<span data-ttu-id="2ae01-447">V této první iteraci jsme vytvořili základní obraťte se na správce aplikace v nejrychlejší způsob možné.</span><span class="sxs-lookup"><span data-stu-id="2ae01-447">In this first iteration, we created a basic Contact Manager application in the fastest way possible.</span></span> <span data-ttu-id="2ae01-448">Vzali jsme výhody sady Visual Studio automaticky vygenerovat kód počáteční pro naše kontrolery a zobrazení.</span><span class="sxs-lookup"><span data-stu-id="2ae01-448">We took advantage of Visual Studio to generate the initial code for our controllers and views automatically.</span></span> <span data-ttu-id="2ae01-449">Vzali jsme také výhod rozhraní Entity Framework má automaticky generovat naše databáze třídy modelu.</span><span class="sxs-lookup"><span data-stu-id="2ae01-449">We also took advantage of the Entity Framework to generate our database model classes automatically.</span></span>

<span data-ttu-id="2ae01-450">V současné době jsme seznamu, vytvářet, upravovat a odstraňovat kontaktní záznamy s aplikací, obraťte se na správce.</span><span class="sxs-lookup"><span data-stu-id="2ae01-450">Currently, we can list, create, edit, and delete contact records with the Contact Manager application.</span></span> <span data-ttu-id="2ae01-451">Jinými slovy jsme můžete provádět všechny operace databáze basic vyžadována databáze webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="2ae01-451">In other words, we can perform all of the basic database operations required by a database-driven web application.</span></span>

<span data-ttu-id="2ae01-452">Bohužel se naše aplikace má některé problémy.</span><span class="sxs-lookup"><span data-stu-id="2ae01-452">Unfortunately, our application has some problems.</span></span> <span data-ttu-id="2ae01-453">První a I váhání to přijmout, obraťte se na správce aplikace není nejvíce atraktivní aplikace.</span><span class="sxs-lookup"><span data-stu-id="2ae01-453">First and I hesitate to admit this, the Contact Manager application is not the most attractive application.</span></span> <span data-ttu-id="2ae01-454">Musí být některé pracovní návrhu.</span><span class="sxs-lookup"><span data-stu-id="2ae01-454">It needs some design work.</span></span> <span data-ttu-id="2ae01-455">V další iterace podíváme jsme jak změnit výchozí zobrazení stránky předlohy a zlepšit vzhled aplikace stylů CSS.</span><span class="sxs-lookup"><span data-stu-id="2ae01-455">In the next iteration, we'll look at how we can change the default view master page and cascading style sheet to improve the appearance of the application.</span></span>

<span data-ttu-id="2ae01-456">Druhý jsme ještě implementována žádné ověřování formuláře.</span><span class="sxs-lookup"><span data-stu-id="2ae01-456">Second, we have not implemented any form validation.</span></span> <span data-ttu-id="2ae01-457">Například není nic zabránit odeslání formuláře kontaktů vytvořit bez nutnosti zadávat hodnoty pro všechna pole formuláře.</span><span class="sxs-lookup"><span data-stu-id="2ae01-457">For example, there is nothing to prevent you from submitting the Create contact form without entering values for any of the form fields.</span></span> <span data-ttu-id="2ae01-458">Kromě toho můžete zadat neplatné telefonní čísla a e-mailové adresy.</span><span class="sxs-lookup"><span data-stu-id="2ae01-458">Furthermore, you can enter invalid phone numbers and email addresses.</span></span> <span data-ttu-id="2ae01-459">Začneme o vyřešení problému ověřování formuláře v iteraci #3.</span><span class="sxs-lookup"><span data-stu-id="2ae01-459">We start to tackle the problem of form validation in iteration #3.</span></span>

<span data-ttu-id="2ae01-460">Nakonec a co je nejdůležitější na aktuální iteraci aplikace, obraťte se na správce nelze snadno změnit ani zachována.</span><span class="sxs-lookup"><span data-stu-id="2ae01-460">Finally, and most importantly, the current iteration of the Contact Manager application cannot be easily modified or maintained.</span></span> <span data-ttu-id="2ae01-461">Například logika přístup k databázi je zaručená vpravo do akce kontroleru.</span><span class="sxs-lookup"><span data-stu-id="2ae01-461">For example, the database access logic is baked right into the controller actions.</span></span> <span data-ttu-id="2ae01-462">To znamená, že jsme nelze upravit naše data přístup kód beze změny naše řadiče.</span><span class="sxs-lookup"><span data-stu-id="2ae01-462">This means that we cannot modify our data access code without modifying our controllers.</span></span> <span data-ttu-id="2ae01-463">V novějších iterací jsme prozkoumejte vzory návrhu softwaru, které jsme můžete implementovat, aby odolnější vůči změnit obraťte se na správce.</span><span class="sxs-lookup"><span data-stu-id="2ae01-463">In later iterations, we explore software design patterns that we can implement to make the Contact Manager more resilient to change.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="2ae01-464">[Předchozí](iteration-7-add-ajax-functionality-cs.md)
[další](iteration-2-make-the-application-look-nice-vb.md)</span><span class="sxs-lookup"><span data-stu-id="2ae01-464">[Previous](iteration-7-add-ajax-functionality-cs.md)
[Next](iteration-2-make-the-application-look-nice-vb.md)</span></span>
