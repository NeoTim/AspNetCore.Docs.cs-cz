---
uid: mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs
title: "Vytvoření databáze aplikace film za 15 minut s architekturou ASP.NET MVC (C#) | Microsoft Docs"
author: StephenWalther
description: "Stephen Walther vytváří celou databázových aplikací ASP.NET MVC aplikaci od začátku ukončíte. V tomto kurzu je skvělým Úvod pro osoby, které jsou nové t..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/27/2009
ms.topic: article
ms.assetid: dd1be137-91c5-47a8-8137-fecf0789c7f5
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs
msc.type: authoredcontent
ms.openlocfilehash: a67ca5422d4353b8c23b3fd804246906b8b6d717
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/24/2018
---
<a name="create-a-movie-database-application-in-15-minutes-with-aspnet-mvc-c"></a><span data-ttu-id="a77d1-104">Vytvoření databáze aplikace film za 15 minut s architekturou ASP.NET MVC (C#)</span><span class="sxs-lookup"><span data-stu-id="a77d1-104">Create a Movie Database Application in 15 Minutes with ASP.NET MVC (C#)</span></span>
====================
<span data-ttu-id="a77d1-105">podle [Stephen Walther](https://github.com/StephenWalther)</span><span class="sxs-lookup"><span data-stu-id="a77d1-105">by [Stephen Walther](https://github.com/StephenWalther)</span></span>

[<span data-ttu-id="a77d1-106">Stáhněte si kód</span><span class="sxs-lookup"><span data-stu-id="a77d1-106">Download Code</span></span>](http://download.microsoft.com/download/7/2/8/728F8794-E59A-4D18-9A56-7AD2DB05BD9D/MovieApp_CS.zip)

> <span data-ttu-id="a77d1-107">Stephen Walther vytváří celou databázových aplikací ASP.NET MVC aplikaci od začátku ukončíte.</span><span class="sxs-lookup"><span data-stu-id="a77d1-107">Stephen Walther builds an entire database-driven ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="a77d1-108">V tomto kurzu je skvělým Úvod pro uživatele, kteří jsou nové rozhraní ASP.NET MVC a kteří chtějí získat představu o proces vytváření aplikace ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a77d1-108">This tutorial is a great introduction for people who are new to the ASP.NET MVC Framework and who want to get a sense of the process of building an ASP.NET MVC application.</span></span>


<span data-ttu-id="a77d1-109">Účelem tohoto kurzu je získáte představu o "co je jako" k vytvoření aplikace ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a77d1-109">The purpose of this tutorial is to give you a sense of "what it is like" to build an ASP.NET MVC application.</span></span> <span data-ttu-id="a77d1-110">V tomto kurzu I vysokopecní prostřednictvím vytváření celou aplikaci ASP.NET MVC od začátku ukončíte.</span><span class="sxs-lookup"><span data-stu-id="a77d1-110">In this tutorial, I blast through building an entire ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="a77d1-111">I ukazují, jak vytvořit jednoduchou aplikaci vycházející z databáze, která ukazuje, jak můžete zobrazit seznam, vytvářet a upravovat záznamy databáze.</span><span class="sxs-lookup"><span data-stu-id="a77d1-111">I show you how to build a simple database-driven application that illustrates how you can list, create, and edit database records.</span></span>

<span data-ttu-id="a77d1-112">Zjednodušit proces vytváření aplikace, můžeme vám využít výhod funkce generování uživatelského rozhraní sady Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="a77d1-112">To simplify the process of building our application, we'll take advantage of the scaffolding features of Visual Studio 2008.</span></span> <span data-ttu-id="a77d1-113">Dáme Visual Studio generování počátečního kódu a obsahu pro naše řadiče, modely a zobrazení.</span><span class="sxs-lookup"><span data-stu-id="a77d1-113">We'll let Visual Studio generate the initial code and content for our controllers, models, and views.</span></span>

<span data-ttu-id="a77d1-114">Pokud jste už pracovali s Active Server Pages nebo v technologii ASP.NET, pak byste měli najít ASP.NET MVC velmi seznámit.</span><span class="sxs-lookup"><span data-stu-id="a77d1-114">If you have worked with Active Server Pages or ASP.NET, then you should find ASP.NET MVC very familiar.</span></span> <span data-ttu-id="a77d1-115">Zobrazení v rozhraní ASP.NET MVC jsou hodně podobá stránky v aplikaci Active Server Pages.</span><span class="sxs-lookup"><span data-stu-id="a77d1-115">ASP.NET MVC views are very much like the pages in an Active Server Pages application.</span></span> <span data-ttu-id="a77d1-116">A, stejně jako tradiční aplikace webových formulářů ASP.NET, rozhraní ASP.NET MVC poskytuje úplný přístup k širokou škálu jazyky a třídy poskytované rozhraní .NET framework.</span><span class="sxs-lookup"><span data-stu-id="a77d1-116">And, just like a traditional ASP.NET Web Forms application, ASP.NET MVC provides you with full access to the rich set of languages and classes provided by the .NET framework.</span></span>

<span data-ttu-id="a77d1-117">Moje naděje je, že v tomto kurzu získáte představu o tom, jak postupu při vytváření aplikace ASP.NET MVC je podobné a jiné než možností vytvoření aplikace Active Server Pages nebo webových formulářů ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a77d1-117">My hope is that this tutorial will give you a sense of how the experience of building an ASP.NET MVC application is both similar and different than the experience of building an Active Server Pages or ASP.NET Web Forms application.</span></span>

## <a name="overview-of-the-movie-database-application"></a><span data-ttu-id="a77d1-118">Přehled film databázové aplikace</span><span class="sxs-lookup"><span data-stu-id="a77d1-118">Overview of the Movie Database Application</span></span>

<span data-ttu-id="a77d1-119">Protože Naším cílem je zjednodušení, využijeme budete velmi jednoduchou aplikaci film databáze.</span><span class="sxs-lookup"><span data-stu-id="a77d1-119">Because our goal is to keep things simple, we'll build a very simple Movie Database application.</span></span> <span data-ttu-id="a77d1-120">Naše jednoduchou aplikaci film databáze umožní nám tři věci:</span><span class="sxs-lookup"><span data-stu-id="a77d1-120">Our simple Movie Database application will allow us to do three things:</span></span>

1. <span data-ttu-id="a77d1-121">Seznam sadu záznamů databáze filmu</span><span class="sxs-lookup"><span data-stu-id="a77d1-121">List a set of movie database records</span></span>
2. <span data-ttu-id="a77d1-122">Vytvořit nový záznam v databázi filmu</span><span class="sxs-lookup"><span data-stu-id="a77d1-122">Create a new movie database record</span></span>
3. <span data-ttu-id="a77d1-123">Úpravy záznamů existující databáze filmu</span><span class="sxs-lookup"><span data-stu-id="a77d1-123">Edit an existing movie database record</span></span>

<span data-ttu-id="a77d1-124">Znovu protože chceme zjednodušení, provedeme výhod minimální počet funkcí rozhraní ASP.NET MVC framework potřebné k vytvoření aplikace.</span><span class="sxs-lookup"><span data-stu-id="a77d1-124">Again, because we want to keep things simple, we'll take advantage of the minimum number of features of the ASP.NET MVC framework needed to build our application.</span></span> <span data-ttu-id="a77d1-125">Například můžeme nebude využít výhod Test-Driven vývoj.</span><span class="sxs-lookup"><span data-stu-id="a77d1-125">For example, we won't be taking advantage of Test-Driven Development.</span></span>

<span data-ttu-id="a77d1-126">Chcete-li vytvořit aplikaci, je potřeba dokončit všechny následující kroky:</span><span class="sxs-lookup"><span data-stu-id="a77d1-126">In order to create our application, we need to complete each of the following steps:</span></span>

1. <span data-ttu-id="a77d1-127">Vytvoření projektu webové aplikace ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="a77d1-127">Create the ASP.NET MVC Web Application Project</span></span>
2. <span data-ttu-id="a77d1-128">Vytvoření databáze</span><span class="sxs-lookup"><span data-stu-id="a77d1-128">Create the database</span></span>
3. <span data-ttu-id="a77d1-129">Vytvořit model databáze.</span><span class="sxs-lookup"><span data-stu-id="a77d1-129">Create the database model</span></span>
4. <span data-ttu-id="a77d1-130">Vytvoření řadiče ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="a77d1-130">Create the ASP.NET MVC controller</span></span>
5. <span data-ttu-id="a77d1-131">Vytvoření zobrazení ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="a77d1-131">Create the ASP.NET MVC views</span></span>

## <a name="preliminaries"></a><span data-ttu-id="a77d1-132">Nezbytné úkony</span><span class="sxs-lookup"><span data-stu-id="a77d1-132">Preliminaries</span></span>

<span data-ttu-id="a77d1-133">Budete potřebovat buď Visual Studio 2008 nebo Visual Web Developer 2008 Express k vytvoření aplikace ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a77d1-133">You'll need either Visual Studio 2008 or Visual Web Developer 2008 Express to build an ASP.NET MVC application.</span></span> <span data-ttu-id="a77d1-134">Budete také muset stáhnout rozhraní ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a77d1-134">You also need to download the ASP.NET MVC framework.</span></span>

<span data-ttu-id="a77d1-135">Pokud nevlastníte Visual Studio 2008, můžete stáhnout 90denní zkušební verzi sady Visual Studio 2008 z tohoto webu:</span><span class="sxs-lookup"><span data-stu-id="a77d1-135">If you don't own Visual Studio 2008, then you can download a 90 day trial version of Visual Studio 2008 from this website:</span></span>

[<span data-ttu-id="a77d1-136">https://msdn.microsoft.com/vs2008/products/cc268305.aspx</span><span class="sxs-lookup"><span data-stu-id="a77d1-136">https://msdn.microsoft.com/vs2008/products/cc268305.aspx</span></span>](https://msdn.microsoft.com/vs2008/products/cc268305.aspx)

<span data-ttu-id="a77d1-137">Alternativně můžete vytvořit rozhraní ASP.NET MVC aplikace s Visual Web Developer Express 2008.</span><span class="sxs-lookup"><span data-stu-id="a77d1-137">Alternatively, you can create ASP.NET MVC applications with Visual Web Developer Express 2008.</span></span> <span data-ttu-id="a77d1-138">Pokud se rozhodnete použít Visual Web Developer Express musí mít nainstalovanou aktualizaci Service Pack 1.</span><span class="sxs-lookup"><span data-stu-id="a77d1-138">If you decide to use Visual Web Developer Express then you must have Service Pack 1 installed.</span></span> <span data-ttu-id="a77d1-139">Visual Web Developer 2008 Express s aktualizací Service Pack 1 si můžete stáhnout z tohoto webu:</span><span class="sxs-lookup"><span data-stu-id="a77d1-139">You can download Visual Web Developer 2008 Express with Service Pack 1 from this website:</span></span>

[<span data-ttu-id="a77d1-140">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en</span><span class="sxs-lookup"><span data-stu-id="a77d1-140">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en)

<span data-ttu-id="a77d1-141">Po instalaci Visual Studio 2008 nebo Visual Web Developer 2008, musíte nainstalovat rozhraní ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a77d1-141">After you install either Visual Studio 2008 or Visual Web Developer 2008, you need to install the ASP.NET MVC framework.</span></span> <span data-ttu-id="a77d1-142">Rozhraní ASP.NET MVC můžete stáhnout z následujícího webu:</span><span class="sxs-lookup"><span data-stu-id="a77d1-142">You can download the ASP.NET MVC framework from the following website:</span></span>

[<span data-ttu-id="a77d1-143">https://www.asp.net/mvc/</span><span class="sxs-lookup"><span data-stu-id="a77d1-143">https://www.asp.net/mvc/</span></span>](../../../index.md)

> [!NOTE] 
> 
> <span data-ttu-id="a77d1-144">Místo stažení rozhraní ASP.NET a rozhraní ASP.NET MVC jednotlivě, můžete využít výhod služby instalace webové platformy.</span><span class="sxs-lookup"><span data-stu-id="a77d1-144">Instead of downloading the ASP.NET framework and the ASP.NET MVC framework individually, you can take advantage of the Web Platform Installer.</span></span> <span data-ttu-id="a77d1-145">Instalace webové platformy je aplikace, která umožňuje snadno spravovat nainstalované aplikace jsou v počítači:</span><span class="sxs-lookup"><span data-stu-id="a77d1-145">The Web Platform Installer is an application that enables you to easily manage the installed applications are your computer:</span></span>
> 
> [<span data-ttu-id="a77d1-146">https://www.microsoft.com/web/gallery/Install.aspx</span><span class="sxs-lookup"><span data-stu-id="a77d1-146">https://www.microsoft.com/web/gallery/Install.aspx</span></span>](https://www.microsoft.com/web/gallery/Install.aspx)


## <a name="creating-an-aspnet-mvc-web-application-project"></a><span data-ttu-id="a77d1-147">Vytvoření projektu webové aplikace ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="a77d1-147">Creating an ASP.NET MVC Web Application Project</span></span>

<span data-ttu-id="a77d1-148">Začněme vytvořením nového projektu webové aplikace ASP.NET MVC v sadě Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="a77d1-148">Let's start by creating a new ASP.NET MVC Web Application project in Visual Studio 2008.</span></span> <span data-ttu-id="a77d1-149">Vyberte možnost nabídky **soubor, nový projekt** a zobrazí se dialogové okno Nový projekt na obrázku 1.</span><span class="sxs-lookup"><span data-stu-id="a77d1-149">Select the menu option **File, New Project** and you will see the New Project dialog box in Figure 1.</span></span> <span data-ttu-id="a77d1-150">Vyberte programovací jazyk C# a výběr šablony projektu webové aplikace ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a77d1-150">Select C# as the programming language and select the ASP.NET MVC Web Application project template.</span></span> <span data-ttu-id="a77d1-151">Zadejte název MovieApp projektu a klikněte na tlačítko OK.</span><span class="sxs-lookup"><span data-stu-id="a77d1-151">Give your project the name MovieApp and click the OK button.</span></span>


<span data-ttu-id="a77d1-152">[![Dialogové okno Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="a77d1-152">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.png)</span></span>

<span data-ttu-id="a77d1-153">**Obrázek 01**: dialogové okno Nový projekt ([Kliknutím zobrazit obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="a77d1-153">**Figure 01**: The New Project dialog box ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.png))</span></span>


<span data-ttu-id="a77d1-154">Zkontrolujte, vyberete rozhraní .NET Framework 3.5 z rozevíracího seznamu v horní části dialogového okna Nový projekt nebo v šabloně projektů webové aplikace ASP.NET MVC se nezobrazí.</span><span class="sxs-lookup"><span data-stu-id="a77d1-154">Make sure that you select .NET Framework 3.5 from the dropdown list at the top of the New Project dialog or the ASP.NET MVC Web Application project template won't appear.</span></span>


<span data-ttu-id="a77d1-155">Vždy, když vytvoříte nový projekt webové aplikace MVC, Visual Studio vyzve k vytvoření projektu testování částí samostatné.</span><span class="sxs-lookup"><span data-stu-id="a77d1-155">Whenever you create a new MVC Web Application project, Visual Studio prompts you to create a separate unit test project.</span></span> <span data-ttu-id="a77d1-156">Otevře se dialogové okno na obrázku 2.</span><span class="sxs-lookup"><span data-stu-id="a77d1-156">The dialog in Figure 2 appears.</span></span> <span data-ttu-id="a77d1-157">Protože jsme nebude vytvářet testy v tomto kurzu z důvodu omezení času (a Ano, jsme by měl mít trochu dopustil o této) vyberte **ne** možnost a klikněte na tlačítko **OK** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="a77d1-157">Because we won't be creating tests in this tutorial because of time constraints (and, yes, we should feel a little guilty about this) select the **No** option and click the **OK** button.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="a77d1-158">Visual Web Developer nepodporuje projektů testů.</span><span class="sxs-lookup"><span data-stu-id="a77d1-158">Visual Web Developer does not support test projects.</span></span>


<span data-ttu-id="a77d1-159">[![Dialogové okno Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="a77d1-159">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.png)</span></span>

<span data-ttu-id="a77d1-160">**Obrázek 02**: dialogové okno Vytvoření projektu testování částí ([Kliknutím zobrazit obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="a77d1-160">**Figure 02**: The Create Unit Test Project dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.png))</span></span>


<span data-ttu-id="a77d1-161">Aplikace ASP.NET MVC je standardní sada složky: složku modely, zobrazení a Kontrolery.</span><span class="sxs-lookup"><span data-stu-id="a77d1-161">An ASP.NET MVC application has a standard set of folders: a Models, Views, and Controllers folder.</span></span> <span data-ttu-id="a77d1-162">Zobrazí se tento standardní sadu složek v okně Průzkumníka řešení.</span><span class="sxs-lookup"><span data-stu-id="a77d1-162">You can see this standard set of folders in the Solution Explorer window.</span></span> <span data-ttu-id="a77d1-163">Budeme potřebovat k přidání souborů do jednotlivých složek modely, zobrazení a Kontrolery k vytvoření databáze filmová aplikace.</span><span class="sxs-lookup"><span data-stu-id="a77d1-163">We'll need to add files to each of the Models, Views, and Controllers folders in order to build our Movie Database application.</span></span>

<span data-ttu-id="a77d1-164">Když vytvoříte nové aplikace MVC pomocí sady Visual Studio, můžete získat ukázkovou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="a77d1-164">When you create a new MVC application with Visual Studio, you get a sample application.</span></span> <span data-ttu-id="a77d1-165">Vzhledem k tomu, že chceme začít úplně od začátku, je potřeba odstranit obsah této ukázkové aplikaci.</span><span class="sxs-lookup"><span data-stu-id="a77d1-165">Because we want to start from scratch, we need to delete the content for this sample application.</span></span> <span data-ttu-id="a77d1-166">Je třeba odstranit následující soubor a následující složku:</span><span class="sxs-lookup"><span data-stu-id="a77d1-166">You need to delete the following file and the following folder:</span></span>

- <span data-ttu-id="a77d1-167">Controllers\HomeController.cs</span><span class="sxs-lookup"><span data-stu-id="a77d1-167">Controllers\HomeController.cs</span></span>
- <span data-ttu-id="a77d1-168">Views\Home</span><span class="sxs-lookup"><span data-stu-id="a77d1-168">Views\Home</span></span>

## <a name="creating-the-database"></a><span data-ttu-id="a77d1-169">Vytvoření databáze</span><span class="sxs-lookup"><span data-stu-id="a77d1-169">Creating the Database</span></span>

<span data-ttu-id="a77d1-170">Je potřeba vytvořit databázi pro uložení našich záznamů film databáze.</span><span class="sxs-lookup"><span data-stu-id="a77d1-170">We need to create a database to hold our movie database records.</span></span> <span data-ttu-id="a77d1-171">Naštěstí Visual Studio obsahuje bezplatná databáze s názvem serveru SQL Server Express.</span><span class="sxs-lookup"><span data-stu-id="a77d1-171">Luckily, Visual Studio includes a free database named SQL Server Express.</span></span> <span data-ttu-id="a77d1-172">Postupujte podle těchto kroků můžete vytvořit databázi:</span><span class="sxs-lookup"><span data-stu-id="a77d1-172">Follow these steps to create the database:</span></span>

1. <span data-ttu-id="a77d1-173">Klikněte pravým tlačítkem na aplikaci\_složky dat v okna Průzkumníka řešení a vyberte možnost nabídky **přidat, nové položky**.</span><span class="sxs-lookup"><span data-stu-id="a77d1-173">Right-click the App\_Data folder in the Solution Explorer window and select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="a77d1-174">Vyberte **Data** kategorie a vyberte **databáze systému SQL Server** šablony (viz obrázek 3).</span><span class="sxs-lookup"><span data-stu-id="a77d1-174">Select the **Data** category and select the **SQL Server Database** template (see Figure 3).</span></span>
3. <span data-ttu-id="a77d1-175">Název nové databáze *MoviesDB.mdf* a klikněte na **přidat** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="a77d1-175">Name your new database *MoviesDB.mdf* and click the **Add** button.</span></span>

<span data-ttu-id="a77d1-176">Po vytvoření databáze, se můžete připojit k databázi pomocí dvojitým kliknutím na soubor MoviesDB.mdf umístěný v aplikaci\_složku Data.</span><span class="sxs-lookup"><span data-stu-id="a77d1-176">After you create your database, you can connect to the database by double-clicking the MoviesDB.mdf file located in the App\_Data folder.</span></span> <span data-ttu-id="a77d1-177">Dvojitým kliknutím na soubor MoviesDB.mdf otevře okno Průzkumníka serveru.</span><span class="sxs-lookup"><span data-stu-id="a77d1-177">Double-clicking the MoviesDB.mdf file opens the Server Explorer window.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="a77d1-178">Okno Průzkumníka serveru jmenuje okno Průzkumník databáze v případě Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="a77d1-178">The Server Explorer window is named the Database Explorer window in the case of Visual Web Developer.</span></span>


<span data-ttu-id="a77d1-179">[![Dialogové okno Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="a77d1-179">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.png)</span></span>

<span data-ttu-id="a77d1-180">**Obrázek 03**: vytvoření databáze Microsoft SQL Server ([Kliknutím zobrazit obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="a77d1-180">**Figure 03**: Creating a Microsoft SQL Server Database ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.png))</span></span>


<span data-ttu-id="a77d1-181">Dále je potřeba vytvořit novou tabulku databáze.</span><span class="sxs-lookup"><span data-stu-id="a77d1-181">Next, we need to create a new database table.</span></span> <span data-ttu-id="a77d1-182">V okně Průzkumníka serveru, klikněte pravým tlačítkem na složku tabulky a vyberte možnost nabídky **přidat novou tabulku**.</span><span class="sxs-lookup"><span data-stu-id="a77d1-182">From within the Sever Explorer window, right-click the Tables folder and select the menu option **Add New Table**.</span></span> <span data-ttu-id="a77d1-183">Výběrem této možnosti nabídky otevře návrháře tabulky databáze.</span><span class="sxs-lookup"><span data-stu-id="a77d1-183">Selecting this menu option opens the database table designer.</span></span> <span data-ttu-id="a77d1-184">Vytvořte následující sloupců databáze:</span><span class="sxs-lookup"><span data-stu-id="a77d1-184">Create the following database columns:</span></span>

<a id="0.1_table01"></a>


| <span data-ttu-id="a77d1-185">**Název sloupce**</span><span class="sxs-lookup"><span data-stu-id="a77d1-185">**Column Name**</span></span> | <span data-ttu-id="a77d1-186">**Datový typ**</span><span class="sxs-lookup"><span data-stu-id="a77d1-186">**Data Type**</span></span> | <span data-ttu-id="a77d1-187">**Povolit hodnoty Null**</span><span class="sxs-lookup"><span data-stu-id="a77d1-187">**Allow Nulls**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="a77d1-188">ID</span><span class="sxs-lookup"><span data-stu-id="a77d1-188">Id</span></span> | <span data-ttu-id="a77d1-189">celá čísla</span><span class="sxs-lookup"><span data-stu-id="a77d1-189">Int</span></span> | <span data-ttu-id="a77d1-190">False</span><span class="sxs-lookup"><span data-stu-id="a77d1-190">False</span></span> |
| <span data-ttu-id="a77d1-191">Název</span><span class="sxs-lookup"><span data-stu-id="a77d1-191">Title</span></span> | <span data-ttu-id="a77d1-192">Nvarchar(100)</span><span class="sxs-lookup"><span data-stu-id="a77d1-192">Nvarchar(100)</span></span> | <span data-ttu-id="a77d1-193">False</span><span class="sxs-lookup"><span data-stu-id="a77d1-193">False</span></span> |
| <span data-ttu-id="a77d1-194">Adresář nacházející</span><span class="sxs-lookup"><span data-stu-id="a77d1-194">Director</span></span> | <span data-ttu-id="a77d1-195">Nvarchar(100)</span><span class="sxs-lookup"><span data-stu-id="a77d1-195">Nvarchar(100)</span></span> | <span data-ttu-id="a77d1-196">False</span><span class="sxs-lookup"><span data-stu-id="a77d1-196">False</span></span> |
| <span data-ttu-id="a77d1-197">DateReleased</span><span class="sxs-lookup"><span data-stu-id="a77d1-197">DateReleased</span></span> | <span data-ttu-id="a77d1-198">DateTime</span><span class="sxs-lookup"><span data-stu-id="a77d1-198">DateTime</span></span> | <span data-ttu-id="a77d1-199">False</span><span class="sxs-lookup"><span data-stu-id="a77d1-199">False</span></span> |


<span data-ttu-id="a77d1-200">První sloupec, ve sloupci Id má dvě speciální vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="a77d1-200">The first column, the Id column, has two special properties.</span></span> <span data-ttu-id="a77d1-201">Nejprve budete muset označte Id sloupec jako sloupec primárního klíče.</span><span class="sxs-lookup"><span data-stu-id="a77d1-201">First, you need to mark the Id column as the primary key column.</span></span> <span data-ttu-id="a77d1-202">Po výběru Id sloupce, klikněte na **nastavit primární klíč** tlačítko (je ikona, která vypadá jako klíč).</span><span class="sxs-lookup"><span data-stu-id="a77d1-202">After selecting the Id column, click the **Set Primary Key** button (it is the icon that looks like a key).</span></span> <span data-ttu-id="a77d1-203">Druhý je nutné označit Id sloupec jako sloupec Identity.</span><span class="sxs-lookup"><span data-stu-id="a77d1-203">Second, you need to mark the Id column as an Identity column.</span></span> <span data-ttu-id="a77d1-204">V okně Vlastnosti sloupce přejděte do části specifikace Identity a rozbalte ho.</span><span class="sxs-lookup"><span data-stu-id="a77d1-204">In the Column Properties window, scroll down to the Identity Specification section and expand it.</span></span> <span data-ttu-id="a77d1-205">Změna **je Identity** vlastnost na hodnotu **Ano**.</span><span class="sxs-lookup"><span data-stu-id="a77d1-205">Change the **Is Identity** property to the value **Yes**.</span></span> <span data-ttu-id="a77d1-206">Jakmile budete hotovi, v tabulce by měl vypadat jako na obrázku 4.</span><span class="sxs-lookup"><span data-stu-id="a77d1-206">When you are finished, the table should look like Figure 4.</span></span>


<span data-ttu-id="a77d1-207">[![Dialogové okno Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="a77d1-207">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.png)</span></span>

<span data-ttu-id="a77d1-208">**Obrázek 04**: filmy databázové tabulky ([Kliknutím zobrazit obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="a77d1-208">**Figure 04**: The Movies database table ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.png))</span></span>


<span data-ttu-id="a77d1-209">Posledním krokem je uložit do nové tabulky.</span><span class="sxs-lookup"><span data-stu-id="a77d1-209">The final step is to save the new table.</span></span> <span data-ttu-id="a77d1-210">Klikněte na tlačítko Uložit (ikona disketová) a poskytněte novou tabulku filmy název.</span><span class="sxs-lookup"><span data-stu-id="a77d1-210">Click the Save button (the icon of the floppy) and give the new table the name Movies.</span></span>

<span data-ttu-id="a77d1-211">Po dokončení vytváření tabulky, přidejte některé záznamy film do tabulky.</span><span class="sxs-lookup"><span data-stu-id="a77d1-211">After you finish creating the table, add some movie records to the table.</span></span> <span data-ttu-id="a77d1-212">Klikněte pravým tlačítkem na filmy tabulkou v okně Průzkumníka serveru a vyberte možnost nabídky **zobrazit Data tabulky**.</span><span class="sxs-lookup"><span data-stu-id="a77d1-212">Right-click the Movies table in the Server Explorer window and select the menu option **Show Table Data**.</span></span> <span data-ttu-id="a77d1-213">Zadejte seznam vaše oblíbené filmy (viz obrázek 5).</span><span class="sxs-lookup"><span data-stu-id="a77d1-213">Enter a list of your favorite movies (see Figure 5).</span></span>


<span data-ttu-id="a77d1-214">[![Dialogové okno Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="a77d1-214">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.png)</span></span>

<span data-ttu-id="a77d1-215">**Obrázek 05**: zadávání film záznamy ([Kliknutím zobrazit obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="a77d1-215">**Figure 05**: Entering movie records ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.png))</span></span>


## <a name="creating-the-model"></a><span data-ttu-id="a77d1-216">Vytvoření modelu</span><span class="sxs-lookup"><span data-stu-id="a77d1-216">Creating the Model</span></span>

<span data-ttu-id="a77d1-217">Další potřebujeme vytvořit sadu třídy představující naše databáze.</span><span class="sxs-lookup"><span data-stu-id="a77d1-217">We next need to create a set of classes to represent our database.</span></span> <span data-ttu-id="a77d1-218">Potřebujeme vytvořit model databáze.</span><span class="sxs-lookup"><span data-stu-id="a77d1-218">We need to create a database model.</span></span> <span data-ttu-id="a77d1-219">Provedeme výhod Entity Framework Microsoft automaticky vygenerovat třídy pro náš model databáze.</span><span class="sxs-lookup"><span data-stu-id="a77d1-219">We'll take advantage of the Microsoft Entity Framework to generate the classes for our database model automatically.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="a77d1-220">Rozhraní ASP.NET MVC není vázaný Microsoft Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="a77d1-220">The ASP.NET MVC framework is not tied to the Microsoft Entity Framework.</span></span> <span data-ttu-id="a77d1-221">Můžete využívat výhod celou řadu relační mapování objektu databázi vytvořit třídy modelu (nebo / M) včetně technologie LINQ to SQL, Subsonic a NHibernate nástroje.</span><span class="sxs-lookup"><span data-stu-id="a77d1-221">You can create your database model classes by taking advantage of a variety of Object Relational Mapping (OR/M) tools including LINQ to SQL, Subsonic, and NHibernate.</span></span>


<span data-ttu-id="a77d1-222">Postupujte podle těchto kroků spusťte průvodce Entity Data Model:</span><span class="sxs-lookup"><span data-stu-id="a77d1-222">Follow these steps to launch the Entity Data Model Wizard:</span></span>

1. <span data-ttu-id="a77d1-223">Klikněte pravým tlačítkem na složku modely v okně Průzkumníka řešení a vyberte možnost nabídky **přidat, nové položky**.</span><span class="sxs-lookup"><span data-stu-id="a77d1-223">Right-click the Models folder in the Solution Explorer window and the select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="a77d1-224">Vyberte **Data** kategorie a vyberte **ADO.NET Entity Data Model** šablony.</span><span class="sxs-lookup"><span data-stu-id="a77d1-224">Select the **Data** category and select the **ADO.NET Entity Data Model** template.</span></span>
3. <span data-ttu-id="a77d1-225">Zadejte název datového modelu *MoviesDBModel.edmx* a klikněte na tlačítko **přidat** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="a77d1-225">Give your data model the name *MoviesDBModel.edmx* and click the **Add** button.</span></span>

<span data-ttu-id="a77d1-226">Po kliknutí na tlačítko Přidat, zobrazí se průvodce Entity Data Model (viz obrázek 6).</span><span class="sxs-lookup"><span data-stu-id="a77d1-226">After you click the Add button, the Entity Data Model Wizard appears (see Figure 6).</span></span> <span data-ttu-id="a77d1-227">Postupujte podle následujících kroků dokončete průvodce:</span><span class="sxs-lookup"><span data-stu-id="a77d1-227">Follow these steps to complete the wizard:</span></span>

1. <span data-ttu-id="a77d1-228">V **zvolte obsah modelu** krok, vyberte **generování z databáze** možnost.</span><span class="sxs-lookup"><span data-stu-id="a77d1-228">In the **Choose Model Contents** step, select the **Generate from database** option.</span></span>
2. <span data-ttu-id="a77d1-229">V **vybrat datové připojení** krok, použijte *MoviesDB.mdf* datové připojení a názvu *MoviesDBEntities* pro nastavení připojení.</span><span class="sxs-lookup"><span data-stu-id="a77d1-229">In the **Choose Your Data Connection** step, use the *MoviesDB.mdf* data connection and the name *MoviesDBEntities* for the connection settings.</span></span> <span data-ttu-id="a77d1-230">Klikněte **Další** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="a77d1-230">Click the **Next** button.</span></span>
3. <span data-ttu-id="a77d1-231">V **zvolte si databázové objekty** krok, rozbalte uzel tabulky, vyberte tabulku, filmy.</span><span class="sxs-lookup"><span data-stu-id="a77d1-231">In the **Choose Your Database Objects** step, expand the Tables node, select the Movies table.</span></span> <span data-ttu-id="a77d1-232">Zadejte obor názvů *MovieApp.Models* a klikněte na **Dokončit** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="a77d1-232">Enter the namespace *MovieApp.Models* and click the **Finish** button.</span></span>


<span data-ttu-id="a77d1-233">[![Dialogové okno Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="a77d1-233">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.png)</span></span>

<span data-ttu-id="a77d1-234">**Obrázek 06**: generování modelu databáze s průvodci Entity Data Model ([Kliknutím zobrazit obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="a77d1-234">**Figure 06**: Generating a database model with the Entity Data Model Wizard ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.png))</span></span>


<span data-ttu-id="a77d1-235">Po dokončení průvodce Entity Data Model Entity Data Model Designer se otevře.</span><span class="sxs-lookup"><span data-stu-id="a77d1-235">After you complete the Entity Data Model Wizard, the Entity Data Model Designer opens.</span></span> <span data-ttu-id="a77d1-236">Návrhář by měl zobrazit filmy databázové tabulky (viz obrázek 7).</span><span class="sxs-lookup"><span data-stu-id="a77d1-236">The Designer should display the Movies database table (see Figure 7).</span></span>


<span data-ttu-id="a77d1-237">[![Dialogové okno Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="a77d1-237">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.png)</span></span>

<span data-ttu-id="a77d1-238">**Obrázek 07**: Entity Data Model Designer ([Kliknutím zobrazit obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="a77d1-238">**Figure 07**: The Entity Data Model Designer ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.png))</span></span>


<span data-ttu-id="a77d1-239">Je potřeba jeden změnu provést, abychom mohli pokračovat.</span><span class="sxs-lookup"><span data-stu-id="a77d1-239">We need to make one change before we continue.</span></span> <span data-ttu-id="a77d1-240">Průvodce dat Entity vygeneruje třídu modelu s názvem *filmy* představující filmy databázové tabulky.</span><span class="sxs-lookup"><span data-stu-id="a77d1-240">The Entity Data Wizard generates a model class named *Movies* that represents the Movies database table.</span></span> <span data-ttu-id="a77d1-241">Protože třída filmy použijeme k reprezentaci konkrétní film, je potřeba změnit název třídy, která má být *film* místo *filmy* (singulární spíše než množném čísle).</span><span class="sxs-lookup"><span data-stu-id="a77d1-241">Because we'll use the Movies class to represent a particular movie, we need to modify the name of the class to be *Movie* instead of *Movies* (singular rather than plural).</span></span>

<span data-ttu-id="a77d1-242">Dvakrát klikněte na název třídy na plochu návrháře a změňte název třídy z filmy film.</span><span class="sxs-lookup"><span data-stu-id="a77d1-242">Double-click the name of the class on the designer surface and change the name of the class from Movies to Movie.</span></span> <span data-ttu-id="a77d1-243">Po provedení této změny, klikněte **Uložit** tlačítko (ikona disketu) ke generování film třídy.</span><span class="sxs-lookup"><span data-stu-id="a77d1-243">After making this change, click the **Save** button (the icon of the floppy disk) to generate the Movie class.</span></span>

## <a name="creating-the-aspnet-mvc-controller"></a><span data-ttu-id="a77d1-244">Vytvoření řadiče rozhraní ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="a77d1-244">Creating the ASP.NET MVC Controller</span></span>

<span data-ttu-id="a77d1-245">Dalším krokem je vytvoření kontroleru rozhraní ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a77d1-245">The next step is to create the ASP.NET MVC controller.</span></span> <span data-ttu-id="a77d1-246">Řadič slouží k řízení, jak se uživatel pracuje s aplikaci ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a77d1-246">A controller is responsible for controlling how a user interacts with an ASP.NET MVC application.</span></span>

<span data-ttu-id="a77d1-247">Postupujte podle těchto kroků:</span><span class="sxs-lookup"><span data-stu-id="a77d1-247">Follow these steps:</span></span>

1. <span data-ttu-id="a77d1-248">V okně Průzkumníku řešení klikněte pravým tlačítkem na složku řadiče a vyberte možnost nabídky **přidat, řadiče**.</span><span class="sxs-lookup"><span data-stu-id="a77d1-248">In the Solution Explorer window, right-click the Controllers folder and select the menu option **Add, Controller**.</span></span>
2. <span data-ttu-id="a77d1-249">V dialogovém okně Přidat kontroler, zadejte název *HomeController* a zaškrtněte políčko s názvem bez přípony **přidejte metody akce pro vytvoření, aktualizace a podrobnosti o scénářích** (viz obrázek 8).</span><span class="sxs-lookup"><span data-stu-id="a77d1-249">In the Add Controller dialog, enter the name *HomeController* and check the checkbox labeled **Add action methods for Create, Update, and Details scenarios** (see Figure 8).</span></span>
3. <span data-ttu-id="a77d1-250">Klikněte **přidat** tlačítko přidáte nový řadič do projektu.</span><span class="sxs-lookup"><span data-stu-id="a77d1-250">Click the **Add** button to add the new controller to your project.</span></span>

<span data-ttu-id="a77d1-251">Po dokončení těchto kroků se vytvoří řadiče v výpis 1.</span><span class="sxs-lookup"><span data-stu-id="a77d1-251">After you complete these steps, the controller in Listing 1 is created.</span></span> <span data-ttu-id="a77d1-252">Všimněte si, že obsahuje metody s názvem Index, podrobnosti, vytvořit a upravte.</span><span class="sxs-lookup"><span data-stu-id="a77d1-252">Notice that it contains methods named Index, Details, Create, and Edit.</span></span> <span data-ttu-id="a77d1-253">V následujících částech přidáme nezbytné kód slouží k získání těchto metod pro práci.</span><span class="sxs-lookup"><span data-stu-id="a77d1-253">In the following sections, we'll add the necessary code to get these methods to work.</span></span>


<span data-ttu-id="a77d1-254">[![Dialogové okno Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="a77d1-254">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image15.png)</span></span>

<span data-ttu-id="a77d1-255">**Obrázek 08**: přidávání nového řadiče MVC ASP.NET ([Kliknutím zobrazit obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="a77d1-255">**Figure 08**: Adding a new ASP.NET MVC Controller ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image16.png))</span></span>


<span data-ttu-id="a77d1-256">**Výpis 1 – Controllers\HomeController.cs**</span><span class="sxs-lookup"><span data-stu-id="a77d1-256">**Listing 1 – Controllers\HomeController.cs**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample1.cs)]

## <a name="listing-database-records"></a><span data-ttu-id="a77d1-257">Seznam záznamů databáze</span><span class="sxs-lookup"><span data-stu-id="a77d1-257">Listing Database Records</span></span>

<span data-ttu-id="a77d1-258">Metoda Index() řadiče domovské je výchozí metodou pro aplikaci ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a77d1-258">The Index() method of the Home controller is the default method for an ASP.NET MVC application.</span></span> <span data-ttu-id="a77d1-259">Při spuštění aplikace ASP.NET MVC je metoda Index() první řadič metodu, která je volána.</span><span class="sxs-lookup"><span data-stu-id="a77d1-259">When you run an ASP.NET MVC application, the Index() method is the first controller method that is called.</span></span>

<span data-ttu-id="a77d1-260">Chcete-li zobrazit seznam záznamů z tabulky databáze filmy použijeme metodu Index().</span><span class="sxs-lookup"><span data-stu-id="a77d1-260">We'll use the Index() method to display the list of records from the Movies database table.</span></span> <span data-ttu-id="a77d1-261">Provedeme výhod databáze třídy modelu, které jsme vytvořili předtím pro načtení záznamů databáze film s metodou Index().</span><span class="sxs-lookup"><span data-stu-id="a77d1-261">We'll take advantage of the database model classes that we created earlier to retrieve the movie database records with the Index() method.</span></span>

<span data-ttu-id="a77d1-262">Třídy HomeController ve výpisu 2 jste došlo tak, aby obsahoval nové privátní pole s názvem \_db.</span><span class="sxs-lookup"><span data-stu-id="a77d1-262">I've modified the HomeController class in Listing 2 so that it contains a new private field named \_db.</span></span> <span data-ttu-id="a77d1-263">Třída MoviesDBEntities představuje naše model databáze a tato třída použijeme ke komunikaci s naše databází.</span><span class="sxs-lookup"><span data-stu-id="a77d1-263">The MoviesDBEntities class represents our database model and we'll use this class to communicate with our database.</span></span>

<span data-ttu-id="a77d1-264">Také jste došlo metodu Index() v výpis 2.</span><span class="sxs-lookup"><span data-stu-id="a77d1-264">I've also modified the Index() method in Listing 2.</span></span> <span data-ttu-id="a77d1-265">Metoda Index() používá třídu MoviesDBEntities načíst všechny záznamy film z filmy databázové tabulky.</span><span class="sxs-lookup"><span data-stu-id="a77d1-265">The Index() method uses the MoviesDBEntities class to retrieve all of the movie records from the Movies database table.</span></span> <span data-ttu-id="a77d1-266">Výraz  *\_db. MovieSet.ToList()* vrátí seznam všech záznamů film z filmy databázové tabulky.</span><span class="sxs-lookup"><span data-stu-id="a77d1-266">The expression *\_db.MovieSet.ToList()* returns a list of all of the movie records from the Movies database table.</span></span>

<span data-ttu-id="a77d1-267">Seznam filmy, je předaná do zobrazení.</span><span class="sxs-lookup"><span data-stu-id="a77d1-267">The list of movies is passed to the view.</span></span> <span data-ttu-id="a77d1-268">Všechno, co získá předaný metodě View() předána do zobrazení jako data zobrazení.</span><span class="sxs-lookup"><span data-stu-id="a77d1-268">Anything that gets passed to the View() method gets passed to the view as view data.</span></span>

<span data-ttu-id="a77d1-269">**Výpis 2 – Controllers/HomeController.cs (upravené Index metoda)**</span><span class="sxs-lookup"><span data-stu-id="a77d1-269">**Listing 2 – Controllers/HomeController.cs (modified Index method)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample2.cs)]

<span data-ttu-id="a77d1-270">Vrátí metoda Index() zobrazení s názvem Index.</span><span class="sxs-lookup"><span data-stu-id="a77d1-270">The Index() method returns a view named Index.</span></span> <span data-ttu-id="a77d1-271">Je potřeba vytvořit seznam záznamů databáze film tohoto zobrazení.</span><span class="sxs-lookup"><span data-stu-id="a77d1-271">We need to create this view to display the list of movie database records.</span></span> <span data-ttu-id="a77d1-272">Postupujte podle těchto kroků:</span><span class="sxs-lookup"><span data-stu-id="a77d1-272">Follow these steps:</span></span>


<span data-ttu-id="a77d1-273">Má sestavit projekt (vyberte možnost nabídky **sestavení, sestavit řešení**) před otevřením **přidat zobrazení** dialogového nebo žádné třídy, zobrazí se v **zobrazit třída dat** rozevírací seznam.</span><span class="sxs-lookup"><span data-stu-id="a77d1-273">You should build your project (select the menu option **Build, Build Solution**) before opening the **Add View** dialog or no classes will appear in the **View data class** dropdown list.</span></span>


1. <span data-ttu-id="a77d1-274">Klikněte pravým tlačítkem na metodu Index() v editoru kódu a vyberte možnost nabídky **přidat zobrazení** (viz obrázek 9).</span><span class="sxs-lookup"><span data-stu-id="a77d1-274">Right-click the Index() method in the code editor and select the menu option **Add View** (see Figure 9).</span></span>
2. <span data-ttu-id="a77d1-275">V dialogovém okně Přidat zobrazení, ověřte, že políčko s názvem bez přípony **vytvořit zobrazení silného typu** je zaškrtnuté.</span><span class="sxs-lookup"><span data-stu-id="a77d1-275">In the Add View dialog, verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="a77d1-276">Z **zobrazit obsah** rozevíracího seznamu, vyberte hodnotu *seznamu*.</span><span class="sxs-lookup"><span data-stu-id="a77d1-276">From the **View content** dropdown list, select the value *List*.</span></span>
4. <span data-ttu-id="a77d1-277">Z **zobrazit třída dat** rozevíracího seznamu, vyberte hodnotu *MovieApp.Models.Movie*.</span><span class="sxs-lookup"><span data-stu-id="a77d1-277">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="a77d1-278">Kliknutím na tlačítko Přidat k vytvoření nové zobrazení (viz obrázek 10).</span><span class="sxs-lookup"><span data-stu-id="a77d1-278">Click the Add button to create the new view (see Figure 10).</span></span>

<span data-ttu-id="a77d1-279">Po dokončení těchto kroků nové zobrazení s názvem Index.aspx přidán do složky Views\Home.</span><span class="sxs-lookup"><span data-stu-id="a77d1-279">After you complete these steps, a new view named Index.aspx is added to the Views\Home folder.</span></span> <span data-ttu-id="a77d1-280">Obsah zobrazení indexu jsou součástí výpis 3.</span><span class="sxs-lookup"><span data-stu-id="a77d1-280">The contents of the Index view are included in Listing 3.</span></span>


<span data-ttu-id="a77d1-281">[![Dialogové okno Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="a77d1-281">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image17.png)</span></span>

<span data-ttu-id="a77d1-282">**Obrázek 09**: přidávání zobrazení z akce kontroleru ([Kliknutím zobrazit obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="a77d1-282">**Figure 09**: Adding a view from a controller action ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image18.png))</span></span>


<span data-ttu-id="a77d1-283">[![Dialogové okno Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="a77d1-283">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image19.png)</span></span>

<span data-ttu-id="a77d1-284">**Obrázek 10**: vytvoření nové zobrazení pomocí dialogu přidat zobrazení ([Kliknutím zobrazit obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="a77d1-284">**Figure 10**: Creating a new view with the Add View dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image20.png))</span></span>


<span data-ttu-id="a77d1-285">**Listing 3 – Views\Home\Index.aspx**</span><span class="sxs-lookup"><span data-stu-id="a77d1-285">**Listing 3 – Views\Home\Index.aspx**</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample3.aspx)]

<span data-ttu-id="a77d1-286">Zobrazení indexu zobrazuje všechny záznamy filmu ze filmy databázové tabulky v rámci tabulky HTML.</span><span class="sxs-lookup"><span data-stu-id="a77d1-286">The Index view displays all of the movie records from the Movies database table within an HTML table.</span></span> <span data-ttu-id="a77d1-287">Zobrazení obsahuje smyčka typu foreach, který iteruje v rámci každé film reprezentována ViewData.Model vlastnost.</span><span class="sxs-lookup"><span data-stu-id="a77d1-287">The view contains a foreach loop that iterates through each movie represented by the ViewData.Model property.</span></span> <span data-ttu-id="a77d1-288">Pokud vaše aplikace spouštěné stiskne klávesu F5, uvidíte webové stránky v obrázek 11.</span><span class="sxs-lookup"><span data-stu-id="a77d1-288">If you run your application by hitting the F5 key, then you'll see the web page in Figure 11.</span></span>


<span data-ttu-id="a77d1-289">[![Dialogové okno Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="a77d1-289">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image21.png)</span></span>

<span data-ttu-id="a77d1-290">**Obrázek 11**: Zobrazení indexu ([Kliknutím zobrazit obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="a77d1-290">**Figure 11**: The Index view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image22.png))</span></span>


## <a name="creating-new-database-records"></a><span data-ttu-id="a77d1-291">Vytváření nových záznamů databáze</span><span class="sxs-lookup"><span data-stu-id="a77d1-291">Creating New Database Records</span></span>

<span data-ttu-id="a77d1-292">Index zobrazení, které jsme vytvořili v předchozí části obsahuje odkaz pro vytvoření nové databáze záznamy.</span><span class="sxs-lookup"><span data-stu-id="a77d1-292">The Index view that we created in the previous section includes a link for creating new database records.</span></span> <span data-ttu-id="a77d1-293">Vraťme se dopředu a implementovat logiku a vytvořte potřebné pro vytvoření nové databáze záznamy film zobrazení.</span><span class="sxs-lookup"><span data-stu-id="a77d1-293">Let's go ahead and implement the logic and create the view necessary for creating new movie database records.</span></span>

<span data-ttu-id="a77d1-294">Řadičem domovské obsahuje dvě metody s názvem Create().</span><span class="sxs-lookup"><span data-stu-id="a77d1-294">The Home controller contains two methods named Create().</span></span> <span data-ttu-id="a77d1-295">První metoda Create() nemá žádné parametry.</span><span class="sxs-lookup"><span data-stu-id="a77d1-295">The first Create() method has no parameters.</span></span> <span data-ttu-id="a77d1-296">Toto přetížení metody Create() se používá k zobrazení formuláře HTML pro vytvoření nového záznamu film databáze.</span><span class="sxs-lookup"><span data-stu-id="a77d1-296">This overload of the Create() method is used to display the HTML form for creating a new movie database record.</span></span>

<span data-ttu-id="a77d1-297">Druhá metoda Create() obsahuje parametr FormCollection.</span><span class="sxs-lookup"><span data-stu-id="a77d1-297">The second Create() method has a FormCollection parameter.</span></span> <span data-ttu-id="a77d1-298">Toto přetížení metody Create() je volána při odeslání formuláře HTML pro vytvoření nové film k serveru.</span><span class="sxs-lookup"><span data-stu-id="a77d1-298">This overload of the Create() method is called when the HTML form for creating a new movie is posted to the server.</span></span> <span data-ttu-id="a77d1-299">Všimněte si, že tato metoda Create() má AcceptVerbs atribut, který brání metoda volána, pokud se provádí operaci HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="a77d1-299">Notice that this second Create() method has an AcceptVerbs attribute that prevents the method from being called unless an HTTP POST operation is performed.</span></span>

<span data-ttu-id="a77d1-300">Tato metoda Create() se změnilo ve třídě HomeController aktualizovaný seznam 4.</span><span class="sxs-lookup"><span data-stu-id="a77d1-300">This second Create() method has been modified in the updated HomeController class in Listing 4.</span></span> <span data-ttu-id="a77d1-301">Nová verze metody Create() přijme parametr film a obsahuje logiku pro vkládání nové film do tabulky databáze filmy.</span><span class="sxs-lookup"><span data-stu-id="a77d1-301">The new version of the Create() method accepts a Movie parameter and contains the logic for inserting a new movie into the Movies database table.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="a77d1-302">Všimněte si atribut vazby.</span><span class="sxs-lookup"><span data-stu-id="a77d1-302">Notice the Bind attribute.</span></span> <span data-ttu-id="a77d1-303">Vzhledem k tomu, že jsme nechcete aktualizovat vlastnost Id film z formuláře HTML, je potřeba explicitně vyloučit tuto vlastnost.</span><span class="sxs-lookup"><span data-stu-id="a77d1-303">Because we don't want to update the Movie Id property from HTML form, we need to explicitly exclude this property.</span></span>


<span data-ttu-id="a77d1-304">**Výpis 4 – Controllers\HomeController.cs (upravené metodu Create)**</span><span class="sxs-lookup"><span data-stu-id="a77d1-304">**Listing 4 – Controllers\HomeController.cs (modified Create method)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample4.cs)]

<span data-ttu-id="a77d1-305">Visual Studio usnadňuje vytvoření formuláře pro vytvoření nové databáze film záznam (viz obrázek 12).</span><span class="sxs-lookup"><span data-stu-id="a77d1-305">Visual Studio makes it easy to create the form for creating a new movie database record (see Figure 12).</span></span> <span data-ttu-id="a77d1-306">Postupujte podle těchto kroků:</span><span class="sxs-lookup"><span data-stu-id="a77d1-306">Follow these steps:</span></span>

1. <span data-ttu-id="a77d1-307">Klikněte pravým tlačítkem na metodu Create() v editoru kódu a vyberte možnost nabídky **přidat zobrazení**.</span><span class="sxs-lookup"><span data-stu-id="a77d1-307">Right-click the Create() method in the code editor and select the menu option **Add View**.</span></span>
2. <span data-ttu-id="a77d1-308">Ověřte, že políčko s názvem bez přípony **vytvořit zobrazení silného typu** je zaškrtnuté.</span><span class="sxs-lookup"><span data-stu-id="a77d1-308">Verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="a77d1-309">Z **zobrazit obsah** rozevíracího seznamu, vyberte hodnotu *vytvořit*.</span><span class="sxs-lookup"><span data-stu-id="a77d1-309">From the **View content** dropdown list, select the value *Create*.</span></span>
4. <span data-ttu-id="a77d1-310">Z **zobrazit třída dat** rozevíracího seznamu, vyberte hodnotu *MovieApp.Models.Movie*.</span><span class="sxs-lookup"><span data-stu-id="a77d1-310">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="a77d1-311">Klikněte **přidat** tlačítko vytvořte nové zobrazení.</span><span class="sxs-lookup"><span data-stu-id="a77d1-311">Click the **Add** button to create the new view.</span></span>


<span data-ttu-id="a77d1-312">[![Dialogové okno Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="a77d1-312">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image23.png)</span></span>

<span data-ttu-id="a77d1-313">**Obrázek 12**: Přidání zobrazení pro vytváření ([Kliknutím zobrazit obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="a77d1-313">**Figure 12**: Adding the Create view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image24.png))</span></span>


<span data-ttu-id="a77d1-314">Visual Studio automaticky generuje zobrazení v výpis 5.</span><span class="sxs-lookup"><span data-stu-id="a77d1-314">Visual Studio generates the view in Listing 5 automatically.</span></span> <span data-ttu-id="a77d1-315">Toto zobrazení obsahuje formuláře HTML, která obsahuje pole, které odpovídají každé z vlastností třídy film.</span><span class="sxs-lookup"><span data-stu-id="a77d1-315">This view contains an HTML form that includes fields that correspond to each of the properties of the Movie class.</span></span>

<span data-ttu-id="a77d1-316">**Listing 5 – Views\Home\Create.aspx**</span><span class="sxs-lookup"><span data-stu-id="a77d1-316">**Listing 5 – Views\Home\Create.aspx**</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample5.aspx)]

> [!NOTE] 
> 
> <span data-ttu-id="a77d1-317">Formuláře HTML vygenerované pomocí dialogového okna Přidat zobrazení generuje pole Id formuláře.</span><span class="sxs-lookup"><span data-stu-id="a77d1-317">The HTML form generated by the Add View dialog generates an Id form field.</span></span> <span data-ttu-id="a77d1-318">Protože Id sloupec je sloupec Identity, potřebujeme není toto pole formuláře a je možné bezpečně odebrat.</span><span class="sxs-lookup"><span data-stu-id="a77d1-318">Because the Id column is an Identity column, we don't need this form field and you can safely remove it.</span></span>


<span data-ttu-id="a77d1-319">Po přidání zobrazení pro vytváření, můžete přidat nové záznamy film do databáze.</span><span class="sxs-lookup"><span data-stu-id="a77d1-319">After you add the Create view, you can add new Movie records to the database.</span></span> <span data-ttu-id="a77d1-320">Spusťte aplikaci stisknutím klávesy F5 a klikněte na tlačítko Vytvořit nový odkaz zobrazíte formuláře v obrázek 13.</span><span class="sxs-lookup"><span data-stu-id="a77d1-320">Run your application by pressing the F5 key and click the Create New link to see the form in Figure 13.</span></span> <span data-ttu-id="a77d1-321">Pokud dokončení a odeslání formuláře se vytvoří nový záznam v databázi film.</span><span class="sxs-lookup"><span data-stu-id="a77d1-321">If you complete and submit the form, a new movie database record is created.</span></span>

<span data-ttu-id="a77d1-322">Všimněte si, automaticky získat ověřování formuláře.</span><span class="sxs-lookup"><span data-stu-id="a77d1-322">Notice that you get form validation automatically.</span></span> <span data-ttu-id="a77d1-323">Pokud neprovedete zadejte datum vydání pro film, nebo můžete zadat datum neplatná verze, formulář se zobrazí znovu a zvýrazní pole pro datum vydání.</span><span class="sxs-lookup"><span data-stu-id="a77d1-323">If you neglect to enter a release date for a movie, or you enter an invalid release date, then the form is redisplayed and the release date field is highlighted.</span></span>


<span data-ttu-id="a77d1-324">[![Dialogové okno Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="a77d1-324">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image25.png)</span></span>

<span data-ttu-id="a77d1-325">**Obrázek 13**: vytváření nového záznamu databáze movie ([Kliknutím zobrazit obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="a77d1-325">**Figure 13**: Creating a new movie database record ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image26.png))</span></span>


## <a name="editing-existing-database-records"></a><span data-ttu-id="a77d1-326">Úpravou existujících záznamů databáze</span><span class="sxs-lookup"><span data-stu-id="a77d1-326">Editing Existing Database Records</span></span>

<span data-ttu-id="a77d1-327">V předchozích částech jsme probrali, jak můžete seznam a vytvořit nové záznamy v databázi.</span><span class="sxs-lookup"><span data-stu-id="a77d1-327">In the previous sections, we discussed how you can list and create new database records.</span></span> <span data-ttu-id="a77d1-328">V této poslední části probereme, jak můžete upravit existující záznamy databáze.</span><span class="sxs-lookup"><span data-stu-id="a77d1-328">In this final section, we discuss how you can edit existing database records.</span></span>

<span data-ttu-id="a77d1-329">Nejprve musíme Generovat formulář upravit.</span><span class="sxs-lookup"><span data-stu-id="a77d1-329">First, we need to generate the Edit form.</span></span> <span data-ttu-id="a77d1-330">Tento krok je snadné, protože Visual Studio bude formulář upravit pro nás automaticky generovat.</span><span class="sxs-lookup"><span data-stu-id="a77d1-330">This step is easy since Visual Studio will generate the Edit form for us automatically.</span></span> <span data-ttu-id="a77d1-331">Otevřete HomeController.cs třídy v sadě Visual Studio editoru kódu a postupujte podle těchto kroků:</span><span class="sxs-lookup"><span data-stu-id="a77d1-331">Open the HomeController.cs class in the Visual Studio code editor and follow these steps:</span></span>

1. <span data-ttu-id="a77d1-332">Klikněte pravým tlačítkem na metodu Edit() v editoru kódu a vyberte možnost nabídky **přidat zobrazení** (viz obrázek 14).</span><span class="sxs-lookup"><span data-stu-id="a77d1-332">Right-click the Edit() method in the code editor and select the menu option **Add View** (see Figure 14).</span></span>
2. <span data-ttu-id="a77d1-333">Zaškrtněte políčko s názvem bez přípony **vytvořit zobrazení silného typu**.</span><span class="sxs-lookup"><span data-stu-id="a77d1-333">Check the checkbox labeled **Create a strongly-typed view**.</span></span>
3. <span data-ttu-id="a77d1-334">Z **zobrazit obsah** rozevíracího seznamu, vyberte hodnotu *upravit*.</span><span class="sxs-lookup"><span data-stu-id="a77d1-334">From the **View content** dropdown list, select the value *Edit*.</span></span>
4. <span data-ttu-id="a77d1-335">Z **zobrazit třída dat** rozevíracího seznamu, vyberte hodnotu *MovieApp.Models.Movie*.</span><span class="sxs-lookup"><span data-stu-id="a77d1-335">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="a77d1-336">Klikněte **přidat** tlačítko vytvořte nové zobrazení.</span><span class="sxs-lookup"><span data-stu-id="a77d1-336">Click the **Add** button to create the new view.</span></span>

<span data-ttu-id="a77d1-337">Dokončení těchto kroků přidá nové zobrazení s názvem Edit.aspx ke složce Views\Home.</span><span class="sxs-lookup"><span data-stu-id="a77d1-337">Completing these steps adds a new view named Edit.aspx to the Views\Home folder.</span></span> <span data-ttu-id="a77d1-338">Toto zobrazení obsahuje formuláře HTML pro úpravu záznamu film.</span><span class="sxs-lookup"><span data-stu-id="a77d1-338">This view contains an HTML form for editing a movie record.</span></span>


<span data-ttu-id="a77d1-339">[![Dialogové okno Nový projekt](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="a77d1-339">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image27.png)</span></span>

<span data-ttu-id="a77d1-340">**Obrázek 14**: Přidání zobrazení upravit ([Kliknutím zobrazit obrázek v plné velikosti](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="a77d1-340">**Figure 14**: Adding the Edit view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image28.png))</span></span>


> [!NOTE] 
> 
> <span data-ttu-id="a77d1-341">Upravit zobrazení obsahuje pole formuláře HTML, která odpovídá Id film vlastnost.</span><span class="sxs-lookup"><span data-stu-id="a77d1-341">The Edit view contains an HTML form field that corresponds to the Movie Id property.</span></span> <span data-ttu-id="a77d1-342">Vzhledem k tomu, že nechcete, aby lidé úpravy hodnotu vlastnosti Id, byste měli odebrat toto pole formuláře.</span><span class="sxs-lookup"><span data-stu-id="a77d1-342">Because you don't want people editing the value of the Id property, you should remove this form field.</span></span>


<span data-ttu-id="a77d1-343">Nakonec je potřeba upravit řadičem domovské tak, aby podporoval úprava záznamů databáze.</span><span class="sxs-lookup"><span data-stu-id="a77d1-343">Finally, we need to modify the Home controller so that it supports editing a database record.</span></span> <span data-ttu-id="a77d1-344">Aktualizované třídy HomeController je součástí výpis 6.</span><span class="sxs-lookup"><span data-stu-id="a77d1-344">The updated HomeController class is contained in Listing 6.</span></span>

<span data-ttu-id="a77d1-345">**Výpis 6 – Controllers\HomeController.cs (upravit metody)**</span><span class="sxs-lookup"><span data-stu-id="a77d1-345">**Listing 6 – Controllers\HomeController.cs (Edit methods)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample6.cs)]

<span data-ttu-id="a77d1-346">Ve výpisu 6 byly přidány další logiku do obou přetížení metody Edit().</span><span class="sxs-lookup"><span data-stu-id="a77d1-346">In Listing 6, I've added additional logic to both overloads of the Edit() method.</span></span> <span data-ttu-id="a77d1-347">První metoda Edit() vrátí záznam databáze film, která odpovídá Id parametr předaný metodě.</span><span class="sxs-lookup"><span data-stu-id="a77d1-347">The first Edit() method returns the movie database record that corresponds to the Id parameter passed to the method.</span></span> <span data-ttu-id="a77d1-348">Druhý přetížení provádí aktualizace na film záznam v databázi.</span><span class="sxs-lookup"><span data-stu-id="a77d1-348">The second overload performs the updates to a movie record in the database.</span></span>

<span data-ttu-id="a77d1-349">Všimněte si, že je nutné získat původní film a pak zavolají ApplyPropertyChanges(), aktualizovat existující film v databázi.</span><span class="sxs-lookup"><span data-stu-id="a77d1-349">Notice that you must retrieve the original movie, and then call ApplyPropertyChanges(), to update the existing movie in the database.</span></span>

## <a name="summary"></a><span data-ttu-id="a77d1-350">Souhrn</span><span class="sxs-lookup"><span data-stu-id="a77d1-350">Summary</span></span>

<span data-ttu-id="a77d1-351">Účelem tohoto kurzu bylo získáte představu o postupu při vytváření aplikace ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a77d1-351">The purpose of this tutorial was to give you a sense of the experience of building an ASP.NET MVC application.</span></span> <span data-ttu-id="a77d1-352">Ať zjistit, že vytváření webové aplikace ASP.NET MVC je velmi podobný postupu při vytvoření aplikace Active Server Pages nebo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a77d1-352">I hope that you discovered that building an ASP.NET MVC web application is very similar to the experience of building an Active Server Pages or ASP.NET application.</span></span>

<span data-ttu-id="a77d1-353">V tomto kurzu jsme se zaměřili pouze nejzákladnější funkce rozhraní ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a77d1-353">In this tutorial, we examined only the most basic features of the ASP.NET MVC framework.</span></span> <span data-ttu-id="a77d1-354">V budoucích kurzech jsme podrobně hlubší oblastech, jako je řadiče, akce kontroleru, zobrazení, data zobrazení a pomocné rutiny HTML.</span><span class="sxs-lookup"><span data-stu-id="a77d1-354">In future tutorials, we dive deeper into topics such as controllers, controller actions, views, view data, and HTML helpers.</span></span>

>[!div class="step-by-step"]
[<span data-ttu-id="a77d1-355">Next</span><span class="sxs-lookup"><span data-stu-id="a77d1-355">Next</span></span>](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb.md)
