---
uid: mvc/overview/older-versions/aspnet-mvc-4-mobile-features
title: Funkce mobilní architektury ASP.NET MVC 4 | Microsoft Docs
author: Rick-Anderson
description: Je nyní ve verzi MVC 5 tohoto kurzu s ukázky kódu v nasazení technologie ASP.NET MVC 5 mobilní webové aplikace na weby Azure.
ms.author: aspnetcontent
manager: wpickett
ms.date: 08/15/2012
ms.topic: article
ms.assetid: 27dc4fc8-1b51-43b0-933f-fc1b52476523
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions/aspnet-mvc-4-mobile-features
msc.type: authoredcontent
ms.openlocfilehash: 5f38fcdd8e71ce12f7899214b6b2133e21f9910c
ms.sourcegitcommit: 6784510cfb589308c3875ccb5113eb31031766b4
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/08/2018
ms.locfileid: "30876836"
---
<a name="aspnet-mvc-4-mobile-features"></a><span data-ttu-id="3ed01-103">Funkce mobilní architektury ASP.NET MVC 4</span><span class="sxs-lookup"><span data-stu-id="3ed01-103">ASP.NET MVC 4 Mobile Features</span></span>
====================
<span data-ttu-id="3ed01-104">podle [Rick Anderson](https://github.com/Rick-Anderson)</span><span class="sxs-lookup"><span data-stu-id="3ed01-104">by [Rick Anderson](https://github.com/Rick-Anderson)</span></span>

> <span data-ttu-id="3ed01-105">Je nyní verze MVC 5 s ukázky kódu v tomto kurzu [nasazení ASP.NET MVC 5 mobilní webové aplikace na weby Azure](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-mobile-app/).</span><span class="sxs-lookup"><span data-stu-id="3ed01-105">There is now an MVC 5 version of this tutorial with code samples at [Deploy an ASP.NET MVC 5 Mobile Web Application on Azure Web Sites](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-mobile-app/).</span></span>


<span data-ttu-id="3ed01-106">V tomto kurzu naučit základní informace o tom, jak pracovat s mobilní funkce v aplikaci ASP.NET MVC 4 Web.</span><span class="sxs-lookup"><span data-stu-id="3ed01-106">This tutorial will teach you the basics of how to work with mobile features in an ASP.NET MVC 4 Web application.</span></span> <span data-ttu-id="3ed01-107">V tomto kurzu můžete použít [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) nebo Visual Web Developer 2010 Express Service Pack 1 (&quot;Visual Web Developer nebo VWD&quot;).</span><span class="sxs-lookup"><span data-stu-id="3ed01-107">For this tutorial, you can use [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) or Visual Web Developer 2010 Express Service Pack 1 (&quot;Visual Web Developer or VWD&quot;).</span></span> <span data-ttu-id="3ed01-108">Pokud již máte, můžete professional verze sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="3ed01-108">You can use the professional version of Visual Studio if you already have that.</span></span>

<span data-ttu-id="3ed01-109">Než začnete, ujistěte se, že jste nainstalovali požadavky uvedené níže.</span><span class="sxs-lookup"><span data-stu-id="3ed01-109">Before you start, make sure you've installed the prerequisites listed below.</span></span>

- <span data-ttu-id="3ed01-110">[Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) (doporučeno) nebo Visual Studio Web Developer Express SP1.</span><span class="sxs-lookup"><span data-stu-id="3ed01-110">[Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) (recommended) or Visual Studio Web Developer Express SP1.</span></span> <span data-ttu-id="3ed01-111">Visual Studio 2012 obsahuje ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="3ed01-111">Visual Studio 2012 contains ASP.NET MVC 4.</span></span> <span data-ttu-id="3ed01-112">Pokud používáte Visual Web Developer 2010, je nutné nainstalovat [ASP.NET MVC 4](https://go.microsoft.com/fwlink/?LinkId=243392).</span><span class="sxs-lookup"><span data-stu-id="3ed01-112">If you are using Visual Web Developer 2010, you must install [ASP.NET MVC 4](https://go.microsoft.com/fwlink/?LinkId=243392).</span></span>

<span data-ttu-id="3ed01-113">Budete také potřebovat emulátoru prohlížeč pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-113">You will also need a mobile browser emulator.</span></span> <span data-ttu-id="3ed01-114">Bude fungovat některé z následujících:</span><span class="sxs-lookup"><span data-stu-id="3ed01-114">Any of the following will work:</span></span>

- <span data-ttu-id="3ed01-115">[Emulátor Windows 7 Phone](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span><span class="sxs-lookup"><span data-stu-id="3ed01-115">[Windows 7 Phone Emulator](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span></span> <span data-ttu-id="3ed01-116">(Toto je emulátor, který se používá ve většině snímky obrazovky v tomto kurzu).</span><span class="sxs-lookup"><span data-stu-id="3ed01-116">(This is the emulator that's used in most of the screen shots in this tutorial.)</span></span>
- <span data-ttu-id="3ed01-117">Změňte řetězec uživatelského agenta emulovat zařízení typu iPhone.</span><span class="sxs-lookup"><span data-stu-id="3ed01-117">Change the user agent string to emulate an iPhone.</span></span> <span data-ttu-id="3ed01-118">V tématu [to](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) položku blogu.</span><span class="sxs-lookup"><span data-stu-id="3ed01-118">See [this](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) blog entry.</span></span>
- [<span data-ttu-id="3ed01-119">Emulátoru mobilního Opera</span><span class="sxs-lookup"><span data-stu-id="3ed01-119">Opera Mobile Emulator</span></span>](http://www.opera.com/developer/tools/mobile/)
- <span data-ttu-id="3ed01-120">[Apple Safari](http://www.apple.com/safari/download/) s uživatelský agent nastavena na zařízení iPhone.</span><span class="sxs-lookup"><span data-stu-id="3ed01-120">[Apple Safari](http://www.apple.com/safari/download/) with the user agent set to iPhone.</span></span> <span data-ttu-id="3ed01-121">Pokyny, jak nastavit uživatelský agent v prohlížeči Safari na "iPhone", najdete v části [jak umožníte Safari předstírají, že je aplikace Internet Explorer](http://www.davidalison.com/2008/05/how-to-let-safari-pretend-its-ie.html) na blogu David Alison.</span><span class="sxs-lookup"><span data-stu-id="3ed01-121">For instructions on how to set the user agent in Safari to "iPhone", see [How to let Safari pretend it's IE](http://www.davidalison.com/2008/05/how-to-let-safari-pretend-its-ie.html) on David Alison's blog.</span></span>

<span data-ttu-id="3ed01-122">Projekty Visual Studio se zdrojovým kódem C# jsou k dispozici v tomto tématu:</span><span class="sxs-lookup"><span data-stu-id="3ed01-122">Visual Studio projects with C# source code are available to accompany this topic:</span></span>

- [<span data-ttu-id="3ed01-123">Stažení Starter projektu</span><span class="sxs-lookup"><span data-stu-id="3ed01-123">Starter project download</span></span>](https://go.microsoft.com/fwlink/?linkid=228307&amp;clcid=0x409)
- [<span data-ttu-id="3ed01-124">Dokončení stažení projektu</span><span class="sxs-lookup"><span data-stu-id="3ed01-124">Completed project download</span></span>](https://go.microsoft.com/fwlink/?linkid=228306&amp;clcid=0x409)

### <a name="what-youll-build"></a><span data-ttu-id="3ed01-125">Co budete sestavení</span><span class="sxs-lookup"><span data-stu-id="3ed01-125">What You'll Build</span></span>

<span data-ttu-id="3ed01-126">V tomto kurzu přidáte mobilní funkce pro jednoduchou aplikaci seznamu konference, která je součástí [starter projektu](https://go.microsoft.com/fwlink/?LinkId=228307).</span><span class="sxs-lookup"><span data-stu-id="3ed01-126">For this tutorial, you'll add mobile features to the simple conference-listing application that's provided in the [starter project](https://go.microsoft.com/fwlink/?LinkId=228307).</span></span> <span data-ttu-id="3ed01-127">Následující snímek obrazovky ukazuje na stránku značky hotová aplikace, jak je vidět [emulátor Windows Phone 7](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span><span class="sxs-lookup"><span data-stu-id="3ed01-127">The following screenshot shows the tags page of the completed application as seen in the [Windows 7 Phone Emulator](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span></span> <span data-ttu-id="3ed01-128">V tématu [klávesnice mapování pro Windows Phone emulátoru](https://msdn.microsoft.com/library/ff754352(v=vs.92).aspx) zjednodušit vstup z klávesnice.</span><span class="sxs-lookup"><span data-stu-id="3ed01-128">See [Keyboard Mapping for Windows Phone Emulator](https://msdn.microsoft.com/library/ff754352(v=vs.92).aspx) to simplify keyboard input.</span></span>

<span data-ttu-id="3ed01-129">[![p1_Tags_CompletedProj](aspnet-mvc-4-mobile-features/_static/image2.png)](aspnet-mvc-4-mobile-features/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-129">[![p1_Tags_CompletedProj](aspnet-mvc-4-mobile-features/_static/image2.png)](aspnet-mvc-4-mobile-features/_static/image1.png)</span></span>

<span data-ttu-id="3ed01-130">Můžete použít Internet Explorer verze 9 nebo 10, k vývoji mobilních aplikací pomocí prohlížeče FireFox nebo Chrome [řetězec uživatelského agenta](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/).</span><span class="sxs-lookup"><span data-stu-id="3ed01-130">You can use Internet Explorer version 9 or 10, FireFox or Chrome to develop your mobile application by setting the [user agent string](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/).</span></span> <span data-ttu-id="3ed01-131">Následující obrázek znázorňuje dokončené kurz pomocí Internet Exploreru emulace zařízení typu iPhone.</span><span class="sxs-lookup"><span data-stu-id="3ed01-131">The following image shows the completed tutorial using Internet Explorer emulating an iPhone.</span></span> <span data-ttu-id="3ed01-132">Můžete použít nástroje pro vývojáře F-12 Internet Explorer a [nástroj Fiddler](http://www.fiddler2.com/fiddler2/) pomoci při ladění aplikace.</span><span class="sxs-lookup"><span data-stu-id="3ed01-132">You can use the Internet Explorer F-12 developer tools and the [Fiddler tool](http://www.fiddler2.com/fiddler2/) to help debug your application.</span></span>

![](aspnet-mvc-4-mobile-features/_static/image3.png)

### <a name="skills-youll-learn"></a><span data-ttu-id="3ed01-133">Dovedností, které se dozvíte</span><span class="sxs-lookup"><span data-stu-id="3ed01-133">Skills You'll Learn</span></span>

<span data-ttu-id="3ed01-134">Zde je, co se dozvíte:</span><span class="sxs-lookup"><span data-stu-id="3ed01-134">Here's what you'll learn:</span></span>

- <span data-ttu-id="3ed01-135">Jak používat šablony ASP.NET MVC 4 HTML5 `viewport` atribut a adaptivního vykreslování ke zlepšení zobrazit na mobilních zařízeních.</span><span class="sxs-lookup"><span data-stu-id="3ed01-135">How the ASP.NET MVC 4 templates use the HTML5 `viewport` attribute and adaptive rendering to improve display on mobile devices.</span></span>
- <span data-ttu-id="3ed01-136">Postup vytvoření mobilní konkrétní zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-136">How to create mobile-specific views.</span></span>
- <span data-ttu-id="3ed01-137">Postup vytvoření přepínači zobrazení této umožňuje uživatelům přepínání mezi mobilní zobrazení a zobrazení plochy aplikace.</span><span class="sxs-lookup"><span data-stu-id="3ed01-137">How to create a view switcher that lets users toggle between a mobile view and a desktop view of the application.</span></span>

### <a name="getting-started"></a><span data-ttu-id="3ed01-138">Začínáme</span><span class="sxs-lookup"><span data-stu-id="3ed01-138">Getting Started</span></span>

<span data-ttu-id="3ed01-139">Stažení aplikace konferenční výpis pro projekt starter pomocí následujícího odkazu: [Stáhnout](https://go.microsoft.com/fwlink/?LinkId=228307).</span><span class="sxs-lookup"><span data-stu-id="3ed01-139">Download the conference-listing application for the starter project using the following link: [Download](https://go.microsoft.com/fwlink/?LinkId=228307).</span></span> <span data-ttu-id="3ed01-140">V Průzkumníku Windows, klikněte pravým tlačítkem myši *MvcMobile.zip* souboru a zvolte **vlastnosti**.</span><span class="sxs-lookup"><span data-stu-id="3ed01-140">Then in Windows Explorer, right-click the *MvcMobile.zip* file and choose **Properties**.</span></span> <span data-ttu-id="3ed01-141">V **MvcMobile.zip vlastnosti** dialogovém okně vyberte **Odblokovat** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="3ed01-141">In the **MvcMobile.zip Properties** dialog box, choose the **Unblock** button.</span></span> <span data-ttu-id="3ed01-142">(Odblokování brání upozornění zabezpečení, která nastane, když se pokusíte použít *.zip* souboru, který jste stáhli z webu.)</span><span class="sxs-lookup"><span data-stu-id="3ed01-142">(Unblocking prevents a security warning that occurs when you try to use a *.zip* file that you've downloaded from the web.)</span></span>

![p1_unBlock](aspnet-mvc-4-mobile-features/_static/image4.png)

<span data-ttu-id="3ed01-144">Klikněte pravým tlačítkem myši *MvcMobile.zip* soubor a vyberte **Extrahovat vše** soubor rozbalit.</span><span class="sxs-lookup"><span data-stu-id="3ed01-144">Right-click the *MvcMobile.zip* file and select **Extract All** to unzip the file.</span></span> <span data-ttu-id="3ed01-145">V sadě Visual Studio, otevřete *MvcMobile.sln* souboru.</span><span class="sxs-lookup"><span data-stu-id="3ed01-145">In Visual Studio, open the *MvcMobile.sln* file.</span></span>

<span data-ttu-id="3ed01-146">Stisknutím kombinace kláves CTRL + F5 a spusťte aplikaci, které se zobrazí v prohlížeči klientů.</span><span class="sxs-lookup"><span data-stu-id="3ed01-146">Press CTRL+F5 to run the application, which will display it in your desktop browser.</span></span> <span data-ttu-id="3ed01-147">Spusťte emulátor váš prohlížeč pro mobilní zařízení, zkopírujte adresu URL pro aplikaci konferenční do emulátoru a klikněte **Procházet podle značky** odkaz.</span><span class="sxs-lookup"><span data-stu-id="3ed01-147">Start your mobile browser emulator, copy the URL for the conference application into the emulator, and then click the **Browse by tag** link.</span></span> <span data-ttu-id="3ed01-148">Pokud používáte emulátor Windows Phone, klikněte na panelu Adresa URL a stisknutím klávesy pozastavení a získat tak přístup klávesnice.</span><span class="sxs-lookup"><span data-stu-id="3ed01-148">If you are using the Windows Phone Emulator, click in the URL bar and press the Pause key to get keyboard access.</span></span> <span data-ttu-id="3ed01-149">Obrázek níže znázorňuje *AllTags* zobrazení (z výběru **Procházet podle značky**).</span><span class="sxs-lookup"><span data-stu-id="3ed01-149">The image below shows the *AllTags* view (from choosing **Browse by tag**).</span></span>

<span data-ttu-id="3ed01-150">[![p1_browseTag](aspnet-mvc-4-mobile-features/_static/image6.png)](aspnet-mvc-4-mobile-features/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-150">[![p1_browseTag](aspnet-mvc-4-mobile-features/_static/image6.png)](aspnet-mvc-4-mobile-features/_static/image5.png)</span></span>

<span data-ttu-id="3ed01-151">Zobrazení je velmi čitelná na mobilním zařízení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-151">The display is very readable on a mobile device.</span></span> <span data-ttu-id="3ed01-152">Vyberte odkaz ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3ed01-152">Choose the ASP.NET link.</span></span>

<span data-ttu-id="3ed01-153">[![p1_tagged_ASPNET](aspnet-mvc-4-mobile-features/_static/image8.png)](aspnet-mvc-4-mobile-features/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-153">[![p1_tagged_ASPNET](aspnet-mvc-4-mobile-features/_static/image8.png)](aspnet-mvc-4-mobile-features/_static/image7.png)</span></span>

<span data-ttu-id="3ed01-154">Zobrazení značek ASP.NET je velmi nahuštěných.</span><span class="sxs-lookup"><span data-stu-id="3ed01-154">The ASP.NET tag view is very cluttered.</span></span> <span data-ttu-id="3ed01-155">Například **datum** sloupec je velmi obtížné číst.</span><span class="sxs-lookup"><span data-stu-id="3ed01-155">For example, the **Date** column is very difficult to read.</span></span> <span data-ttu-id="3ed01-156">Později v tomto kurzu vytvoříte z verze *AllTags* zobrazení, který je speciálně pro mobilní prohlížeče a který bude zobrazení čitelné.</span><span class="sxs-lookup"><span data-stu-id="3ed01-156">Later in the tutorial you'll create a version of the *AllTags* view that's specifically for mobile browsers and that will make the display readable.</span></span>

<span data-ttu-id="3ed01-157">Poznámka: Aktuálně chyby existuje v mobilních modul ukládání do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="3ed01-157">Note: Currently a bug exists in the mobile caching engine.</span></span> <span data-ttu-id="3ed01-158">Aplikacích v produkčním prostředí, je nutné nainstalovat [pevné DisplayModes](http://nuget.org/packages/Microsoft.AspNet.Mvc.FixedDisplayModes) balíček nuget.</span><span class="sxs-lookup"><span data-stu-id="3ed01-158">For production applications, you must install the [Fixed DisplayModes](http://nuget.org/packages/Microsoft.AspNet.Mvc.FixedDisplayModes) nugget package.</span></span> <span data-ttu-id="3ed01-159">V tématu [ASP.NET MVC 4 Mobile ukládání do mezipaměti chyb pevné](https://blogs.msdn.com/b/rickandy/archive/2012/09/17/asp-net-mvc-4-mobile-caching-bug-fixed.aspx) podrobnosti o opravu.</span><span class="sxs-lookup"><span data-stu-id="3ed01-159">See [ASP.NET MVC 4 Mobile Caching Bug Fixed](https://blogs.msdn.com/b/rickandy/archive/2012/09/17/asp-net-mvc-4-mobile-caching-bug-fixed.aspx) for details on the fix.</span></span>

## <a name="css-media-queries"></a><span data-ttu-id="3ed01-160">Dotazy na média šablon stylů CSS</span><span class="sxs-lookup"><span data-stu-id="3ed01-160">CSS Media Queries</span></span>

<span data-ttu-id="3ed01-161">[Dotazy na média šablon stylů CSS](http://www.w3.org/TR/css3-mediaqueries/) , jsou rozšíření do šablon stylů CSS pro typy médií.</span><span class="sxs-lookup"><span data-stu-id="3ed01-161">[CSS media queries](http://www.w3.org/TR/css3-mediaqueries/) are an extension to CSS for media types.</span></span> <span data-ttu-id="3ed01-162">Umožňují vám umožňují vytvořit pravidla, které potlačí výchozí pravidla šablon stylů CSS pro konkrétní prohlížeče (Uživatelští agenti).</span><span class="sxs-lookup"><span data-stu-id="3ed01-162">They allow you to create rules that override the default CSS rules for specific browsers (user agents).</span></span> <span data-ttu-id="3ed01-163">Běžné pravidlo CSS, která je cílena mobilní prohlížeče je definování obrazovky maximální velikost.</span><span class="sxs-lookup"><span data-stu-id="3ed01-163">A common rule for CSS that targets mobile browsers is defining the maximum screen size.</span></span> <span data-ttu-id="3ed01-164">*Content\Site.css* soubor, který se vytvoří při vytvoření nového projektu ASP.NET MVC 4 Internet obsahuje následující dotaz média:</span><span class="sxs-lookup"><span data-stu-id="3ed01-164">The *Content\Site.css* file that's created when you create a new ASP.NET MVC 4 Internet project contains the following media query:</span></span>

[!code-css[Main](aspnet-mvc-4-mobile-features/samples/sample1.css)]

<span data-ttu-id="3ed01-165">Pokud 850 pixelů, maximálně okně prohlížeče se bude používat pravidla šablon stylů CSS v tomto bloku média.</span><span class="sxs-lookup"><span data-stu-id="3ed01-165">If the browser window is 850 pixels wide or less, it will use the CSS rules inside this media block.</span></span> <span data-ttu-id="3ed01-166">Dotazy na média šablon stylů CSS takto můžete zajistit lepší zobrazení obsah HTML na malé prohlížeče (např. mobilní prohlížeče) než výchozí pravidla šablon stylů CSS, která jsou navrženy pro širší zobrazí plochy prohlížečů.</span><span class="sxs-lookup"><span data-stu-id="3ed01-166">You can use CSS media queries like this to provide a better display of HTML content on small browsers (like mobile browsers) than the default CSS rules that are designed for the wider displays of desktop browsers.</span></span>

## <a name="the-viewport-meta-tag"></a><span data-ttu-id="3ed01-167">Značka Meta zobrazení</span><span class="sxs-lookup"><span data-stu-id="3ed01-167">The Viewport Meta Tag</span></span>

<span data-ttu-id="3ed01-168">Většina mobilních prohlížečů definovat šířku okna virtuální prohlížeče ( *zobrazení*), je mnohem větší než skutečná šířka mobilního zařízení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-168">Most mobile browsers define a virtual browser window width (the *viewport*) that's much larger than the actual width of the mobile device.</span></span> <span data-ttu-id="3ed01-169">To umožňuje mobilní prohlížeče přizpůsobit celou webovou stránku uvnitř virtuální zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-169">This allows mobile browsers to fit the entire web page inside the virtual display.</span></span> <span data-ttu-id="3ed01-170">Uživatele můžete pak přiblížit zajímavé obsahu.</span><span class="sxs-lookup"><span data-stu-id="3ed01-170">Users can then zoom in on interesting content.</span></span> <span data-ttu-id="3ed01-171">Ale pokud nastavíte Šířka zobrazení na šířku skutečné zařízení, bez měřítka je nutná, protože obsah vejde do mobilní prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="3ed01-171">However, if you set the viewport width to the actual device width, no zooming is required, because the content fits in the mobile browser.</span></span>

<span data-ttu-id="3ed01-172">Zobrazení `<meta>` značky v architektuře ASP.NET MVC 4 rozložení souboru Nastaví zobrazení na šířku zařízení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-172">The viewport `<meta>` tag in the ASP.NET MVC 4 layout file sets the viewport to the device width.</span></span> <span data-ttu-id="3ed01-173">Následující řádek ukazuje zobrazení `<meta>` značky v souboru rozložení ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="3ed01-173">The following line shows the viewport `<meta>` tag in the ASP.NET MVC 4 layout file.</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample2.html)]

## <a name="examining-the-effect-of-css-media-queries-and-the-viewport-meta-tag"></a><span data-ttu-id="3ed01-174">Zkoumání účinku dotazy na média šablon stylů CSS a metaznačku zobrazení</span><span class="sxs-lookup"><span data-stu-id="3ed01-174">Examining the Effect of CSS Media Queries and the Viewport Meta Tag</span></span>

<span data-ttu-id="3ed01-175">Otevřete *Views\Shared\\_Layout.cshtml* souboru v editoru a Odkomentujte zobrazení `<meta>` značky.</span><span class="sxs-lookup"><span data-stu-id="3ed01-175">Open the *Views\Shared\\_Layout.cshtml* file in the editor and comment out the viewport `<meta>` tag.</span></span> <span data-ttu-id="3ed01-176">Následující kód ukazuje komentované řádku.</span><span class="sxs-lookup"><span data-stu-id="3ed01-176">The following markup shows the commented-out line.</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample3.cshtml)]

<span data-ttu-id="3ed01-177">Otevřete *MvcMobile\Content\Site.css* souboru v editoru a změňte maximální šířka v media dotaz na nula pixelů.</span><span class="sxs-lookup"><span data-stu-id="3ed01-177">Open the *MvcMobile\Content\Site.css* file in the editor and change the maximum width in the media query to zero pixels.</span></span> <span data-ttu-id="3ed01-178">To znemožní pravidla šablon stylů CSS používá v mobilních prohlížečích.</span><span class="sxs-lookup"><span data-stu-id="3ed01-178">This will prevent the CSS rules from being used in mobile browsers.</span></span> <span data-ttu-id="3ed01-179">Následující řádek ukazuje upravené media dotaz:</span><span class="sxs-lookup"><span data-stu-id="3ed01-179">The following line shows the modified media query:</span></span>

[!code-css[Main](aspnet-mvc-4-mobile-features/samples/sample4.css)]

<span data-ttu-id="3ed01-180">Uložte změny a přejděte na konferenci aplikaci v emulátoru prohlížeč pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-180">Save your changes and browse to the Conference application in a mobile browser emulator.</span></span> <span data-ttu-id="3ed01-181">Malá velikost textu na následujícím obrázku je výsledek odebrání zobrazení `<meta>` značky.</span><span class="sxs-lookup"><span data-stu-id="3ed01-181">The tiny text in the following image is the result of removing the viewport `<meta>` tag.</span></span> <span data-ttu-id="3ed01-182">S žádné zobrazení `<meta>` značky, v prohlížeči je zmenšení zobrazení na šířku výchozí zobrazení (850 pixelů nebo širší u většiny mobilních prohlížečů.)</span><span class="sxs-lookup"><span data-stu-id="3ed01-182">With no viewport `<meta>` tag, the browser is zooming out to the default viewport width (850 pixels or wider for most mobile browsers.)</span></span>

<span data-ttu-id="3ed01-183">[![p1_noViewPort](aspnet-mvc-4-mobile-features/_static/image10.png)](aspnet-mvc-4-mobile-features/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-183">[![p1_noViewPort](aspnet-mvc-4-mobile-features/_static/image10.png)](aspnet-mvc-4-mobile-features/_static/image9.png)</span></span>

<span data-ttu-id="3ed01-184">Vrátit zpět změny – zrušte komentář u zobrazení `<meta>` značky v souboru rozložení a obnovit media dotaz 850 pixelů *Site.css* souboru.</span><span class="sxs-lookup"><span data-stu-id="3ed01-184">Undo your changes — uncomment the viewport `<meta>` tag in the layout file and restore the media query to 850 pixels in the *Site.css* file.</span></span> <span data-ttu-id="3ed01-185">Změny uložte a aktualizujte prohlížeč pro mobilní zařízení k ověření, že byla obnovena zobrazení mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-185">Save your changes and refresh the mobile browser to verify that the mobile-friendly display has been restored.</span></span>

<span data-ttu-id="3ed01-186">Zobrazení `<meta>` značky a šablon stylů CSS media dotaz nejsou specifické pro ASP.NET MVC 4, a můžete využít výhod těchto funkcí v jakékoli webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="3ed01-186">The viewport `<meta>` tag and the CSS media query are not specific to ASP.NET MVC 4, and you can take advantage of these features in any web application.</span></span> <span data-ttu-id="3ed01-187">Ale jsou teď integrované ve soubory, které jsou generovány, pokud vytvoříte nový projekt ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="3ed01-187">But they are now built into the files that are generated when you create a new ASP.NET MVC 4 project.</span></span>

<span data-ttu-id="3ed01-188">Další informace o zobrazení `<meta>` značky, najdete v části [indikaci dvě okna zobrazení – druhá část](http://www.quirksmode.org/mobile/viewports2.html).</span><span class="sxs-lookup"><span data-stu-id="3ed01-188">For more information about the viewport `<meta>` tag, see [A tale of two viewports — part two](http://www.quirksmode.org/mobile/viewports2.html).</span></span>

<span data-ttu-id="3ed01-189">V další části se zobrazí, jak poskytnout konkrétní zobrazení mobilní prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="3ed01-189">In the next section you'll see how to provide mobile-browser specific views.</span></span>

## <a name="overriding-views-layouts-and-partial-views"></a><span data-ttu-id="3ed01-190">Přepsání, zobrazení, částečná zobrazení a rozložení</span><span class="sxs-lookup"><span data-stu-id="3ed01-190">Overriding Views, Layouts, and Partial Views</span></span>

<span data-ttu-id="3ed01-191">Významné nová funkce v rozhraní ASP.NET MVC 4 je jednoduchý mechanismus, který umožňuje přepsat všechna zobrazení (včetně rozložení a částečné zobrazení) pro mobilní prohlížeče obecně pro jednotlivé mobilního prohlížeče nebo pro jakékoli konkrétní prohlížeč.</span><span class="sxs-lookup"><span data-stu-id="3ed01-191">A significant new feature in ASP.NET MVC 4 is a simple mechanism that lets you override any view (including layouts and partial views) for mobile browsers in general, for an individual mobile browser, or for any specific browser.</span></span> <span data-ttu-id="3ed01-192">Abyste si mohli zobrazit konkrétní mobilní, můžete zkopírovat soubor zobrazení a přidat *. Mobilní* k názvu souboru.</span><span class="sxs-lookup"><span data-stu-id="3ed01-192">To provide a mobile-specific view, you can copy a view file and add *.Mobile* to the file name.</span></span> <span data-ttu-id="3ed01-193">Chcete-li například vytvořit mobilních *Index* zobrazit, Kopírovat *Views\Home\Index.cshtml* k *Views\Home\Index.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3ed01-193">For example, to create a mobile *Index* view, copy *Views\Home\Index.cshtml* to *Views\Home\Index.Mobile.cshtml*.</span></span>

<span data-ttu-id="3ed01-194">V této části vytvoříte soubor specifické mobilní rozložení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-194">In this section, you'll create a mobile-specific layout file.</span></span>

<span data-ttu-id="3ed01-195">Chcete-li začít, zkopírujte *Views\Shared\\_Layout.cshtml* k *Views\Shared\\_Layout.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3ed01-195">To start, copy *Views\Shared\\_Layout.cshtml* to *Views\Shared\\_Layout.Mobile.cshtml*.</span></span> <span data-ttu-id="3ed01-196">Otevřete  *\_Layout.Mobile.cshtml* a změňte název od **MVC4 konference** k **konference (mobilní)**.</span><span class="sxs-lookup"><span data-stu-id="3ed01-196">Open *\_Layout.Mobile.cshtml* and change the title from **MVC4 Conference** to **Conference (Mobile)**.</span></span>

<span data-ttu-id="3ed01-197">V každé `Html.ActionLink` volání, odeberte "Procházet podle" v každé propojení *ActionLink*.</span><span class="sxs-lookup"><span data-stu-id="3ed01-197">In each `Html.ActionLink` call, remove "Browse by" in each link *ActionLink*.</span></span> <span data-ttu-id="3ed01-198">Následující kód ukazuje části dokončené textu mobilní rozložení souboru.</span><span class="sxs-lookup"><span data-stu-id="3ed01-198">The following code shows the completed body section of the mobile layout file.</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample5.cshtml)]

<span data-ttu-id="3ed01-199">Kopírování *Views\Home\AllTags.cshtml* do souboru *Views\Home\AllTags.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3ed01-199">Copy the *Views\Home\AllTags.cshtml* file to *Views\Home\AllTags.Mobile.cshtml*.</span></span> <span data-ttu-id="3ed01-200">Otevřete nový soubor a změňte `<h2>` element z "Značky" na "značky (M)":</span><span class="sxs-lookup"><span data-stu-id="3ed01-200">Open the new file and change the `<h2>` element from "Tags" to "Tags (M)":</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample6.html)]

<span data-ttu-id="3ed01-201">Přejděte na stránku značky pomocí prohlížeč pro stolní počítač a pomocí emulátoru prohlížeč pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-201">Browse to the tags page using a desktop browser and using mobile browser emulator.</span></span> <span data-ttu-id="3ed01-202">Emulátor mobilní prohlížeče ukazuje dva provedené změny.</span><span class="sxs-lookup"><span data-stu-id="3ed01-202">The mobile browser emulator shows the two changes you made.</span></span>

<span data-ttu-id="3ed01-203">[![p2m_layoutTags.mobile](aspnet-mvc-4-mobile-features/_static/image12.png)](aspnet-mvc-4-mobile-features/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-203">[![p2m_layoutTags.mobile](aspnet-mvc-4-mobile-features/_static/image12.png)](aspnet-mvc-4-mobile-features/_static/image11.png)</span></span>

<span data-ttu-id="3ed01-204">Naproti tomu nebylo změněno zobrazení plochy.</span><span class="sxs-lookup"><span data-stu-id="3ed01-204">In contrast, the desktop display has not changed.</span></span>

<span data-ttu-id="3ed01-205">[![p2_layoutTagsDesktop](aspnet-mvc-4-mobile-features/_static/image14.png)](aspnet-mvc-4-mobile-features/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-205">[![p2_layoutTagsDesktop](aspnet-mvc-4-mobile-features/_static/image14.png)](aspnet-mvc-4-mobile-features/_static/image13.png)</span></span>

## <a name="browser-specific-views"></a><span data-ttu-id="3ed01-206">Zobrazení specifické pro prohlížeč</span><span class="sxs-lookup"><span data-stu-id="3ed01-206">Browser-Specific Views</span></span>

<span data-ttu-id="3ed01-207">Kromě zobrazení specifická pro mobilní a desktop můžete vytvořit zobrazení pro jednotlivé prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="3ed01-207">In addition to mobile-specific and desktop-specific views, you can create views for an individual browser.</span></span> <span data-ttu-id="3ed01-208">Můžete například vytvořit zobrazení, které jsou speciálně určené pro iPhone prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="3ed01-208">For example, you can create views that are specifically for the iPhone browser.</span></span> <span data-ttu-id="3ed01-209">V této části vytvoříte rozložení pro prohlížeč iPhone a na zařízení iPhone verzi *AllTags* zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-209">In this section, you'll create a layout for the iPhone browser and an iPhone version of the *AllTags* view.</span></span>

<span data-ttu-id="3ed01-210">Otevřete *Global.asax* souboru a přidejte následující kód, který `Application_Start` metoda.</span><span class="sxs-lookup"><span data-stu-id="3ed01-210">Open the *Global.asax* file and add the following code to the `Application_Start` method.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample7.cs)]

<span data-ttu-id="3ed01-211">Tento kód definuje nový režim zobrazení s názvem "iPhone", který bude porovnání jednotlivých příchozích požadavků.</span><span class="sxs-lookup"><span data-stu-id="3ed01-211">This code defines a new display mode named "iPhone" that will be matched against each incoming request.</span></span> <span data-ttu-id="3ed01-212">Pokud příchozí požadavek odpovídá podmínku, kterou jste definovali (Pokud uživatelský agent obsahuje řetězec "iPhone"), rozhraní ASP.NET MVC bude hledat zobrazení, jejíž název obsahuje příponu "iPhone".</span><span class="sxs-lookup"><span data-stu-id="3ed01-212">If the incoming request matches the condition you defined (that is, if the user agent contains the string "iPhone"), ASP.NET MVC will look for views whose name contains the "iPhone" suffix.</span></span>

<span data-ttu-id="3ed01-213">V kódu, klikněte pravým tlačítkem na `DefaultDisplayMode`, zvolte **vyřešit**a potom vyberte `using System.Web.WebPages;`.</span><span class="sxs-lookup"><span data-stu-id="3ed01-213">In the code, right-click `DefaultDisplayMode`, choose **Resolve**, and then choose `using System.Web.WebPages;`.</span></span> <span data-ttu-id="3ed01-214">Tento postup přidá odkaz na `System.Web.WebPages` názvů, který je tam, kde `DisplayModes` a `DefaultDisplayMode` typy jsou definované.</span><span class="sxs-lookup"><span data-stu-id="3ed01-214">This adds a reference to the `System.Web.WebPages` namespace, which is where the `DisplayModes` and `DefaultDisplayMode` types are defined.</span></span>

<span data-ttu-id="3ed01-215">[![p2_resolve](aspnet-mvc-4-mobile-features/_static/image16.png)](aspnet-mvc-4-mobile-features/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-215">[![p2_resolve](aspnet-mvc-4-mobile-features/_static/image16.png)](aspnet-mvc-4-mobile-features/_static/image15.png)</span></span>

<span data-ttu-id="3ed01-216">Alternativně můžete právě ručně přidejte následující řádek na `using` část souboru.</span><span class="sxs-lookup"><span data-stu-id="3ed01-216">Alternatively, you can just manually add the following line to the `using` section of the file.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample8.cs)]

<span data-ttu-id="3ed01-217">Úplný obsahu *Global.asax* souboru je uveden níže.</span><span class="sxs-lookup"><span data-stu-id="3ed01-217">The complete contents of the *Global.asax* file is shown below.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample9.cs)]

<span data-ttu-id="3ed01-218">Uložte změny.</span><span class="sxs-lookup"><span data-stu-id="3ed01-218">Save the changes.</span></span> <span data-ttu-id="3ed01-219">Kopírování *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* do souboru *MvcMobile\Views\Shared\\_Layout.iPhone.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3ed01-219">Copy the *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file to *MvcMobile\Views\Shared\\_Layout.iPhone.cshtml*.</span></span> <span data-ttu-id="3ed01-220">Otevřete nový soubor a potom změňte `h1` nadpis z `Conference (Mobile)` k `Conference (iPhone)`.</span><span class="sxs-lookup"><span data-stu-id="3ed01-220">Open the new file and then change the `h1` heading from `Conference (Mobile)` to `Conference (iPhone)`.</span></span>

<span data-ttu-id="3ed01-221">Kopírování *MvcMobile\Views\Home\AllTags.Mobile.cshtml* do souboru *MvcMobile\Views\Home\AllTags.iPhone.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3ed01-221">Copy the *MvcMobile\Views\Home\AllTags.Mobile.cshtml* file to *MvcMobile\Views\Home\AllTags.iPhone.cshtml*.</span></span> <span data-ttu-id="3ed01-222">Nový soubor, změňte `<h2>` element z "značky (M)" pro "Značky (iPhone)".</span><span class="sxs-lookup"><span data-stu-id="3ed01-222">In the new file, change the `<h2>` element from "Tags (M)" to "Tags (iPhone)".</span></span>

<span data-ttu-id="3ed01-223">Spusťte aplikaci.</span><span class="sxs-lookup"><span data-stu-id="3ed01-223">Run the application.</span></span> <span data-ttu-id="3ed01-224">Spustit prohlížeč pro mobilní zařízení emulátoru, ujistěte se jeho uživatelský agent je nastavena na "iPhone" a přejděte do *AllTags* zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-224">Run a mobile browser emulator, make sure its user agent is set to "iPhone", and browse to the *AllTags* view.</span></span> <span data-ttu-id="3ed01-225">Následující snímek obrazovky ukazuje *AllTags* v vykreslit zobrazení [Safari](http://www.apple.com/safari/download/) prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="3ed01-225">The following screenshot shows the *AllTags* view rendered in the [Safari](http://www.apple.com/safari/download/) browser.</span></span> <span data-ttu-id="3ed01-226">Prohlížeč Safari pro systém Windows si můžete stáhnout [zde](https://support.apple.com/kb/DL1531).</span><span class="sxs-lookup"><span data-stu-id="3ed01-226">You can download Safari for Windows [here](https://support.apple.com/kb/DL1531).</span></span>

<span data-ttu-id="3ed01-227">[![p2_iphoneView](aspnet-mvc-4-mobile-features/_static/image18.png)](aspnet-mvc-4-mobile-features/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-227">[![p2_iphoneView](aspnet-mvc-4-mobile-features/_static/image18.png)](aspnet-mvc-4-mobile-features/_static/image17.png)</span></span>

<span data-ttu-id="3ed01-228">V této části jsme viděli postup vytvoření mobilní rozložení a zobrazení a postup vytvoření zobrazení pro konkrétní zařízení, jako je iPhone a rozložení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-228">In this section we've seen how to create mobile layouts and views and how to create layouts and views for specific devices such as the iPhone.</span></span> <span data-ttu-id="3ed01-229">V další části se zobrazí, jak využít jQuery Mobile pro další poutavé mobilní zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-229">In the next section you'll see how to leverage jQuery Mobile for more compelling mobile views.</span></span>

## <a name="using-jquery-mobile"></a><span data-ttu-id="3ed01-230">Pomocí technologie jQuery Mobile</span><span class="sxs-lookup"><span data-stu-id="3ed01-230">Using jQuery Mobile</span></span>

<span data-ttu-id="3ed01-231">[JQuery Mobile](http://jquerymobile.com/demos/1.0b3/#/demos/1.0b3/docs/about/intro.html) knihovna obsahuje rozhraní framework uživatele, který funguje na všechny hlavní mobilní prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="3ed01-231">The [jQuery Mobile](http://jquerymobile.com/demos/1.0b3/#/demos/1.0b3/docs/about/intro.html) library provides a user interface framework that works on all the major mobile browsers.</span></span> <span data-ttu-id="3ed01-232">platí pro architekturu jQuery Mobile *postupném rozšiřování* do mobilních prohlížečů, které podporují šablon stylů CSS a JavaScript.</span><span class="sxs-lookup"><span data-stu-id="3ed01-232">jQuery Mobile applies *progressive enhancement* to mobile browsers that support CSS and JavaScript.</span></span> <span data-ttu-id="3ed01-233">Progresivní vylepšení umožňuje všechny prohlížeče zobrazíte základní obsah na webové stránce, zatímco výkonnější prohlížeče a zařízení, které mají širší zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-233">Progressive enhancement allows all browsers to display the basic content of a web page, while allowing more powerful browsers and devices to have a richer display.</span></span> <span data-ttu-id="3ed01-234">JavaScript a CSS soubory, které jsou součástí jQuery Mobile stylů mnoho prvků podle mobilní prohlížeče bez jakýchkoli změn kódu.</span><span class="sxs-lookup"><span data-stu-id="3ed01-234">The JavaScript and CSS files that are included with jQuery Mobile style many elements to fit mobile browsers without making any markup changes.</span></span>

<span data-ttu-id="3ed01-235">V této části nainstalujete *jQuery.Mobile.MVC* balíček NuGet, který se nainstaluje jQuery Mobile a widget přepínači zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-235">In this section you'll install the *jQuery.Mobile.MVC* NuGet package, which installs jQuery Mobile and a view-switcher widget.</span></span>

<span data-ttu-id="3ed01-236">Chcete-li začít, odstraňte *sdílené\\_Layout.Mobile.cshtml* a *sdílené\\_Layout.iPhone.cshtml* soubory, které jste vytvořili dříve.</span><span class="sxs-lookup"><span data-stu-id="3ed01-236">To start, delete the *Shared\\_Layout.Mobile.cshtml* and *Shared\\_Layout.iPhone.cshtml* files that you created earlier.</span></span>

<span data-ttu-id="3ed01-237">Přejmenování *Views\Home\AllTags.Mobile.cshtml* a *Views\Home\AllTags.iPhone.cshtml* souborů do *Views\Home\AllTags.iPhone.cshtml.hide* a  *Views\Home\AllTags.Mobile.cshtml.hide*.</span><span class="sxs-lookup"><span data-stu-id="3ed01-237">Rename *Views\Home\AllTags.Mobile.cshtml* and *Views\Home\AllTags.iPhone.cshtml* files to *Views\Home\AllTags.iPhone.cshtml.hide* and *Views\Home\AllTags.Mobile.cshtml.hide*.</span></span> <span data-ttu-id="3ed01-238">Protože soubory již nemáte *.cshtml* rozšíření, nebudou použity modulem runtime ASP.NET MVC pro vykreslení *AllTags* zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-238">Because the files no longer have a *.cshtml* extension, they won't be used by the ASP.NET MVC runtime to render the *AllTags* view.</span></span>

<span data-ttu-id="3ed01-239">Nainstalujte *jQuery.Mobile.MVC* balíček NuGet tímto způsobem:</span><span class="sxs-lookup"><span data-stu-id="3ed01-239">Install the *jQuery.Mobile.MVC* NuGet package by doing this:</span></span>

1. <span data-ttu-id="3ed01-240">Z **nástroje** nabídce vyberte možnost **Správce balíčků knihoven**a potom vyberte **Konzola správce balíčků**.</span><span class="sxs-lookup"><span data-stu-id="3ed01-240">From the **Tools** menu, select **Library Package Manager**, and then select **Package Manager Console**.</span></span>

    <span data-ttu-id="3ed01-241">[![p3_packageMgr](aspnet-mvc-4-mobile-features/_static/image20.png)](aspnet-mvc-4-mobile-features/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-241">[![p3_packageMgr](aspnet-mvc-4-mobile-features/_static/image20.png)](aspnet-mvc-4-mobile-features/_static/image19.png)</span></span>
2. <span data-ttu-id="3ed01-242">V **Konzola správce balíčků**, zadejte `Install-Package jQuery.Mobile.MVC -version 1.0.0`</span><span class="sxs-lookup"><span data-stu-id="3ed01-242">In the **Package Manager Console**, enter `Install-Package jQuery.Mobile.MVC -version 1.0.0`</span></span>

<span data-ttu-id="3ed01-243">Následující obrázek ukazuje soubory přidávání a měnění do projektu MvcMobile jQuery.Mobile.MVC balíček NuGet.</span><span class="sxs-lookup"><span data-stu-id="3ed01-243">The following image shows the files added and changed to the MvcMobile project by the NuGet jQuery.Mobile.MVC package.</span></span> <span data-ttu-id="3ed01-244">Soubory, které jsou přidány [přidat] připojí po název souboru.</span><span class="sxs-lookup"><span data-stu-id="3ed01-244">Files which are added have [add] appended after the file name.</span></span> <span data-ttu-id="3ed01-245">Obrázek nezobrazuje GIF, soubory PNG přidat do *Content\images* složky.</span><span class="sxs-lookup"><span data-stu-id="3ed01-245">The image does not show the GIF and PNG files added to the *Content\images* folder.</span></span>

![](aspnet-mvc-4-mobile-features/_static/image21.png)

<span data-ttu-id="3ed01-246">Balíček NuGet jQuery.Mobile.MVC nainstaluje následující:</span><span class="sxs-lookup"><span data-stu-id="3ed01-246">The jQuery.Mobile.MVC NuGet package installs the following:</span></span>

- <span data-ttu-id="3ed01-247">*Aplikace\_Start\BundleMobileConfig.cs* soubor, který je nutný k odkazování jQuery JavaScript a CSS souborů přidán.</span><span class="sxs-lookup"><span data-stu-id="3ed01-247">The *App\_Start\BundleMobileConfig.cs* file, which is needed to reference the jQuery JavaScript and CSS files added.</span></span> <span data-ttu-id="3ed01-248">Musíte podle pokynů níže a odkazovat na sadu mobilní definované v tomto souboru.</span><span class="sxs-lookup"><span data-stu-id="3ed01-248">You must follow the instructions below and reference the mobile bundle defined in this file.</span></span>
- <span data-ttu-id="3ed01-249">soubory jQuery Mobile šablon stylů CSS.</span><span class="sxs-lookup"><span data-stu-id="3ed01-249">jQuery Mobile CSS files.</span></span>
- <span data-ttu-id="3ed01-250">A `ViewSwitcher` řadiče pomůcky (*Controllers\ViewSwitcherController.cs*).</span><span class="sxs-lookup"><span data-stu-id="3ed01-250">A `ViewSwitcher` controller widget (*Controllers\ViewSwitcherController.cs*).</span></span>
- <span data-ttu-id="3ed01-251">soubory jQuery Mobile JavaScript.</span><span class="sxs-lookup"><span data-stu-id="3ed01-251">jQuery Mobile JavaScript files.</span></span>
- <span data-ttu-id="3ed01-252">JQuery Mobile stylem rozložení souboru (*Views\Shared\\_Layout.Mobile.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="3ed01-252">A jQuery Mobile-styled layout file (*Views\Shared\\_Layout.Mobile.cshtml*).</span></span>
- <span data-ttu-id="3ed01-253">Částečné zobrazení přepínači zobrazení *(MvcMobile\Views\Shared\\_ViewSwitcher.cshtml*), který poskytuje odkaz v horní části každé stránce přepnutí z zobrazení plochy na mobilní zobrazení a naopak.</span><span class="sxs-lookup"><span data-stu-id="3ed01-253">A view-switcher partial view *(MvcMobile\Views\Shared\\_ViewSwitcher.cshtml*) that provides a link at the top of each page to switch from desktop view to mobile view and vice versa.</span></span>
- <span data-ttu-id="3ed01-254">Několik<em>.png</em> a <em>.gif</em> soubory v obrázku <em>Content\images</em> složky.</span><span class="sxs-lookup"><span data-stu-id="3ed01-254">Several<em>.png</em> and <em>.gif</em> image files in the <em>Content\images</em> folder.</span></span>

<span data-ttu-id="3ed01-255">Otevřete *Global.asax* souboru a přidejte následující kód jako poslední řádek `Application_Start` metoda.</span><span class="sxs-lookup"><span data-stu-id="3ed01-255">Open the *Global.asax* file and add the following code as the last line of the `Application_Start` method.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample10.cs)]

<span data-ttu-id="3ed01-256">Následující kód ukazuje kompletní *Global.asax* souboru.</span><span class="sxs-lookup"><span data-stu-id="3ed01-256">The following code shows the complete *Global.asax* file.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample11.cs?highlight=26)]

> [!NOTE]
> <span data-ttu-id="3ed01-257">Pokud používáte Internet Explorer 9 a nevidíte `BundleMobileConfig` řádek výše v žlutý zvýraznění, klikněte na tlačítko [kompatibilního zobrazení tlačítka](https://windows.microsoft.com/windows7/How-to-use-Compatibility-View-in-Internet-Explorer-9)![obrázek kompatibilního zobrazení tlačítka (vypnuto)] (http://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg " Obrázek tlačítka kompatibilního zobrazení (vypnuto)") v aplikaci Internet Explorer, chcete-li změnit z přehledu ikonu ![obrázek kompatibilního zobrazení tlačítka (vypnuto)](http://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "obrázek kompatibilního zobrazení tlačítka (vypnuto) ") na plnou barvou ![obrázek kompatibilního zobrazení tlačítka (na)](http://res1.windows.microsoft.com/resbox/en/Windows 7/main/156805ff-3130-481b-a12d-4d3a96470f36_14.jpg "obrázek kompatibilního zobrazení tlačítka (na)").</span><span class="sxs-lookup"><span data-stu-id="3ed01-257">If you are using Internet Explorer 9 and you don't see the `BundleMobileConfig` line above in yellow highlight, click the [Compatibility View button](https://windows.microsoft.com/windows7/How-to-use-Compatibility-View-in-Internet-Explorer-9)![Picture of the Compatibility View button (off)](http://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Picture of the Compatibility View button (off)") in IE to make the icon change from an outline ![Picture of the Compatibility View button (off)](http://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Picture of the Compatibility View button (off)") to a solid color ![Picture of the Compatibility View button (on)](http://res1.windows.microsoft.com/resbox/en/Windows 7/main/156805ff-3130-481b-a12d-4d3a96470f36_14.jpg "Picture of the Compatibility View button (on)").</span></span> <span data-ttu-id="3ed01-258">Případně můžete zobrazit v tomto kurzu v FireFox nebo Chrome.</span><span class="sxs-lookup"><span data-stu-id="3ed01-258">Alternatively you can view this tutorial in FireFox or Chrome.</span></span>


<span data-ttu-id="3ed01-259">Otevřete *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* souboru a přidejte následující kód přímo po `Html.Partial` volání:</span><span class="sxs-lookup"><span data-stu-id="3ed01-259">Open the *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file and add the following markup directly after the `Html.Partial` call:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample12.cshtml)]

<span data-ttu-id="3ed01-260">Kompletní *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* souboru jsou uvedeny níže:</span><span class="sxs-lookup"><span data-stu-id="3ed01-260">The complete *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file is shown below:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample13.cshtml)]

<span data-ttu-id="3ed01-261">Sestavení aplikace a v váš prohlížeč pro mobilní zařízení emulátoru přejděte do *AllTags* zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-261">Build the application, and in your mobile browser emulator browse to the *AllTags* view.</span></span> <span data-ttu-id="3ed01-262">Zobrazí následující:</span><span class="sxs-lookup"><span data-stu-id="3ed01-262">You see the following:</span></span>

<span data-ttu-id="3ed01-263">[![p3_afterNuGet](aspnet-mvc-4-mobile-features/_static/image23.png)](aspnet-mvc-4-mobile-features/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-263">[![p3_afterNuGet](aspnet-mvc-4-mobile-features/_static/image23.png)](aspnet-mvc-4-mobile-features/_static/image22.png)</span></span>

> [!NOTE]
> <span data-ttu-id="3ed01-264">Můžete ladit mobilní konkrétní kód podle [nastavení řetězec uživatelského agenta](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) pro aplikaci Internet Explorer nebo Chrome iPhone a potom pomocí nástrojů pro vývojáře F-12.</span><span class="sxs-lookup"><span data-stu-id="3ed01-264">You can debug the mobile specific code by [setting the user agent string](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) for IE or Chrome to iPhone and then using the F-12 developer tools.</span></span> <span data-ttu-id="3ed01-265">Pokud se váš prohlížeč pro mobilní zařízení nezobrazí **Domů**, **mluvčího**, **značka**, a **datum** odkazy jako tlačítka, odkazy na architekturu jQuery Mobile skripty a souborů CSS jsou pravděpodobně není správná.</span><span class="sxs-lookup"><span data-stu-id="3ed01-265">If your mobile browser doesn't display the **Home**, **Speaker**, **Tag**, and **Date** links as buttons, the references to jQuery Mobile scripts and CSS files are probably not correct.</span></span>


<span data-ttu-id="3ed01-266">Kromě změn styl, uvidíte **zobrazení mobilním zobrazením** a odkaz, který umožňuje přepnout na zobrazení plochy z mobilního zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-266">In addition to the style changes, you see **Displaying mobile view** and a link that lets you switch from mobile view to desktop view.</span></span> <span data-ttu-id="3ed01-267">Vyberte **zobrazení plochy** se zobrazí odkaz a zobrazení plochy.</span><span class="sxs-lookup"><span data-stu-id="3ed01-267">Choose the **Desktop view** link, and the desktop view is displayed.</span></span>

<span data-ttu-id="3ed01-268">[![p3_desktopView](aspnet-mvc-4-mobile-features/_static/image25.png)](aspnet-mvc-4-mobile-features/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-268">[![p3_desktopView](aspnet-mvc-4-mobile-features/_static/image25.png)](aspnet-mvc-4-mobile-features/_static/image24.png)</span></span>

<span data-ttu-id="3ed01-269">Zobrazení plochy neposkytuje způsob, jak přímo přejděte zpět na mobilní zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-269">The desktop view doesn't provide a way to directly navigate back to the mobile view.</span></span> <span data-ttu-id="3ed01-270">Nyní, budete opravte.</span><span class="sxs-lookup"><span data-stu-id="3ed01-270">You'll fix that now.</span></span> <span data-ttu-id="3ed01-271">Otevřete *Views\Shared\\_Layout.cshtml* souboru.</span><span class="sxs-lookup"><span data-stu-id="3ed01-271">Open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="3ed01-272">Právě v části stránky `body` elementu, přidejte následující kód, který vykreslí widgetu přepínači zobrazení:</span><span class="sxs-lookup"><span data-stu-id="3ed01-272">Just under the page `body` element, add the following code, which renders the view-switcher widget:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample14.cshtml)]

<span data-ttu-id="3ed01-273">Obnovit *AllTags* zobrazení v prohlížeč pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-273">Refresh the *AllTags* view in the mobile browser.</span></span> <span data-ttu-id="3ed01-274">Teď můžete Navigovat mezi zobrazeními desktop a mobile.</span><span class="sxs-lookup"><span data-stu-id="3ed01-274">You can now navigate between desktop and mobile views.</span></span>

<span data-ttu-id="3ed01-275">[![p3_desktopViewWithMobileLink](aspnet-mvc-4-mobile-features/_static/image27.png)](aspnet-mvc-4-mobile-features/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-275">[![p3_desktopViewWithMobileLink](aspnet-mvc-4-mobile-features/_static/image27.png)](aspnet-mvc-4-mobile-features/_static/image26.png)</span></span>

> [!NOTE]
> <span data-ttu-id="3ed01-276">Ladění Poznámka: můžete přidat následující kód do konce Views\Shared\\_ViewSwitcher.cshtml pomoci při ladění zobrazení pomocí prohlížeče řetězec uživatelského agenta nastavena na mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-276">Debug note: You can add the following code to the end of the Views\Shared\\_ViewSwitcher.cshtml to help debug views when using a browser the user agent string set to a mobile device.</span></span>
> 
> [!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample15.cs)]
> 
>  <span data-ttu-id="3ed01-277">a přidání záhlaví následující *Views\Shared\\_Layout.cshtml* souboru.</span><span class="sxs-lookup"><span data-stu-id="3ed01-277">and adding the following heading to the *Views\Shared\\_Layout.cshtml* file.</span></span>  
> 
> [!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample16.html)]


<span data-ttu-id="3ed01-278">Vyhledejte *AllTags* stránku v prohlížeči počítače.</span><span class="sxs-lookup"><span data-stu-id="3ed01-278">Browse to the *AllTags* page in a desktop browser.</span></span> <span data-ttu-id="3ed01-279">Pomůcka přepínači zobrazení není zobrazen ve prohlížeč pro stolní počítač, protože se přidá jenom do mobilních rozložení stránky.</span><span class="sxs-lookup"><span data-stu-id="3ed01-279">The view-switcher widget is not displayed in a desktop browser because it's added only to the mobile layout page.</span></span> <span data-ttu-id="3ed01-280">Později v tomto kurzu se zobrazí, jak můžete přidat pomůcky přepínači zobrazení k zobrazení plochy.</span><span class="sxs-lookup"><span data-stu-id="3ed01-280">Later in the tutorial you'll see how you can add the view-switcher widget to the desktop view.</span></span>

<span data-ttu-id="3ed01-281">[![p3_desktopBrowser](aspnet-mvc-4-mobile-features/_static/image29.png)](aspnet-mvc-4-mobile-features/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-281">[![p3_desktopBrowser](aspnet-mvc-4-mobile-features/_static/image29.png)](aspnet-mvc-4-mobile-features/_static/image28.png)</span></span>

## <a name="improving-the-speakers-list"></a><span data-ttu-id="3ed01-282">Vylepšení seznamu mluvčí</span><span class="sxs-lookup"><span data-stu-id="3ed01-282">Improving the Speakers List</span></span>

<span data-ttu-id="3ed01-283">Mobilní prohlížeče, vyberte **Řečníci** odkaz.</span><span class="sxs-lookup"><span data-stu-id="3ed01-283">In the mobile browser, select the **Speakers** link.</span></span> <span data-ttu-id="3ed01-284">Protože není žádná mobilní zobrazení (*AllSpeakers.Mobile.cshtml*), zobrazit výchozí mluvčí (*AllSpeakers.cshtml*) je vykreslen pomocí mobilních rozložení zobrazení ( *\_ Layout.Mobile.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="3ed01-284">Because there's no mobile view(*AllSpeakers.Mobile.cshtml*), the default speakers display (*AllSpeakers.cshtml*) is rendered using the mobile layout view (*\_Layout.Mobile.cshtml*).</span></span>

<span data-ttu-id="3ed01-285">[![p3_speakersDeskTop](aspnet-mvc-4-mobile-features/_static/image31.png)](aspnet-mvc-4-mobile-features/_static/image30.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-285">[![p3_speakersDeskTop](aspnet-mvc-4-mobile-features/_static/image31.png)](aspnet-mvc-4-mobile-features/_static/image30.png)</span></span>

<span data-ttu-id="3ed01-286">Výchozí zobrazení (jiných než mobilních) z vykreslování uvnitř mobilní rozložení můžete zakázat globálně nastavením `RequireConsistentDisplayMode` k `true` v *zobrazení\\soubor _ViewStart.cshtml* souboru, například takto:</span><span class="sxs-lookup"><span data-stu-id="3ed01-286">You can globally disable a default (non-mobile) view from rendering inside a mobile layout by setting `RequireConsistentDisplayMode` to `true` in the *Views\\_ViewStart.cshtml* file, like this:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample17.cshtml)]

<span data-ttu-id="3ed01-287">Když `RequireConsistentDisplayMode` je nastaven na `true`, mobilní rozložení (<em>\_Layout.Mobile.cshtml</em>) se používá pouze pro mobilní zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-287">When `RequireConsistentDisplayMode` is set to `true`, the mobile layout (<em>\_Layout.Mobile.cshtml</em>) is used only for mobile views.</span></span> <span data-ttu-id="3ed01-288">(To znamená, je soubor zobrazení formuláře <em>** ViewName</em><em>. Mobile.cshtml</em>.) Můžete chtít nastavit `RequireConsistentDisplayMode` k `true` Pokud vaše mobilní rozložení nebude fungovat dobře u jiných než mobilních zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-288">(That is, the view file is of the form <em>**ViewName</em><em>.Mobile.cshtml</em>.) You might want to set `RequireConsistentDisplayMode` to `true` if your mobile layout doesn't work well with your non-mobile views.</span></span> <span data-ttu-id="3ed01-289">Na snímku obrazovky níže znázorňuje jak <em>Řečníci</em> stránka vykresluje při `RequireConsistentDisplayMode` je nastaven na `true`.</span><span class="sxs-lookup"><span data-stu-id="3ed01-289">The screenshot below shows how the <em>Speakers</em> page renders when `RequireConsistentDisplayMode` is set to `true`.</span></span>

<span data-ttu-id="3ed01-290">[![p3_speakersConsistent](aspnet-mvc-4-mobile-features/_static/image33.png)](aspnet-mvc-4-mobile-features/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-290">[![p3_speakersConsistent](aspnet-mvc-4-mobile-features/_static/image33.png)](aspnet-mvc-4-mobile-features/_static/image32.png)</span></span>

<span data-ttu-id="3ed01-291">Konzistentní režim zobrazení v zobrazení můžete zakázat nastavením `RequireConsistentDisplayMode` k `false` v souboru zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-291">You can disable consistent display mode in a view by setting `RequireConsistentDisplayMode` to `false` in the view file.</span></span> <span data-ttu-id="3ed01-292">Následující kód v *Views\Home\AllSpeakers.cshtml* souboru nastaví `RequireConsistentDisplayMode` k `false`:</span><span class="sxs-lookup"><span data-stu-id="3ed01-292">The following markup in the *Views\Home\AllSpeakers.cshtml* file sets `RequireConsistentDisplayMode` to `false`:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample18.cshtml)]

## <a name="creating-a-mobile-speakers-view"></a><span data-ttu-id="3ed01-293">Vytvoření mobilní mluvčí zobrazení</span><span class="sxs-lookup"><span data-stu-id="3ed01-293">Creating a Mobile Speakers View</span></span>

<span data-ttu-id="3ed01-294">Protože jste právě viděli, *mluvčí* zobrazení je čitelná, ale odkazy jsou malé a obtížně se klepnout na mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-294">As you just saw, the *Speakers* view is readable, but the links are small and are difficult to tap on a mobile device.</span></span> <span data-ttu-id="3ed01-295">V této části vytvoříte konkrétního mobile *Řečníci* zobrazení jako moderní mobilní aplikace – zobrazí velký, snadno klepněte odkazuje a obsahuje vyhledávací pole a rychle tak najít mluvčí.</span><span class="sxs-lookup"><span data-stu-id="3ed01-295">In this section, you'll create a mobile-specific *Speakers* view that looks like a modern mobile application — it displays large, easy-to-tap links and contains a search box to quickly find speakers.</span></span>

<span data-ttu-id="3ed01-296">Kopírování *AllSpeakers.cshtml* k *AllSpeakers.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3ed01-296">Copy *AllSpeakers.cshtml* to *AllSpeakers.Mobile.cshtml*.</span></span> <span data-ttu-id="3ed01-297">Otevřete *AllSpeakers.Mobile.cshtml* souborů a odebrat `<h2>` element záhlaví.</span><span class="sxs-lookup"><span data-stu-id="3ed01-297">Open the *AllSpeakers.Mobile.cshtml* file and remove the `<h2>` heading element.</span></span>

<span data-ttu-id="3ed01-298">V `<ul>` značky, přidejte `data-role` atribut a jeho hodnotu nastavte `listview`.</span><span class="sxs-lookup"><span data-stu-id="3ed01-298">In the `<ul>` tag, add the `data-role` attribute and set its value to `listview`.</span></span> <span data-ttu-id="3ed01-299">Stejně jako jiné [ `data-*` atributy](http://html5doctor.com/html5-custom-data-attributes/), `data-role="listview"` umožňuje snadnější rozsáhlého seznamu položek klepnout na.</span><span class="sxs-lookup"><span data-stu-id="3ed01-299">Like other [`data-*` attributes](http://html5doctor.com/html5-custom-data-attributes/), `data-role="listview"` makes the large list items easier to tap.</span></span> <span data-ttu-id="3ed01-300">Toto je dokončené značek, které bude vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="3ed01-300">This is what the completed markup looks like:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample19.cshtml)]

<span data-ttu-id="3ed01-301">Aktualizujte prohlížeč pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-301">Refresh the mobile browser.</span></span> <span data-ttu-id="3ed01-302">Aktualizovaná zobrazení vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="3ed01-302">The updated view looks like this:</span></span>

<span data-ttu-id="3ed01-303">[![p3_updatedSpeakerView1](aspnet-mvc-4-mobile-features/_static/image35.png)](aspnet-mvc-4-mobile-features/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-303">[![p3_updatedSpeakerView1](aspnet-mvc-4-mobile-features/_static/image35.png)](aspnet-mvc-4-mobile-features/_static/image34.png)</span></span>

<span data-ttu-id="3ed01-304">I když se zlepšila mobilní zobrazení, je obtížné přejděte dlouhý seznam mluvčí.</span><span class="sxs-lookup"><span data-stu-id="3ed01-304">Although the mobile view has improved, it's difficult to navigate the long list of speakers.</span></span> <span data-ttu-id="3ed01-305">Chcete-li tento problém odstranit, `<ul>` značky, přidejte `data-filter` atribut a nastavte ji na `true`.</span><span class="sxs-lookup"><span data-stu-id="3ed01-305">To fix this, in the `<ul>` tag, add the `data-filter` attribute and set it to `true`.</span></span> <span data-ttu-id="3ed01-306">Kód uvedený níže ukazuje `ul` značek.</span><span class="sxs-lookup"><span data-stu-id="3ed01-306">The code below shows the `ul` markup.</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample20.html)]

<span data-ttu-id="3ed01-307">Následující obrázek ukazuje do vyhledávacího pole filtru v horní části stránky, která je výsledkem `data-filter` atribut.</span><span class="sxs-lookup"><span data-stu-id="3ed01-307">The following image shows the search filter box at the top of the page that results from the `data-filter` attribute.</span></span>

<span data-ttu-id="3ed01-308">[![ps_Data_Filter](aspnet-mvc-4-mobile-features/_static/image37.png)](aspnet-mvc-4-mobile-features/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-308">[![ps_Data_Filter](aspnet-mvc-4-mobile-features/_static/image37.png)](aspnet-mvc-4-mobile-features/_static/image36.png)</span></span>

<span data-ttu-id="3ed01-309">Každý písmeno, při psaní do vyhledávacího pole, jQuery Mobile filtry pro zobrazený seznam, jak je znázorněno na obrázku níže.</span><span class="sxs-lookup"><span data-stu-id="3ed01-309">As you type each letter in the search box, jQuery Mobile filters the displayed list as shown in the image below.</span></span>

<span data-ttu-id="3ed01-310">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image39.png)](aspnet-mvc-4-mobile-features/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-310">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image39.png)](aspnet-mvc-4-mobile-features/_static/image38.png)</span></span>

## <a name="improving-the-tags-list"></a><span data-ttu-id="3ed01-311">Vylepšení seznam klíčových slov</span><span class="sxs-lookup"><span data-stu-id="3ed01-311">Improving the Tags List</span></span>

<span data-ttu-id="3ed01-312">Jako výchozí *Řečníci* zobrazení, *značky* zobrazení je čitelná, ale jsou odkazy na malé a obtížně se klepnout na mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-312">Like the default *Speakers* view, the *Tags* view is readable, but the links are small and difficult to tap on a mobile device.</span></span> <span data-ttu-id="3ed01-313">V této části budete opravit *značky* zobrazit vyřešeny, stejně jako *Řečníci* zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-313">In this section, you'll fix the *Tags* view the same way you fixed the *Speakers* view.</span></span>

<span data-ttu-id="3ed01-314">Odeberte &quot;skrýt&quot; přípona k *Views\Home\AllTags.Mobile.cshtml.hide* souboru tak, aby název *Views\Home\AllTags.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3ed01-314">Remove the &quot;hide&quot; suffix to the *Views\Home\AllTags.Mobile.cshtml.hide* file so the name is *Views\Home\AllTags.Mobile.cshtml*.</span></span> <span data-ttu-id="3ed01-315">Otevřete soubor přejmenovat a odstraňte `<h2>` elementu.</span><span class="sxs-lookup"><span data-stu-id="3ed01-315">Open the renamed file and remove the `<h2>` element.</span></span>

<span data-ttu-id="3ed01-316">Přidat `data-role` a `data-filter` atributů k `<ul>` značka, jak je vidět tady:</span><span class="sxs-lookup"><span data-stu-id="3ed01-316">Add the `data-role` and `data-filter` attributes to the `<ul>` tag, as shown here:</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample21.html)]

<span data-ttu-id="3ed01-317">Následující obrázek zobrazuje stránku značky filtrování písmeno `J`.</span><span class="sxs-lookup"><span data-stu-id="3ed01-317">The image below shows the tags page filtering on the letter `J`.</span></span>

<span data-ttu-id="3ed01-318">[![p3_tags_J](aspnet-mvc-4-mobile-features/_static/image41.png)](aspnet-mvc-4-mobile-features/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-318">[![p3_tags_J](aspnet-mvc-4-mobile-features/_static/image41.png)](aspnet-mvc-4-mobile-features/_static/image40.png)</span></span>

## <a name="improving-the-dates-list"></a><span data-ttu-id="3ed01-319">Vylepšení seznamu kalendářních dat</span><span class="sxs-lookup"><span data-stu-id="3ed01-319">Improving the Dates List</span></span>

<span data-ttu-id="3ed01-320">Můžete zvýšit *data* zobrazit stejně, jako je vylepšená *Řečníci* a *značky* zobrazení, takže je jednodušší použít na mobilním zařízení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-320">You can improve the *Dates* view like you improved the *Speakers* and *Tags* views, so that it's easier to use on a mobile device.</span></span>

<span data-ttu-id="3ed01-321">Kopírování *Views\Home\AllDates.cshtml* do souboru *Views\Home\AllDates.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3ed01-321">Copy the *Views\Home\AllDates.cshtml* file to *Views\Home\AllDates.Mobile.cshtml*.</span></span> <span data-ttu-id="3ed01-322">Otevřete nový soubor a odebrat `<h2>` elementu.</span><span class="sxs-lookup"><span data-stu-id="3ed01-322">Open the new file and remove the `<h2>` element.</span></span>

<span data-ttu-id="3ed01-323">Přidat `data-role="listview"` k `<ul>` značky, například takto:</span><span class="sxs-lookup"><span data-stu-id="3ed01-323">Add `data-role="listview"` to the `<ul>` tag, like this:</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample22.html)]

<span data-ttu-id="3ed01-324">Následující obrázek znázorňuje, co **datum** stránky vypadá jako s `data-role` atribut na místě.</span><span class="sxs-lookup"><span data-stu-id="3ed01-324">The image below shows what the **Date** page looks like with the `data-role` attribute in place.</span></span>

<span data-ttu-id="3ed01-325">[![p3_dates1](aspnet-mvc-4-mobile-features/_static/image43.png)](aspnet-mvc-4-mobile-features/_static/image42.png) nahraďte obsah *Views\Home\AllDates.Mobile.cshtml* soubor s následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="3ed01-325">[![p3_dates1](aspnet-mvc-4-mobile-features/_static/image43.png)](aspnet-mvc-4-mobile-features/_static/image42.png) Replace the contents of the *Views\Home\AllDates.Mobile.cshtml* file with the following code:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample23.cshtml)]

<span data-ttu-id="3ed01-326">Tento kód skupiny všechny relace dnů.</span><span class="sxs-lookup"><span data-stu-id="3ed01-326">This code groups all sessions by days.</span></span> <span data-ttu-id="3ed01-327">Vytvoří seznam dělicí pro každý nový den a vypíše všechny relace pro každý den v části na příčku.</span><span class="sxs-lookup"><span data-stu-id="3ed01-327">It creates a list divider for each new day, and it lists all the sessions for each day under a divider.</span></span> <span data-ttu-id="3ed01-328">Zde je, jak vypadá spuštění tento kód:</span><span class="sxs-lookup"><span data-stu-id="3ed01-328">Here's what it looks like when this code runs:</span></span>

<span data-ttu-id="3ed01-329">[![p3_dates2](aspnet-mvc-4-mobile-features/_static/image45.png)](aspnet-mvc-4-mobile-features/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-329">[![p3_dates2](aspnet-mvc-4-mobile-features/_static/image45.png)](aspnet-mvc-4-mobile-features/_static/image44.png)</span></span>

## <a name="improving-the-sessionstable-view"></a><span data-ttu-id="3ed01-330">Vylepšení SessionsTable zobrazení</span><span class="sxs-lookup"><span data-stu-id="3ed01-330">Improving the SessionsTable View</span></span>

<span data-ttu-id="3ed01-331">V této části vytvoříte zobrazení mobile konkrétní relací.</span><span class="sxs-lookup"><span data-stu-id="3ed01-331">In this section, you'll create a mobile-specific view of sessions.</span></span> <span data-ttu-id="3ed01-332">Změny, které jsme provedli bude rozsáhlejší než v ostatních zobrazeních, které jsme vytvořili.</span><span class="sxs-lookup"><span data-stu-id="3ed01-332">The changes we make will be more extensive than in other views we have created.</span></span>

<span data-ttu-id="3ed01-333">Mobilní prohlížeče, klepněte **mluvčího** tlačítko a potom zadejte `Sc` do vyhledávacího pole.</span><span class="sxs-lookup"><span data-stu-id="3ed01-333">In the mobile browser, tap the **Speaker** button, then enter `Sc` in the search box.</span></span>

<span data-ttu-id="3ed01-334">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image47.png)](aspnet-mvc-4-mobile-features/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-334">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image47.png)](aspnet-mvc-4-mobile-features/_static/image46.png)</span></span>

<span data-ttu-id="3ed01-335">Klepněte **Scott Hanselman** odkaz.</span><span class="sxs-lookup"><span data-stu-id="3ed01-335">Tap the **Scott Hanselman** link.</span></span>

<span data-ttu-id="3ed01-336">[![p3_scottHa](aspnet-mvc-4-mobile-features/_static/image49.png)](aspnet-mvc-4-mobile-features/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-336">[![p3_scottHa](aspnet-mvc-4-mobile-features/_static/image49.png)](aspnet-mvc-4-mobile-features/_static/image48.png)</span></span>

<span data-ttu-id="3ed01-337">Jak vidíte, zobrazení je obtížné číst na prohlížeč pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-337">As you can see, the display is difficult to read on a mobile browser.</span></span> <span data-ttu-id="3ed01-338">Sloupce s datem je obtížné číst a značky sloupce je mimo zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-338">The date column is hard to read and the tags column is out of the view.</span></span> <span data-ttu-id="3ed01-339">Chcete-li odstranit tento problém, zkopírujte *Views\Home\SessionsTable.cshtml* k *Views\Home\SessionsTable.Mobile.cshtml*a pak obsah souboru nahraďte následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="3ed01-339">To fix this, copy *Views\Home\SessionsTable.cshtml* to *Views\Home\SessionsTable.Mobile.cshtml*, and then replace the contents of the file with the following code:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample24.cshtml)]

<span data-ttu-id="3ed01-340">Kód odebere místnosti značky sloupců a formátech název, mluvčího a datum ve svislém směru, takže tyto informace je čitelná na prohlížeč pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-340">The code removes the room and tags columns, and formats the title, speaker, and date vertically, so that all this information is readable on a mobile browser.</span></span> <span data-ttu-id="3ed01-341">Následující obrázek zobrazuje změny kódu.</span><span class="sxs-lookup"><span data-stu-id="3ed01-341">The image below reflects the code changes.</span></span>

<span data-ttu-id="3ed01-342">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image51.png)](aspnet-mvc-4-mobile-features/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-342">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image51.png)](aspnet-mvc-4-mobile-features/_static/image50.png)</span></span>

## <a name="improving-the-sessionbycode-view"></a><span data-ttu-id="3ed01-343">Vylepšení SessionByCode zobrazení</span><span class="sxs-lookup"><span data-stu-id="3ed01-343">Improving the SessionByCode View</span></span>

<span data-ttu-id="3ed01-344">Nakonec vytvoříte zobrazení konkrétní mobilní *SessionByCode* zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-344">Finally, you'll create a mobile-specific view of the *SessionByCode* view.</span></span> <span data-ttu-id="3ed01-345">Mobilní prohlížeče, klepněte **mluvčího** tlačítko a potom zadejte `Sc` do vyhledávacího pole.</span><span class="sxs-lookup"><span data-stu-id="3ed01-345">In the mobile browser, tap the **Speaker** button, then enter `Sc` in the search box.</span></span>

<span data-ttu-id="3ed01-346">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image53.png)](aspnet-mvc-4-mobile-features/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-346">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image53.png)](aspnet-mvc-4-mobile-features/_static/image52.png)</span></span>

<span data-ttu-id="3ed01-347">Klepněte **Scott Hanselman** odkaz.</span><span class="sxs-lookup"><span data-stu-id="3ed01-347">Tap the **Scott Hanselman** link.</span></span> <span data-ttu-id="3ed01-348">Scott Hanselman relace se zobrazí.</span><span class="sxs-lookup"><span data-stu-id="3ed01-348">Scott Hanselman's sessions are displayed.</span></span>

<span data-ttu-id="3ed01-349">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image55.png)](aspnet-mvc-4-mobile-features/_static/image54.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-349">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image55.png)](aspnet-mvc-4-mobile-features/_static/image54.png)</span></span>

<span data-ttu-id="3ed01-350">Vyberte **Přehled webové zásobníku láska MS** odkaz.</span><span class="sxs-lookup"><span data-stu-id="3ed01-350">Choose the **An Overview of the MS Web Stack of Love** link.</span></span>

<span data-ttu-id="3ed01-351">[![ps_love](aspnet-mvc-4-mobile-features/_static/image57.png)](aspnet-mvc-4-mobile-features/_static/image56.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-351">[![ps_love](aspnet-mvc-4-mobile-features/_static/image57.png)](aspnet-mvc-4-mobile-features/_static/image56.png)</span></span>

<span data-ttu-id="3ed01-352">Zobrazení plochy výchozí je v pořádku, ale je možné zvýšit.</span><span class="sxs-lookup"><span data-stu-id="3ed01-352">The default desktop view is fine, but you can improve it.</span></span>

<span data-ttu-id="3ed01-353">Kopírování *Views\Home\SessionByCode.cshtml* k *Views\Home\SessionByCode.Mobile.cshtml* a nahraďte obsah *Views\Home\SessionByCode.Mobile.cshtml*soubor s následující kód:</span><span class="sxs-lookup"><span data-stu-id="3ed01-353">Copy the *Views\Home\SessionByCode.cshtml* to *Views\Home\SessionByCode.Mobile.cshtml* and replace the contents of the *Views\Home\SessionByCode.Mobile.cshtml* file with the following markup:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample25.cshtml)]

<span data-ttu-id="3ed01-354">Nový kód používá `data-role` atribut ke zlepšení rozložení zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-354">The new markup uses the `data-role` attribute to improve the layout of the view.</span></span>

<span data-ttu-id="3ed01-355">Aktualizujte prohlížeč pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-355">Refresh the mobile browser.</span></span> <span data-ttu-id="3ed01-356">Následující obrázek zobrazuje změny kódu, které jste právě vytvořili:</span><span class="sxs-lookup"><span data-stu-id="3ed01-356">The following image reflects the code changes that you just made:</span></span>

<span data-ttu-id="3ed01-357">[![p3_love2](aspnet-mvc-4-mobile-features/_static/image59.png)](aspnet-mvc-4-mobile-features/_static/image58.png)</span><span class="sxs-lookup"><span data-stu-id="3ed01-357">[![p3_love2](aspnet-mvc-4-mobile-features/_static/image59.png)](aspnet-mvc-4-mobile-features/_static/image58.png)</span></span>

## <a name="wrapup-and-review"></a><span data-ttu-id="3ed01-358">Wrapup a zkontrolujte</span><span class="sxs-lookup"><span data-stu-id="3ed01-358">Wrapup and Review</span></span>

<span data-ttu-id="3ed01-359">Tento kurz obsahuje zavedla nových mobilních funkcí technologie ASP.NET MVC 4 Developer Preview.</span><span class="sxs-lookup"><span data-stu-id="3ed01-359">This tutorial has introduced the new mobile features of ASP.NET MVC 4 Developer Preview.</span></span> <span data-ttu-id="3ed01-360">Mobilní funkce:</span><span class="sxs-lookup"><span data-stu-id="3ed01-360">The mobile features include:</span></span>

- <span data-ttu-id="3ed01-361">Možnost přepsání částečné zobrazení, zobrazení a rozložení globálně i pro jednotlivé zobrazení.</span><span class="sxs-lookup"><span data-stu-id="3ed01-361">The ability to override layout, views, and partial views, both globally and for an individual view.</span></span>
- <span data-ttu-id="3ed01-362">Kontrolu nad rozložení a částečné přepsání vynucení pomocí `RequireConsistentDisplayMode` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="3ed01-362">Control over layout and partial override enforcement using the `RequireConsistentDisplayMode` property.</span></span>
- <span data-ttu-id="3ed01-363">Widget přepínači zobrazení pro mobilní zobrazení než lze také zobrazit v zobrazení plochy.</span><span class="sxs-lookup"><span data-stu-id="3ed01-363">A view-switcher widget for mobile views than can also be displayed in desktop views.</span></span>
- <span data-ttu-id="3ed01-364">Podpora pro podporu určité prohlížeče, jako je třeba iPhone prohlížeč.</span><span class="sxs-lookup"><span data-stu-id="3ed01-364">Support for supporting specific browsers, such as the iPhone browser.</span></span>

## <a name="see-also"></a><span data-ttu-id="3ed01-365">Viz také</span><span class="sxs-lookup"><span data-stu-id="3ed01-365">See Also</span></span>

- <span data-ttu-id="3ed01-366">[jQuery Mobile](http://jquerymobile.com) lokality.</span><span class="sxs-lookup"><span data-stu-id="3ed01-366">[jQuery Mobile](http://jquerymobile.com) site.</span></span>
- [<span data-ttu-id="3ed01-367">jQuery Mobile – přehled</span><span class="sxs-lookup"><span data-stu-id="3ed01-367">jQuery Mobile Overview</span></span>](http://jquerymobile.com/demos/1.0b3/docs/about/intro.html)
- [<span data-ttu-id="3ed01-368">Osvědčené postupy W3C doporučení mobilní webové aplikace</span><span class="sxs-lookup"><span data-stu-id="3ed01-368">W3C Recommendation Mobile Web Application Best Practices</span></span>](http://www.w3.org/TR/mwabp/)
- [<span data-ttu-id="3ed01-369">W3C Candidate doporučení pro dotazy na média</span><span class="sxs-lookup"><span data-stu-id="3ed01-369">W3C Candidate Recommendation for media queries</span></span>](http://www.w3.org/TR/css3-mediaqueries/)
