---
uid: mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
title: "Použití jazyka HTML5 a kalendáře jQuery UI DatePicker s architekturou ASP.NET MVC – část 4 | Microsoft Docs"
author: Rick-Anderson
description: "V tomto kurzu naučit základní informace o tom, jak pracovat s editor šablon, zobrazení šablon a kalendářem jQuery UI ovládací prvek datepicker v MV ASP.NET..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 08/29/2011
ms.topic: article
ms.assetid: 57666c69-2b0f-423a-a61d-be49547fa585
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
msc.type: authoredcontent
ms.openlocfilehash: 32211465adeb1353908daa1014d188b84389e1a7
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/24/2018
---
<a name="using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc---part-4"></a><span data-ttu-id="f10fa-103">Použití jazyka HTML5 a kalendáře jQuery UI DatePicker s architekturou ASP.NET MVC – část 4</span><span class="sxs-lookup"><span data-stu-id="f10fa-103">Using the HTML5 and jQuery UI Datepicker Popup Calendar with ASP.NET MVC - Part 4</span></span>
====================
<span data-ttu-id="f10fa-104">Podle [Rick Anderson](https://github.com/Rick-Anderson)</span><span class="sxs-lookup"><span data-stu-id="f10fa-104">by [Rick Anderson](https://github.com/Rick-Anderson)</span></span>

> <span data-ttu-id="f10fa-105">V tomto kurzu naučit základní informace o tom, jak pracovat s editor šablon, zobrazení šablon a kalendářem jQuery UI ovládací prvek datepicker v aplikaci ASP.NET MVC Web.</span><span class="sxs-lookup"><span data-stu-id="f10fa-105">This tutorial will teach you the basics of how to work with editor templates, display templates, and the jQuery UI datepicker popup calendar in an ASP.NET MVC Web application.</span></span>


### <a name="adding-a-template-for-editing-dates"></a><span data-ttu-id="f10fa-106">Přidání šablony pro úpravy dat</span><span class="sxs-lookup"><span data-stu-id="f10fa-106">Adding a Template for Editing Dates</span></span>

<span data-ttu-id="f10fa-107">V této části vytvoříte šablonu pro úpravu dat, která bude použita, pokud rozhraní ASP.NET MVC zobrazí uživatelské rozhraní pro úpravy vlastnosti modelu, které jsou označené **datum** výčet [datový typ](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) atribut.</span><span class="sxs-lookup"><span data-stu-id="f10fa-107">In this section you'll create a template for editing dates that will be applied when ASP.NET MVC displays UI for editing model properties that are marked with the **Date** enumeration of the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) attibute.</span></span> <span data-ttu-id="f10fa-108">Šablona vykreslí pouze datum; čas se nezobrazí.</span><span class="sxs-lookup"><span data-stu-id="f10fa-108">The template will render only the date; time will not be displayed.</span></span> <span data-ttu-id="f10fa-109">V šabloně budete používat [jQuery UI ovládací prvek Datepicker](http://jqueryui.com/demos/datepicker/) kalendářem poskytnout způsob, jak upravit data.</span><span class="sxs-lookup"><span data-stu-id="f10fa-109">In the template you'll use the [jQuery UI Datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to provide a way to edit dates.</span></span>

<span data-ttu-id="f10fa-110">Chcete-li začít, otevřete *Movie.cs* souboru a přidejte [datový typ](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) atribut s **datum** výčet `ReleaseDate` vlastnost, jak je znázorněno v následujícím kódu:</span><span class="sxs-lookup"><span data-stu-id="f10fa-110">To begin, open the *Movie.cs* file and add the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) attribute with the **Date** enumeration to the `ReleaseDate` property, as shown in the following code:</span></span>

[!code-csharp[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample1.cs)]

<span data-ttu-id="f10fa-111">Tento kód způsobí, že `ReleaseDate` pole, které chcete zobrazit bez čas v obou šablony zobrazení a úpravě šablony.</span><span class="sxs-lookup"><span data-stu-id="f10fa-111">This code causes the `ReleaseDate` field to be displayed without the time in both display templates and edit templates.</span></span> <span data-ttu-id="f10fa-112">Pokud vaše aplikace obsahuje *date.cshtml* šablony v *Views\Shared\EditorTemplates* složky nebo *Views\Movies\EditorTemplates* složku, že šablona slouží k vykreslení žádné `DateTime` vlastnost při úpravách.</span><span class="sxs-lookup"><span data-stu-id="f10fa-112">If your application contains a *date.cshtml* template in the *Views\Shared\EditorTemplates* folder or in the *Views\Movies\EditorTemplates* folder, that template will be used to render any `DateTime` property while editing.</span></span> <span data-ttu-id="f10fa-113">V opačném případě předdefinovaného systémového ukázka ASP.NET se zobrazí vlastnosti jako datum.</span><span class="sxs-lookup"><span data-stu-id="f10fa-113">Otherwise the built-in ASP.NET templating system will display the property as a date.</span></span>

<span data-ttu-id="f10fa-114">Stisknutím kombinace kláves CTRL + F5 a spusťte aplikaci.</span><span class="sxs-lookup"><span data-stu-id="f10fa-114">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="f10fa-115">Vyberte odkaz pro úpravy k ověření, že vstupní pole pro datum vydání se zobrazuje pouze datum.</span><span class="sxs-lookup"><span data-stu-id="f10fa-115">Select an edit link to verify that the input field for the release date is showing only the date.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image1.png)

<span data-ttu-id="f10fa-116">V **Průzkumníku řešení**, rozbalte *zobrazení* složky, rozbalte *sdílené* složku a potom klikněte pravým tlačítkem *Views\Shared\EditorTemplates* složky.</span><span class="sxs-lookup"><span data-stu-id="f10fa-116">In **Solution Explorer**, expand the *Views* folder, expand the *Shared* folder, and then right-click the *Views\Shared\EditorTemplates* folder.</span></span>

<span data-ttu-id="f10fa-117">Klikněte na tlačítko **přidat**a potom klikněte na **zobrazení**.</span><span class="sxs-lookup"><span data-stu-id="f10fa-117">Click **Add**, and then click **View**.</span></span> <span data-ttu-id="f10fa-118">**Přidat zobrazení** se zobrazí dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="f10fa-118">The **Add View** dialog box is displayed.</span></span>

<span data-ttu-id="f10fa-119">V **název zobrazení** zadejte &quot;datum&quot;.</span><span class="sxs-lookup"><span data-stu-id="f10fa-119">In the **View name** box, type &quot;Date&quot;.</span></span>

<span data-ttu-id="f10fa-120">Vyberte **vytvořit jako částečné zobrazení** zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="f10fa-120">Select the **Create as a partial view** check box.</span></span> <span data-ttu-id="f10fa-121">Ujistěte se, že **použít rozložení stránky předlohy** a **vytvořit zobrazení silného typu** nejsou zaškrtnutá políčka.</span><span class="sxs-lookup"><span data-stu-id="f10fa-121">Make sure that the **Use a layout or master page** and **Create a strongly-typed view** check boxes are not selected.</span></span>

<span data-ttu-id="f10fa-122">Klikněte na tlačítko **přidat**.</span><span class="sxs-lookup"><span data-stu-id="f10fa-122">Click **Add**.</span></span> <span data-ttu-id="f10fa-123">*Views\Shared\EditorTemplates\Date.cshtml* je šablona vytvořena.</span><span class="sxs-lookup"><span data-stu-id="f10fa-123">The *Views\Shared\EditorTemplates\Date.cshtml* template is created.</span></span>

<span data-ttu-id="f10fa-124">Přidejte následující kód, který *Views\Shared\EditorTemplates\Date.cshtml* šablony.</span><span class="sxs-lookup"><span data-stu-id="f10fa-124">Add the following code to the *Views\Shared\EditorTemplates\Date.cshtml* template.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample2.cshtml)]

<span data-ttu-id="f10fa-125">První řádek deklaruje modelu, který má být `DateTime` typu.</span><span class="sxs-lookup"><span data-stu-id="f10fa-125">The first line declares the model to be a `DateTime` type.</span></span> <span data-ttu-id="f10fa-126">I když nemusíte deklarace typu modelu v upravit a zobrazit šablony, je osvědčeným postupem, abyste měli kompilaci kontrola modelu, je předaná do zobrazení.</span><span class="sxs-lookup"><span data-stu-id="f10fa-126">Although you don't need to declare the model type in edit and display templates, it's a best practice so that you get compile-time checking of the model being passed to the view.</span></span> <span data-ttu-id="f10fa-127">(Další výhodou je, že dostanete pak IntelliSense pro model v zobrazení v sadě Visual Studio.) Pokud není deklarovaný typ modelu, ASP.NET MVC považuje [dynamické](https://msdn.microsoft.com/library/dd264741.aspx) zadejte a neexistuje žádný kompilaci kontrola typu.</span><span class="sxs-lookup"><span data-stu-id="f10fa-127">(Another benefit is that you then get IntelliSense for the model in the view in Visual Studio.) If the model type is not declared, ASP.NET MVC considers it a [dynamic](https://msdn.microsoft.com/library/dd264741.aspx) type and there's no compile-time type checking.</span></span> <span data-ttu-id="f10fa-128">Pokud je deklarovat modelu, který má být `DateTime` typu, stane silného typu.</span><span class="sxs-lookup"><span data-stu-id="f10fa-128">If you declare the model to be a `DateTime` type, it becomes strongly typed.</span></span>

<span data-ttu-id="f10fa-129">Druhý řádek je právě literálu jazyka HTML, který zobrazí &quot;pomocí šablony datum&quot; před pole pro datum.</span><span class="sxs-lookup"><span data-stu-id="f10fa-129">The second line is just literal HTML markup that displays &quot;Using Date Template&quot; before a date field.</span></span> <span data-ttu-id="f10fa-130">Použijete tento řádek dočasně ověřit, jestli se používá tato šablona datum.</span><span class="sxs-lookup"><span data-stu-id="f10fa-130">You'll use this line temporarily to verify that this date template is being used.</span></span>

<span data-ttu-id="f10fa-131">Další řádek je [Html.TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) pomocné rutiny, který vykreslí `input` pole, které je v textovém poli.</span><span class="sxs-lookup"><span data-stu-id="f10fa-131">The next line is an [Html.TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) helper that renders an `input` field that's a text box.</span></span> <span data-ttu-id="f10fa-132">Třetí parametr pro pomocníka, který používá nastavení třídy pro textové pole k anonymní typ `datefield` a typ, který má `date`.</span><span class="sxs-lookup"><span data-stu-id="f10fa-132">The third parameter for the helper uses an anonymous type to set the class for the text box to `datefield` and the type to `date`.</span></span> <span data-ttu-id="f10fa-133">(Protože `class` je vyhrazená v jazyce C#, budete muset použít `@` znak pro přepnutí `class` atribut analyzátoru jazyka C#.)</span><span class="sxs-lookup"><span data-stu-id="f10fa-133">(Because `class` is a reserved in C#, you need to use the `@` character to escape the `class` attribute in the C# parser.)</span></span>

<span data-ttu-id="f10fa-134">`date` Typ je typ vstupu HTML5, umožňující podporou jazyka HTML5 prohlížečů k vykreslení ovládacího prvku Kalendář HTML5.</span><span class="sxs-lookup"><span data-stu-id="f10fa-134">The `date` type is an HTML5 input type that enables HTML5-aware browsers to render a HTML5 calendar control.</span></span> <span data-ttu-id="f10fa-135">Později přidáte určitého kódu JavaScript spojit ovládací prvek datepicker jQuery k `Html.TextBox` pomocí elementu `datefield` třídy.</span><span class="sxs-lookup"><span data-stu-id="f10fa-135">Later on you'll add some JavaScript to hook up the jQuery datepicker to the `Html.TextBox` element using the `datefield` class.</span></span>

<span data-ttu-id="f10fa-136">Stisknutím kombinace kláves CTRL + F5 a spusťte aplikaci.</span><span class="sxs-lookup"><span data-stu-id="f10fa-136">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="f10fa-137">Ověřte, zda `ReleaseDate` vlastnosti v zobrazení úpravy je pomocí šablony upravit, protože zobrazí šablony &quot;pomocí šablony datum&quot; těsně před `ReleaseDate` text vstupní pole, jak je vidět na tomto obrázku:</span><span class="sxs-lookup"><span data-stu-id="f10fa-137">You can verify that the `ReleaseDate` property in the edit view is using the edit template because the template displays &quot;Using Date Template&quot; just before the `ReleaseDate` text input box, as shown in this image:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image2.png)

<span data-ttu-id="f10fa-138">V prohlížeči zobrazte zdroj stránky.</span><span class="sxs-lookup"><span data-stu-id="f10fa-138">In your browser, view the source of the page.</span></span> <span data-ttu-id="f10fa-139">(Například pravým tlačítkem myši a vyberte **zobrazit zdroj**.) Následující příklad ukazuje některé z kódu pro stránku, ilustrující `class` a `type` atributy ve vykresleném HTML.</span><span class="sxs-lookup"><span data-stu-id="f10fa-139">(For example, right-click the page and select **View source**.) The following example shows some of the markup for the page, illustrating the `class` and `type` attributes in the rendered HTML.</span></span>

[!code-html[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample3.html)]

<span data-ttu-id="f10fa-140">Vraťte se do *Views\Shared\EditorTemplates\Date.cshtml* šablony a odebrat &quot;pomocí šablony datum&quot; značek.</span><span class="sxs-lookup"><span data-stu-id="f10fa-140">Return to the *Views\Shared\EditorTemplates\Date.cshtml* template and remove the &quot;Using Date Template&quot; markup.</span></span> <span data-ttu-id="f10fa-141">Dokončené šablony teď vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="f10fa-141">Now the completed template looks like this:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample4.cshtml)]

### <a name="adding-a-jquery-ui-datepicker-popup-calendar-using-nuget"></a><span data-ttu-id="f10fa-142">Přidání kalendářem jQuery UI ovládací prvek Datepicker pomocí nástroje NuGet</span><span class="sxs-lookup"><span data-stu-id="f10fa-142">Adding a jQuery UI Datepicker Popup Calendar using NuGet</span></span>

<span data-ttu-id="f10fa-143">V této části přidáte [ovládací prvek datepicker uživatelského rozhraní jQuery](http://jqueryui.com/demos/datepicker/) kalendářem datum úpravy šablony.</span><span class="sxs-lookup"><span data-stu-id="f10fa-143">In this section you'll add the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to the date-edit template.</span></span> <span data-ttu-id="f10fa-144">[JQuery UI](http://jqueryui.com/) knihovna poskytuje podporu pro animace, pokročilé důsledky a přizpůsobit pomůcky.</span><span class="sxs-lookup"><span data-stu-id="f10fa-144">The [jQuery UI](http://jqueryui.com/) library provides support for animation, advanced effects, and customizable widgets.</span></span> <span data-ttu-id="f10fa-145">Je založen na knihovna jQuery JavaScript.</span><span class="sxs-lookup"><span data-stu-id="f10fa-145">It's built on top of the jQuery JavaScript library.</span></span> <span data-ttu-id="f10fa-146">Kalendářem ovládací prvek datepicker umožňuje snadno a přirozené zadejte kalendářních dat pomocí kalendáře místo zadávání řetězec.</span><span class="sxs-lookup"><span data-stu-id="f10fa-146">The datepicker popup calendar makes it easy and natural to enter dates using a calendar instead of entering a string.</span></span> <span data-ttu-id="f10fa-147">Kalendářem také omezuje uživatelům právní data – položka běžného textu pro datum by umožňují zadejte něco podobného jako `2/33/1999` (únor 33rd, 1999), ale [ovládací prvek datepicker uživatelského rozhraní jQuery](http://jqueryui.com/demos/datepicker/) kalendářem neumožní, který.</span><span class="sxs-lookup"><span data-stu-id="f10fa-147">The popup calendar also limits users to legal dates — ordinary text entry for a date would let you enter something like `2/33/1999` ( February 33rd, 1999), but the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar won't allow that.</span></span>

<span data-ttu-id="f10fa-148">Nejprve budete muset nainstalovat knihovny uživatelského rozhraní jQuery.</span><span class="sxs-lookup"><span data-stu-id="f10fa-148">First, you have to install the jQuery UI libraries.</span></span> <span data-ttu-id="f10fa-149">Kvůli tomu budete používat NuGet, který je Správce balíčků, který je součástí verze SP1 Visual Studio 2010 a Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="f10fa-149">To do that, you'll use NuGet, which is a package manager that's included in SP1 versions of Visual Studio 2010 and Visual Web Developer.</span></span>

<span data-ttu-id="f10fa-150">V aplikaci Visual Web Developer z **nástroje** nabídce vyberte možnost **Správce balíčků knihoven** a pak vyberte **spravovat balíčky NuGet**.</span><span class="sxs-lookup"><span data-stu-id="f10fa-150">In Visual Web Developer, from the **Tools** menu, select **Library Package Manager** and then select **Manage NuGet Packages**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image3.png)

<span data-ttu-id="f10fa-151">Poznámka: Pokud **nástroje** nabídka se nezobrazí **Správce balíčků knihoven** příkaz, musíte nainstalovat NuGet podle pokynů [instalace NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) stránky Web NuGet.</span><span class="sxs-lookup"><span data-stu-id="f10fa-151">Note: If the **Tools** menu doesn't display the **Library Package Manager** command, you need to install NuGet by following the instructions on the [Installing NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) page of the NuGet website.</span></span>   
  
<span data-ttu-id="f10fa-152">Pokud používáte Visual Studio místo Visual Web Developer, z **nástroje** nabídce vyberte možnost **Správce balíčků knihoven** a pak vyberte **přidat odkaz na balíček knihovny**.</span><span class="sxs-lookup"><span data-stu-id="f10fa-152">If you're using Visual Studio instead of Visual Web Developer, from the **Tools** menu, select **Library Package Manager** and then select **Add Library Package Reference**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image4.png)

<span data-ttu-id="f10fa-153">V **MVCMovie - spravovat balíčky NuGet** dialogové okno, klikněte **Online** kartě na levé straně a pak zadejte &quot;jQuery.UI&quot; do vyhledávacího pole.</span><span class="sxs-lookup"><span data-stu-id="f10fa-153">In the **MVCMovie - Manage NuGet Packages** dialog box, click the **Online** tab on the left and then enter &quot;jQuery.UI&quot; in the search box.</span></span> <span data-ttu-id="f10fa-154">Vyberte j **dotazu uživatelského rozhraní pomůcek: ovládací prvek Datepicker**, vyberte **nainstalovat** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="f10fa-154">Select j **Query UI WIdgets:Datepicker**, then select the **Install** button.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image5.png)

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image6.png)

<span data-ttu-id="f10fa-155">NuGet přidá tyto ladicí verze a minifikovaný verze jQuery základní uživatelské rozhraní a výběr data uživatelského rozhraní jQuery do projektu:</span><span class="sxs-lookup"><span data-stu-id="f10fa-155">NuGet adds these debug versions and minified versions of jQuery UI Core and the jQuery UI date picker to your project:</span></span>

- <span data-ttu-id="f10fa-156">*jquery.ui.core.js*</span><span class="sxs-lookup"><span data-stu-id="f10fa-156">*jquery.ui.core.js*</span></span>
- <span data-ttu-id="f10fa-157">*jquery.ui.core.min.js*</span><span class="sxs-lookup"><span data-stu-id="f10fa-157">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="f10fa-158">*jquery.ui.datepicker.js*</span><span class="sxs-lookup"><span data-stu-id="f10fa-158">*jquery.ui.datepicker.js*</span></span>
- <span data-ttu-id="f10fa-159">*jquery.ui.datepicker.min.js*</span><span class="sxs-lookup"><span data-stu-id="f10fa-159">*jquery.ui.datepicker.min.js*</span></span>

<span data-ttu-id="f10fa-160">Poznámka: Verze ladění (soubory bez *. min.js* rozšíření) jsou užitečné pro ladění, ale v produkční lokality, bude zahrnovat pouze minifikovaný verze.</span><span class="sxs-lookup"><span data-stu-id="f10fa-160">Note: The debug versions (the files without the *.min.js* extension) are useful for debugging, but in a production site, you'd include only the minified versions.</span></span>

<span data-ttu-id="f10fa-161">Chcete-li ve skutečnosti pomocí nástroje pro výběr data jQuery, vytvořte jQuery skript, který bude spojit widgetu kalendáře do šablony upravit.</span><span class="sxs-lookup"><span data-stu-id="f10fa-161">To actually use the jQuery date picker, you need to create a jQuery script that will hook up the calendar widget to the edit template.</span></span> <span data-ttu-id="f10fa-162">V **Průzkumníku řešení**, klikněte pravým tlačítkem myši *skripty* složky a vyberte **přidat**, pak **nová položka**a potom **JScript Soubor**.</span><span class="sxs-lookup"><span data-stu-id="f10fa-162">In **Solution Explorer**, right-click the *Scripts* folder and select **Add**, then **New Item**, and then **JScript File**.</span></span> <span data-ttu-id="f10fa-163">Název souboru *DatePickerReady.js*.</span><span class="sxs-lookup"><span data-stu-id="f10fa-163">Name the file *DatePickerReady.js*.</span></span>

<span data-ttu-id="f10fa-164">Přidejte následující kód, který *DatePickerReady.js* souboru:</span><span class="sxs-lookup"><span data-stu-id="f10fa-164">Add the following code to the *DatePickerReady.js* file:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample5.js)]

<span data-ttu-id="f10fa-165">Pokud si nejste obeznámeni s jQuery, následuje stručné vysvětlení to udělá: první řádek je &quot;jQuery připravené&quot; funkci, která je volána, když máte načíst všechny DOM elementy na stránce.</span><span class="sxs-lookup"><span data-stu-id="f10fa-165">If you're not familiar with jQuery, here's a brief explanation of what this does: the first line is the &quot;jQuery ready&quot; function, which is called when all the DOM elements in a page have loaded.</span></span> <span data-ttu-id="f10fa-166">Druhý řádek vybere všechny elementy DOM, které mají název třídy `datefield`, poté vyvolá `datepicker` funkci pro každý z nich.</span><span class="sxs-lookup"><span data-stu-id="f10fa-166">The second line selects all DOM elements that have the class name `datefield`, then invokes the `datepicker` function for each of them.</span></span> <span data-ttu-id="f10fa-167">(Mějte na paměti, že jste přidali `datefield` třídy k *Views\Shared\EditorTemplates\Date.cshtml* šablony dříve v tomto kurzu.)</span><span class="sxs-lookup"><span data-stu-id="f10fa-167">(Remember that you added the `datefield` class to the *Views\Shared\EditorTemplates\Date.cshtml* template earlier in the tutorial.)</span></span>

<span data-ttu-id="f10fa-168">Dále otevřete *Views\Shared\\_Layout.cshtml* souboru.</span><span class="sxs-lookup"><span data-stu-id="f10fa-168">Next, open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="f10fa-169">Je nutné přidat odkazy na následující soubory, které jsou všechny požadované, takže můžete použít nástroje pro výběr data:</span><span class="sxs-lookup"><span data-stu-id="f10fa-169">You need to add references to the following files, which are all required so that you can use the date picker:</span></span>

- <span data-ttu-id="f10fa-170">*Content/themes/base/jquery.ui.core.css*</span><span class="sxs-lookup"><span data-stu-id="f10fa-170">*Content/themes/base/jquery.ui.core.css*</span></span>
- <span data-ttu-id="f10fa-171">*Content/themes/base/jquery.ui.datepicker.css*</span><span class="sxs-lookup"><span data-stu-id="f10fa-171">*Content/themes/base/jquery.ui.datepicker.css*</span></span>
- <span data-ttu-id="f10fa-172">*Content/themes/base/jquery.ui.theme.css*</span><span class="sxs-lookup"><span data-stu-id="f10fa-172">*Content/themes/base/jquery.ui.theme.css*</span></span>
- <span data-ttu-id="f10fa-173">*jquery.ui.core.min.js*</span><span class="sxs-lookup"><span data-stu-id="f10fa-173">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="f10fa-174">*jquery.ui.datepicker.min.js*</span><span class="sxs-lookup"><span data-stu-id="f10fa-174">*jquery.ui.datepicker.min.js*</span></span>
- <span data-ttu-id="f10fa-175">*DatePickerReady.js*</span><span class="sxs-lookup"><span data-stu-id="f10fa-175">*DatePickerReady.js*</span></span>

<span data-ttu-id="f10fa-176">Následující příklad ukazuje kód skutečný, měli byste přidat v dolní části `head` element v *Views\Shared\\_Layout.cshtml* souboru.</span><span class="sxs-lookup"><span data-stu-id="f10fa-176">The following example shows the actual code that you should add at the bottom of the `head` element in the *Views\Shared\\_Layout.cshtml* file.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample6.cshtml)]

<span data-ttu-id="f10fa-177">Kompletní `head` části je znázorněno zde:</span><span class="sxs-lookup"><span data-stu-id="f10fa-177">The complete `head` section is shown here:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample7.cshtml)]

<span data-ttu-id="f10fa-178">[Adresa URL obsahu pomocná](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) metoda převede cesta prostředku na absolutní cestu.</span><span class="sxs-lookup"><span data-stu-id="f10fa-178">The [URL content helper](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) method converts the resource path to an absolute path.</span></span> <span data-ttu-id="f10fa-179">Je nutné použít `@URL.Content` správně odkazovat na tyto prostředky když aplikace běží ve službě IIS.</span><span class="sxs-lookup"><span data-stu-id="f10fa-179">You must use `@URL.Content` to correctly reference these resources when the application is running on IIS.</span></span>

<span data-ttu-id="f10fa-180">Stisknutím kombinace kláves CTRL + F5 a spusťte aplikaci.</span><span class="sxs-lookup"><span data-stu-id="f10fa-180">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="f10fa-181">Vyberte odkaz pro úpravy a pak umístěte kurzor do **ReleaseDate** pole.</span><span class="sxs-lookup"><span data-stu-id="f10fa-181">Select an edit link, then put the insertion point into the **ReleaseDate** field.</span></span> <span data-ttu-id="f10fa-182">Zobrazí se kalendářem jQuery uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="f10fa-182">The jQuery UI popup calendar is displayed.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image7.png)

<span data-ttu-id="f10fa-183">Stejně jako většinu jQuery ovládací prvky umožňuje ovládací prvek datepicker hojně přizpůsobit.</span><span class="sxs-lookup"><span data-stu-id="f10fa-183">Like most jQuery controls, the datepicker lets you customize it extensively.</span></span> <span data-ttu-id="f10fa-184">Informace najdete v tématu [Visual přizpůsobení: navrhování motiv uživatelského rozhraní jQuery](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) na [jQuery UI](http://learn.jquery.com/jquery-ui/getting-started/) lokality.</span><span class="sxs-lookup"><span data-stu-id="f10fa-184">For information, see [Visual Customization: Designing a jQuery UI theme](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) on the [jQuery UI](http://learn.jquery.com/jquery-ui/getting-started/) site.</span></span>

### <a name="supporting-the-html5-date-input-control"></a><span data-ttu-id="f10fa-185">Podpora jazyka HTML5 datum vstupního ovládacího prvku</span><span class="sxs-lookup"><span data-stu-id="f10fa-185">Supporting the HTML5 Date Input Control</span></span>

<span data-ttu-id="f10fa-186">Jako další prohlížeče podporují HTML5, budete chtít použít nativní HTML5 vstup, jako `date` elementu input a kalendáře jQuery UI nechcete použít.</span><span class="sxs-lookup"><span data-stu-id="f10fa-186">As more browsers support HTML5, you'll want to use the native HTML5 input, such as the `date` input element, and not use the jQuery UI calendar.</span></span> <span data-ttu-id="f10fa-187">Můžete přidat logiku do vaší aplikace k automatickému využití ovládacích prvků HTML5, pokud je prohlížeč podporuje.</span><span class="sxs-lookup"><span data-stu-id="f10fa-187">You can add logic to your application to automatically use HTML5 controls if the browser supports them.</span></span> <span data-ttu-id="f10fa-188">Chcete-li to provést, nahraďte obsah *DatePickerReady.js* soubor s následující:</span><span class="sxs-lookup"><span data-stu-id="f10fa-188">To do this, replace the contents of the *DatePickerReady.js* file with the following:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample8.js)]

<span data-ttu-id="f10fa-189">První řádek tento skript používá Modernizr k ověřte, zda je vstupní datum HTML5 podporovat.</span><span class="sxs-lookup"><span data-stu-id="f10fa-189">The first line of this script uses Modernizr to verify that HTML5 date input is supported.</span></span> <span data-ttu-id="f10fa-190">Pokud se nepodporuje, výběr data uživatelského rozhraní jQuery je připojili místo.</span><span class="sxs-lookup"><span data-stu-id="f10fa-190">If it's not supported, the jQuery UI date picker is hooked up instead.</span></span> <span data-ttu-id="f10fa-191">([Modernizr](http://www.modernizr.com/docs/) je knihovna JavaScript open source, který zjišťuje dostupnost nativní implementace HTML5 a CSS3.</span><span class="sxs-lookup"><span data-stu-id="f10fa-191">([Modernizr](http://www.modernizr.com/docs/) is an open-source JavaScript library that detects the availability of native implementations of HTML5 and CSS3.</span></span> <span data-ttu-id="f10fa-192">Modernizr je součástí nové projekty ASP.NET MVC, které vytvoříte.)</span><span class="sxs-lookup"><span data-stu-id="f10fa-192">Modernizr is included in any new ASP.NET MVC projects that you create.)</span></span>

<span data-ttu-id="f10fa-193">Po provedení této změny, jej můžete otestovat pomocí prohlížeče, který podporuje HTML5, jako je například Opera 11.</span><span class="sxs-lookup"><span data-stu-id="f10fa-193">After you've made this change, you can test it by using a browser that supports HTML5, such as Opera 11.</span></span> <span data-ttu-id="f10fa-194">Spusťte aplikaci pomocí prohlížeče kompatibilní s HTML5 a upravte film položku.</span><span class="sxs-lookup"><span data-stu-id="f10fa-194">Run the application using an HTML5-compatible browser and edit a movie entry.</span></span> <span data-ttu-id="f10fa-195">Řízení data HTML5 se používá namísto kalendářem jQuery uživatelského rozhraní:</span><span class="sxs-lookup"><span data-stu-id="f10fa-195">The HTML5 date control is used instead of the jQuery UI popup calendar:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image8.png)

<span data-ttu-id="f10fa-196">Vzhledem k tomu, že nové verze prohlížeče jsou postupně implementace HTML5, je dobrý způsob teď přidejte kód na váš web, která bude vyhovovat širokou škálu podporu jazyka HTML5.</span><span class="sxs-lookup"><span data-stu-id="f10fa-196">Because new versions of browsers are implementing HTML5 incrementally, a good approach for now is to add code to your website that accommodates a wide variety of HTML5 support.</span></span> <span data-ttu-id="f10fa-197">Například robustnější *DatePickerReady.js* skriptu je zobrazena níže umožňující podporu prohlížeče lokality pouze částečně podporující řízení data HTML5.</span><span class="sxs-lookup"><span data-stu-id="f10fa-197">For example, a more robust *DatePickerReady.js* script is shown below that lets your site support browsers that only partially support the HTML5 date control.</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample9.js)]

<span data-ttu-id="f10fa-198">Tento skript vybere HTML5 `input` elementy typu `date` která plně nepodporují řízení data HTML5.</span><span class="sxs-lookup"><span data-stu-id="f10fa-198">This script selects HTML5 `input` elements of type `date` that don't fully support the HTML5 date control.</span></span> <span data-ttu-id="f10fa-199">Pro tyto elementy zachytí až kalendářem jQuery uživatelského rozhraní a poté změní `type` atribut z `date` k `text`.</span><span class="sxs-lookup"><span data-stu-id="f10fa-199">For those elements, it hooks up the jQuery UI popup calendar and then changes the `type` attribute from `date` to `text`.</span></span> <span data-ttu-id="f10fa-200">Změnou `type` atribut z `date` k `text`, nemá žádný částečné podporu data HTML5.</span><span class="sxs-lookup"><span data-stu-id="f10fa-200">By changing the `type` attribute from `date` to `text`, partial HTML5 date support is eliminated.</span></span> <span data-ttu-id="f10fa-201">Ještě více robustní *DatePickerReady.js* skriptu najdete na [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span><span class="sxs-lookup"><span data-stu-id="f10fa-201">An even more robust *DatePickerReady.js* script can be found at [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span></span>

### <a name="adding-nullable-dates-to-the-templates"></a><span data-ttu-id="f10fa-202">Přidávání do šablony s možnou hodnotou Null kalendářních dat</span><span class="sxs-lookup"><span data-stu-id="f10fa-202">Adding Nullable Dates to the Templates</span></span>

<span data-ttu-id="f10fa-203">Pokud použijte jednu z existujících šablon datum a předat hodnotu null. datum, získáte Chyba spuštění.</span><span class="sxs-lookup"><span data-stu-id="f10fa-203">If you use one of the existing date templates and pass a null date, you'll get a run-time error.</span></span> <span data-ttu-id="f10fa-204">Chcete-li šablony datum robustnější, změníte jejich zpracování hodnot null.</span><span class="sxs-lookup"><span data-stu-id="f10fa-204">To make the date templates more robust, you'll change them to handle null values.</span></span> <span data-ttu-id="f10fa-205">Pro podporu s možnou hodnotou Null kalendářních dat, změňte kód v *Views\Shared\DisplayTemplates\DateTime.cshtml* pro následující:</span><span class="sxs-lookup"><span data-stu-id="f10fa-205">To support nullable dates, change the code in the *Views\Shared\DisplayTemplates\DateTime.cshtml* to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample10.cshtml)]

<span data-ttu-id="f10fa-206">Kód vrátí prázdný řetězec, když je model **null**.</span><span class="sxs-lookup"><span data-stu-id="f10fa-206">The code returns an empty string when the model is **null**.</span></span>

<span data-ttu-id="f10fa-207">Změňte kód v *Views\Shared\EditorTemplates\Date.cshtml* soubor pro následující:</span><span class="sxs-lookup"><span data-stu-id="f10fa-207">Change the code in the *Views\Shared\EditorTemplates\Date.cshtml* file to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample11.cshtml)]

<span data-ttu-id="f10fa-208">Pokud tento kód používá, pokud model nemá hodnotu null, modelu `DateTime` hodnota se používá.</span><span class="sxs-lookup"><span data-stu-id="f10fa-208">When this code runs, if the model is not null, the model's `DateTime` value is used.</span></span> <span data-ttu-id="f10fa-209">Pokud model má hodnotu null, použije se místo toho aktuální datum.</span><span class="sxs-lookup"><span data-stu-id="f10fa-209">If the model is null, the current date is used instead.</span></span>

### <a name="wrapup"></a><span data-ttu-id="f10fa-210">Wrapup</span><span class="sxs-lookup"><span data-stu-id="f10fa-210">Wrapup</span></span>

<span data-ttu-id="f10fa-211">V tomto kurzu má popsaná základy objekty se šablonami za ASP.NET a ukazuje, jak používat kalendářem jQuery UI ovládací prvek datepicker v aplikaci ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="f10fa-211">This tutorial has covered the basics of ASP.NET templated helpers and shows you how to use the jQuery UI datepicker popup calendar in an ASP.NET MVC application.</span></span> <span data-ttu-id="f10fa-212">Další informace zkuste tyto prostředky:</span><span class="sxs-lookup"><span data-stu-id="f10fa-212">For more information, try these resources:</span></span>

- <span data-ttu-id="f10fa-213">Informace o lokalizaci, najdete v části Rajeesh na blogu [ovládací prvek JQueryUI Datepicker v architektuře ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span><span class="sxs-lookup"><span data-stu-id="f10fa-213">For information on localization, see Rajeesh's blog [JQueryUI Datepicker in ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span></span>
- <span data-ttu-id="f10fa-214">Informace o jQuery UI najdete v tématu [jQuery UI](http://docs.jquery.com/UI).</span><span class="sxs-lookup"><span data-stu-id="f10fa-214">For information about jQuery UI, see [jQuery UI](http://docs.jquery.com/UI).</span></span>
- <span data-ttu-id="f10fa-215">Informace o tom, jak lokalizace ovládacího prvku ovládací prvek datepicker najdete v tématu [uživatelského rozhraní nebo ovládací prvek Datepicker/lokalizace](http://docs.jquery.com/UI/Datepicker/Localization).</span><span class="sxs-lookup"><span data-stu-id="f10fa-215">For information about how to localize the datepicker control, see [UI/Datepicker/Localization](http://docs.jquery.com/UI/Datepicker/Localization).</span></span>
- <span data-ttu-id="f10fa-216">Další informace o šablonách technologie ASP.NET MVC najdete v části řady blogu Brada Wilsona v [ASP.NET MVC 2 šablony](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span><span class="sxs-lookup"><span data-stu-id="f10fa-216">For more information about the ASP.NET MVC templates, see Brad Wilson's blog series on [ASP.NET MVC 2 Templates](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span></span> <span data-ttu-id="f10fa-217">I když řady byla zapsána pro ASP.NET MVC 2, materiál stále platí pro aktuální verzi ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="f10fa-217">Although the series was written for ASP.NET MVC 2, the material still applies for the current version of ASP.NET MVC.</span></span>

>[!div class="step-by-step"]
[<span data-ttu-id="f10fa-218">Předchozí</span><span class="sxs-lookup"><span data-stu-id="f10fa-218">Previous</span></span>](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-3.md)
