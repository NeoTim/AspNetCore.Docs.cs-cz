---
uid: identity/overview/getting-started/introduction-to-aspnet-identity
title: Úvod do ASP.NET Identity | Microsoft Docs
author: jongalloway
description: Systém členství technologie ASP.NET byla zavedena v systému technologii ASP.NET 2.0 zpět 2005 a od pak byly mnoho změny v typicall způsoby webové aplikace...
ms.author: aspnetcontent
manager: wpickett
ms.date: 10/17/2013
ms.topic: article
ms.assetid: 38717fc1-5989-43cf-952d-4007cc1dd923
ms.technology: ''
ms.prod: .net-framework
msc.legacyurl: /identity/overview/getting-started/introduction-to-aspnet-identity
msc.type: authoredcontent
ms.openlocfilehash: 59272f4659256e108ee99b22eb3bd3e2583a617c
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/06/2018
ms.locfileid: "30874093"
---
<a name="introduction-to-aspnet-identity"></a><span data-ttu-id="73354-103">Úvod do ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="73354-103">Introduction to ASP.NET Identity</span></span>
====================
<span data-ttu-id="73354-104">podle [Jon Galloway](https://github.com/jongalloway), [Pranav Rastogi](https://github.com/rustd), [Rick Anderson](https://github.com/Rick-Anderson), [tní Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="73354-104">by [Jon Galloway](https://github.com/jongalloway), [Pranav Rastogi](https://github.com/rustd), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="73354-105">Systém členství technologie ASP.NET byla zavedená s prostředím ASP.NET 2.0 back 2005 a od pak byly provedeny změny v mnoha způsoby webové aplikace obvykle zpracovávat ověřování a autorizace.</span><span class="sxs-lookup"><span data-stu-id="73354-105">The ASP.NET membership system was introduced with ASP.NET 2.0 back in 2005, and since then there have been many changes in the ways web applications typically handle authentication and authorization.</span></span> <span data-ttu-id="73354-106">ASP.NET Identity je nový pohled na co systém členství musí být při vytváření moderní aplikace pro web, telefon nebo tablet.</span><span class="sxs-lookup"><span data-stu-id="73354-106">ASP.NET Identity is a fresh look at what the membership system should be when you are building modern applications for the web, phone, or tablet.</span></span>
> 
> <span data-ttu-id="73354-107">Tento článek napsal Pranav Rastogi ([@rustd](https://twitter.com/rustd)), Jon Galloway ([@jongalloway](https://twitter.com/jongalloway)), tní Dykstra a Rick Anderson ([ @RickAndMSFT ](https://twitter.com/#!/RickAndMSFT) ).</span><span class="sxs-lookup"><span data-stu-id="73354-107">This article was written by Pranav Rastogi ([@rustd](https://twitter.com/rustd)), Jon Galloway ([@jongalloway](https://twitter.com/jongalloway)), Tom Dykstra, and Rick Anderson ([@RickAndMSFT](https://twitter.com/#!/RickAndMSFT) ).</span></span>


## <a name="background-membership-in-aspnet"></a><span data-ttu-id="73354-108">Pozadí: Členství technologie ASP.NET</span><span class="sxs-lookup"><span data-stu-id="73354-108">Background: Membership in ASP.NET</span></span>

### <a name="aspnet-membership"></a><span data-ttu-id="73354-109">Členství technologie ASP.NET</span><span class="sxs-lookup"><span data-stu-id="73354-109">ASP.NET Membership</span></span>

<span data-ttu-id="73354-110">[Členství technologie ASP.NET](https://msdn.microsoft.com/library/yh26yfzy(v=VS.100).aspx) byl proto, aby vyřešila požadavky na členství lokality, které byly v 2005, které se podílejí ověřování pomocí formulářů a databázi systému SQL Server pro uživatelská jména, hesla a data profilu běžné.</span><span class="sxs-lookup"><span data-stu-id="73354-110">[ASP.NET Membership](https://msdn.microsoft.com/library/yh26yfzy(v=VS.100).aspx) was designed to solve site membership requirements that were common in 2005, which involved Forms Authentication, and a SQL Server database for user names, passwords, and profile data.</span></span> <span data-ttu-id="73354-111">Dnes je mnohem širší pole možnosti úložiště dat pro webové aplikace a Většina vývojářů chcete povolit jejich lokality používat sociální identity zprostředkovatele pro funkci ověřování a autorizace.</span><span class="sxs-lookup"><span data-stu-id="73354-111">Today there is a much broader array of data storage options for web applications, and most developers want to enable their sites to use social identity providers for authentication and authorization functionality.</span></span> <span data-ttu-id="73354-112">Omezení návrhu členství technologie ASP.NET velmi obtížné tento přechod:</span><span class="sxs-lookup"><span data-stu-id="73354-112">The limitations of ASP.NET Membership's design make this transition difficult:</span></span>

- <span data-ttu-id="73354-113">Schéma databáze je navržené pro SQL Server a nelze ji změnit.</span><span class="sxs-lookup"><span data-stu-id="73354-113">The database schema was designed for SQL Server and you can't change it.</span></span> <span data-ttu-id="73354-114">Můžete přidat informace o profilu, ale další data nachází v balení do jiné tabulky, což znesnadňuje pro přístup k jakýmkoli způsobem s výjimkou prostřednictvím rozhraní API poskytovatele profilu.</span><span class="sxs-lookup"><span data-stu-id="73354-114">You can add profile information, but the additional data is packed into a different table, which makes it difficult to access by any means except through the Profile Provider API.</span></span>
- <span data-ttu-id="73354-115">Systému zprostředkovatele umožňuje změnit úložiště zálohování dat, ale v systému je uspořádaná kolem předpoklady, které jsou vhodné pro relační databázi.</span><span class="sxs-lookup"><span data-stu-id="73354-115">The provider system enables you to change the backing data store, but the system is designed around assumptions appropriate for a relational database.</span></span> <span data-ttu-id="73354-116">Můžete napsat zprostředkovatele uložit informace o členství v mechanismus nerelační úložiště, jako je například úložiště tabulek Azure, ale pak budete muset obejít relační návrhu pomocí zápisu velké množství kódu a spoustu `System.NotImplementedException` výjimky pro metody, které nejsou platí pro databáze NoSQL.</span><span class="sxs-lookup"><span data-stu-id="73354-116">You can write a provider to store membership information in a non-relational storage mechanism, such as Azure Storage Tables, but then you have to work around the relational design by writing a lot of code and a lot of `System.NotImplementedException` exceptions for methods that don't apply to NoSQL databases.</span></span>
- <span data-ttu-id="73354-117">Vzhledem k tomu, že funkce protokolu nebo odhlášení je založena na ověřování pomocí formulářů, nemůžete použít systém členství [OWIN](../../../aspnet/overview/owin-and-katana/an-overview-of-project-katana.md).</span><span class="sxs-lookup"><span data-stu-id="73354-117">Since the log-in/log-out functionality is based on Forms Authentication, the membership system can't use [OWIN](../../../aspnet/overview/owin-and-katana/an-overview-of-project-katana.md).</span></span> <span data-ttu-id="73354-118">OWIN obsahuje komponenty middlewaru pro ověřování, včetně podpory pro přihlašovací údaje pomocí poskytovatelů identit externí (např. Accounts Microsoft, Facebook, Google, Twitter) a přihlašovací údaje pomocí účty organizace z místní služby Active Directory nebo Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="73354-118">OWIN includes middleware components for authentication, including support for log-ins using external identity providers (like Microsoft Accounts, Facebook, Google, Twitter), and log-ins using organizational accounts from on-premises Active Directory or Azure Active Directory.</span></span> <span data-ttu-id="73354-119">OWIN zahrnuje taky podporu pro OAuth 2.0 JWT a CORS.</span><span class="sxs-lookup"><span data-stu-id="73354-119">OWIN also includes support for OAuth 2.0, JWT and CORS.</span></span>

### <a name="aspnet-simple-membership"></a><span data-ttu-id="73354-120">ASP.NET jednoduché členství</span><span class="sxs-lookup"><span data-stu-id="73354-120">ASP.NET Simple Membership</span></span>

<span data-ttu-id="73354-121">[Jednoduché členství technologie ASP.NET](../../../web-pages/overview/security/16-adding-security-and-membership.md) byl vyvinut jako systém členství pro ASP.NET Web Pages.</span><span class="sxs-lookup"><span data-stu-id="73354-121">[ASP.NET simple membership](../../../web-pages/overview/security/16-adding-security-and-membership.md) was developed as a membership system for ASP.NET Web Pages.</span></span> <span data-ttu-id="73354-122">Byl vydán pomocí služby WebMatrix a Visual Studio 2010 SP1.</span><span class="sxs-lookup"><span data-stu-id="73354-122">It was released with WebMatrix and Visual Studio 2010 SP1.</span></span> <span data-ttu-id="73354-123">Cílem jednoduché členství bylo snadné přidání funkcí členství do aplikace Web Pages.</span><span class="sxs-lookup"><span data-stu-id="73354-123">The goal of Simple Membership was to make it easy to add membership functionality to a Web Pages application.</span></span>

<span data-ttu-id="73354-124">Jednoduché členství snadněji přizpůsobit informace o profilu uživatele, ale stále sdílí jiné problémy s členství technologie ASP.NET a má určitá omezení:</span><span class="sxs-lookup"><span data-stu-id="73354-124">Simple Membership did make it easier to customize user profile information, but it still shares the other problems with ASP.NET Membership, and it has some limitations:</span></span>

- <span data-ttu-id="73354-125">Bylo obtížné zachovat data systému členství v nerelační úložišti.</span><span class="sxs-lookup"><span data-stu-id="73354-125">It was hard to persist membership system data in a non-relational store.</span></span>
- <span data-ttu-id="73354-126">Nemůžete ji použít s OWIN.</span><span class="sxs-lookup"><span data-stu-id="73354-126">You can't use it with OWIN.</span></span>
- <span data-ttu-id="73354-127">Předchozí postup nebude fungovat správně s existující zprostředkovatele členství technologie ASP.NET a není rozšiřitelný.</span><span class="sxs-lookup"><span data-stu-id="73354-127">It doesn't work well with existing ASP.NET Membership providers, and it's not extensible.</span></span>

### <a name="aspnet-universal-providers"></a><span data-ttu-id="73354-128">ASP.NET Universal Providers</span><span class="sxs-lookup"><span data-stu-id="73354-128">ASP.NET Universal Providers</span></span>

<span data-ttu-id="73354-129">[Balíček ASP.NET Universal Providers](http://www.hanselman.com/blog/IntroducingSystemWebProvidersASPNETUniversalProvidersForSessionMembershipRolesAndUserProfileOnSQLCompactAndSQLAzure.aspx) byly vyvinuty, aby bylo možné zachovat informace o členství ve službě Microsoft Azure SQL Database a také pracovat se systém SQL Server Compact.</span><span class="sxs-lookup"><span data-stu-id="73354-129">[ASP.NET Universal Providers](http://www.hanselman.com/blog/IntroducingSystemWebProvidersASPNETUniversalProvidersForSessionMembershipRolesAndUserProfileOnSQLCompactAndSQLAzure.aspx) were developed to make it possible to persist membership information in Microsoft Azure SQL Database, and they also work with SQL Server Compact.</span></span> <span data-ttu-id="73354-130">Universal Providers byly založený na Entity Framework Code First, což znamená, že můžete uchovávat data v jakékoli úložiště nepodporuje EF použít Universal Providers.</span><span class="sxs-lookup"><span data-stu-id="73354-130">The Universal Providers were built on Entity Framework Code First, which means that the Universal Providers can be used to persist data in any store supported by EF.</span></span> <span data-ttu-id="73354-131">S Universal Providers schéma databáze byla vyčištěna poměrně velké také.</span><span class="sxs-lookup"><span data-stu-id="73354-131">With the Universal Providers, the database schema was cleaned up quite a lot as well.</span></span>

<span data-ttu-id="73354-132">Universal Providers jsou postavené na infrastrukturu členství technologie ASP.NET, takže stále provádění stejná omezení jako zprostředkovatel SqlMembership.</span><span class="sxs-lookup"><span data-stu-id="73354-132">The Universal Providers are built on the ASP.NET Membership infrastructure, so they still carry the same limitations as the SqlMembership Provider.</span></span> <span data-ttu-id="73354-133">To znamená byly navrženy pro relačních databází a je těžké si přizpůsobit informace o profilu a uživatele.</span><span class="sxs-lookup"><span data-stu-id="73354-133">That is, they were designed for relational databases and it's hard to customize profile and user information.</span></span> <span data-ttu-id="73354-134">Tito zprostředkovatelé pořád použít ověřování pomocí formulářů pro funkci přihlášení a odhlášení.</span><span class="sxs-lookup"><span data-stu-id="73354-134">These providers also still use Forms Authentication for log-in and log-out functionality.</span></span>

## <a name="aspnet-identity"></a><span data-ttu-id="73354-135">ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="73354-135">ASP.NET Identity</span></span>

<span data-ttu-id="73354-136">Scénáře technologie ASP.NET má jako členství vyvinuly v průběhu let, týmem technologie ASP.NET má mnoho vytvořeným ze zpětné vazby od zákazníků.</span><span class="sxs-lookup"><span data-stu-id="73354-136">As the membership story in ASP.NET has evolved over the years, the ASP.NET team has learned a lot from feedback from customers.</span></span>

<span data-ttu-id="73354-137">Za předpokladu, že uživatelé budou přihlašovat tak, že zadáte uživatelské jméno a heslo, které mají registrované ve vaší vlastní aplikaci již není platný.</span><span class="sxs-lookup"><span data-stu-id="73354-137">The assumption that users will log in by entering a user name and password that they have registered in your own application is no longer valid.</span></span> <span data-ttu-id="73354-138">Na webu se stal více sociálních.</span><span class="sxs-lookup"><span data-stu-id="73354-138">The web has become more social.</span></span> <span data-ttu-id="73354-139">Uživatelé jsou v reálném čase prostřednictvím sociálních kanálů, jako je Facebook, Twitter a jiné sociální weby interakci mezi sebou.</span><span class="sxs-lookup"><span data-stu-id="73354-139">Users are interacting with each other in real time through social channels such as Facebook, Twitter, and other social web sites.</span></span> <span data-ttu-id="73354-140">Vývojáři mají uživatelé moci přihlásit pomocí svých sociálních identit, aby měli bohaté prostředí na svých webech.</span><span class="sxs-lookup"><span data-stu-id="73354-140">Developers want users to be able to log in with their social identities so that they can have a rich experience on their web sites.</span></span> <span data-ttu-id="73354-141">Systém moderní členství musíte povolit na základě přesměrování přihlašovací údaje pro zprostředkovatele ověřování, jako je Facebook, Twitter a dalších.</span><span class="sxs-lookup"><span data-stu-id="73354-141">A modern membership system must enable redirection-based log-ins to authentication providers such as Facebook, Twitter, and others.</span></span>

<span data-ttu-id="73354-142">Jako vyvinuly vývoj webů, takže se vzory vývoj webů.</span><span class="sxs-lookup"><span data-stu-id="73354-142">As web development evolved, so did the patterns of web development.</span></span> <span data-ttu-id="73354-143">Jednotka testování kódu aplikace se aktivovala základní problém pro vývojáře aplikací.</span><span class="sxs-lookup"><span data-stu-id="73354-143">Unit testing of application code became a core concern for application developers.</span></span> <span data-ttu-id="73354-144">Technologie ASP.NET v 2008 přidat nové rozhraní na základě vzoru Model-View-Controller (MVC), v části usnadňuje vývojářům vytvářet jednotky možností intenzivního testování aplikací ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="73354-144">In 2008 ASP.NET added a new framework based on the Model-View-Controller (MVC) pattern, in part to help developers build unit testable ASP.NET applications.</span></span> <span data-ttu-id="73354-145">Vývojáři, kteří chtěli jednotky otestovat jejich aplikační logiku také chtěli moci provést pomocí systému členství.</span><span class="sxs-lookup"><span data-stu-id="73354-145">Developers who wanted to unit test their application logic also wanted to be able to do that with the membership system.</span></span>

<span data-ttu-id="73354-146">S ohledem na tyto změny v vývoj webových aplikací ASP.NET Identity vyvinula sledovat tyto cíle:</span><span class="sxs-lookup"><span data-stu-id="73354-146">Considering these changes in web application development, ASP.NET Identity was developed with the following goals:</span></span>

- <span data-ttu-id="73354-147">**Jeden systém ASP.NET Identity**</span><span class="sxs-lookup"><span data-stu-id="73354-147">**One ASP.NET Identity system**</span></span>

    - <span data-ttu-id="73354-148">ASP.NET Identity můžete použít se všemi rozhraní ASP.NET, jako je ASP.NET MVC, webových formulářů, webové stránky, webové rozhraní API a SignalR.</span><span class="sxs-lookup"><span data-stu-id="73354-148">ASP.NET Identity can be used with all of the ASP.NET frameworks, such as ASP.NET MVC, Web Forms, Web Pages, Web API, and SignalR.</span></span>
    - <span data-ttu-id="73354-149">ASP.NET Identity lze použít při vytváření webové, telefon, úložiště nebo hybridní aplikace.</span><span class="sxs-lookup"><span data-stu-id="73354-149">ASP.NET Identity can be used when you are building web, phone, store, or hybrid applications.</span></span>
- <span data-ttu-id="73354-150">**Snadné zapojení data profilu o uživateli**</span><span class="sxs-lookup"><span data-stu-id="73354-150">**Ease of plugging in profile data about the user**</span></span>

    - <span data-ttu-id="73354-151">Budete mít kontrolu nad schéma uživatele a informace o profilu.</span><span class="sxs-lookup"><span data-stu-id="73354-151">You have control over the schema of user and profile information.</span></span> <span data-ttu-id="73354-152">Například můžete snadno povolit systém k ukládání dat narození uživatele zadané při registraci účtu v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="73354-152">For example, you can easily enable the system to store birth dates entered by users when they register an account in your application.</span></span>

- <span data-ttu-id="73354-153">**Trvalost ovládací prvek**</span><span class="sxs-lookup"><span data-stu-id="73354-153">**Persistence control**</span></span>

    - <span data-ttu-id="73354-154">Ve výchozím nastavení ukládá systému ASP.NET Identity všechny informace o uživateli v databázi.</span><span class="sxs-lookup"><span data-stu-id="73354-154">By default, the ASP.NET Identity system stores all the user information in a database.</span></span> <span data-ttu-id="73354-155">ASP.NET Identity používá Entity Framework Code First k implementaci všech svůj mechanismus trvalosti.</span><span class="sxs-lookup"><span data-stu-id="73354-155">ASP.NET Identity uses Entity Framework Code First to implement all of its persistence mechanism.</span></span>
    - <span data-ttu-id="73354-156">Vzhledem k tomu, že můžete řídit schématu databáze, běžné úkoly, jako je například změna názvy tabulek nebo změna datový typ primárních klíčů je jednoduše provést.</span><span class="sxs-lookup"><span data-stu-id="73354-156">Since you control the database schema, common tasks such as changing table names or changing the data type of primary keys is simple to do.</span></span>
    - <span data-ttu-id="73354-157">Je snadné zařaďte jiného úložiště mechanismy, například SharePoint, služby Table úložiště Azure, databáze NoSQL, atd., aniž by museli throw `System.NotImplementedExceptions` výjimky.</span><span class="sxs-lookup"><span data-stu-id="73354-157">It's easy to plug in different storage mechanisms such as SharePoint, Azure Storage Table Service, NoSQL databases, etc., without having to throw `System.NotImplementedExceptions` exceptions.</span></span>
- <span data-ttu-id="73354-158">**Možnosti testování částí**</span><span class="sxs-lookup"><span data-stu-id="73354-158">**Unit testability**</span></span>

    - <span data-ttu-id="73354-159">ASP.NET Identity vytvoří webovou aplikaci další jednotky možností intenzivního testování.</span><span class="sxs-lookup"><span data-stu-id="73354-159">ASP.NET Identity makes the web application more unit testable.</span></span> <span data-ttu-id="73354-160">Můžete napsat testy částí pro částí aplikace, které používají identitu ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="73354-160">You can write unit tests for the parts of your application that use ASP.NET Identity.</span></span>
- <span data-ttu-id="73354-161">**Zprostředkovatele rolí**</span><span class="sxs-lookup"><span data-stu-id="73354-161">**Role provider**</span></span>

    - <span data-ttu-id="73354-162">Je role zprostředkovatele, který vám umožňuje omezit přístup částí aplikace tak, že role.</span><span class="sxs-lookup"><span data-stu-id="73354-162">There is a role provider which lets you restrict access to parts of your application by roles.</span></span> <span data-ttu-id="73354-163">Můžete snadno vytvořit role, jako je "Admin" a přidání uživatelů do rolí.</span><span class="sxs-lookup"><span data-stu-id="73354-163">You can easily create roles such as "Admin" and add users to roles.</span></span>
- <span data-ttu-id="73354-164">**Na základě deklarace identity**</span><span class="sxs-lookup"><span data-stu-id="73354-164">**Claims Based**</span></span>

    - <span data-ttu-id="73354-165">ASP.NET Identity podporuje ověřování na základě deklarace, kde je identita uživatele reprezentován jako sadu deklarací identity.</span><span class="sxs-lookup"><span data-stu-id="73354-165">ASP.NET Identity supports claims-based authentication, where the user's identity is represented as a set of claims.</span></span> <span data-ttu-id="73354-166">Deklarace identity umožňují vývojářům být mnohem víc výrazovou v popisující identity uživatele, než dovolují role.</span><span class="sxs-lookup"><span data-stu-id="73354-166">Claims allow developers to be a lot more expressive in describing a user's identity than roles allow.</span></span> <span data-ttu-id="73354-167">Zatímco členství role je pouze logická hodnota (člen nebo třetí), deklarace identity může obsahovat bohaté informace o členství a identity uživatele.</span><span class="sxs-lookup"><span data-stu-id="73354-167">Whereas role membership is just a boolean (member or non-member), a claim can include rich information about the user's identity and membership.</span></span>
- <span data-ttu-id="73354-168">**Zprostředkovatelé přihlášení prostřednictvím sociální sítě**</span><span class="sxs-lookup"><span data-stu-id="73354-168">**Social Login Providers**</span></span>

    - <span data-ttu-id="73354-169">Můžete snadno přidávat sociální plug-in protokolu například Account Microsoft, Facebook, Twitter, Google a dalších do vaší aplikace a ukládání dat specifických pro uživatele ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="73354-169">You can easily add social log-ins such as Microsoft Account, Facebook, Twitter, Google, and others to your application, and store the user-specific data in your application.</span></span>
- <span data-ttu-id="73354-170">**Azure Active Directory**</span><span class="sxs-lookup"><span data-stu-id="73354-170">**Azure Active Directory**</span></span>

    - <span data-ttu-id="73354-171">Můžete také přidat funkci přihlášení pomocí služby Azure Active Directory a ukládání dat specifických pro uživatele ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="73354-171">You can also add log-in functionality using Azure Active Directory, and store the user-specific data in your application.</span></span> <span data-ttu-id="73354-172">Další informace najdete v tématu [účty organizace](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauth) v vytváření webové projekty ASP.NET v sadě Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="73354-172">For more information, see [Organizational Accounts](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauth) in Creating ASP.NET Web Projects in Visual Studio 2013</span></span>
- <span data-ttu-id="73354-173">**Integrace OWIN**</span><span class="sxs-lookup"><span data-stu-id="73354-173">**OWIN Integration**</span></span>

    - <span data-ttu-id="73354-174">Ověřování pomocí technologie ASP.NET je nyní podle middleware OWIN, který lze použít na všechny hostitele na základě OWIN.</span><span class="sxs-lookup"><span data-stu-id="73354-174">ASP.NET authentication is now based on OWIN middleware that can be used on any OWIN-based host.</span></span> <span data-ttu-id="73354-175">ASP.NET Identity nemá žádné závislosti na System.Web.</span><span class="sxs-lookup"><span data-stu-id="73354-175">ASP.NET Identity does not have any dependency on System.Web.</span></span> <span data-ttu-id="73354-176">Je plně kompatibilní rozhraní OWIN a lze použít v jakékoli aplikaci OWIN hostované.</span><span class="sxs-lookup"><span data-stu-id="73354-176">It is a fully compliant OWIN framework and can be used in any OWIN hosted application.</span></span>
    - <span data-ttu-id="73354-177">ASP.NET Identity používá ověřování OWIN protokolu protokolu rezervace uživatelů na webu.</span><span class="sxs-lookup"><span data-stu-id="73354-177">ASP.NET Identity uses OWIN Authentication for log-in/log-out of users in the web site.</span></span> <span data-ttu-id="73354-178">To znamená, že místo použití ověřování pomocí formulářů pro generování souboru cookie, aplikace bude používat OWIN CookieAuthentication to provést.</span><span class="sxs-lookup"><span data-stu-id="73354-178">This means that instead of using FormsAuthentication to generate the cookie, the application uses OWIN CookieAuthentication to do that.</span></span>
- <span data-ttu-id="73354-179">**Balíček NuGet**</span><span class="sxs-lookup"><span data-stu-id="73354-179">**NuGet package**</span></span>

    - <span data-ttu-id="73354-180">ASP.NET Identity je znovu distribuován jako balíčku NuGet, který je nainstalován v šablony ASP.NET MVC, webových formulářů a webového rozhraní API, které dodávají spolu s Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="73354-180">ASP.NET Identity is redistributed as a NuGet package which is installed in the ASP.NET MVC, Web Forms and Web API templates that ship with Visual Studio 2013.</span></span> <span data-ttu-id="73354-181">Tento balíček NuGet můžete stáhnout z Galerie NuGet.</span><span class="sxs-lookup"><span data-stu-id="73354-181">You can download this NuGet package from the NuGet gallery.</span></span>
    - <span data-ttu-id="73354-182">Uvolnění ASP.NET Identity jako NuGet balíček usnadňuje týmem ASP.NET k iteraci v nové funkce a opravy chyb a poskytovat tyto pro vývojáře pro agilní způsobem.</span><span class="sxs-lookup"><span data-stu-id="73354-182">Releasing ASP.NET Identity as a NuGet package makes it easier for the ASP.NET team to iterate on new features and bug fixes, and deliver these to developers in an agile manner.</span></span>

## <a name="getting-started-with-aspnet-identity"></a><span data-ttu-id="73354-183">Začínáme s ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="73354-183">Getting started with ASP.NET Identity</span></span>

<span data-ttu-id="73354-184">ASP.NET Identity se používá v šablony projektů Visual Studio 2013 pro rozhraní ASP.NET MVC, webových formulářů, webového rozhraní API a SPA.</span><span class="sxs-lookup"><span data-stu-id="73354-184">ASP.NET Identity is used in the Visual Studio 2013 project templates for ASP.NET MVC, Web Forms, Web API and SPA.</span></span> <span data-ttu-id="73354-185">V tomto návodu jsme budete znázorňují použití ASP.NET Identity šablony projektu k přidání funkcí registrace, přihlášení a odhlášení uživatele.</span><span class="sxs-lookup"><span data-stu-id="73354-185">In this walkthrough, we'll illustrate how the project templates use ASP.NET Identity to add functionality to register, log in and log out a user.</span></span>

<span data-ttu-id="73354-186">ASP.NET Identity je implementovaná pomocí následujícího postupu.</span><span class="sxs-lookup"><span data-stu-id="73354-186">ASP.NET Identity is implemented using the following procedure.</span></span> <span data-ttu-id="73354-187">Účelem tohoto článku je získáte nejvyšší úrovni přehled o ASP.NET Identity; můžete ji krok za krokem podle nebo právě přečtěte si podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="73354-187">The purpose of this article is to give you a high level overview of ASP.NET Identity; you can follow it step by step or just read the details.</span></span> <span data-ttu-id="73354-188">Podrobnější pokyny k vytváření aplikací pomocí ASP.NET Identity, včetně použití nového rozhraní API pro přidání uživatelů rolí a informace o profilu, najdete v části Další kroky na konci tohoto článku.</span><span class="sxs-lookup"><span data-stu-id="73354-188">For more detailed instructions on creating apps using ASP.NET Identity, including using the new API to add users, roles and profile information, see the Next Steps section at the end of this article.</span></span>

1. <span data-ttu-id="73354-189">Vytvořte aplikaci ASP.NET MVC jednotlivé účty.</span><span class="sxs-lookup"><span data-stu-id="73354-189">Create an ASP.NET MVC application with Individual Accounts.</span></span> <span data-ttu-id="73354-190">Můžete použít ASP.NET Identity v architektuře ASP.NET MVC, webových formulářů, webového rozhraní API, SignalR atd. V tomto článku jsme se spustí se aplikace ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="73354-190">You can use ASP.NET Identity in ASP.NET MVC, Web Forms, Web API, SignalR etc. In this article we will start with an ASP.NET MVC application.</span></span>  
  
    ![](introduction-to-aspnet-identity/_static/image1.png)
2. <span data-ttu-id="73354-191">Vytvořený projekt obsahuje následující tři balíčky pro ASP.NET Identity.</span><span class="sxs-lookup"><span data-stu-id="73354-191">The created project contains the following three packages for ASP.NET Identity.</span></span>

    - [`Microsoft.AspNet.Identity.EntityFramework`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.EntityFramework/)  
   <span data-ttu-id="73354-192">Tento balíček obsahuje implementace Entity Framework ASP.NET Identity, který se uchová ASP.NET Identity dat a schématu na SQL Server.</span><span class="sxs-lookup"><span data-stu-id="73354-192">This package has the Entity Framework implementation of ASP.NET Identity which will persist the ASP.NET Identity data and schema to SQL Server.</span></span>
    - [`Microsoft.AspNet.Identity.Core`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.Core/)  
   <span data-ttu-id="73354-193">Tento balíček má základní rozhraní pro ASP.NET Identity.</span><span class="sxs-lookup"><span data-stu-id="73354-193">This package has the core interfaces for ASP.NET Identity.</span></span> <span data-ttu-id="73354-194">Tento balíček lze zapsat implementace pro ASP.NET Identity, že trvalost jiné cíle ukládá jako je například Azure Table Storage, NoSQL databáze atd.</span><span class="sxs-lookup"><span data-stu-id="73354-194">This package can be used to write an implementation for ASP.NET Identity that targets different persistence stores such as Azure Table Storage, NoSQL databases etc.</span></span>
    - [`Microsoft.AspNet.Identity.OWIN`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.Owin/)  
   <span data-ttu-id="73354-195">Tento balíček obsahuje funkce, které se používá k zařaďte ověřování OWIN s ASP.NET Identity v aplikacích ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="73354-195">This package contains functionality that is used to plug in OWIN authentication with ASP.NET Identity in ASP.NET applications.</span></span> <span data-ttu-id="73354-196">Používá se při přidání protokolu do funkce aplikace a volání do middleware ověřování souborů Cookie OWIN ke generování souboru cookie.</span><span class="sxs-lookup"><span data-stu-id="73354-196">This is used when you add log in functionality to your application and call into OWIN Cookie Authentication middleware to generate a cookie.</span></span>
3. <span data-ttu-id="73354-197">Vytváření uživatele.</span><span class="sxs-lookup"><span data-stu-id="73354-197">Creating a user.</span></span>  
   <span data-ttu-id="73354-198">Spuštění aplikace a potom klikněte na **zaregistrovat** odkaz pro vytvoření uživatele.</span><span class="sxs-lookup"><span data-stu-id="73354-198">Launch the application and then click on the **Register** link to create a user.</span></span> <span data-ttu-id="73354-199">Následující obrázek ukazuje na stránku registrace, který shromažďuje uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="73354-199">The following image shows the Register page which collects the user name and password.</span></span>  
  
    ![](introduction-to-aspnet-identity/_static/image2.png)  
  
   <span data-ttu-id="73354-200">Když uživatel klikne **zaregistrovat** tlačítko `Register` akce řadiče účtu vytvoří uživatele voláním rozhraní API ASP.NET Identity, jak je znázorněno níže:</span><span class="sxs-lookup"><span data-stu-id="73354-200">When the user clicks the **Register** button, the `Register` action of the Account controller creates the user by calling the ASP.NET Identity API, as highlighted below:</span></span>

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample1.cs?highlight=8-9)]
4. <span data-ttu-id="73354-201">Přihlásit se.</span><span class="sxs-lookup"><span data-stu-id="73354-201">Log in.</span></span>  
   <span data-ttu-id="73354-202">Pokud byl uživatel vytvořen úspěšně, uživatel přihlášen pomocí `SignInAsync` metoda.</span><span class="sxs-lookup"><span data-stu-id="73354-202">If the user was successfully created, she is logged in by the `SignInAsync` method.</span></span>  

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample2.cs?highlight=12)]

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample3.cs?highlight=5-6)]

   <span data-ttu-id="73354-203">Zvýrazněný výš v `SignInAsync` metoda generuje [ClaimsIdentity](https://msdn.microsoft.com/library/system.security.claims.claimsidentity.aspx).</span><span class="sxs-lookup"><span data-stu-id="73354-203">The highlighted code above in the `SignInAsync` method generates a [ClaimsIdentity](https://msdn.microsoft.com/library/system.security.claims.claimsidentity.aspx).</span></span> <span data-ttu-id="73354-204">Vzhledem k tomu, že jsou založené na deklaracích identity systému ASP.NET Identity a ověřování souborů Cookie OWIN, rozhraní framework vyžaduje, aby aplikace ke generování ClaimsIdentity pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="73354-204">Since ASP.NET Identity and OWIN Cookie Authentication are claims-based system, the framework requires the app to generate a ClaimsIdentity for the user.</span></span> <span data-ttu-id="73354-205">ClaimsIdentity obsahuje informace o všech deklarací identity pro uživatele, například jaké role uživatel patří.</span><span class="sxs-lookup"><span data-stu-id="73354-205">ClaimsIdentity has information about all the claims for the user, such as what roles the user belongs to.</span></span> <span data-ttu-id="73354-206">V této fázi můžete také přidat další deklarace pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="73354-206">You can also add more claims for the user at this stage.</span></span>  
  
   <span data-ttu-id="73354-207">Zvýrazněný níže v `SignInAsync` metoda přihlášení uživatele pomocí třídě z OWIN a volání `SignIn` a předávání v ClaimsIdentity.</span><span class="sxs-lookup"><span data-stu-id="73354-207">The highlighted code below in the `SignInAsync` method signs in the user by using the AuthenticationManager from OWIN and calling `SignIn` and passing in the ClaimsIdentity.</span></span>  

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample4.cs?highlight=8-11)]
5. <span data-ttu-id="73354-208">Odhlaste se.</span><span class="sxs-lookup"><span data-stu-id="73354-208">Log off.</span></span>  
   <span data-ttu-id="73354-209">Kliknutím **Odhlásit** odkaz volá odhlášení akce v kontroleru účtu.</span><span class="sxs-lookup"><span data-stu-id="73354-209">Clicking the **Log off** link calls the LogOff action in the account controller.</span></span> 

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample5.cs?highlight=6)]

   <span data-ttu-id="73354-210">Zvýrazněných code výš ukazuje OWIN `AuthenticationManager.SignOut` metoda.</span><span class="sxs-lookup"><span data-stu-id="73354-210">The highlighted code above shows the OWIN `AuthenticationManager.SignOut` method.</span></span> <span data-ttu-id="73354-211">Toto je obdobou [FormsAuthentication.SignOut](https://msdn.microsoft.com/library/system.web.security.formsauthentication.signout.aspx) metodu používanou [FormsAuthentication](https://msdn.microsoft.com/library/system.web.security.formsauthenticationmodule.aspx) modulu ve webových formulářů.</span><span class="sxs-lookup"><span data-stu-id="73354-211">This is analogous to [FormsAuthentication.SignOut](https://msdn.microsoft.com/library/system.web.security.formsauthentication.signout.aspx) method used by the [FormsAuthentication](https://msdn.microsoft.com/library/system.web.security.formsauthenticationmodule.aspx) module in Web Forms.</span></span>

## <a name="components-of-aspnet-identity"></a><span data-ttu-id="73354-212">Součástí ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="73354-212">Components of ASP.NET Identity</span></span>

<span data-ttu-id="73354-213">Následující diagram znázorňuje komponenty ASP.NET Identity systému (klikněte na [to](introduction-to-aspnet-identity/_static/image3.png) nebo v diagramu a zvětšete je).</span><span class="sxs-lookup"><span data-stu-id="73354-213">The diagram below shows the components of the ASP.NET Identity system (click on [this](introduction-to-aspnet-identity/_static/image3.png) or on the diagram to enlarge it).</span></span> <span data-ttu-id="73354-214">Balíčky zeleně tvoří systém identit technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="73354-214">The packages in green make up the ASP.NET Identity system.</span></span> <span data-ttu-id="73354-215">Všechny balíčky jsou závislosti, které jsou potřeba k použití systém identit technologie ASP.NET v aplikacích ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="73354-215">All the other packages are dependencies which are needed to use the ASP.NET Identity system in ASP.NET applications.</span></span>

[![](introduction-to-aspnet-identity/_static/image5.png)](introduction-to-aspnet-identity/_static/image4.png)

<span data-ttu-id="73354-216">Následuje stručný popis balíčků NuGet není již bylo zmíněno dříve:</span><span class="sxs-lookup"><span data-stu-id="73354-216">The following is a brief description of the NuGet packages not mentioned previously:</span></span>

- [<span data-ttu-id="73354-217">Microsoft.Owin.Security.Cookies</span><span class="sxs-lookup"><span data-stu-id="73354-217">Microsoft.Owin.Security.Cookies</span></span>](http://www.nuget.org/packages/Microsoft.Owin.Security.Cookies/)  
 <span data-ttu-id="73354-218">Middleware, který umožňuje aplikaci používat soubor cookie na základě ověřování, podobné technologie ASP. Ověřování pomocí formulářů pro Asp.net.</span><span class="sxs-lookup"><span data-stu-id="73354-218">Middleware that enables an application to use cookie based authentication, similar to ASP.NET's Forms Authentication.</span></span>
- [<span data-ttu-id="73354-219">EntityFramework</span><span class="sxs-lookup"><span data-stu-id="73354-219">EntityFramework</span></span>](http://www.nuget.org/packages/EntityFramework/)  
 <span data-ttu-id="73354-220">Technologie přístup doporučené dat společnosti Microsoft pro relačních databází je rozhraní Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="73354-220">Entity Framework is Microsoft's recommended data access technology for relational databases.</span></span>

## <a name="migrating-from-membership-to-aspnet-identity"></a><span data-ttu-id="73354-221">Migrace z členství na identitě ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="73354-221">Migrating from Membership to ASP.NET Identity</span></span>

<span data-ttu-id="73354-222">Věříme, že brzy poskytovat pokyny k migraci vaší existující aplikace, které používají členství technologie ASP.NET nebo jednoduché členství na nový systém ASP.NET Identity.</span><span class="sxs-lookup"><span data-stu-id="73354-222">We hope to soon provide guidance on migrating your existing apps that use ASP.NET Membership or Simple Membership to the new ASP.NET Identity system.</span></span>

## <a name="next-steps"></a><span data-ttu-id="73354-223">Další kroky</span><span class="sxs-lookup"><span data-stu-id="73354-223">Next Steps</span></span>

- [<span data-ttu-id="73354-224">Vytvoření aplikace ASP.NET MVC 5 s použitím Facebook a Google OAuth2 a přihlašování OpenID</span><span class="sxs-lookup"><span data-stu-id="73354-224">Create an ASP.NET MVC 5 App with Facebook and Google OAuth2 and OpenID Sign-on</span></span>](../../../mvc/overview/security/create-an-aspnet-mvc-5-app-with-facebook-and-google-oauth2-and-openid-sign-on.md)  
 <span data-ttu-id="73354-225">Tento kurz používá rozhraní API ASP.NET Identity k přidání informace o profilu k uživatelské databázi a jak k ověřování pro Google a sítě Facebook.</span><span class="sxs-lookup"><span data-stu-id="73354-225">The tutorial uses the ASP.NET Identity API to add profile information to the user database, and how to authenticate with Google and Facebook.</span></span>
- [<span data-ttu-id="73354-226">Vytvoření aplikace ASP.NET MVC pomocí ověřování a databázi SQL a nasazení do Azure App Service</span><span class="sxs-lookup"><span data-stu-id="73354-226">Create an ASP.NET MVC app with auth and SQL DB and deploy to Azure App Service</span></span>](https://docs.microsoft.com/aspnet/core/security/authorization/secure-data)  
 <span data-ttu-id="73354-227">Tento kurz ukazuje, jak použijete rozhraní API Identity k přidání uživatelů a rolí.</span><span class="sxs-lookup"><span data-stu-id="73354-227">This tutorial shows how to use the Identity API to add users and roles.</span></span>
- <span data-ttu-id="73354-228">[Jednotlivých uživatelských účtů](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#indauth) při vytváření ASP.NET – webové projekty v sadě Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="73354-228">[Individual User Accounts](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#indauth) in Creating ASP.NET Web Projects in Visual Studio 2013</span></span>
- <span data-ttu-id="73354-229">[Účty organizace](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauth) při vytváření ASP.NET – webové projekty v sadě Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="73354-229">[Organizational Accounts](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauth) in Creating ASP.NET Web Projects in Visual Studio 2013</span></span>
- [<span data-ttu-id="73354-230">Přizpůsobení informací o profilu v identitě ASP.NET Identity šablony VS 2013</span><span class="sxs-lookup"><span data-stu-id="73354-230">Customizing profile information in ASP.NET Identity in VS 2013 templates</span></span>](https://blogs.msdn.com/b/webdev/archive/2013/10/16/customizing-profile-information-in-asp-net-identity-in-vs-2013-templates.aspx)
- [<span data-ttu-id="73354-231">Další informace získáte ze sociálních sítí, které se používají v rámci šablon projektu VS 2013</span><span class="sxs-lookup"><span data-stu-id="73354-231">Get more information from Social providers used in the VS 2013 project templates</span></span>](https://blogs.msdn.com/b/webdev/archive/2013/10/16/get-more-information-from-social-providers-used-in-the-vs-2013-project-templates.aspx)
- [https://github.com/rustd/AspnetIdentitySample](https://github.com/rustd/AspnetIdentitySample)  
 <span data-ttu-id="73354-232">Ukázkovou aplikaci, která ukazuje, jak přidat základní role a podpora uživatelů a jak chcete role a správu uživatelů.</span><span class="sxs-lookup"><span data-stu-id="73354-232">Sample application that shows how to add basic roles and user support and how to do roles and user management.</span></span>
