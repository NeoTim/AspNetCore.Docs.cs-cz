---
uid: web-api/overview/security/external-authentication-services
title: Externí ověřovací služby pomocí rozhraní ASP.NET Web API (C#) | Dokumentace Microsoftu
author: rmcmurray
description: Popisuje použití externí služby ověřování v rozhraní ASP.NET Web API.
ms.author: aspnetcontent
ms.date: 06/26/2013
ms.assetid: 3bb8eb15-b518-44f5-a67d-a27e051aedc6
msc.legacyurl: /web-api/overview/security/external-authentication-services
msc.type: authoredcontent
ms.openlocfilehash: fe821384a195e69c102aad95e534d543de705a00
ms.sourcegitcommit: b28cd0313af316c051c2ff8549865bff67f2fbb4
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/05/2018
ms.locfileid: "37822784"
---
<a name="external-authentication-services-with-aspnet-web-api-c"></a><span data-ttu-id="97d22-103">Externí ověřovací služby pomocí rozhraní ASP.NET Web API (C#)</span><span class="sxs-lookup"><span data-stu-id="97d22-103">External Authentication Services with ASP.NET Web API (C#)</span></span>
====================
<span data-ttu-id="97d22-104">podle [Robert McMurray](https://github.com/rmcmurray)</span><span class="sxs-lookup"><span data-stu-id="97d22-104">by [Robert McMurray](https://github.com/rmcmurray)</span></span>

<span data-ttu-id="97d22-105">Visual Studio 2013 a technologii ASP.NET 4.5.1 rozšířit možnosti zabezpečení pro [jednostránkové aplikace](../../../single-page-application/index.md) (SPA) a [webového rozhraní API](../../index.md) služby pro integraci s externí ověřovací služby, které zahrnují několik Účtu OAuth/OpenID a ověřovacích služeb sociálních médií: Accounts Microsoft, Twitter, Facebook nebo Google.</span><span class="sxs-lookup"><span data-stu-id="97d22-105">Visual Studio 2013 and ASP.NET 4.5.1 expand the security options for [Single Page Applications](../../../single-page-application/index.md) (SPA) and [Web API](../../index.md) services to integrate with external authentication services, which include several OAuth/OpenID and social media authentication services: Microsoft Accounts, Twitter, Facebook, and Google.</span></span>

### <a name="in-this-walkthrough"></a><span data-ttu-id="97d22-106">V tomto názorném postupu</span><span class="sxs-lookup"><span data-stu-id="97d22-106">In This Walkthrough</span></span>

- [<span data-ttu-id="97d22-107">Pomocí externí ověřovací služby</span><span class="sxs-lookup"><span data-stu-id="97d22-107">Using External Authentication Services</span></span>](#USING)
- [<span data-ttu-id="97d22-108">Vytvoření ukázkové webové aplikace</span><span class="sxs-lookup"><span data-stu-id="97d22-108">Creating the Sample Web Application</span></span>](#SAMPLE)
- [<span data-ttu-id="97d22-109">Povolení ověřování přes síť Facebook</span><span class="sxs-lookup"><span data-stu-id="97d22-109">Enabling Facebook Authentication</span></span>](#FACEBOOK)
- [<span data-ttu-id="97d22-110">Povolení ověřování Google</span><span class="sxs-lookup"><span data-stu-id="97d22-110">Enabling Google Authentication</span></span>](#GOOGLE)
- [<span data-ttu-id="97d22-111">Povolení ověřování Microsoft</span><span class="sxs-lookup"><span data-stu-id="97d22-111">Enabling Microsoft Authentication</span></span>](#MICROSOFT)
- [<span data-ttu-id="97d22-112">Povolení ověřování Twitteru</span><span class="sxs-lookup"><span data-stu-id="97d22-112">Enabling Twitter Authentication</span></span>](#TWITTER)
- [<span data-ttu-id="97d22-113">Další informace</span><span class="sxs-lookup"><span data-stu-id="97d22-113">Additional Information</span></span>](#MOREINFO)

    - [<span data-ttu-id="97d22-114">Kombinování externí ověřovací služby</span><span class="sxs-lookup"><span data-stu-id="97d22-114">Combining External Authentication Services</span></span>](#COMBINE)
    - [<span data-ttu-id="97d22-115">Konfigurace služby IIS Express použít plně kvalifikovaný název domény</span><span class="sxs-lookup"><span data-stu-id="97d22-115">Configuring IIS Express to use a Fully Qualified Domain Name</span></span>](#FQDN)
    - [<span data-ttu-id="97d22-116">Jak získat nastavení aplikace pro ověřování Microsoft</span><span class="sxs-lookup"><span data-stu-id="97d22-116">How to Obtain your Application Settings for Microsoft Authentication</span></span>](#OBTAIN)
    - [<span data-ttu-id="97d22-117">Volitelné: Zakázat místní registrace</span><span class="sxs-lookup"><span data-stu-id="97d22-117">Optional: Disable Local Registration</span></span>](#DISABLE)

### <a name="prerequisites"></a><span data-ttu-id="97d22-118">Požadavky</span><span class="sxs-lookup"><span data-stu-id="97d22-118">Prerequisites</span></span>

<span data-ttu-id="97d22-119">Chcete-li postupovat podle příkladů v tomto podrobném návodu, budete muset mít následující:</span><span class="sxs-lookup"><span data-stu-id="97d22-119">To follow the examples in this walkthrough, you need to have the following:</span></span>

- <span data-ttu-id="97d22-120">Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="97d22-120">Visual Studio 2013</span></span>
- <span data-ttu-id="97d22-121">Účet pro nejméně jednu z následujících služeb externího ověřování:</span><span class="sxs-lookup"><span data-stu-id="97d22-121">An account for at least one of the following external authentication services:</span></span>

    - <span data-ttu-id="97d22-122">Uživatelský účet Google</span><span class="sxs-lookup"><span data-stu-id="97d22-122">A Google user account</span></span>
    - <span data-ttu-id="97d22-123">Vývojářský účet s identifikátorem aplikace a tajný klíč pro jednu z následujících ověřovací služby sociálních médií:</span><span class="sxs-lookup"><span data-stu-id="97d22-123">A developer account with the application identifier and secret key for one of the following social media authentication services:</span></span>

        - <span data-ttu-id="97d22-124">Účty Microsoft ([https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070))</span><span class="sxs-lookup"><span data-stu-id="97d22-124">Microsoft Accounts ([https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070))</span></span>
        - <span data-ttu-id="97d22-125">Na twitteru ([https://dev.twitter.com/](https://dev.twitter.com/))</span><span class="sxs-lookup"><span data-stu-id="97d22-125">Twitter ([https://dev.twitter.com/](https://dev.twitter.com/))</span></span>
        - <span data-ttu-id="97d22-126">Facebook ([https://developers.facebook.com/](https://developers.facebook.com/))</span><span class="sxs-lookup"><span data-stu-id="97d22-126">Facebook ([https://developers.facebook.com/](https://developers.facebook.com/))</span></span>

<a id="USING"></a>
## <a name="using-external-authentication-services"></a><span data-ttu-id="97d22-127">Pomocí externí ověřovací služby</span><span class="sxs-lookup"><span data-stu-id="97d22-127">Using External Authentication Services</span></span>

<span data-ttu-id="97d22-128">Celou řadu externí ověřovací služby, které jsou aktuálně k dispozici Nápověda na webu vývojáře ke snížení vývoj čas při vytváření nové webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="97d22-128">The abundance of external authentication services that are currently available to web developers help to reduce development time when creating new web applications.</span></span> <span data-ttu-id="97d22-129">Webových uživatelů obvykle mají některé existující účty pro oblíbených webových služeb a webů sociálních médií, proto když implementuje aplikace webové služby ověřování z externí webové služby nebo webu sociálních médií, uloží dobu vývoje, který by se strávilo vytváření implementace ověřování.</span><span class="sxs-lookup"><span data-stu-id="97d22-129">Web users typically have several existing accounts for popular web services and social media websites, therefore when a web application implements the authentication services from an external web service or social media website, it saves the development time that would have been spent creating an authentication implementation.</span></span> <span data-ttu-id="97d22-130">Použití služeb externího ověřování uloží koncoví uživatelé nebudou muset vytvořit jiný účet pro vaši webovou aplikaci a také nebudou muset pamatovat jiné uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="97d22-130">Using an external authentication service saves end users from having to create another account for your web application, and also from having to remember another username and password.</span></span>

<span data-ttu-id="97d22-131">V minulosti, vývojáři měli dvě možnosti: vytvoření vlastní implementaci ověřování, nebo zjistěte, jak do svých aplikací integrovat externí ověřovací služba.</span><span class="sxs-lookup"><span data-stu-id="97d22-131">In the past, developers have had two choices: create their own authentication implementation, or learn how to integrate an external authentication service into their applications.</span></span> <span data-ttu-id="97d22-132">Na nejzákladnější úrovni následující diagram znázorňuje tok jednoduchého požadavku pro uživatelského agenta (webový prohlížeč), který vyžaduje informace z webové aplikace, který je nakonfigurován pro použití služby externí ověřování:</span><span class="sxs-lookup"><span data-stu-id="97d22-132">At the most basic level, the following diagram illustrates a simple request flow for a user agent (web browser) that is requesting information from a web application that is configured to use an external authentication service:</span></span>

<span data-ttu-id="97d22-133">[![](external-authentication-services/_static/image2.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-133">[![](external-authentication-services/_static/image2.png "Click to Expand the Image")](external-authentication-services/_static/image1.png)</span></span>

<span data-ttu-id="97d22-134">Na předchozím obrázku agent u uživatele (nebo webový prohlížeč v tomto příkladu) odešle požadavek na webovou aplikaci, který prohlížeč přesměruje na web služby externího ověřování.</span><span class="sxs-lookup"><span data-stu-id="97d22-134">In the preceding diagram, the user agent (or web browser in this example) makes a request to a web application, which redirects the web browser to an external authentication service.</span></span> <span data-ttu-id="97d22-135">Uživatelský agent odešle svoje přihlašovací údaje ke službě externího ověřování, a pokud uživatelský agent se úspěšně ověřil, externí ověřovací služby přesměruje uživatelského agenta původní webové aplikace s určitou formu token, který uživatelský agent odešle do webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="97d22-135">The user agent sends its credentials to the external authentication service, and if the user agent has successfully authenticated, the external authentication service will redirect the user agent to the original web application with some form of token which the user agent will send to the web application.</span></span> <span data-ttu-id="97d22-136">Webová aplikace použije token k ověření, že uživatelský agent byl úspěšně ověřen službou externího ověřování a webové aplikace mohou použít token získáte další informace o uživatelského agenta.</span><span class="sxs-lookup"><span data-stu-id="97d22-136">The web application will use the token to verify that the user agent has been successfully authenticated by the external authentication service, and the web application may use the token to gather more information about the user agent.</span></span> <span data-ttu-id="97d22-137">Po dokončení aplikace zpracování informací uživatelského agenta, webové aplikace vrátí odpovídající odpověď pro uživatelského agenta na základě nastavení autorizace.</span><span class="sxs-lookup"><span data-stu-id="97d22-137">Once the application is done processing the user agent's information, the web application will return the appropriate response to the user agent based on its authorization settings.</span></span>

<span data-ttu-id="97d22-138">V druhém příkladu uživatelský agent vyjedná s webovou aplikaci a externí autorizačního serveru a webová aplikace provede další komunikaci se serverem externí autorizace pro načtení Další informace o uživateli Agent:</span><span class="sxs-lookup"><span data-stu-id="97d22-138">In this second example, the user agent negotiates with the web application and external authorization server, and the web application performs additional communication with the external authorization server to retrieve additional information about the user agent:</span></span>

<span data-ttu-id="97d22-139">[![](external-authentication-services/_static/image4.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-139">[![](external-authentication-services/_static/image4.png "Click to Expand the Image")](external-authentication-services/_static/image3.png)</span></span>

<span data-ttu-id="97d22-140">Visual Studio 2013 a technologii ASP.NET 4.5.1 zjednodušit integraci s externí ověřovací služby pro vývojáře tím, že poskytuje integraci u následujících služeb ověřování:</span><span class="sxs-lookup"><span data-stu-id="97d22-140">Visual Studio 2013 and ASP.NET 4.5.1 make integration with external authentication services easier for developers by providing built-in integration for the following authentication services:</span></span>

- <span data-ttu-id="97d22-141">Facebook</span><span class="sxs-lookup"><span data-stu-id="97d22-141">Facebook</span></span>
- <span data-ttu-id="97d22-142">Google</span><span class="sxs-lookup"><span data-stu-id="97d22-142">Google</span></span>
- <span data-ttu-id="97d22-143">Accounts Microsoft (účty Windows Live ID)</span><span class="sxs-lookup"><span data-stu-id="97d22-143">Microsoft Accounts (Windows Live ID accounts)</span></span>
- <span data-ttu-id="97d22-144">Na twitteru</span><span class="sxs-lookup"><span data-stu-id="97d22-144">Twitter</span></span>

<span data-ttu-id="97d22-145">V příkladech v tomto návodu ukazuje, jak nakonfigurovat každou z podporovaných externí ověřovací služby pomocí nové šablony webové aplikace ASP.NET, která se dodává s Visual Studiem 2013.</span><span class="sxs-lookup"><span data-stu-id="97d22-145">The examples in this walkthrough will demonstrate how to configure each of the supported external authentication services by using the new ASP.NET Web Application template that ships with Visual Studio 2013.</span></span>

> [!NOTE]
> <span data-ttu-id="97d22-146">V případě potřeby budete muset přidat váš plně kvalifikovaný název domény pro nastavení pro externí ověřovací služby.</span><span class="sxs-lookup"><span data-stu-id="97d22-146">If necessary, you may need to add your FQDN to the settings for your external authentication service.</span></span> <span data-ttu-id="97d22-147">Tento požadavek je založená na omezení zabezpečení u některých služeb externího ověřování, které vyžadují plně kvalifikovaný název v nastavení aplikace tak, aby odpovídala plně kvalifikovaný název, který používá vaši klienti.</span><span class="sxs-lookup"><span data-stu-id="97d22-147">This requirement is based on security constraints for some external authentication services which require the FQDN in your application settings to match the FQDN that is used by your clients.</span></span> <span data-ttu-id="97d22-148">(Postup se liší u každé externí ověřovací služby, budete muset dokumentaci pro každou službu externí ověřování chcete zobrazit, pokud to je potřeba a jak nakonfigurovat tato nastavení.) Pokud je potřeba nakonfigurovat službu IIS Express použijte plně kvalifikovaný název domény pro testování tohoto prostředí najdete v tématu [konfigurace služby IIS Express použijte plně kvalifikovaný název domény](#FQDN) dále v tomto názorném postupu.</span><span class="sxs-lookup"><span data-stu-id="97d22-148">(The steps for this will vary greatly for each external authentication service; you will need to consult the documentation for each external authentication service to see if this is required and how to configure these settings.) If you need to configure IIS Express to use an FQDN for testing this environment, see the [Configuring IIS Express to use a Fully Qualified Domain Name](#FQDN) section later in this walkthrough.</span></span>


<a id="SAMPLE"></a>
## <a name="creating-a-sample-web-application"></a><span data-ttu-id="97d22-149">Vytvoření ukázkové webové aplikace</span><span class="sxs-lookup"><span data-stu-id="97d22-149">Creating a Sample Web Application</span></span>

<span data-ttu-id="97d22-150">Následující postup vás provede vytvoření ukázkové aplikace pomocí šablony webové aplikace ASP.NET a pro každou ze služeb externího ověřování později v tomto názorném postupu použijete této ukázkové aplikaci.</span><span class="sxs-lookup"><span data-stu-id="97d22-150">The following steps will lead you through creating a sample application by using the ASP.NET Web Application template, and you will use this sample application for each of the external authentication services later in this walkthrough.</span></span>

<span data-ttu-id="97d22-151">Spusťte sadu Visual Studio 2013 vyberte **nový projekt** z úvodní stránky.</span><span class="sxs-lookup"><span data-stu-id="97d22-151">Start Visual Studio 2013 select **New Project** from the Start page.</span></span> <span data-ttu-id="97d22-152">Nebo z **souboru** nabídce vyberte možnost **nový** a potom **projektu**.</span><span class="sxs-lookup"><span data-stu-id="97d22-152">Or, from the **File** menu, select **New** and then **Project**.</span></span>

<span data-ttu-id="97d22-153">[![](external-authentication-services/_static/image6.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-153">[![](external-authentication-services/_static/image6.png "Click to Expand the Image")](external-authentication-services/_static/image5.png)</span></span>

<span data-ttu-id="97d22-154">Když **nový projekt** dialogové okno se zobrazí, vyberte **nainstalováno** **šablony** a rozbalte **Visual C#**.</span><span class="sxs-lookup"><span data-stu-id="97d22-154">When the **New Project** dialog box is displayed, select **Installed** **Templates** and expand **Visual C#**.</span></span> <span data-ttu-id="97d22-155">V části **Visual C#** vyberte **webové**.</span><span class="sxs-lookup"><span data-stu-id="97d22-155">Under **Visual C#**, select **Web**.</span></span> <span data-ttu-id="97d22-156">V seznamu šablon projektu vyberte **webová aplikace ASP.NET**.</span><span class="sxs-lookup"><span data-stu-id="97d22-156">In the list of project templates, select **ASP.NET Web Application**.</span></span> <span data-ttu-id="97d22-157">Zadejte název pro váš projekt a klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="97d22-157">Enter a name for your project and click **OK**.</span></span>

<span data-ttu-id="97d22-158">[![](external-authentication-services/_static/image8.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-158">[![](external-authentication-services/_static/image8.png "Click to Expand the Image")](external-authentication-services/_static/image7.png)</span></span>

<span data-ttu-id="97d22-159">Když **nový projekt ASP.NET** jsou zobrazeny, vyberte **SPA** šablonu a klikněte na tlačítko **vytvořit projekt**.</span><span class="sxs-lookup"><span data-stu-id="97d22-159">When the **New ASP.NET Project** is displayed, select the **SPA** template and click **Create Project**.</span></span>

<span data-ttu-id="97d22-160">[![](external-authentication-services/_static/image10.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-160">[![](external-authentication-services/_static/image10.png "Click to Expand the Image")](external-authentication-services/_static/image9.png)</span></span>

<span data-ttu-id="97d22-161">Počkejte jako Visual Studio 2013 vytvoří váš projekt.</span><span class="sxs-lookup"><span data-stu-id="97d22-161">Wait as Visual Studio 2013 creates your project.</span></span>

<span data-ttu-id="97d22-162">[![](external-authentication-services/_static/image12.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-162">[![](external-authentication-services/_static/image12.png "Click to Expand the Image")](external-authentication-services/_static/image11.png)</span></span>

<span data-ttu-id="97d22-163">Otevřete po dokončení vytváření projektu sady Visual Studio 2013 *Startup.Auth.cs* soubor, který se nachází v **aplikace\_Start** složky.</span><span class="sxs-lookup"><span data-stu-id="97d22-163">When Visual Studio 2013 has finished creating your project, open the *Startup.Auth.cs* file that is located in the **App\_Start** folder.</span></span>

<span data-ttu-id="97d22-164">[![](external-authentication-services/_static/image14.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-164">[![](external-authentication-services/_static/image14.png "Click to Expand the Image")](external-authentication-services/_static/image13.png)</span></span>

<span data-ttu-id="97d22-165">Při prvním vytvoření projektu, žádné externí ověřovací služby jsou povoleny v *Startup.Auth.cs* soubor; následující obrázek znázorňuje, co váš kód může vypadat, s oddíly zvýrazněn, kam byste měli povolit externí ověřovací službu a všechny příslušné nastavení, aby bylo možné používat ověřování Accounts Microsoft, Twitter, Facebook nebo Google s vaší aplikací ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="97d22-165">When you first create the project, none of the external authentication services are enabled in *Startup.Auth.cs* file; the following illustrates what your code might resemble, with the sections highlighted for where you would enable an external authentication service and any relevant settings in order to use Microsoft Accounts, Twitter, Facebook, or Google authentication with your ASP.NET application:</span></span>

[!code-csharp[Main](external-authentication-services/samples/sample1.cs)]

<span data-ttu-id="97d22-166">Když stisknete klávesu F5 k sestavení a ladění webové aplikace, zobrazí se přihlašovací obrazovka, kde uvidíte, že nebyly definovány žádné externí ověřovací služby.</span><span class="sxs-lookup"><span data-stu-id="97d22-166">When you press F5 to build and debug your web application, it will display a login screen where you will see that no external authentication services have been defined.</span></span>

<span data-ttu-id="97d22-167">[![](external-authentication-services/_static/image16.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-167">[![](external-authentication-services/_static/image16.png "Click to Expand the Image")](external-authentication-services/_static/image15.png)</span></span>

<span data-ttu-id="97d22-168">V následujících částech se dozvíte, jak můžete povolit každou z externí ověřovací služby, které jsou součástí technologie ASP.NET v sadě Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="97d22-168">In the following sections, you will learn how to enable each of the external authentication services that are provided with ASP.NET in Visual Studio 2013.</span></span>

<a id="FACEBOOK"></a>
## <a name="enabling-facebook-authentication"></a><span data-ttu-id="97d22-169">Povolení ověřování přes síť Facebook</span><span class="sxs-lookup"><span data-stu-id="97d22-169">Enabling Facebook Authentication</span></span>

<span data-ttu-id="97d22-170">Pomocí služby Facebook ověřování musíte vytvořit účet pro vývojáře Facebooku a váš projekt bude vyžadovat ID aplikace a tajný klíč ze sítě Facebook, aby funkce.</span><span class="sxs-lookup"><span data-stu-id="97d22-170">Using Facebook authentication requires you to create a Facebook developer account, and your project will require an application ID and secret key from Facebook in order to function.</span></span> <span data-ttu-id="97d22-171">Informace o vytváření účtu sítě Facebook pro vývojáře a získání ID aplikace a tajný klíč, najdete v části [ https://go.microsoft.com/fwlink/?LinkID=252166 ](https://go.microsoft.com/fwlink/?LinkID=252166).</span><span class="sxs-lookup"><span data-stu-id="97d22-171">For information about creating a Facebook developer account and obtaining your application ID and secret key, see [https://go.microsoft.com/fwlink/?LinkID=252166](https://go.microsoft.com/fwlink/?LinkID=252166).</span></span>

<span data-ttu-id="97d22-172">Po získání ID aplikace a tajný klíč, pokud chcete povolit ověřování sítě Facebook pro vaši webovou aplikaci pomocí následujících kroků:</span><span class="sxs-lookup"><span data-stu-id="97d22-172">Once you have obtained your application ID and secret key, use the following steps to enable Facebook authentication for your web application:</span></span>

1. <span data-ttu-id="97d22-173">Pokud váš projekt je otevřený v sadě Visual Studio 2013, otevřou *Startup.Auth.cs* souboru:</span><span class="sxs-lookup"><span data-stu-id="97d22-173">When your project is open in Visual Studio 2013, open the *Startup.Auth.cs* file:</span></span>

    <span data-ttu-id="97d22-174">[![](external-authentication-services/_static/image18.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-174">[![](external-authentication-services/_static/image18.png "Click to Expand the Image")](external-authentication-services/_static/image17.png)</span></span>
2. <span data-ttu-id="97d22-175">Vyhledejte část zvýrazněný kód:</span><span class="sxs-lookup"><span data-stu-id="97d22-175">Locate the highlighted section of code:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample2.cs)]
3. <span data-ttu-id="97d22-176">Odeberte &quot; // &quot; znaků, které mají Odkomentujte zvýrazněné řádky kódu a pak přidejte ID aplikace a tajný klíč.</span><span class="sxs-lookup"><span data-stu-id="97d22-176">Remove the &quot;//&quot; characters to uncomment the highlighted lines of code, and then add your application ID and secret key.</span></span> <span data-ttu-id="97d22-177">Po přidání těchto parametrů můžete znovu zkompilovat váš projekt:</span><span class="sxs-lookup"><span data-stu-id="97d22-177">Once you have added those parameters, you can recompile your project:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample3.cs)]
4. <span data-ttu-id="97d22-178">Po stisknutí klávesy F5 spusťte webovou aplikaci ve webovém prohlížeči, uvidíte, že byl definovaný jako externí ověřovací služba Facebooku:</span><span class="sxs-lookup"><span data-stu-id="97d22-178">When you press F5 to open your web application in your web browser, you will see that Facebook has been defined as an external authentication service:</span></span>

    <span data-ttu-id="97d22-179">[![](external-authentication-services/_static/image20.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-179">[![](external-authentication-services/_static/image20.png "Click to Expand the Image")](external-authentication-services/_static/image19.png)</span></span>
5. <span data-ttu-id="97d22-180">Po kliknutí **Facebook** tlačítko, prohlížeč, budete přesměrováni na přihlašovací stránku Facebooku:</span><span class="sxs-lookup"><span data-stu-id="97d22-180">When you click the **Facebook** button, your browser will be redirected to the Facebook login page:</span></span>

    <span data-ttu-id="97d22-181">[![](external-authentication-services/_static/image22.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-181">[![](external-authentication-services/_static/image22.png "Click to Expand the Image")](external-authentication-services/_static/image21.png)</span></span>
6. <span data-ttu-id="97d22-182">Po zadání vašich přihlašovacích údajů k Facebooku a klikněte na tlačítko **přihlášení**, ve webovém prohlížeči, budete přesměrováni zpět do vaší webové aplikace, které vás vyzve k **uživatelské jméno** , kterou chcete přidružit k vaší Účtu na Facebooku:</span><span class="sxs-lookup"><span data-stu-id="97d22-182">After you enter your Facebook credentials and click **Log in**, your web browser will be redirected back to your web application, which will prompt you for the **User name** that you want to associate with your Facebook account:</span></span>

    <span data-ttu-id="97d22-183">[![](external-authentication-services/_static/image24.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-183">[![](external-authentication-services/_static/image24.png "Click to Expand the Image")](external-authentication-services/_static/image23.png)</span></span>
7. <span data-ttu-id="97d22-184">Po zadání uživatelského jména a kliknutí na **zaregistrovat** tlačítko, webové aplikace se zobrazí výchozí **domovskou stránku** pro svůj účet na Facebooku:</span><span class="sxs-lookup"><span data-stu-id="97d22-184">After you have entered your user name and clicked the **Sign up** button, your web application will display the default **home page** for your Facebook account:</span></span>

    <span data-ttu-id="97d22-185">[![](external-authentication-services/_static/image26.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-185">[![](external-authentication-services/_static/image26.png "Click to Expand the Image")](external-authentication-services/_static/image25.png)</span></span>

<a id="GOOGLE"></a>
## <a name="enabling-google-authentication"></a><span data-ttu-id="97d22-186">Povolení ověřování Google</span><span class="sxs-lookup"><span data-stu-id="97d22-186">Enabling Google Authentication</span></span>

<span data-ttu-id="97d22-187">Google je jednoznačně nejpopulárnější nejjednodušší služeb externího ověřování povolit, protože nevyžaduje účet pro vývojáře, ani vyžaduje další informace, jako je ID aplikace nebo tajný klíč jako externí ověřovací služby vyžadovat.</span><span class="sxs-lookup"><span data-stu-id="97d22-187">Google is by far the easiest of the external authentication services to enable because it doesn't require a developer account, nor does it require additional information like your application ID or secret key as the other external authentication services necessitate.</span></span>

<span data-ttu-id="97d22-188">Pokud chcete povolit ověřování Google pro vaši webovou aplikaci, postupujte následovně:</span><span class="sxs-lookup"><span data-stu-id="97d22-188">To enable Google authentication for your web application, use the following steps:</span></span>

1. <span data-ttu-id="97d22-189">Pokud váš projekt je otevřený v sadě Visual Studio 2013, otevřou *Startup.Auth.cs* souboru:</span><span class="sxs-lookup"><span data-stu-id="97d22-189">When your project is open in Visual Studio 2013, open the *Startup.Auth.cs* file:</span></span>

    <span data-ttu-id="97d22-190">[![](external-authentication-services/_static/image28.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-190">[![](external-authentication-services/_static/image28.png "Click to Expand the Image")](external-authentication-services/_static/image27.png)</span></span>
2. <span data-ttu-id="97d22-191">Vyhledejte část zvýrazněný kód:</span><span class="sxs-lookup"><span data-stu-id="97d22-191">Locate the highlighted section of code:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample4.cs)]
3. <span data-ttu-id="97d22-192">Odeberte &quot; // &quot; znaků, které mají Odkomentujte zvýrazněný řádek kódu a opakujte kompilaci projektu:</span><span class="sxs-lookup"><span data-stu-id="97d22-192">Remove the &quot;//&quot; characters to uncomment the highlighted line of code, and then recompile your project:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample5.cs)]
4. <span data-ttu-id="97d22-193">Po stisknutí klávesy F5 spusťte webovou aplikaci ve webovém prohlížeči, uvidíte, že Google je definována jako externí ověřovací služby:</span><span class="sxs-lookup"><span data-stu-id="97d22-193">When you press F5 to open your web application in your web browser, you will see that Google has been defined as an external authentication service:</span></span>

    <span data-ttu-id="97d22-194">[![](external-authentication-services/_static/image30.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-194">[![](external-authentication-services/_static/image30.png "Click to Expand the Image")](external-authentication-services/_static/image29.png)</span></span>
5. <span data-ttu-id="97d22-195">Když kliknete **Google** tlačítko, prohlížeče, budete přesměrováni na přihlašovací stránku Google:</span><span class="sxs-lookup"><span data-stu-id="97d22-195">When you click the **Google** button, your browser will be redirected to the Google login page:</span></span>

    <span data-ttu-id="97d22-196">[![](external-authentication-services/_static/image32.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-196">[![](external-authentication-services/_static/image32.png "Click to Expand the Image")](external-authentication-services/_static/image31.png)</span></span>
6. <span data-ttu-id="97d22-197">Po zadání přihlašovacích údajů služby Google a klikněte na tlačítko **přihlášení**, Google vás vyzve k ověření, že vaše webová aplikace má oprávnění pro přístup k účtu Google:</span><span class="sxs-lookup"><span data-stu-id="97d22-197">After you enter your Google credentials and click **Sign in**, Google will prompt you to verify that your web application has permissions to access your Google account:</span></span>

    <span data-ttu-id="97d22-198">[![](external-authentication-services/_static/image34.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-198">[![](external-authentication-services/_static/image34.png "Click to Expand the Image")](external-authentication-services/_static/image33.png)</span></span>
7. <span data-ttu-id="97d22-199">Po kliknutí na **přijmout**, ve webovém prohlížeči, budete přesměrováni zpět do vaší webové aplikace, které vás vyzve k **uživatelské jméno** , kterou chcete přidružit k účtu Google:</span><span class="sxs-lookup"><span data-stu-id="97d22-199">When you click **Accept**, your web browser will be redirected back to your web application, which will prompt you for the **User name** that you want to associate with your Google account:</span></span>

    <span data-ttu-id="97d22-200">[![](external-authentication-services/_static/image36.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-200">[![](external-authentication-services/_static/image36.png "Click to Expand the Image")](external-authentication-services/_static/image35.png)</span></span>
8. <span data-ttu-id="97d22-201">Po zadání uživatelského jména a kliknutí na **zaregistrovat** tlačítko, webové aplikace se zobrazí výchozí **domovskou stránku** pro váš účet Google:</span><span class="sxs-lookup"><span data-stu-id="97d22-201">After you have entered your user name and clicked the **Sign up** button, your web application will display the default **home page** for your Google account:</span></span>

    <span data-ttu-id="97d22-202">[![](external-authentication-services/_static/image38.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-202">[![](external-authentication-services/_static/image38.png "Click to Expand the Image")](external-authentication-services/_static/image37.png)</span></span>

<a id="MICROSOFT"></a>
## <a name="enabling-microsoft-authentication"></a><span data-ttu-id="97d22-203">Povolení ověřování Microsoft</span><span class="sxs-lookup"><span data-stu-id="97d22-203">Enabling Microsoft Authentication</span></span>

<span data-ttu-id="97d22-204">Ověřování Microsoft musíte vytvořit účet pro vývojáře a vyžaduje ID klienta a tajný kód klienta mohl fungovat.</span><span class="sxs-lookup"><span data-stu-id="97d22-204">Microsoft authentication requires you to create a developer account, and it requires a client ID and client secret in order to function.</span></span> <span data-ttu-id="97d22-205">Informace o vytvoření účtu Microsoft pro vývojáře a získání ID klienta a tajný kód klienta najdete v tématu [ https://go.microsoft.com/fwlink/?LinkID=144070 ](https://go.microsoft.com/fwlink/?LinkID=144070).</span><span class="sxs-lookup"><span data-stu-id="97d22-205">For information about creating a Microsoft developer account and obtaining your client ID and client secret, see [https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070).</span></span>

<span data-ttu-id="97d22-206">Jednou jste získali váš uživatelský klíč a uživatelský tajný klíč, pokud chcete povolit ověřování Microsoft pro vaši webovou aplikaci pomocí následujících kroků:</span><span class="sxs-lookup"><span data-stu-id="97d22-206">Once you have obtained your consumer key and consumer secret, use the following steps to enable Microsoft authentication for your web application:</span></span>

1. <span data-ttu-id="97d22-207">Pokud váš projekt je otevřený v sadě Visual Studio 2013, otevřou *Startup.Auth.cs* souboru:</span><span class="sxs-lookup"><span data-stu-id="97d22-207">When your project is open in Visual Studio 2013, open the *Startup.Auth.cs* file:</span></span>

    <span data-ttu-id="97d22-208">[![](external-authentication-services/_static/image40.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image39.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-208">[![](external-authentication-services/_static/image40.png "Click to Expand the Image")](external-authentication-services/_static/image39.png)</span></span>
2. <span data-ttu-id="97d22-209">Vyhledejte část zvýrazněný kód:</span><span class="sxs-lookup"><span data-stu-id="97d22-209">Locate the highlighted section of code:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample6.cs)]
3. <span data-ttu-id="97d22-210">Odeberte &quot; // &quot; znaků, které mají Odkomentujte zvýrazněné řádky kódu a pak přidejte ID klienta a tajný kód klienta.</span><span class="sxs-lookup"><span data-stu-id="97d22-210">Remove the &quot;//&quot; characters to uncomment the highlighted lines of code, and then add your client ID and client secret.</span></span> <span data-ttu-id="97d22-211">Po přidání těchto parametrů můžete znovu zkompilovat váš projekt:</span><span class="sxs-lookup"><span data-stu-id="97d22-211">Once you have added those parameters, you can recompile your project:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample7.cs)]
4. <span data-ttu-id="97d22-212">Po stisknutí klávesy F5 spusťte webovou aplikaci ve webovém prohlížeči, uvidíte, že Microsoft je definována jako externí ověřovací služby:</span><span class="sxs-lookup"><span data-stu-id="97d22-212">When you press F5 to open your web application in your web browser, you will see that Microsoft has been defined as an external authentication service:</span></span>

    <span data-ttu-id="97d22-213">[![](external-authentication-services/_static/image42.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-213">[![](external-authentication-services/_static/image42.png "Click to Expand the Image")](external-authentication-services/_static/image41.png)</span></span>
5. <span data-ttu-id="97d22-214">Po kliknutí **Microsoft** tlačítko, prohlížeč, budete přesměrováni na přihlašovací stránku Microsoft:</span><span class="sxs-lookup"><span data-stu-id="97d22-214">When you click the **Microsoft** button, your browser will be redirected to the Microsoft login page:</span></span>

    <span data-ttu-id="97d22-215">[![](external-authentication-services/_static/image44.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-215">[![](external-authentication-services/_static/image44.png "Click to Expand the Image")](external-authentication-services/_static/image43.png)</span></span>
6. <span data-ttu-id="97d22-216">Po zadání přihlašovacích údajů společnosti Microsoft a klikněte na tlačítko **přihlášení**, budete vyzváni k ověření, že vaše webová aplikace má oprávnění pro přístup k účtu Microsoft:</span><span class="sxs-lookup"><span data-stu-id="97d22-216">After you enter your Microsoft credentials and click **Sign in**, you will be prompted to verify that your web application has permissions to access your Microsoft account:</span></span>

    <span data-ttu-id="97d22-217">[![](external-authentication-services/_static/image46.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-217">[![](external-authentication-services/_static/image46.png "Click to Expand the Image")](external-authentication-services/_static/image45.png)</span></span>
7. <span data-ttu-id="97d22-218">Po kliknutí na **Ano**, ve webovém prohlížeči, budete přesměrováni zpět do vaší webové aplikace, které vás vyzve k **uživatelské jméno** , kterou chcete přidružit k účtu Microsoft:</span><span class="sxs-lookup"><span data-stu-id="97d22-218">When you click **Yes**, your web browser will be redirected back to your web application, which will prompt you for the **User name** that you want to associate with your Microsoft account:</span></span>

    <span data-ttu-id="97d22-219">[![](external-authentication-services/_static/image48.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image47.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-219">[![](external-authentication-services/_static/image48.png "Click to Expand the Image")](external-authentication-services/_static/image47.png)</span></span>
8. <span data-ttu-id="97d22-220">Po zadání uživatelského jména a kliknutí na **zaregistrovat** tlačítko, webové aplikace se zobrazí výchozí **domovskou stránku** pro svůj účet Microsoft:</span><span class="sxs-lookup"><span data-stu-id="97d22-220">After you have entered your user name and clicked the **Sign up** button, your web application will display the default **home page** for your Microsoft account:</span></span>

    <span data-ttu-id="97d22-221">[![](external-authentication-services/_static/image50.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-221">[![](external-authentication-services/_static/image50.png "Click to Expand the Image")](external-authentication-services/_static/image49.png)</span></span>

<a id="TWITTER"></a>
## <a name="enabling-twitter-authentication"></a><span data-ttu-id="97d22-222">Povolení ověřování Twitteru</span><span class="sxs-lookup"><span data-stu-id="97d22-222">Enabling Twitter Authentication</span></span>

<span data-ttu-id="97d22-223">Twitter ověřování musíte vytvořit účet pro vývojáře a vyžaduje uživatelský klíč a tajný klíč příjemce mohl fungovat.</span><span class="sxs-lookup"><span data-stu-id="97d22-223">Twitter authentication requires you to create a developer account, and it requires a consumer key and consumer secret in order to function.</span></span> <span data-ttu-id="97d22-224">Informace o vytváření vývojářského účtu Twitteru a získávání vaše uživatelským klíčem a uživatelským utajením najdete v tématu [ https://go.microsoft.com/fwlink/?LinkID=252166 ](https://go.microsoft.com/fwlink/?LinkID=252166).</span><span class="sxs-lookup"><span data-stu-id="97d22-224">For information about creating a Twitter developer account and obtaining your consumer key and consumer secret, see [https://go.microsoft.com/fwlink/?LinkID=252166](https://go.microsoft.com/fwlink/?LinkID=252166).</span></span>

<span data-ttu-id="97d22-225">Jednou jste získali váš uživatelský klíč a uživatelský tajný klíč, pokud chcete povolit ověřování Twitteru pro vaši webovou aplikaci pomocí následujících kroků:</span><span class="sxs-lookup"><span data-stu-id="97d22-225">Once you have obtained your consumer key and consumer secret, use the following steps to enable Twitter authentication for your web application:</span></span>

1. <span data-ttu-id="97d22-226">Pokud váš projekt je otevřený v sadě Visual Studio 2013, otevřou *Startup.Auth.cs* souboru:</span><span class="sxs-lookup"><span data-stu-id="97d22-226">When your project is open in Visual Studio 2013, open the *Startup.Auth.cs* file:</span></span>

    <span data-ttu-id="97d22-227">[![](external-authentication-services/_static/image52.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image51.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-227">[![](external-authentication-services/_static/image52.png "Click to Expand the Image")](external-authentication-services/_static/image51.png)</span></span>
2. <span data-ttu-id="97d22-228">Vyhledejte část zvýrazněný kód:</span><span class="sxs-lookup"><span data-stu-id="97d22-228">Locate the highlighted section of code:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample8.cs)]
3. <span data-ttu-id="97d22-229">Odeberte &quot; // &quot; znaků, které mají Odkomentujte zvýrazněné řádky kódu a pak přidejte uživatelský klíč a uživatelský tajný klíč.</span><span class="sxs-lookup"><span data-stu-id="97d22-229">Remove the &quot;//&quot; characters to uncomment the highlighted lines of code, and then add your consumer key and consumer secret.</span></span> <span data-ttu-id="97d22-230">Po přidání těchto parametrů můžete znovu zkompilovat váš projekt:</span><span class="sxs-lookup"><span data-stu-id="97d22-230">Once you have added those parameters, you can recompile your project:</span></span>

    [!code-csharp[Main](external-authentication-services/samples/sample9.cs)]
4. <span data-ttu-id="97d22-231">Po stisknutí klávesy F5 spusťte webovou aplikaci ve webovém prohlížeči, uvidíte, že byl definovaný jako externí ověřovací služba Twitter:</span><span class="sxs-lookup"><span data-stu-id="97d22-231">When you press F5 to open your web application in your web browser, you will see that Twitter has been defined as an external authentication service:</span></span>

    <span data-ttu-id="97d22-232">[![](external-authentication-services/_static/image54.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image53.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-232">[![](external-authentication-services/_static/image54.png "Click to Expand the Image")](external-authentication-services/_static/image53.png)</span></span>
5. <span data-ttu-id="97d22-233">Po kliknutí **Twitteru** tlačítko, prohlížeč, budete přesměrováni na přihlašovací stránku Twitteru:</span><span class="sxs-lookup"><span data-stu-id="97d22-233">When you click the **Twitter** button, your browser will be redirected to the Twitter login page:</span></span>

    <span data-ttu-id="97d22-234">[![](external-authentication-services/_static/image56.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image55.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-234">[![](external-authentication-services/_static/image56.png "Click to Expand the Image")](external-authentication-services/_static/image55.png)</span></span>
6. <span data-ttu-id="97d22-235">Po zadání vaše přihlašovací údaje k Twitteru a klikněte na tlačítko **autorizovat aplikaci**, ve webovém prohlížeči, budete přesměrováni zpět do vaší webové aplikace, které vás vyzve k **uživatelské jméno** , kterou chcete přidružit k váš účet Twitteru:</span><span class="sxs-lookup"><span data-stu-id="97d22-235">After you enter your Twitter credentials and click **Authorize app**, your web browser will be redirected back to your web application, which will prompt you for the **User name** that you want to associate with your Twitter account:</span></span>

    <span data-ttu-id="97d22-236">[![](external-authentication-services/_static/image58.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image57.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-236">[![](external-authentication-services/_static/image58.png "Click to Expand the Image")](external-authentication-services/_static/image57.png)</span></span>
7. <span data-ttu-id="97d22-237">Po zadání uživatelského jména a kliknutí na **zaregistrovat** tlačítko, webové aplikace se zobrazí výchozí **domovskou stránku** pro váš účet Twitteru:</span><span class="sxs-lookup"><span data-stu-id="97d22-237">After you have entered your user name and clicked the **Sign up** button, your web application will display the default **home page** for your Twitter account:</span></span>

    <span data-ttu-id="97d22-238">[![](external-authentication-services/_static/image60.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image59.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-238">[![](external-authentication-services/_static/image60.png "Click to Expand the Image")](external-authentication-services/_static/image59.png)</span></span>

<a id="MOREINFO"></a>
## <a name="additional-information"></a><span data-ttu-id="97d22-239">Další informace</span><span class="sxs-lookup"><span data-stu-id="97d22-239">Additional Information</span></span>

<span data-ttu-id="97d22-240">Další informace o vytváření aplikací, které používají OAuth a OpenID najdete v následující adresy URL:</span><span class="sxs-lookup"><span data-stu-id="97d22-240">For additional information about creating applications that use OAuth and OpenID, see the following URLs:</span></span>

- [https://go.microsoft.com/fwlink/?LinkID=252166](https://go.microsoft.com/fwlink/?LinkID=252166)
- [https://go.microsoft.com/fwlink/?LinkID=243995](https://go.microsoft.com/fwlink/?LinkID=243995)

<a id="COMBINE"></a>
### <a name="combining-external-authentication-services"></a><span data-ttu-id="97d22-241">Kombinování externí ověřovací služby</span><span class="sxs-lookup"><span data-stu-id="97d22-241">Combining External Authentication Services</span></span>

<span data-ttu-id="97d22-242">Pro větší flexibilitu můžete definovat několik služeb externího ověřování ve stejnou dobu – to umožňuje vaší webové aplikace uživatelům k použití účtu ze všech služeb povolených externího ověřování:</span><span class="sxs-lookup"><span data-stu-id="97d22-242">For greater flexibility, you can define multiple external authentication services at the same time - this allows your web application's users to use an account from any of the enabled external authentication services:</span></span>

<span data-ttu-id="97d22-243">[![](external-authentication-services/_static/image62.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image61.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-243">[![](external-authentication-services/_static/image62.png "Click to Expand the Image")](external-authentication-services/_static/image61.png)</span></span>

<a id="FQDN"></a>
### <a name="configuring-iis-express-to-use-a-fully-qualified-domain-name"></a><span data-ttu-id="97d22-244">Konfigurace služby IIS Express použít plně kvalifikovaný název domény</span><span class="sxs-lookup"><span data-stu-id="97d22-244">Configuring IIS Express to use a Fully Qualified Domain Name</span></span>

<span data-ttu-id="97d22-245">Někteří poskytovatelé externího ověřování nepodporují testování aplikace pomocí adresy HTTP jako `http://localhost:port/`.</span><span class="sxs-lookup"><span data-stu-id="97d22-245">Some external authentication providers do not support testing your application by using an HTTP address like `http://localhost:port/`.</span></span> <span data-ttu-id="97d22-246">Chcete-li tento problém obejít, můžete přidat statické mapování plně kvalifikovaný název domény (FQDN) do souboru HOSTITELŮ a nakonfigurovat možnosti projektu v sadě Visual Studio 2013 pro účely testování nebo ladění plně kvalifikovaný název domény.</span><span class="sxs-lookup"><span data-stu-id="97d22-246">To work around this issue, you can add a static Fully Qualified Domain Name (FQDN) mapping to your HOSTS file and configure your project options in Visual Studio 2013 to use the FQDN for testing/debugging.</span></span> <span data-ttu-id="97d22-247">Chcete-li to provést, postupujte následovně:</span><span class="sxs-lookup"><span data-stu-id="97d22-247">To do so, use the following steps:</span></span>

- <span data-ttu-id="97d22-248">Přidejte statické plně kvalifikovaný název domény mapování souboru HOSTITELŮ:</span><span class="sxs-lookup"><span data-stu-id="97d22-248">Add a static FQDN mapping your HOSTS file:</span></span>

  1. <span data-ttu-id="97d22-249">Otevřete příkazový řádek se zvýšenými oprávněními ve Windows.</span><span class="sxs-lookup"><span data-stu-id="97d22-249">Open an elevated command prompt in Windows.</span></span>
  2. <span data-ttu-id="97d22-250">Zadejte následující příkaz:</span><span class="sxs-lookup"><span data-stu-id="97d22-250">Type the following command:</span></span>

      <span data-ttu-id="97d22-251"><kbd>notepad %WinDir%\system32\drivers\etc\hosts</kbd></span><span class="sxs-lookup"><span data-stu-id="97d22-251"><kbd>notepad %WinDir%\system32\drivers\etc\hosts</kbd></span></span>
  3. <span data-ttu-id="97d22-252">Přidejte do souboru HOSTITELŮ záznam takto:</span><span class="sxs-lookup"><span data-stu-id="97d22-252">Add an entry like the following to the HOSTS file:</span></span>

      <span data-ttu-id="97d22-253"><kbd>127.0.0.1 www.wingtiptoys.com</kbd></span><span class="sxs-lookup"><span data-stu-id="97d22-253"><kbd>127.0.0.1 www.wingtiptoys.com</kbd></span></span>
  4. <span data-ttu-id="97d22-254">Uložte a zavřete soubor HOSTITELŮ.</span><span class="sxs-lookup"><span data-stu-id="97d22-254">Save and close your HOSTS file.</span></span>

- <span data-ttu-id="97d22-255">Konfigurace projektu Visual Studio pro použití plně kvalifikovaný název domény:</span><span class="sxs-lookup"><span data-stu-id="97d22-255">Configure your Visual Studio project to use the FQDN:</span></span>

  1. <span data-ttu-id="97d22-256">Pokud váš projekt je otevřený v sadě Visual Studio 2013, klikněte na tlačítko **projektu** nabídky a pak vyberte vlastnosti projektu.</span><span class="sxs-lookup"><span data-stu-id="97d22-256">When your project is open in Visual Studio 2013, click the **Project** menu, and then select your project's properties.</span></span> <span data-ttu-id="97d22-257">Například můžete vybrat **WebApplication1 vlastnosti**.</span><span class="sxs-lookup"><span data-stu-id="97d22-257">For example, you might select **WebApplication1 Properties**.</span></span>
  2. <span data-ttu-id="97d22-258">Vyberte **webové** kartu.</span><span class="sxs-lookup"><span data-stu-id="97d22-258">Select the **Web** tab.</span></span>
  3. <span data-ttu-id="97d22-259">Zadejte plně kvalifikovaný název vaší domény pro <strong>projektu adresa Url</strong>.</span><span class="sxs-lookup"><span data-stu-id="97d22-259">Enter your FQDN for the <strong>Project Url</strong>.</span></span> <span data-ttu-id="97d22-260">Například, zadali byste <kbd> <http://www.wingtiptoys.com> </kbd> Pokud to bylo mapování plně kvalifikovaný název domény, který jste přidali do souboru HOSTS.</span><span class="sxs-lookup"><span data-stu-id="97d22-260">For example, you would enter <kbd><http://www.wingtiptoys.com></kbd> if that was the FQDN mapping that you added to your HOSTS file.</span></span>

- <span data-ttu-id="97d22-261">Konfigurace služby IIS Express pro účely vaší aplikace plně kvalifikovaný název domény:</span><span class="sxs-lookup"><span data-stu-id="97d22-261">Configure IIS Express to use the FQDN for your application:</span></span>

    1. <span data-ttu-id="97d22-262">Otevřete příkazový řádek se zvýšenými oprávněními ve Windows.</span><span class="sxs-lookup"><span data-stu-id="97d22-262">Open an elevated command prompt in Windows.</span></span>
    2. <span data-ttu-id="97d22-263">Zadejte následující příkaz, chcete-li změnit do složky služby IIS Express:</span><span class="sxs-lookup"><span data-stu-id="97d22-263">Type the following command to change to your IIS Express folder:</span></span>

        <span data-ttu-id="97d22-264"><kbd>CD /d &quot;%ProgramFiles%\IIS Express&quot;</kbd></span><span class="sxs-lookup"><span data-stu-id="97d22-264"><kbd>cd /d &quot;%ProgramFiles%\IIS Express&quot;</kbd></span></span>
    3. <span data-ttu-id="97d22-265">Zadejte následující příkaz pro přidání plně kvalifikovaný název domény pro vaši aplikaci:</span><span class="sxs-lookup"><span data-stu-id="97d22-265">Type the following command to add the FQDN to your application:</span></span>

        <span data-ttu-id="97d22-266"><kbd>Appcmd.exe nastavení konfigurace-section:system.applicationHost/sites / +&quot;[name = 'WebApplication1'] .bindings. [protokol http, bindingInformation = ='\*:80:www.wingtiptoys.com']&quot; /commit:apphost</kbd></span><span class="sxs-lookup"><span data-stu-id="97d22-266"><kbd>appcmd.exe set config -section:system.applicationHost/sites /+&quot;[name='WebApplication1'].bindings.[protocol='http',bindingInformation='\*:80:www.wingtiptoys.com']&quot; /commit:apphost</kbd></span></span>

  <span data-ttu-id="97d22-267">Kde **WebApplication1** je název vašeho projektu a **bindingInformation** obsahuje číslo portu a plně kvalifikovaný název domény, které chcete použít pro testování.</span><span class="sxs-lookup"><span data-stu-id="97d22-267">Where **WebApplication1** is the name of your project and **bindingInformation** contains the port number and FQDN that you want to use for your testing.</span></span>

<a id="OBTAIN"></a>
### <a name="how-to-obtain-your-application-settings-for-microsoft-authentication"></a><span data-ttu-id="97d22-268">Jak získat nastavení aplikace pro ověřování Microsoft</span><span class="sxs-lookup"><span data-stu-id="97d22-268">How to Obtain your Application Settings for Microsoft Authentication</span></span>

<span data-ttu-id="97d22-269">Propojení aplikace pro Windows Live pro Microsoft Authentication je jednoduchý proces.</span><span class="sxs-lookup"><span data-stu-id="97d22-269">Linking an application to Windows Live for Microsoft Authentication is a simple process.</span></span> <span data-ttu-id="97d22-270">Pokud už nejsou propojené aplikace pro Windows Live, můžete použít následující kroky:</span><span class="sxs-lookup"><span data-stu-id="97d22-270">If you have not already linked an application to Windows Live, you can use the following steps:</span></span>

1. <span data-ttu-id="97d22-271">Přejděte do [ https://go.microsoft.com/fwlink/?LinkID=144070 ](https://go.microsoft.com/fwlink/?LinkID=144070) a zadejte název účtu Microsoft a heslo, když se zobrazí výzva, klepněte na tlačítko **přihlášení**:</span><span class="sxs-lookup"><span data-stu-id="97d22-271">Browse to [https://go.microsoft.com/fwlink/?LinkID=144070](https://go.microsoft.com/fwlink/?LinkID=144070) and enter your Microsoft account name and password when prompted, then click **Sign in**:</span></span>

    <span data-ttu-id="97d22-272">[![](external-authentication-services/_static/image64.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image63.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-272">[![](external-authentication-services/_static/image64.png "Click to Expand the Image")](external-authentication-services/_static/image63.png)</span></span>
2. <span data-ttu-id="97d22-273">Zadejte název a jazyk vaší aplikace, po zobrazení výzvy a potom klikněte na tlačítko **lze nastavit přijímání**:</span><span class="sxs-lookup"><span data-stu-id="97d22-273">Enter the name and language of your application when prompted, and then click **I accept**:</span></span>

    <span data-ttu-id="97d22-274">[![](external-authentication-services/_static/image66.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image65.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-274">[![](external-authentication-services/_static/image66.png "Click to Expand the Image")](external-authentication-services/_static/image65.png)</span></span>
3. <span data-ttu-id="97d22-275">Na **nastavení rozhraní API** stránce pro vaši aplikaci, zadejte doménu přesměrování aplikace a zkopírujte **ID klienta** a **tajný kód klienta** pro váš projekt a pak Klikněte na tlačítko **Uložit**:</span><span class="sxs-lookup"><span data-stu-id="97d22-275">On the **API Settings** page for your application, enter the redirect domain for your application and copy the **Client ID** and **Client secret** for your project, and then click **Save**:</span></span>

    <span data-ttu-id="97d22-276">[![](external-authentication-services/_static/image68.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image67.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-276">[![](external-authentication-services/_static/image68.png "Click to Expand the Image")](external-authentication-services/_static/image67.png)</span></span>

<a id="DISABLE"></a>
### <a name="optional-disable-local-registration"></a><span data-ttu-id="97d22-277">Volitelné: Zakázat místní registrace</span><span class="sxs-lookup"><span data-stu-id="97d22-277">Optional: Disable Local Registration</span></span>

<span data-ttu-id="97d22-278">Aktuální funkce místní registrace technologie ASP.NET nebrání automatizovaným programům (robotům) vytváření účtů; člen například s použitím bot-ochrany před únikem informací a ověření technologií, jako například [test CAPTCHA](../../../web-pages/overview/security/16-adding-security-and-membership.md).</span><span class="sxs-lookup"><span data-stu-id="97d22-278">The current ASP.NET local registration functionality does not prevent automated programs (bots) from creating member accounts; for example, by using a bot-prevention and validation technology like [CAPTCHA](../../../web-pages/overview/security/16-adding-security-and-membership.md).</span></span> <span data-ttu-id="97d22-279">Z tohoto důvodu byste měli odebrat místní přihlašovací formulář a registrace odkaz na přihlašovací stránce.</span><span class="sxs-lookup"><span data-stu-id="97d22-279">Because of this, you should remove the local login form and registration link on the login page.</span></span> <span data-ttu-id="97d22-280">Chcete-li to provést, otevřete  *\_Login.cshtml* stránky ve vašem projektu a pak okomentujte řádky pro panelu Místní přihlášení a odkaz na registraci.</span><span class="sxs-lookup"><span data-stu-id="97d22-280">To do so, open the *\_Login.cshtml* page in your project, and then comment out the lines for the local login panel and the registration link.</span></span> <span data-ttu-id="97d22-281">Výsledný stránka by měla vypadat jako v následující ukázce kódu:</span><span class="sxs-lookup"><span data-stu-id="97d22-281">The resulting page should look like the following code sample:</span></span>

[!code-html[Main](external-authentication-services/samples/sample10.html)]

<span data-ttu-id="97d22-282">Po nastavení panelu Místní přihlášení a odkaz na registraci byly zakázány, přihlašovací stránka zobrazí zprostředkovatele externího ověřování, které jste povolili:</span><span class="sxs-lookup"><span data-stu-id="97d22-282">Once the local login panel and the registration link have been disabled, your login page will only display the external authentication providers that you have enabled:</span></span>

<span data-ttu-id="97d22-283">[![](external-authentication-services/_static/image70.png "Kliknutím rozbalte Image")](external-authentication-services/_static/image69.png)</span><span class="sxs-lookup"><span data-stu-id="97d22-283">[![](external-authentication-services/_static/image70.png "Click to Expand the Image")](external-authentication-services/_static/image69.png)</span></span>
