---
uid: web-pages/overview/ui-layouts-and-themes/4-working-with-forms
title: "Práce s formuláře HTML na webech ASP.NET Web Pages (Razor) | Microsoft Docs"
author: tfitzmac
description: "Formulář je část dokumentu HTML, kam jste umístili ovládací prvky vstup uživatele, jako textová pole, zaškrtněte políčka, přepínače a rozevírací seznamy. Použití formulářů shod..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/10/2014
ms.topic: article
ms.assetid: f3f4b8c8-e8f6-4474-ad94-69228a6c01ee
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/4-working-with-forms
msc.type: authoredcontent
ms.openlocfilehash: fcdded3a7e80ee797eae445f347735f0f7b3d7ad
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/10/2017
---
<a name="working-with-html-forms-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="8b828-104">Práce s formuláře HTML na webech ASP.NET – webové stránky (Razor)</span><span class="sxs-lookup"><span data-stu-id="8b828-104">Working with HTML Forms in ASP.NET Web Pages (Razor) Sites</span></span>
====================
<span data-ttu-id="8b828-105">podle [tní FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="8b828-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="8b828-106">Tento článek popisuje, jak zpracovat formuláře HTML (u textových polí a tlačítka) při práci na webu technologie ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="8b828-106">This article describes how to process an HTML form (with text boxes and buttons) when you are working in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="8b828-107">**Získáte informace:**</span><span class="sxs-lookup"><span data-stu-id="8b828-107">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="8b828-108">Jak vytvořit formuláře HTML.</span><span class="sxs-lookup"><span data-stu-id="8b828-108">How to create an HTML form.</span></span>
> - <span data-ttu-id="8b828-109">Jak si uživatelského vstupu z formuláře.</span><span class="sxs-lookup"><span data-stu-id="8b828-109">How to read user input from the form.</span></span>
> - <span data-ttu-id="8b828-110">Postup ověření vstupu uživatele.</span><span class="sxs-lookup"><span data-stu-id="8b828-110">How to validate user input.</span></span>
> - <span data-ttu-id="8b828-111">Postup obnovení hodnot formuláře po odeslání stránky.</span><span class="sxs-lookup"><span data-stu-id="8b828-111">How to restore form values after the page is submitted.</span></span>
> 
> <span data-ttu-id="8b828-112">Jsou to ASP.NET programování koncepty představené v článku:</span><span class="sxs-lookup"><span data-stu-id="8b828-112">These are the ASP.NET programming concepts introduced in the article:</span></span>
> 
> - <span data-ttu-id="8b828-113">`Request` Objektu.</span><span class="sxs-lookup"><span data-stu-id="8b828-113">The `Request` object.</span></span>
> - <span data-ttu-id="8b828-114">Ověření vstupu.</span><span class="sxs-lookup"><span data-stu-id="8b828-114">Input validation.</span></span>
> - <span data-ttu-id="8b828-115">Kódování HTML.</span><span class="sxs-lookup"><span data-stu-id="8b828-115">HTML encoding.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="8b828-116">V tomto kurzu použili verze softwaru</span><span class="sxs-lookup"><span data-stu-id="8b828-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="8b828-117">Rozhraní ASP.NET Web Pages (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="8b828-117">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="8b828-118">V tomto kurzu taky spolupracuje se službou ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="8b828-118">This tutorial also works with ASP.NET Web Pages 2.</span></span>


## <a name="creating-a-simple-html-form"></a><span data-ttu-id="8b828-119">Vytvoření jednoduchého formuláře HTML</span><span class="sxs-lookup"><span data-stu-id="8b828-119">Creating a Simple HTML Form</span></span>

1. <span data-ttu-id="8b828-120">Vytvoření nového webu.</span><span class="sxs-lookup"><span data-stu-id="8b828-120">Create a new website.</span></span>
2. <span data-ttu-id="8b828-121">V kořenové složce vytvořit webovou stránku s názvem *Form.cshtml* a zadejte následující kód:</span><span class="sxs-lookup"><span data-stu-id="8b828-121">In the root folder, create a web page named *Form.cshtml* and enter the following markup:</span></span>

    [!code-html[Main](4-working-with-forms/samples/sample1.html)]
3. <span data-ttu-id="8b828-122">Spusťte stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="8b828-122">Launch the page in your browser.</span></span> <span data-ttu-id="8b828-123">(Ve službě WebMatrix, v **soubory** pracovní prostor, klikněte pravým tlačítkem na soubor a pak vyberte **spustit v prohlížeči**.) Jednoduchý formulář s tři vstupní pole a **odeslání** je zobrazeno tlačítko.</span><span class="sxs-lookup"><span data-stu-id="8b828-123">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.) A simple form with three input fields and a **Submit** button is displayed.</span></span>

    ![Snímek obrazovky s tři textová pole formuláře.](4-working-with-forms/_static/image1.jpg)

    <span data-ttu-id="8b828-125">V tomto bodu, pokud kliknete **odeslání** tlačítko, nedojde k žádné akci.</span><span class="sxs-lookup"><span data-stu-id="8b828-125">At this point, if you click the **Submit** button, nothing happens.</span></span> <span data-ttu-id="8b828-126">Chcete-li formuláře užitečné, budete muset přidat nějaký kód, který se spustí na serveru.</span><span class="sxs-lookup"><span data-stu-id="8b828-126">To make the form useful, you have to add some code that will run on the server.</span></span>

## <a name="reading-user-input-from-the-form"></a><span data-ttu-id="8b828-127">Načítání vstupu uživatele z formuláře</span><span class="sxs-lookup"><span data-stu-id="8b828-127">Reading User Input from the Form</span></span>

<span data-ttu-id="8b828-128">Při zpracování formuláře, přidáte kód, který čte hodnoty odeslaná polí a nemá něco s nimi.</span><span class="sxs-lookup"><span data-stu-id="8b828-128">To process the form, you add code that reads the submitted field values and does something with them.</span></span> <span data-ttu-id="8b828-129">Tento postup ukazuje, jak číst pole a uživatelský vstup, zobrazí na stránce.</span><span class="sxs-lookup"><span data-stu-id="8b828-129">This procedure shows you how to read the fields and display the user input on the page.</span></span> <span data-ttu-id="8b828-130">(V produkční aplikace, že obecně provádět zajímavějšího akce se vstupem uživatele.</span><span class="sxs-lookup"><span data-stu-id="8b828-130">(In a production application, you generally do more interesting things with user input.</span></span> <span data-ttu-id="8b828-131">Můžete to udělat v článku o práci s databázemi.)</span><span class="sxs-lookup"><span data-stu-id="8b828-131">You'll do that in the article about working with databases.)</span></span>

1. <span data-ttu-id="8b828-132">V horní části *Form.cshtml* souboru, zadejte následující kód:</span><span class="sxs-lookup"><span data-stu-id="8b828-132">At the top of the *Form.cshtml* file, enter the following code:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample2.cshtml)]

    <span data-ttu-id="8b828-133">Když uživatel poprvé požádá stránky, zobrazí se pouze prázdný formulář.</span><span class="sxs-lookup"><span data-stu-id="8b828-133">When the user first requests the page, only the empty form is displayed.</span></span> <span data-ttu-id="8b828-134">Uživatel (který bude vám) doplní do formuláře a poté klikne na tlačítko **odeslání**.</span><span class="sxs-lookup"><span data-stu-id="8b828-134">The user (which will be you) fills in the form and then clicks **Submit**.</span></span> <span data-ttu-id="8b828-135">To odešle (příspěvky) vstupu uživatele na serveru.</span><span class="sxs-lookup"><span data-stu-id="8b828-135">This submits (posts) the user input to the server.</span></span> <span data-ttu-id="8b828-136">Ve výchozím nastavení, žádost přejde na stejné stránce (konkrétně, *Form.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="8b828-136">By default, the request goes to the same page (namely, *Form.cshtml*).</span></span>

    <span data-ttu-id="8b828-137">Při odesílání stránky této doby se zobrazují hodnoty, které jste zadali nad formuláře:</span><span class="sxs-lookup"><span data-stu-id="8b828-137">When you submit the page this time, the values you entered are displayed just above the form:</span></span>

    ![Snímek obrazovky, který zobrazuje hodnoty, které jste zadali na stránku.](4-working-with-forms/_static/image2.jpg)

    <span data-ttu-id="8b828-139">Podívejte se na kód pro stránku.</span><span class="sxs-lookup"><span data-stu-id="8b828-139">Look at the code for the page.</span></span> <span data-ttu-id="8b828-140">Prvním použití `IsPost` metoda k určení, jestli je stránka vrácena &#8212; to znamená, zda uživatel klikli **odeslání** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="8b828-140">You first use the `IsPost` method to determine whether the page is being posted &#8212; that is, whether a user clicked the **Submit** button.</span></span> <span data-ttu-id="8b828-141">Pokud je to příspěvku na `IsPost` vrací hodnotu true.</span><span class="sxs-lookup"><span data-stu-id="8b828-141">If this is a post, `IsPost` returns true.</span></span> <span data-ttu-id="8b828-142">To je standardní způsob na webových stránkách ASP.NET k určení, zda pracujete s úvodního požadavku (požadavek GET) nebo zpětné volání (požadavek POST).</span><span class="sxs-lookup"><span data-stu-id="8b828-142">This is the standard way in ASP.NET Web Pages to determine whether you're working with an initial request (a GET request) or a postback (a POST request).</span></span> <span data-ttu-id="8b828-143">(Další informace o GET a POST, najdete v části "HTTP GET a POST a IsPost Property" na bočním panelu v [Úvod k technologii ASP.NET Web Pages programování pomocí syntaxe Razor](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span><span class="sxs-lookup"><span data-stu-id="8b828-143">(For more information about GET and POST, see the sidebar "HTTP GET and POST and the IsPost Property" in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span></span>

    <span data-ttu-id="8b828-144">Teď se dostáváte hodnoty, které uživatel vyplněno z `Request.Form` objekt a umístí je do proměnných pro pozdější.</span><span class="sxs-lookup"><span data-stu-id="8b828-144">Next, you get the values that the user filled in from the `Request.Form` object, and you put them in variables for later.</span></span> <span data-ttu-id="8b828-145">`Request.Form` Objekt obsahuje všechny hodnoty, které byly odeslány s hledanou stránkou, každý se identifikovanou pomocí klíče.</span><span class="sxs-lookup"><span data-stu-id="8b828-145">The `Request.Form` object contains all the values that were submitted with the page, each identified by a key.</span></span> <span data-ttu-id="8b828-146">Klíč se o ekvivalent `name` atribut pole formuláře, které chcete číst.</span><span class="sxs-lookup"><span data-stu-id="8b828-146">The key is the equivalent to the `name` attribute of the form field that you want to read.</span></span> <span data-ttu-id="8b828-147">Například pro čtení `companyname` pole (textového pole), můžete použít `Request.Form["companyname"]`.</span><span class="sxs-lookup"><span data-stu-id="8b828-147">For example, to read the `companyname` field (text box), you use `Request.Form["companyname"]`.</span></span>

    <span data-ttu-id="8b828-148">Formulář hodnoty se uloží v `Request.Form` objektu jako řetězce.</span><span class="sxs-lookup"><span data-stu-id="8b828-148">Form values are stored in the `Request.Form` object as strings.</span></span> <span data-ttu-id="8b828-149">Proto když máte pro práci s hodnotou jako číslo nebo datum nebo jiný typ, budete muset převést řetězec na typu.</span><span class="sxs-lookup"><span data-stu-id="8b828-149">Therefore, when you have to work with a value as a number or a date or some other type, you have to convert it from a string to that type.</span></span> <span data-ttu-id="8b828-150">V příkladu `AsInt` metodu `Request.Form` se používá k hodnotu pole zaměstnanci (který obsahuje počtu zaměstnanců) převést na celé číslo.</span><span class="sxs-lookup"><span data-stu-id="8b828-150">In the example, the `AsInt` method of the `Request.Form` is used to convert the value of the employees field (which contains an employee count) to an integer.</span></span>
2. <span data-ttu-id="8b828-151">Spusťte stránku v prohlížeči, vyplňte pole formuláře a klikněte na tlačítko **odeslání**.</span><span class="sxs-lookup"><span data-stu-id="8b828-151">Launch the page in your browser, fill in the form fields, and click **Submit**.</span></span> <span data-ttu-id="8b828-152">Na stránce zobrazuje hodnoty, které jste zadali.</span><span class="sxs-lookup"><span data-stu-id="8b828-152">The page displays the values you entered.</span></span>

> [!TIP] 
> 
> <a id="SB_HTMLEncoding"></a>
> ### <a name="html-encoding-for-appearance-and-security"></a><span data-ttu-id="8b828-153">Kódování pro vzhled a zabezpečení v jazyce HTML</span><span class="sxs-lookup"><span data-stu-id="8b828-153">HTML Encoding for Appearance and Security</span></span>
> 
> <span data-ttu-id="8b828-154">HTML má speciální používá pro znaků jako `<`, `>`, a `&`.</span><span class="sxs-lookup"><span data-stu-id="8b828-154">HTML has special uses for characters like `<`, `>`, and `&`.</span></span> <span data-ttu-id="8b828-155">Pokud se zobrazí tyto speciální znaky, kde se nepředpokládá, že poškodí vzhled a funkce webové stránky.</span><span class="sxs-lookup"><span data-stu-id="8b828-155">If these special characters appear where they're not expected, they can ruin the appearance and functionality of your web page.</span></span> <span data-ttu-id="8b828-156">Například v prohlížeči interpretuje `<` znak (Pokud je následované mezerou) jako začátek elementu HTML, jako je třeba `<b>` nebo `<input ...>`.</span><span class="sxs-lookup"><span data-stu-id="8b828-156">For example, the browser interprets the `<` character (unless it's followed by a space) as the beginning of an HTML element, like `<b>` or `<input ...>`.</span></span> <span data-ttu-id="8b828-157">Pokud v prohlížeči nerozpozná elementu, jednoduše zahodí řetězec, který začíná `<` dokud nedosáhne něco, znovu rozpozná.</span><span class="sxs-lookup"><span data-stu-id="8b828-157">If the browser doesn't recognize the element, it simply discards the string that begins with `<` until it reaches something that it again recognizes.</span></span> <span data-ttu-id="8b828-158">Samozřejmě to může způsobit některé divné vykreslování na stránce.</span><span class="sxs-lookup"><span data-stu-id="8b828-158">Obviously, this can result in some weird rendering in the page.</span></span>
> 
> <span data-ttu-id="8b828-159">Kódování HTML nahradí kód, který prohlížeče interpretovat jako správný symbol tyto vyhrazené znaky.</span><span class="sxs-lookup"><span data-stu-id="8b828-159">HTML encoding replaces these reserved characters with a code that browsers interpret as the correct symbol.</span></span> <span data-ttu-id="8b828-160">Například `<` se nahradí znak `&lt;` a `>` se nahradí znak `&gt;`.</span><span class="sxs-lookup"><span data-stu-id="8b828-160">For example, the `<` character is replaced with `&lt;` and the `>` character is replaced with `&gt;`.</span></span> <span data-ttu-id="8b828-161">V prohlížeči vykreslí jako znaků, které chcete zobrazit tyto náhradní řetězce.</span><span class="sxs-lookup"><span data-stu-id="8b828-161">The browser renders these replacement strings as the characters that you want to see.</span></span>
> 
> <span data-ttu-id="8b828-162">Je vhodné používat kódování kdykoli zobrazit řetězce v jazyce HTML (vstup) jste získali od uživatele.</span><span class="sxs-lookup"><span data-stu-id="8b828-162">It's a good idea to use HTML encoding any time you display strings (input) that you got from a user.</span></span> <span data-ttu-id="8b828-163">Pokud to neuděláte, uživatel může pokusit o webovou stránku, spustit skript nebo dělejte něco jiného, ohrožuje zabezpečení vašeho webu nebo který je právě není to, co chcete získat.</span><span class="sxs-lookup"><span data-stu-id="8b828-163">If you don't, a user can try to get your web page to run a malicious script or do something else that compromises your site security or that's just not what you intend.</span></span> <span data-ttu-id="8b828-164">(To je zvlášť důležité, pokud pořídíte uživatelský vstup, uložte ho někde a následně se zobrazí později &#8212; například jako komentář blog uživatele zkontrolovat, nebo něco jako, který.)</span><span class="sxs-lookup"><span data-stu-id="8b828-164">(This is particularly important if you take user input, store it someplace, and then display it later &#8212; for example, as a blog comment, user review, or something like that.)</span></span>
> 
> <span data-ttu-id="8b828-165">Aby se zabránilo tyto problémy, rozhraní ASP.NET Web Pages automaticky umístí kódování HTML jakýkoli text obsahu, které výstup z vašeho kódu.</span><span class="sxs-lookup"><span data-stu-id="8b828-165">To help prevent these problems, ASP.NET Web Pages automatically HTML-encodes any text content that you output from your code.</span></span> <span data-ttu-id="8b828-166">Například při zobrazení obsahu proměnné nebo výraz pomocí kódu, například `@MyVar`, rozhraní ASP.NET Web Pages automaticky kóduje výstup.</span><span class="sxs-lookup"><span data-stu-id="8b828-166">For example, when you display the content of a variable or an expression using code such as `@MyVar`, ASP.NET Web Pages automatically encodes the output.</span></span>


## <a name="validating-user-input"></a><span data-ttu-id="8b828-167">Ověřování uživatelského vstupu</span><span class="sxs-lookup"><span data-stu-id="8b828-167">Validating User Input</span></span>

<span data-ttu-id="8b828-168">Uživatelé provádět chyb.</span><span class="sxs-lookup"><span data-stu-id="8b828-168">Users make mistakes.</span></span> <span data-ttu-id="8b828-169">Požádejte, aby vyplnit pole a že zapomenete, nebo požádejte, aby zadat počet zaměstnanců a se místo toho zadejte název.</span><span class="sxs-lookup"><span data-stu-id="8b828-169">You ask them to fill in a field, and they forget to, or you ask them to enter the number of employees and they type a name instead.</span></span> <span data-ttu-id="8b828-170">Abyste měli jistotu, že formulář bylo vyplněno správně před jeho zpracování, ověření vstupu uživatele.</span><span class="sxs-lookup"><span data-stu-id="8b828-170">To make sure that a form has been filled in correctly before you process it, you validate the user's input.</span></span>

<span data-ttu-id="8b828-171">Tento postup ukazuje, jak ověřit všechna pole tři formuláře a ujistěte se, že uživatel nebyl zůstat prázdné.</span><span class="sxs-lookup"><span data-stu-id="8b828-171">This procedure shows how to validate all three form fields to make sure the user didn't leave them blank.</span></span> <span data-ttu-id="8b828-172">Také zkontrolujte, zda je hodnota počtu zaměstnanců číslo.</span><span class="sxs-lookup"><span data-stu-id="8b828-172">You also check that the employee count value is a number.</span></span> <span data-ttu-id="8b828-173">Pokud nejsou chyby, budete se zobrazí chybová zpráva, která uživateli říká, které hodnoty neproběhla úspěšně ověření.</span><span class="sxs-lookup"><span data-stu-id="8b828-173">If there are errors, you'll display an error message that tells the user what values didn't pass validation.</span></span>

1. <span data-ttu-id="8b828-174">V *Form.cshtml* souboru, první blok kódu nahraďte následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="8b828-174">In the *Form.cshtml* file, replace the first block of code with the following code:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample3.cshtml)]

    <span data-ttu-id="8b828-175">K ověření vstupu uživatele, můžete použít `Validation` pomocné rutiny.</span><span class="sxs-lookup"><span data-stu-id="8b828-175">To validate user input, you use the `Validation` helper.</span></span> <span data-ttu-id="8b828-176">Registrace povinná pole voláním `Validation.RequireField`.</span><span class="sxs-lookup"><span data-stu-id="8b828-176">You register required fields by calling `Validation.RequireField`.</span></span> <span data-ttu-id="8b828-177">Registrace jiné typy ověření voláním `Validation.Add` a zadání pole, které chcete ověřit a typ ověření provést.</span><span class="sxs-lookup"><span data-stu-id="8b828-177">You register other types of validation by calling `Validation.Add` and specifying the field to validate and the type of validation to perform.</span></span>

    <span data-ttu-id="8b828-178">Při spuštění stránky ASP.NET se všemi ověřovacími pro vás.</span><span class="sxs-lookup"><span data-stu-id="8b828-178">When the page runs, ASP.NET does all the validation for you.</span></span> <span data-ttu-id="8b828-179">Můžete zkontrolovat výsledky voláním `Validation.IsValid`, která vrací hodnotu true, pokud se vše předán a NEPRAVDA, pokud žádné pole se nezdařilo ověření.</span><span class="sxs-lookup"><span data-stu-id="8b828-179">You can check the results by calling `Validation.IsValid`, which returns true if everything passed and false if any field failed validation.</span></span> <span data-ttu-id="8b828-180">Obvykle volání `Validation.IsValid` před provedením jakékoli zpracování na vstupu uživatele.</span><span class="sxs-lookup"><span data-stu-id="8b828-180">Typically, you call `Validation.IsValid` before you perform any processing on the user input.</span></span>
2. <span data-ttu-id="8b828-181">Aktualizace `<body>` element přidáním tří volání `Html.ValidationMessage` metoda takto:</span><span class="sxs-lookup"><span data-stu-id="8b828-181">Update the `<body>` element by adding three calls to the `Html.ValidationMessage` method, like this:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample4.cshtml?highlight=8,13,18)]

    <span data-ttu-id="8b828-182">K zobrazení chybových zpráv ověření, můžete volat Html.`ValidationMessage`</span><span class="sxs-lookup"><span data-stu-id="8b828-182">To display validation error messages, you can call Html.`ValidationMessage`</span></span> <span data-ttu-id="8b828-183">a předejte ji název pole, které chcete zprávu pro.</span><span class="sxs-lookup"><span data-stu-id="8b828-183">and pass it the name of the field that you want the message for.</span></span>
3. <span data-ttu-id="8b828-184">Spuštění stránky.</span><span class="sxs-lookup"><span data-stu-id="8b828-184">Run the page.</span></span> <span data-ttu-id="8b828-185">Nechte pole prázdné a klikněte na **odeslání**.</span><span class="sxs-lookup"><span data-stu-id="8b828-185">Leave the fields blank and click **Submit**.</span></span> <span data-ttu-id="8b828-186">Zobrazí chybové zprávy.</span><span class="sxs-lookup"><span data-stu-id="8b828-186">You see error messages.</span></span>

    ![Snímek obrazovky zobrazující chybové zprávy zobrazí, pokud není uživatelský vstup projít ověřením.](4-working-with-forms/_static/image3.jpg)
4. <span data-ttu-id="8b828-188">Přidat řetězec (například "ABC") do **počet zaměstnanců** pole a klikněte na tlačítko **odeslání** znovu.</span><span class="sxs-lookup"><span data-stu-id="8b828-188">Add a string (for example, "ABC") to the **Employee Count** field and click **Submit** again.</span></span> <span data-ttu-id="8b828-189">Tentokrát uvidíte chybu, která označuje, že řetězec není ve správném formátu, a to, celé číslo.</span><span class="sxs-lookup"><span data-stu-id="8b828-189">This time you see an error that indicates that the string isn't in the right format, namely, an integer.</span></span>

    ![Snímek obrazovky zobrazující chybové zprávy zobrazí, pokud uživatelé zadat řetězec pro pole zaměstnanci.](4-working-with-forms/_static/image4.jpg)

<span data-ttu-id="8b828-191">ASP.NET – webové stránky poskytuje další možnosti pro ověřování uživatelského vstupu, včetně možnost automaticky provádět ověření pomocí klientského skriptu, aby uživatelé získali okamžitou zpětnou vazbu v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="8b828-191">ASP.NET Web Pages provides more options for validating user input, including the ability to automatically perform validation using client script, so that users get immediate feedback in the browser.</span></span> <span data-ttu-id="8b828-192">Najdete v článku [další prostředky](#Additional_Resources) části později pro další informace.</span><span class="sxs-lookup"><span data-stu-id="8b828-192">See the [Additional Resources](#Additional_Resources) section later for more information.</span></span>

## <a name="restoring-form-values-after-postbacks"></a><span data-ttu-id="8b828-193">Obnovení po postback hodnot formuláře</span><span class="sxs-lookup"><span data-stu-id="8b828-193">Restoring Form Values After Postbacks</span></span>

<span data-ttu-id="8b828-194">Při testování stránky v předchozí části Možná jste si všimli, pokud jste měli k chybě ověření, vše, co že jste zadali (ne jenom neplatná data) byl pryč, jste museli znovu zadejte hodnoty pro všechna pole.</span><span class="sxs-lookup"><span data-stu-id="8b828-194">When you tested the page in the previous section, you might have noticed that if you had a validation error, everything you entered (not just the invalid data) was gone, and you had to re-enter values for all the fields.</span></span> <span data-ttu-id="8b828-195">To ukazuje bod důležité: po odeslání stránky, jeho zpracování a potom vykreslení stránky, stránka je znovu vytvořit od začátku.</span><span class="sxs-lookup"><span data-stu-id="8b828-195">This illustrates an important point: when you submit a page, process it, and then render the page again, the page is re-created from scratch.</span></span> <span data-ttu-id="8b828-196">Jak už jste viděli, to znamená, že všechny hodnoty, které byly na stránce, pokud byla odeslána budou ztraceny.</span><span class="sxs-lookup"><span data-stu-id="8b828-196">As you saw, this means that any values that were in the page when it was submitted are lost.</span></span>

<span data-ttu-id="8b828-197">Problém můžete vyřešit snadno, ale.</span><span class="sxs-lookup"><span data-stu-id="8b828-197">You can fix this easily, however.</span></span> <span data-ttu-id="8b828-198">Máte přístup k hodnotám, které byly odeslány (v `Request.Form` objektu, tak při vykreslení stránky, můžete vyplnit tyto hodnoty zpět do pole formuláře.</span><span class="sxs-lookup"><span data-stu-id="8b828-198">You have access to the values that were submitted (in the `Request.Form` object, so you can fill those values back into the form fields when the page is rendered.</span></span>

1. <span data-ttu-id="8b828-199">V *Form.cshtml* souboru, nahraďte `value` atributy `<input>` elementů pomocí `value` atribut.:</span><span class="sxs-lookup"><span data-stu-id="8b828-199">In the *Form.cshtml* file, replace the `value` attributes of the `<input>` elements using the `value` attribute.:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample5.cshtml?highlight=13,19,25)]

    <span data-ttu-id="8b828-200">`value` Atribut `<input>` elementy byla nastavena dynamicky načíst hodnotu pole z `Request.Form` objektu.</span><span class="sxs-lookup"><span data-stu-id="8b828-200">The `value` attribute of the `<input>` elements has been set to dynamically read the field value out of the `Request.Form` object.</span></span> <span data-ttu-id="8b828-201">Při prvním požadavku na stránku hodnoty `Request.Form` objekt jsou všechny prázdné.</span><span class="sxs-lookup"><span data-stu-id="8b828-201">The first time that the page is requested, the values in the `Request.Form` object are all empty.</span></span> <span data-ttu-id="8b828-202">Toto je dobře, protože tímto způsobem formuláře je prázdná.</span><span class="sxs-lookup"><span data-stu-id="8b828-202">This is fine, because that way the form is blank.</span></span>
2. <span data-ttu-id="8b828-203">Spusťte stránku v prohlížeči, vyplňte pole formuláře nebo zůstat prázdné a klikněte na tlačítko **odeslání**.</span><span class="sxs-lookup"><span data-stu-id="8b828-203">Launch the page in your browser, fill in the form fields or leave them blank, and click **Submit**.</span></span> <span data-ttu-id="8b828-204">Zobrazí se stránka, která zobrazuje odeslaná hodnoty.</span><span class="sxs-lookup"><span data-stu-id="8b828-204">A page that shows the submitted values is displayed.</span></span>

    ![Forms 5](4-working-with-forms/_static/image5.jpg)

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="8b828-206">Další prostředky</span><span class="sxs-lookup"><span data-stu-id="8b828-206">Additional Resources</span></span>

- [<span data-ttu-id="8b828-207">1,001 způsoby, jak získat vstup od uživatelů webu</span><span class="sxs-lookup"><span data-stu-id="8b828-207">1,001 Ways to Get Input from Web Users</span></span>](https://msdn.microsoft.com/en-us/library/ms971057.aspx)
- <span data-ttu-id="8b828-208">[Pomocí formulářů a zpracování uživatelského vstupu](https://msdn.microsoft.com/en-us/library/ms525182(VS.90).aspx)</span><span class="sxs-lookup"><span data-stu-id="8b828-208">[Using Forms and Processing User Input](https://msdn.microsoft.com/en-us/library/ms525182(VS.90).aspx)</span></span>
- [<span data-ttu-id="8b828-209">Ověřování uživatelského vstupu v ASP.NET – webové stránky servery</span><span class="sxs-lookup"><span data-stu-id="8b828-209">Validating User Input in ASP.NET Web Pages Sites</span></span>](https://go.microsoft.com/fwlink/?LinkId=253002)
- <span data-ttu-id="8b828-210">[Použití automatického dokončování v formuláře HTML](https://msdn.microsoft.com/en-us/library/ms533032(VS.85).aspx)</span><span class="sxs-lookup"><span data-stu-id="8b828-210">[Using AutoComplete in HTML Forms](https://msdn.microsoft.com/en-us/library/ms533032(VS.85).aspx)</span></span>
