---
uid: web-forms/overview/data-access/masterdetail/master-detail-filtering-with-a-dropdownlist-vb
title: "Filtrování s rozevírací seznam (VB) podrobností | Microsoft Docs"
author: rick-anderson
description: "V tomto kurzu vidíte zobrazení hlavní záznamy v ovládací prvek rozevírací seznam a podrobnosti vybrané položky seznamu v GridView."
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/31/2010
ms.topic: article
ms.assetid: ea44717e-ab2e-46cd-a692-e4a9c0de194c
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-filtering-with-a-dropdownlist-vb
msc.type: authoredcontent
ms.openlocfilehash: 88e5c65c100bea3cc39b1e08b1aa8a622b4ce7a6
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/10/2017
---
<a name="masterdetail-filtering-with-a-dropdownlist-vb"></a><span data-ttu-id="a3af1-103">Filtrování s rozevírací seznam (VB) podrobností</span><span class="sxs-lookup"><span data-stu-id="a3af1-103">Master/Detail Filtering With a DropDownList (VB)</span></span>
====================
<span data-ttu-id="a3af1-104">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="a3af1-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="a3af1-105">[Stáhněte si ukázkovou aplikaci](http://download.microsoft.com/download/5/d/7/5d7571fc-d0b7-4798-ad4a-c976c02363ce/ASPNET_Data_Tutorial_7_VB.exe) nebo [stáhnout PDF](master-detail-filtering-with-a-dropdownlist-vb/_static/datatutorial07vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="a3af1-105">[Download Sample App](http://download.microsoft.com/download/5/d/7/5d7571fc-d0b7-4798-ad4a-c976c02363ce/ASPNET_Data_Tutorial_7_VB.exe) or [Download PDF](master-detail-filtering-with-a-dropdownlist-vb/_static/datatutorial07vb1.pdf)</span></span>

> <span data-ttu-id="a3af1-106">V tomto kurzu vidíte zobrazení hlavní záznamy v ovládací prvek rozevírací seznam a podrobnosti vybrané položky seznamu v GridView.</span><span class="sxs-lookup"><span data-stu-id="a3af1-106">In this tutorial we'll see how to display the master records in a DropDownList control and the details of the selected list item in a GridView.</span></span>


## <a name="introduction"></a><span data-ttu-id="a3af1-107">Úvod</span><span class="sxs-lookup"><span data-stu-id="a3af1-107">Introduction</span></span>

<span data-ttu-id="a3af1-108">Běžný typ sestavy je *a podrobností sestavy*, v sestavě začínající zobrazením některé sady záznamů "hlavní".</span><span class="sxs-lookup"><span data-stu-id="a3af1-108">A common type of report is the *master/detail report*, in which the report begins by showing some set of "master" records.</span></span> <span data-ttu-id="a3af1-109">Uživatele můžete pak rozbalit soubor jeden hlavní záznamy, a tím zobrazení daného záznamu hlavní "podrobností."</span><span class="sxs-lookup"><span data-stu-id="a3af1-109">The user can then drill down into one of the master records, thereby viewing that master record's "details."</span></span> <span data-ttu-id="a3af1-110">Seznam podrobnosti sestavy jsou ideálním řešením pro vizualizaci na více vztahů, jako je například sestavy zobrazující všechny kategorie a potom umožní uživatelům vybrat určité kategorie a zobrazit její přidružené produkty.</span><span class="sxs-lookup"><span data-stu-id="a3af1-110">Master/detail reports are an ideal choice for visualizing one-to-many relationships, such as a report showing all of the categories and then allowing a user to select a particular category and display its associated products.</span></span> <span data-ttu-id="a3af1-111">Kromě toho a podrobností sestavy jsou vhodné k zobrazení podrobných informací z zvlášť "širokou" tabulek (ta, která mají mnoho sloupců).</span><span class="sxs-lookup"><span data-stu-id="a3af1-111">Additionally, master/detail reports are useful for displaying detailed information from particularly "wide" tables (ones that have a lot of columns).</span></span> <span data-ttu-id="a3af1-112">Například "hlavní" úroveň a podrobností sestav může zobrazovat jenom název a jednotka cena produktu produkty v databázi a procházení k podrobnostem na konkrétní produkt by zobrazit pole Další produktu (kategorie, dodavatele, množství na jednotku, a atd).</span><span class="sxs-lookup"><span data-stu-id="a3af1-112">For example, the "master" level of a master/detail report might show just the product name and unit price of the products in the database, and drilling down into a particular product would show the additional product fields (category, supplier, quantity per unit, and so on).</span></span>

<span data-ttu-id="a3af1-113">Existuje mnoho způsobů, pomocí kterých se dají implementovat sestavy a podrobností.</span><span class="sxs-lookup"><span data-stu-id="a3af1-113">There are many ways with which a master/detail report can be implemented.</span></span> <span data-ttu-id="a3af1-114">Přes toto a následující tři kurzy podíváme řadu sestav, a podrobností.</span><span class="sxs-lookup"><span data-stu-id="a3af1-114">Over this and the next three tutorials we'll look at a variety of master/detail reports.</span></span> <span data-ttu-id="a3af1-115">V tomto kurzu ukážeme, jak zobrazit hlavní záznamy v [ovládací prvek rozevírací seznam](https://msdn.microsoft.com/en-us/library/dtx91y0z.aspx) a podrobnosti vybrané položky seznamu v GridView.</span><span class="sxs-lookup"><span data-stu-id="a3af1-115">In this tutorial we'll see how to display the master records in a [DropDownList control](https://msdn.microsoft.com/en-us/library/dtx91y0z.aspx) and the details of the selected list item in a GridView.</span></span> <span data-ttu-id="a3af1-116">Konkrétně tento kurz a podrobností sestavy se zobrazí seznam kategorie a informace o produktu.</span><span class="sxs-lookup"><span data-stu-id="a3af1-116">In particular, this tutorial's master/detail report will list category and product information.</span></span>

## <a name="step-1-displaying-the-categories-in-a-dropdownlist"></a><span data-ttu-id="a3af1-117">Krok 1: Zobrazení kategorií v rozevírací seznam</span><span class="sxs-lookup"><span data-stu-id="a3af1-117">Step 1: Displaying the Categories in a DropDownList</span></span>

<span data-ttu-id="a3af1-118">Naše a podrobností sestava zobrazí seznam kategorií v rozevírací seznam, s produkty položce vybrané seznamu zobrazí další dolů na stránce v GridView.</span><span class="sxs-lookup"><span data-stu-id="a3af1-118">Our master/detail report will list the categories in a DropDownList, with the selected list item's products displayed further down in the page in a GridView.</span></span> <span data-ttu-id="a3af1-119">První úlohou před nám, se pak se zobrazí v rozevírací seznam kategorií.</span><span class="sxs-lookup"><span data-stu-id="a3af1-119">The first task ahead of us, then, is to have the categories displayed in a DropDownList.</span></span> <span data-ttu-id="a3af1-120">Otevřete `FilterByDropDownList.aspx` stránku `Filtering` složku, přetáhněte na rozevírací seznam z panelu nástrojů na Návrhář stránky a nastavit jeho `ID` vlastnost, která má `Categories`.</span><span class="sxs-lookup"><span data-stu-id="a3af1-120">Open the `FilterByDropDownList.aspx` page in the `Filtering` folder, drag on a DropDownList from the Toolbox onto the page's designer, and set its `ID` property to `Categories`.</span></span> <span data-ttu-id="a3af1-121">Potom klikněte na odkaz zvolit zdroj dat z inteligentních značek rozevírací seznam.</span><span class="sxs-lookup"><span data-stu-id="a3af1-121">Next, click on the Choose Data Source link from the DropDownList's smart tag.</span></span> <span data-ttu-id="a3af1-122">Zobrazí se Průvodce konfigurací zdroje dat služby.</span><span class="sxs-lookup"><span data-stu-id="a3af1-122">This will display the Data Source Configuration wizard.</span></span>


<span data-ttu-id="a3af1-123">[![Zadejte zdroj dat rozevírací seznam](master-detail-filtering-with-a-dropdownlist-vb/_static/image2.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="a3af1-123">[![Specify the DropDownList's Data Source](master-detail-filtering-with-a-dropdownlist-vb/_static/image2.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image1.png)</span></span>

<span data-ttu-id="a3af1-124">**Obrázek 1**: Zadejte zdroj dat rozevírací seznam ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="a3af1-124">**Figure 1**: Specify the DropDownList's Data Source ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-vb/_static/image3.png))</span></span>


<span data-ttu-id="a3af1-125">Vyberte, chcete-li přidat nový ObjectDataSource s názvem `CategoriesDataSource` , který spustí `CategoriesBLL` třídy `GetCategories()` metoda.</span><span class="sxs-lookup"><span data-stu-id="a3af1-125">Choose to add a new ObjectDataSource named `CategoriesDataSource` that invokes the `CategoriesBLL` class's `GetCategories()` method.</span></span>


<span data-ttu-id="a3af1-126">[![Přidat nové ObjectDataSource s názvem CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-vb/_static/image5.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="a3af1-126">[![Add a New ObjectDataSource Named CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-vb/_static/image5.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image4.png)</span></span>

<span data-ttu-id="a3af1-127">**Obrázek 2**: Přidání nové ObjectDataSource s názvem `CategoriesDataSource` ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="a3af1-127">**Figure 2**: Add a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-vb/_static/image6.png))</span></span>


<span data-ttu-id="a3af1-128">[![Rozhodnete použít CategoriesBLL – třída](master-detail-filtering-with-a-dropdownlist-vb/_static/image8.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="a3af1-128">[![Choose to Use the CategoriesBLL Class](master-detail-filtering-with-a-dropdownlist-vb/_static/image8.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image7.png)</span></span>

<span data-ttu-id="a3af1-129">**Obrázek 3**: Vyberte pro použití `CategoriesBLL` – třída ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="a3af1-129">**Figure 3**: Choose to Use the `CategoriesBLL` Class ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-vb/_static/image9.png))</span></span>


<span data-ttu-id="a3af1-130">[![Konfigurace ObjectDataSource lze pomocí této metody GetCategories()](master-detail-filtering-with-a-dropdownlist-vb/_static/image11.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="a3af1-130">[![Configure the ObjectDataSource to Use the GetCategories() Method](master-detail-filtering-with-a-dropdownlist-vb/_static/image11.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image10.png)</span></span>

<span data-ttu-id="a3af1-131">**Obrázek 4**: Konfigurace ObjectDataSource pro použití `GetCategories()` – metoda ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="a3af1-131">**Figure 4**: Configure the ObjectDataSource to Use the `GetCategories()` Method ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-vb/_static/image12.png))</span></span>


<span data-ttu-id="a3af1-132">Po dokončení konfigurace ObjectDataSource musíme určit, jaké pole datového zdroje, které mají být zobrazeny v rozevírací seznam a které jeden by měly být přidruženy jako hodnotu pro položku seznamu.</span><span class="sxs-lookup"><span data-stu-id="a3af1-132">After configuring the ObjectDataSource we still need to specify what data source field should be displayed in DropDownList and which one should be associated as the value for the list item.</span></span> <span data-ttu-id="a3af1-133">Máte `CategoryName` pole jako zobrazení a `CategoryID` jako hodnota pro každou položku seznamu.</span><span class="sxs-lookup"><span data-stu-id="a3af1-133">Have the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>


<span data-ttu-id="a3af1-134">[![Mají zobrazení rozevírací seznam CategoryName pole a použití CategoryID jako hodnota](master-detail-filtering-with-a-dropdownlist-vb/_static/image14.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="a3af1-134">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-a-dropdownlist-vb/_static/image14.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image13.png)</span></span>

<span data-ttu-id="a3af1-135">**Obrázek 5**: mít zobrazení rozevírací seznam `CategoryName` pole a použití `CategoryID` jako hodnotu ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="a3af1-135">**Figure 5**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-vb/_static/image15.png))</span></span>


<span data-ttu-id="a3af1-136">V tomto okamžiku máme ovládací prvek rozevírací seznam, který se zobrazí v záznamy ze `Categories` tabulky (všechny dosáhnout přibližně šest sekund).</span><span class="sxs-lookup"><span data-stu-id="a3af1-136">At this point we have a DropDownList control that's populated with the records from the `Categories` table (all accomplished in about six seconds).</span></span> <span data-ttu-id="a3af1-137">Obrázek 6 zobrazuje naše průběh doposud, když zobrazit pomocí prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="a3af1-137">Figure 6 shows our progress thus far when viewed through a browser.</span></span>


<span data-ttu-id="a3af1-138">[![Rozevírací seznamy aktuální kategorií](master-detail-filtering-with-a-dropdownlist-vb/_static/image17.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="a3af1-138">[![A Drop-Down Lists the Current Categories](master-detail-filtering-with-a-dropdownlist-vb/_static/image17.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image16.png)</span></span>

<span data-ttu-id="a3af1-139">**Obrázek 6**: rozevírací seznamy A aktuální kategorie ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="a3af1-139">**Figure 6**: A Drop-Down Lists the Current Categories ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-vb/_static/image18.png))</span></span>


## <a name="step-2-adding-the-products-gridview"></a><span data-ttu-id="a3af1-140">Krok 2: Přidání GridView produkty</span><span class="sxs-lookup"><span data-stu-id="a3af1-140">Step 2: Adding the Products GridView</span></span>

<span data-ttu-id="a3af1-141">Tento poslední krok v našich a podrobností sestavy je seznam produkty spojené s vybranou kategorii.</span><span class="sxs-lookup"><span data-stu-id="a3af1-141">That last step in our master/detail report is to list the products associated with the selected category.</span></span> <span data-ttu-id="a3af1-142">K tomu, rutina GridView přidat na stránku a vytvořit nové ObjectDataSource s názvem `productsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="a3af1-142">To accomplish this, add a GridView to the page and create a new ObjectDataSource named `productsDataSource`.</span></span> <span data-ttu-id="a3af1-143">Mít `productsDataSource` jatečné data z ovládacího prvku `ProductsBLL` třídy `GetProductsByCategoryID(categoryID)` metoda.</span><span class="sxs-lookup"><span data-stu-id="a3af1-143">Have the `productsDataSource` control cull its data from the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span>


<span data-ttu-id="a3af1-144">[![Vyberte metodu GetProductsByCategoryID(categoryID)](master-detail-filtering-with-a-dropdownlist-vb/_static/image20.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="a3af1-144">[![Select the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-a-dropdownlist-vb/_static/image20.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image19.png)</span></span>

<span data-ttu-id="a3af1-145">**Obrázek 7**: vyberte `GetProductsByCategoryID(categoryID)` – metoda ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-vb/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="a3af1-145">**Figure 7**: Select the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-vb/_static/image21.png))</span></span>


<span data-ttu-id="a3af1-146">Po výběru této metody, Průvodce ObjectDataSource k zadání nám hodnota metody  *`categoryID`*  parametr.</span><span class="sxs-lookup"><span data-stu-id="a3af1-146">After choosing this method, the ObjectDataSource wizard prompts us for the value for the method's *`categoryID`* parameter.</span></span> <span data-ttu-id="a3af1-147">Chcete použít hodnotu vybrané `categories` rozevírací seznam položky nastavit parametr Zdroj ovládacího prvku a ControlID k `Categories`.</span><span class="sxs-lookup"><span data-stu-id="a3af1-147">To use the value of the selected `categories` DropDownList item set the Parameter source to Control and the ControlID to `Categories`.</span></span>


<span data-ttu-id="a3af1-148">[![Nastaví categoryID parametr na hodnotu rozevírací seznam kategorií](master-detail-filtering-with-a-dropdownlist-vb/_static/image23.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="a3af1-148">[![Set the categoryID Parameter to the Value of the Categories DropDownList](master-detail-filtering-with-a-dropdownlist-vb/_static/image23.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image22.png)</span></span>

<span data-ttu-id="a3af1-149">**Obrázek 8**: nastavte  *`categoryID`*  parametr na hodnotu `Categories` rozevírací seznam ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="a3af1-149">**Figure 8**: Set the *`categoryID`* Parameter to the Value of the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-vb/_static/image24.png))</span></span>


<span data-ttu-id="a3af1-150">Podívejte se na naše průběh v prohlížeči chvíli trvat.</span><span class="sxs-lookup"><span data-stu-id="a3af1-150">Take a moment to check out our progress in a browser.</span></span> <span data-ttu-id="a3af1-151">Při první návštěvě stránky, tyto produkty patří do vybrané kategorie (nápoje) jsou zobrazeny (jak je znázorněno na obrázku 9), ale změna rozevírací seznam neaktualizuje data.</span><span class="sxs-lookup"><span data-stu-id="a3af1-151">When first visiting the page, those products belong to the selected category (Beverages) are displayed (as shown in Figure 9), but changing the DropDownList doesn't update the data.</span></span> <span data-ttu-id="a3af1-152">To je proto zpětné volání, musí dojít k GridView aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="a3af1-152">This is because a postback must occur for the GridView to update.</span></span> <span data-ttu-id="a3af1-153">K tomu můžeme mít dvě možnosti (ani z nich vyžaduje psaní jakéhokoli kódu):</span><span class="sxs-lookup"><span data-stu-id="a3af1-153">To accomplish this we have two options (neither of which requires writing any code):</span></span>

- <span data-ttu-id="a3af1-154">**Nastavit kategorie rozevírací seznam**[automatické odeslání vlastnost](https://msdn.microsoft.com/en-US/library/system.web.ui.webcontrols.listcontrol.autopostback%28VS.80%29.aspx)**na hodnotu True.**</span><span class="sxs-lookup"><span data-stu-id="a3af1-154">**Set the categories DropDownList's**[AutoPostBack property](https://msdn.microsoft.com/en-US/library/system.web.ui.webcontrols.listcontrol.autopostback%28VS.80%29.aspx)**to True.**</span></span> <span data-ttu-id="a3af1-155">(Toho lze dosáhnout kontrolou možnost Povolit automatické odeslání v inteligentních značek rozevírací seznam.) To se spustily vždy, když rozevírací seznam vybraná položka je změněna uživatelem.</span><span class="sxs-lookup"><span data-stu-id="a3af1-155">(You can accomplish this by checking the Enable AutoPostBack option in the DropDownList's smart tag.) This will trigger a postback whenever the DropDownList's selected item is changed by the user.</span></span> <span data-ttu-id="a3af1-156">Proto když si uživatel vybere ze rozevírací seznam novou kategorii výsledkem by měla být zpětné volání a GridView bude aktualizována produktů pro nově zvolené kategorii.</span><span class="sxs-lookup"><span data-stu-id="a3af1-156">Therefore, when the user selects a new category from the DropDownList a postback will ensue and the GridView will be updated with the products for the newly selected category.</span></span> <span data-ttu-id="a3af1-157">(Toto je přístupů, které jste použitý v tomto kurzu).</span><span class="sxs-lookup"><span data-stu-id="a3af1-157">(This is the approach I've used in this tutorial.)</span></span>
- <span data-ttu-id="a3af1-158">**Přidání ovládacího prvku tlačítko webové vedle rozevírací seznam.**</span><span class="sxs-lookup"><span data-stu-id="a3af1-158">**Add a Button Web control next to the DropDownList.**</span></span> <span data-ttu-id="a3af1-159">Nastavte její `Text` vlastnost na aktualizaci nebo něco podobného.</span><span class="sxs-lookup"><span data-stu-id="a3af1-159">Set its `Text` property to Refresh or something similar.</span></span> <span data-ttu-id="a3af1-160">S tímto přístupem uživatel bude muset vyberte novou kategorii a potom klikněte na tlačítko.</span><span class="sxs-lookup"><span data-stu-id="a3af1-160">With this approach, the user will need to select a new category and then click the Button.</span></span> <span data-ttu-id="a3af1-161">Kliknutím na tlačítko způsobit zpětné volání a aktualizovat GridView seznam těchto produktů vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="a3af1-161">Clicking the Button will cause a postback and update the GridView to list those products of the selected category.</span></span>

<span data-ttu-id="a3af1-162">Následující obrázky 9 a 10 znázorňují, sestavy a podrobností v akci.</span><span class="sxs-lookup"><span data-stu-id="a3af1-162">Figures 9 and 10 illustrate the master/detail report in action.</span></span>


<span data-ttu-id="a3af1-163">[![Při první návštěvě stránky, se zobrazí produkty nápoj](master-detail-filtering-with-a-dropdownlist-vb/_static/image26.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="a3af1-163">[![When First Visiting the Page, the Beverage Products are Displayed](master-detail-filtering-with-a-dropdownlist-vb/_static/image26.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image25.png)</span></span>

<span data-ttu-id="a3af1-164">**Obrázek 9**: při první návštěvě stránky, se zobrazí produkty nápoj ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-vb/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="a3af1-164">**Figure 9**: When First Visiting the Page, the Beverage Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-vb/_static/image27.png))</span></span>


<span data-ttu-id="a3af1-165">[![Výběr nového produktu (produktu) automaticky vyvolá PostBack, aktualizace GridView](master-detail-filtering-with-a-dropdownlist-vb/_static/image29.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="a3af1-165">[![Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the GridView](master-detail-filtering-with-a-dropdownlist-vb/_static/image29.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image28.png)</span></span>

<span data-ttu-id="a3af1-166">**Obrázek 10**: Výběr nového produktu (produktu) automaticky vyvolá PostBack, aktualizace GridView ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-vb/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="a3af1-166">**Figure 10**: Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the GridView ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-vb/_static/image30.png))</span></span>


## <a name="adding-a----choose-a-category----list-item"></a><span data-ttu-id="a3af1-167">Přidání položky seznamu "– Vyberte kategorii –"</span><span class="sxs-lookup"><span data-stu-id="a3af1-167">Adding a "-- Choose a Category --" List Item</span></span>

<span data-ttu-id="a3af1-168">Při první návštěvě `FilterByDropDownList.aspx` stránky kategorie, které rozevírací seznam pro první položku seznamu (nápoje) je ve výchozím nastavení zobrazující nápoj produkty v GridView.</span><span class="sxs-lookup"><span data-stu-id="a3af1-168">When first visiting the `FilterByDropDownList.aspx` page the categories DropDownList's first list item (Beverages) is selected by default, showing the beverage products in the GridView.</span></span> <span data-ttu-id="a3af1-169">Místo zobrazení první kategorie produktů, že jsme může chtít, aby místo rozevírací seznam položky vybrali, říká něco podobného jako "– Vyberte kategorii –".</span><span class="sxs-lookup"><span data-stu-id="a3af1-169">Rather than showing the first category's products, we may want to instead have a DropDownList item selected that says something like, "-- Choose a Category --".</span></span>

<span data-ttu-id="a3af1-170">Chcete-li přidat novou položku seznamu do rozevírací seznam, přejít do okna vlastností a klikněte na symbol tří teček v `Items` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="a3af1-170">To add a new list item to the DropDownList, go to the Properties window and click on the ellipses in the `Items` property.</span></span> <span data-ttu-id="a3af1-171">Přidat novou položku seznamu s `Text` "--Vyberte kategorii –" a `Value` `-1`.</span><span class="sxs-lookup"><span data-stu-id="a3af1-171">Add a new list item with the `Text` "-- Choose a Category --" and the `Value` `-1`.</span></span>


<span data-ttu-id="a3af1-172">[![Přidat a – z položky seznamu výběru kategorie--](master-detail-filtering-with-a-dropdownlist-vb/_static/image32.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="a3af1-172">[![Add a -- Choose a Category -- List Item](master-detail-filtering-with-a-dropdownlist-vb/_static/image32.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image31.png)</span></span>

<span data-ttu-id="a3af1-173">**Obrázek 11**: Přidat a – z položky seznamu výběru kategorie--([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-vb/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="a3af1-173">**Figure 11**: Add a -- Choose a Category -- List Item ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-vb/_static/image33.png))</span></span>


<span data-ttu-id="a3af1-174">Alternativně můžete přidat položku seznamu přidáním následující kód do rozevírací seznam:</span><span class="sxs-lookup"><span data-stu-id="a3af1-174">Alternatively, you can add the list item by adding the following markup to the DropDownList:</span></span>


[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-vb/samples/sample1.aspx)]

<span data-ttu-id="a3af1-175">Kromě toho je potřeba nastavit ovládací prvek rozevírací seznam `AppendDataBoundItems` na hodnotu True, protože při kategorie je vázána na rozevírací seznam z ObjectDataSource se budete přepsat všech ručně přidat seznam položek, pokud `AppendDataBoundItems` není hodnotu True.</span><span class="sxs-lookup"><span data-stu-id="a3af1-175">Additionally, we need to set the DropDownList control's `AppendDataBoundItems` to True because when the categories are bound to the DropDownList from the ObjectDataSource they'll overwrite any manually-added list items if `AppendDataBoundItems` isn't True.</span></span>


![Nastavte vlastnost AppendDataBoundItems vlastnost na hodnotu True](master-detail-filtering-with-a-dropdownlist-vb/_static/image34.png)

<span data-ttu-id="a3af1-177">**Obrázek 12**: nastavte `AppendDataBoundItems` vlastnost na hodnotu True</span><span class="sxs-lookup"><span data-stu-id="a3af1-177">**Figure 12**: Set the `AppendDataBoundItems` Property to True</span></span>


<span data-ttu-id="a3af1-178">Po provedení těchto změn při první návštěvě stránky je vybrána možnost "– Vyberte kategorii –" a jsou zobrazeny žádné produkty.</span><span class="sxs-lookup"><span data-stu-id="a3af1-178">After these changes, when first visiting the page the "-- Choose a Category --" option is selected and no products are displayed.</span></span>


<span data-ttu-id="a3af1-179">[![Počáteční stránka zatížení jsou zobrazeny žádné produkty](master-detail-filtering-with-a-dropdownlist-vb/_static/image36.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="a3af1-179">[![On the Initial Page Load No Products are Displayed](master-detail-filtering-with-a-dropdownlist-vb/_static/image36.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image35.png)</span></span>

<span data-ttu-id="a3af1-180">**Obrázek 13**: na the počáteční stránka zatížení Ne se zobrazí produkty ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-vb/_static/image37.png))</span><span class="sxs-lookup"><span data-stu-id="a3af1-180">**Figure 13**: On the Initial Page Load No Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-vb/_static/image37.png))</span></span>


<span data-ttu-id="a3af1-181">Z důvodu žádné produkty jsou vzhledem k tomu, že je vybraná položka seznamu "– Vyberte kategorii –" zobrazí, když je, protože její hodnota je `-1` a v databázi s nejsou žádné produkty `CategoryID` z `-1`.</span><span class="sxs-lookup"><span data-stu-id="a3af1-181">The reason no products are displayed when because the "-- Choose a Category --" list item is selected is because its value is `-1` and there are no products in the database with a `CategoryID` of `-1`.</span></span> <span data-ttu-id="a3af1-182">Pokud toto chování je budete chtít pak v tomto okamžiku jste hotovi!</span><span class="sxs-lookup"><span data-stu-id="a3af1-182">If this is the behavior you want then you're done at this point!</span></span> <span data-ttu-id="a3af1-183">Pokud však chcete zobrazit *všechny* kategorie Pokud je vybraná položka seznamu "– Vyberte kategorii –", vraťte k `ProductsBLL` třídy a přizpůsobit `GetProductsByCategoryID(categoryID)` metody, které se vyvolá `GetProducts()` metoda Pokud předaný v  *`categoryID`*  parametru je menší než nula:</span><span class="sxs-lookup"><span data-stu-id="a3af1-183">If, however, you want to display *all* of the categories when the "-- Choose a Category --" list item is selected, return to the `ProductsBLL` class and customize the `GetProductsByCategoryID(categoryID)` method so that it invokes the `GetProducts()` method if the passed in *`categoryID`* parameter is less than zero:</span></span>


[!code-vb[Main](master-detail-filtering-with-a-dropdownlist-vb/samples/sample2.vb)]

<span data-ttu-id="a3af1-184">Technika použít zde je podobná přístup jsme slouží k zobrazení všech dodavatelů zpět v [deklarativní parametry](../basic-reporting/declarative-parameters-cs.md) kurz, i když v tomto příkladu používáme hodnotu `-1` indikující, že by měly být všechny záznamy načíst naproti tomu `Nothing`.</span><span class="sxs-lookup"><span data-stu-id="a3af1-184">The technique used here is similar to the approach we used to display all suppliers back in the [Declarative Parameters](../basic-reporting/declarative-parameters-cs.md) tutorial, although for this example we're using a value of `-1` to indicate that all records should be retrieved as opposed to `Nothing`.</span></span> <span data-ttu-id="a3af1-185">Důvodem je, že  *`categoryID`*  parametr `GetProductsByCategoryID(categoryID)` metoda očekává jako předána hodnota celé číslo, zatímco v tomto kurzu deklarativní parametry jsme byly předávání v vstupní parametr řetězce.</span><span class="sxs-lookup"><span data-stu-id="a3af1-185">This is because the *`categoryID`* parameter of the `GetProductsByCategoryID(categoryID)` method expects as integer value passed in, whereas in the Declarative Parameters tutorial we were passing in a string input parameter.</span></span>

<span data-ttu-id="a3af1-186">Snímek obrazovky ukazuje obrázek 14 `FilterByDropDownList.aspx` když je vybrána možnost "– Vyberte kategorii –".</span><span class="sxs-lookup"><span data-stu-id="a3af1-186">Figure 14 shows a screen shot of `FilterByDropDownList.aspx` when the "-- Choose a Category --" option is selected.</span></span> <span data-ttu-id="a3af1-187">Zde jsou ve výchozím nastavení zobrazí všechny produkty a uživatele můžete zúžit zobrazení tak, že zvolíte do určité kategorie.</span><span class="sxs-lookup"><span data-stu-id="a3af1-187">Here, all of the products are displayed by default, and the user can narrow the display by choosing a specific category.</span></span>


<span data-ttu-id="a3af1-188">[![Všechny produkty jsou nyní uvedeny ve výchozím nastavení](master-detail-filtering-with-a-dropdownlist-vb/_static/image39.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="a3af1-188">[![All of the Products are Now Listed By Default](master-detail-filtering-with-a-dropdownlist-vb/_static/image39.png)](master-detail-filtering-with-a-dropdownlist-vb/_static/image38.png)</span></span>

<span data-ttu-id="a3af1-189">**Obrázek 14**: všechny produkty jsou nyní uvedeny ve výchozím nastavení ([Kliknutím zobrazit obrázek v plné velikosti](master-detail-filtering-with-a-dropdownlist-vb/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="a3af1-189">**Figure 14**: All of the Products are Now Listed By Default ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-vb/_static/image40.png))</span></span>


## <a name="summary"></a><span data-ttu-id="a3af1-190">Souhrn</span><span class="sxs-lookup"><span data-stu-id="a3af1-190">Summary</span></span>

<span data-ttu-id="a3af1-191">Při zobrazení hierarchicky související data, je dobré často se data pomocí sestav a podrobností, ze kterých uživatel můžete spustit perusing data od nejvyšší úrovně v hierarchii a podrobnostem podrobnosti k dispozici.</span><span class="sxs-lookup"><span data-stu-id="a3af1-191">When displaying hierarchically-related data, it often helps to present the data using master/detail reports, from which the user can start perusing the data from the top of the hierarchy and drill down into details.</span></span> <span data-ttu-id="a3af1-192">V tomto kurzu jsme se zaměřili na vytváření jednoduché a podrobností sestavy zobrazující vybrané kategorie produktů.</span><span class="sxs-lookup"><span data-stu-id="a3af1-192">In this tutorial we examined building a simple master/detail report showing a selected category's products.</span></span> <span data-ttu-id="a3af1-193">Bylo to provést pomocí rozevírací seznam pro seznam kategorií a GridView pro produkty, které patří do vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="a3af1-193">This was accomplished by using a DropDownList for the list of categories and a GridView for the products belonging to the selected category.</span></span>

<span data-ttu-id="a3af1-194">V [další kurz](master-detail-filtering-with-two-dropdownlists-vb.md) provedeme jeden krok rozhraní rozevírací seznam navíc pomocí dvou DropDownLists.</span><span class="sxs-lookup"><span data-stu-id="a3af1-194">In the [next tutorial](master-detail-filtering-with-two-dropdownlists-vb.md) we'll take the DropDownList interface one step further, using two DropDownLists.</span></span>

<span data-ttu-id="a3af1-195">Radostí programování!</span><span class="sxs-lookup"><span data-stu-id="a3af1-195">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="a3af1-196">O autorovi</span><span class="sxs-lookup"><span data-stu-id="a3af1-196">About the Author</span></span>

<span data-ttu-id="a3af1-197">[Scott Meisnerová](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor sedm ASP/ASP.NET knih a zakladatele z [4GuysFromRolla.com](http://www.4guysfromrolla.com), pracuje s technologií Microsoft Web od 1998.</span><span class="sxs-lookup"><span data-stu-id="a3af1-197">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="a3af1-198">Scott funguje jako nezávislé poradce, trainer a zapisovače.</span><span class="sxs-lookup"><span data-stu-id="a3af1-198">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="a3af1-199">Jeho nejnovější seznam k [ *Edice nakladatelství Sams naučit sami technologii ASP.NET 2.0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="a3af1-199">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="a3af1-200">Dosažitelný v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) nebo prostřednictvím svého blogu, který najdete na [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="a3af1-200">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="a3af1-201">[Předchozí](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)
[další](master-detail-filtering-with-two-dropdownlists-vb.md)</span><span class="sxs-lookup"><span data-stu-id="a3af1-201">[Previous](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)
[Next](master-detail-filtering-with-two-dropdownlists-vb.md)</span></span>
