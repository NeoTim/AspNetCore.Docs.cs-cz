---
title: Globalizace a lokalizace v ASP.NET Core
author: rick-anderson
description: "Zjistěte, jak ASP.NET Core poskytuje služby a middleware pro lokalizaci obsahu do různých jazyků a kultur."
ms.author: riande
manager: wpickett
ms.date: 01/14/2017
ms.topic: article
ms.technology: aspnet
ms.prod: asp.net-core
uid: fundamentals/localization
ms.openlocfilehash: 5f1579b5682b2f0b3f8227f0cf6b4c0361eb1e67
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/24/2018
---
# <a name="globalization-and-localization-in-aspnet-core"></a><span data-ttu-id="a728a-103">Globalizace a lokalizace v ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="a728a-103">Globalization and localization in ASP.NET Core</span></span>

<span data-ttu-id="a728a-104">Podle [Rick Anderson](https://twitter.com/RickAndMSFT), [Damien překážka](https://twitter.com/damien_bod), [ADAM Calixto](https://twitter.com/bartmax), [Nadeem Afana](https://twitter.com/NadeemAfana), a [Ateya Hisham Koš](https://twitter.com/hishambinateya)</span><span class="sxs-lookup"><span data-stu-id="a728a-104">By [Rick Anderson](https://twitter.com/RickAndMSFT), [Damien Bowden](https://twitter.com/damien_bod), [Bart Calixto](https://twitter.com/bartmax), [Nadeem Afana](https://twitter.com/NadeemAfana), and [Hisham Bin Ateya](https://twitter.com/hishambinateya)</span></span>

<span data-ttu-id="a728a-105">Vytvoření vícejazyčné webu pomocí ASP.NET Core vám umožní vaší lokality k dosažení širší cílovou skupinu.</span><span class="sxs-lookup"><span data-stu-id="a728a-105">Creating a multilingual website with ASP.NET Core will allow your site to reach a wider audience.</span></span> <span data-ttu-id="a728a-106">Základní technologie ASP.NET poskytuje služby a middleware pro lokalizace do různých jazyků a kultur.</span><span class="sxs-lookup"><span data-stu-id="a728a-106">ASP.NET Core provides services and middleware for localizing into different languages and cultures.</span></span>

<span data-ttu-id="a728a-107">Internacionalizace zahrnuje [globalizace](https://docs.microsoft.com/dotnet/api/system.globalization) a [lokalizace](https://docs.microsoft.com/dotnet/standard/globalization-localization/localization).</span><span class="sxs-lookup"><span data-stu-id="a728a-107">Internationalization involves [Globalization](https://docs.microsoft.com/dotnet/api/system.globalization) and [Localization](https://docs.microsoft.com/dotnet/standard/globalization-localization/localization).</span></span> <span data-ttu-id="a728a-108">Globalizace je proces návrhu aplikace, které podporují různé jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="a728a-108">Globalization is the process of designing apps that support different cultures.</span></span> <span data-ttu-id="a728a-109">Globalizace přidává podporu pro vstup, zobrazení a výstupní sada skripty jazyka, které se vztahují k určité geografické oblasti.</span><span class="sxs-lookup"><span data-stu-id="a728a-109">Globalization adds support for input, display, and output of a defined set of language scripts that relate to specific geographic areas.</span></span>

<span data-ttu-id="a728a-110">Lokalizace je proces přizpůsobení globalizovaná aplikaci, která již byl zpracován lokalizovatelnosti na konkrétní jazykové verze nebo národní prostředí.</span><span class="sxs-lookup"><span data-stu-id="a728a-110">Localization is the process of adapting a globalized app, which you have already processed for localizability, to a particular culture/locale.</span></span> <span data-ttu-id="a728a-111">Další informace najdete v části **globalizace a lokalizace podmínky** téměř na konci tohoto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="a728a-111">For more information see **Globalization and localization terms** near the end of this document.</span></span>

<span data-ttu-id="a728a-112">Lokalizace aplikací zahrnuje následující:</span><span class="sxs-lookup"><span data-stu-id="a728a-112">App localization involves the following:</span></span>

1. <span data-ttu-id="a728a-113">Aby lokalizovatelný obsah aplikace</span><span class="sxs-lookup"><span data-stu-id="a728a-113">Make the app's content localizable</span></span>

2. <span data-ttu-id="a728a-114">Zadejte lokalizované prostředky pro jazyků a kultur, které podporujete</span><span class="sxs-lookup"><span data-stu-id="a728a-114">Provide localized resources for the languages and cultures you support</span></span>

3. <span data-ttu-id="a728a-115">Implementace strategie pro vyberte jazyk nebo jazykovou verzi pro každý požadavek</span><span class="sxs-lookup"><span data-stu-id="a728a-115">Implement a strategy to select the language/culture for each request</span></span>

## <a name="make-the-apps-content-localizable"></a><span data-ttu-id="a728a-116">Aby lokalizovatelný obsah aplikace</span><span class="sxs-lookup"><span data-stu-id="a728a-116">Make the app's content localizable</span></span>

<span data-ttu-id="a728a-117">Byla zavedená v ASP.NET Core `IStringLocalizer` a `IStringLocalizer<T>` byly navržen k zvýšení produktivity při vývoji lokalizované aplikace.</span><span class="sxs-lookup"><span data-stu-id="a728a-117">Introduced in ASP.NET Core, `IStringLocalizer` and `IStringLocalizer<T>` were architected to improve productivity when developing localized apps.</span></span> <span data-ttu-id="a728a-118">`IStringLocalizer`používá [ResourceManager](https://docs.microsoft.com/dotnet/api/system.resources.resourcemanager) a [ResourceReader](https://docs.microsoft.com/dotnet/api/system.resources.resourcereader) k poskytnutí prostředků specifické pro jazykovou verzi za běhu.</span><span class="sxs-lookup"><span data-stu-id="a728a-118">`IStringLocalizer` uses the [ResourceManager](https://docs.microsoft.com/dotnet/api/system.resources.resourcemanager) and [ResourceReader](https://docs.microsoft.com/dotnet/api/system.resources.resourcereader) to provide culture-specific resources at run time.</span></span> <span data-ttu-id="a728a-119">Jednoduché rozhraní má indexer a `IEnumerable` pro vrácení lokalizovaných řetězců.</span><span class="sxs-lookup"><span data-stu-id="a728a-119">The simple interface has an indexer and an `IEnumerable` for returning localized strings.</span></span> <span data-ttu-id="a728a-120">`IStringLocalizer`nevyžaduje ukládání řetězce výchozí jazyk v souboru prostředků.</span><span class="sxs-lookup"><span data-stu-id="a728a-120">`IStringLocalizer` doesn't require you to store the default language strings in a resource file.</span></span> <span data-ttu-id="a728a-121">Můžete vyvíjet aplikace cílené na lokalizace a není nutné vytvářet soubory prostředků v rané fázi vývoj.</span><span class="sxs-lookup"><span data-stu-id="a728a-121">You can develop an app targeted for localization and not need to create resource files early in development.</span></span> <span data-ttu-id="a728a-122">Následující kód ukazuje, jak zabalit řetězec "Title o" pro lokalizaci.</span><span class="sxs-lookup"><span data-stu-id="a728a-122">The code below shows how to wrap the string "About Title" for localization.</span></span>

[!code-csharp[Main](localization/sample/Localization/Controllers/AboutController.cs)]

<span data-ttu-id="a728a-123">Ve výše, kódu `IStringLocalizer<T>` implementace pochází z [vkládání závislostí](dependency-injection.md).</span><span class="sxs-lookup"><span data-stu-id="a728a-123">In the code above, the `IStringLocalizer<T>` implementation comes from [Dependency Injection](dependency-injection.md).</span></span> <span data-ttu-id="a728a-124">Pokud lokalizované hodnoty "Title o" nebyl nalezen, pak klíč indexeru je vrácen, tedy řetězec "Title o".</span><span class="sxs-lookup"><span data-stu-id="a728a-124">If the localized value of "About Title" isn't found, then the indexer key is returned, that is, the string "About Title".</span></span> <span data-ttu-id="a728a-125">Můžete ponechat výchozí nastavení literálu řetězce jazyků v aplikaci a zabalení v lokalizátora, tak, aby se mohli zaměřit na vývoj aplikace.</span><span class="sxs-lookup"><span data-stu-id="a728a-125">You can leave the default language literal strings in the app and wrap them in the localizer, so that you can focus on developing the app.</span></span> <span data-ttu-id="a728a-126">Vývoj aplikace s výchozí jazyk a jeho přípravu pro lokalizaci bez vytvoření první výchozí soubor prostředků.</span><span class="sxs-lookup"><span data-stu-id="a728a-126">You develop your app with your default language and prepare it for the localization step without first creating a default resource file.</span></span> <span data-ttu-id="a728a-127">Alternativně můžete použít tradiční přístup a zadejte klíč k získání řetězce výchozí jazyk.</span><span class="sxs-lookup"><span data-stu-id="a728a-127">Alternatively, you can use the traditional approach and provide a key to retrieve the default language string.</span></span> <span data-ttu-id="a728a-128">Pro mnoho vývojáře nový pracovní postup nemá výchozí jazyk *RESX* souborové služby a jednoduše zabalení textové literály můžete snížit režii lokalizace aplikace.</span><span class="sxs-lookup"><span data-stu-id="a728a-128">For many developers the new workflow of not having a default language *.resx* file and simply wrapping the string literals can reduce the overhead of localizing an app.</span></span> <span data-ttu-id="a728a-129">Jinými vývojáři bude upřednostňovat tradiční pracovní postup, jak ho můžete bylo snazší práce s delší textové literály a usnadňují aktualizovat lokalizované řetězce.</span><span class="sxs-lookup"><span data-stu-id="a728a-129">Other developers will prefer the traditional work flow as it can make it easier to work with longer string literals and make it easier to update localized strings.</span></span>

<span data-ttu-id="a728a-130">Použití `IHtmlLocalizer<T>` implementace pro prostředky, které obsahují HTML.</span><span class="sxs-lookup"><span data-stu-id="a728a-130">Use the `IHtmlLocalizer<T>` implementation for resources that contain HTML.</span></span> <span data-ttu-id="a728a-131">`IHtmlLocalizer`Argumenty, které jsou ve formátu v řetězec prostředku kóduje HTML, ale nepodporuje kódování HTML řetězec prostředku sám sebe.</span><span class="sxs-lookup"><span data-stu-id="a728a-131">`IHtmlLocalizer` HTML encodes arguments that are formatted in the resource string, but doesn't HTML encode the resource string itself.</span></span> <span data-ttu-id="a728a-132">V ukázce zvýrazněná níže pouze hodnota `name` parametr není kódován jazykem HTML.</span><span class="sxs-lookup"><span data-stu-id="a728a-132">In the sample highlighted below, only the value of `name` parameter is HTML encoded.</span></span>

[!code-csharp[Main](../fundamentals/localization/sample/Localization/Controllers/BookController.cs?highlight=3,5,20&start=1&end=24)]

<span data-ttu-id="a728a-133">**Poznámka:** chcete obecně pouze lokalizovat text a není ve formátu HTML.</span><span class="sxs-lookup"><span data-stu-id="a728a-133">**Note:** You generally want to only localize text and not HTML.</span></span>

<span data-ttu-id="a728a-134">Na nejnižší úrovni, můžete získat `IStringLocalizerFactory` mimo [vkládání závislostí](dependency-injection.md):</span><span class="sxs-lookup"><span data-stu-id="a728a-134">At the lowest level, you can get `IStringLocalizerFactory` out of [Dependency Injection](dependency-injection.md):</span></span>

[!code-csharp[Main](localization/sample/Localization/Controllers/TestController.cs?start=9&end=26&highlight=7-13)]

<span data-ttu-id="a728a-135">Výše uvedený kód ukazuje každé dvě objektu pro vytváření vytvořit metody.</span><span class="sxs-lookup"><span data-stu-id="a728a-135">The code above demonstrates each of the two factory create methods.</span></span>

<span data-ttu-id="a728a-136">Můžete oddílu lokalizovaných řetězců řadič, oblasti nebo mít jenom jeden kontejner.</span><span class="sxs-lookup"><span data-stu-id="a728a-136">You can partition your localized strings by controller, area, or have just one container.</span></span> <span data-ttu-id="a728a-137">V ukázkové aplikace s názvem třídu fiktivní `SharedResource` se používá pro sdílené prostředky.</span><span class="sxs-lookup"><span data-stu-id="a728a-137">In the sample app, a dummy class named `SharedResource` is used for shared resources.</span></span>

[!code-csharp[Main](localization/sample/Localization/Resources/SharedResource.cs)]

<span data-ttu-id="a728a-138">Někteří vývojáři použít `Startup` třídy tak, aby obsahovala globální nebo sdíleného řetězce.</span><span class="sxs-lookup"><span data-stu-id="a728a-138">Some developers use the `Startup` class to contain global or shared strings.</span></span> <span data-ttu-id="a728a-139">V ukázce níže `InfoController` a `SharedResource` překladatelům při lokalizaci používají:</span><span class="sxs-lookup"><span data-stu-id="a728a-139">In the sample below, the `InfoController` and the `SharedResource` localizers are used:</span></span>

[!code-csharp[Main](localization/sample/Localization/Controllers/InfoController.cs?range=9-26)]

## <a name="view-localization"></a><span data-ttu-id="a728a-140">Lokalizace zobrazení</span><span class="sxs-lookup"><span data-stu-id="a728a-140">View localization</span></span>

<span data-ttu-id="a728a-141">`IViewLocalizer` Služba poskytuje lokalizované řetězce pro [zobrazení](https://docs.microsoft.com/aspnet/core).</span><span class="sxs-lookup"><span data-stu-id="a728a-141">The `IViewLocalizer` service provides localized strings for a [view](https://docs.microsoft.com/aspnet/core).</span></span> <span data-ttu-id="a728a-142">`ViewLocalizer` Třída implementuje toto rozhraní a vyhledá umístění prostředků z cesty k souboru zobrazení.</span><span class="sxs-lookup"><span data-stu-id="a728a-142">The `ViewLocalizer` class implements this interface and finds the resource location from the view file path.</span></span> <span data-ttu-id="a728a-143">Následující kód ukazuje, jak používat výchozí implementaci `IViewLocalizer`:</span><span class="sxs-lookup"><span data-stu-id="a728a-143">The following code shows how to use the default implementation of `IViewLocalizer`:</span></span>

[!code-cshtml[Main](localization/sample/Localization/Views/Home/About.cshtml)]

<span data-ttu-id="a728a-144">Výchozí implementaci `IViewLocalizer` vyhledá soubor prostředků na základě názvu souboru zobrazení.</span><span class="sxs-lookup"><span data-stu-id="a728a-144">The default implementation of `IViewLocalizer` finds the resource file based on the view's file name.</span></span> <span data-ttu-id="a728a-145">Neexistuje žádná možnost použít soubor globální sdílený prostředek.</span><span class="sxs-lookup"><span data-stu-id="a728a-145">There's no option to use a global shared resource file.</span></span> <span data-ttu-id="a728a-146">`ViewLocalizer`implementuje lokalizátora pomocí `IHtmlLocalizer`, takže není HTML Razor kódování lokalizovaný řetězec.</span><span class="sxs-lookup"><span data-stu-id="a728a-146">`ViewLocalizer` implements the localizer using `IHtmlLocalizer`, so Razor doesn't HTML encode the localized string.</span></span> <span data-ttu-id="a728a-147">Můžete parametrizovat řetězce prostředků a `IViewLocalizer` se použije kódování HTML parametry, ale není řetězec prostředku.</span><span class="sxs-lookup"><span data-stu-id="a728a-147">You can parameterize resource strings and `IViewLocalizer` will HTML encode the parameters, but not the resource string.</span></span> <span data-ttu-id="a728a-148">Vezměte v úvahu následující syntaxe Razor kód:</span><span class="sxs-lookup"><span data-stu-id="a728a-148">Consider the following Razor markup:</span></span>

```cshtml
@Localizer["<i>Hello</i> <b>{0}!</b>", UserManager.GetUserName(User)]
```

<span data-ttu-id="a728a-149">Soubor francouzštině prostředků může obsahovat následující:</span><span class="sxs-lookup"><span data-stu-id="a728a-149">A French resource file could contain the following:</span></span>

| <span data-ttu-id="a728a-150">Key</span><span class="sxs-lookup"><span data-stu-id="a728a-150">Key</span></span> | <span data-ttu-id="a728a-151">Hodnota</span><span class="sxs-lookup"><span data-stu-id="a728a-151">Value</span></span> |
| ----- | ------ |
| `<i>Hello</i> <b>{0}!</b>` | `<i>Bonjour</i> <b>{0} !</b> ` |

<span data-ttu-id="a728a-152">Vykreslené zobrazení bude obsahovat kód HTML ze zdrojového souboru.</span><span class="sxs-lookup"><span data-stu-id="a728a-152">The rendered view would contain the HTML markup from the resource file.</span></span>

<span data-ttu-id="a728a-153">**Poznámka:** chcete obecně pouze lokalizovat text a není ve formátu HTML.</span><span class="sxs-lookup"><span data-stu-id="a728a-153">**Note:** You generally want to only localize text and not HTML.</span></span>

<span data-ttu-id="a728a-154">Pokud chcete používat soubor sdílený prostředek v zobrazení, Vložit `IHtmlLocalizer<T>`:</span><span class="sxs-lookup"><span data-stu-id="a728a-154">To use a shared resource file in a view, inject `IHtmlLocalizer<T>`:</span></span>

[!code-cshtml[Main](../fundamentals/localization/sample/Localization/Views/Test/About.cshtml?highlight=5,12)]

## <a name="dataannotations-localization"></a><span data-ttu-id="a728a-155">Lokalizace DataAnnotations</span><span class="sxs-lookup"><span data-stu-id="a728a-155">DataAnnotations localization</span></span>

<span data-ttu-id="a728a-156">Lokalizace DataAnnotations chybové zprávy s `IStringLocalizer<T>`.</span><span class="sxs-lookup"><span data-stu-id="a728a-156">DataAnnotations error messages are localized with `IStringLocalizer<T>`.</span></span> <span data-ttu-id="a728a-157">Pomocí možnosti `ResourcesPath = "Resources"`, chyba zprávy v `RegisterViewModel` mohou být uloženy v některém z následujících cestách:</span><span class="sxs-lookup"><span data-stu-id="a728a-157">Using the option `ResourcesPath = "Resources"`, the error messages in `RegisterViewModel` can be stored in either of the following paths:</span></span>

* <span data-ttu-id="a728a-158">Resources/ViewModels.Account.RegisterViewModel.fr.resx</span><span class="sxs-lookup"><span data-stu-id="a728a-158">Resources/ViewModels.Account.RegisterViewModel.fr.resx</span></span>
* <span data-ttu-id="a728a-159">Resources/ViewModels/Account/RegisterViewModel.fr.resx</span><span class="sxs-lookup"><span data-stu-id="a728a-159">Resources/ViewModels/Account/RegisterViewModel.fr.resx</span></span>

[!code-csharp[Main](localization/sample/Localization/ViewModels/Account/RegisterViewModel.cs?start=9&end=26)]

<span data-ttu-id="a728a-160">Lokalizace v ASP.NET MVC základní 1.1.0 a vyšší, bez ověření atributy.</span><span class="sxs-lookup"><span data-stu-id="a728a-160">In ASP.NET Core MVC 1.1.0 and higher, non-validation attributes are localized.</span></span> <span data-ttu-id="a728a-161">Jádro ASP.NET MVC 1,0 nemá **není** vyhledávání lokalizovaných řetězců pro atributy bez ověření.</span><span class="sxs-lookup"><span data-stu-id="a728a-161">ASP.NET Core MVC 1.0 does **not** look up localized strings for non-validation attributes.</span></span>

<a name="one-resource-string-multiple-classes"></a>
### <a name="using-one-resource-string-for-multiple-classes"></a><span data-ttu-id="a728a-162">Pomocí jednoho řetězec prostředku pro několik tříd</span><span class="sxs-lookup"><span data-stu-id="a728a-162">Using one resource string for multiple classes</span></span>

<span data-ttu-id="a728a-163">Následující kód ukazuje, jak používat jeden řetězec prostředku pro ověření atributy s více tříd:</span><span class="sxs-lookup"><span data-stu-id="a728a-163">The following code shows how to use one resource string for validation attributes with multiple classes:</span></span>

```csharp
public void ConfigureServices(IServiceCollection services)
{
    services.AddMvc()
        .AddDataAnnotationsLocalization(options => {
            options.DataAnnotationLocalizerProvider = (type, factory) =>
                factory.Create(typeof(SharedResource));
        });
}
```

<span data-ttu-id="a728a-164">V kódu, který předchází `SharedResource` je třída odpovídající resx, kde jsou uložené ověřovacích zpráv.</span><span class="sxs-lookup"><span data-stu-id="a728a-164">In the preceeding code, `SharedResource` is the class corresponding to the resx where your validation messages are stored.</span></span> <span data-ttu-id="a728a-165">Při tomto postupu se bude používat jenom DataAnnotations `SharedResource`, namísto prostředků pro každou třídu.</span><span class="sxs-lookup"><span data-stu-id="a728a-165">With this approach, DataAnnotations will only use `SharedResource`, rather than the resource for each class.</span></span> 

## <a name="provide-localized-resources-for-the-languages-and-cultures-you-support"></a><span data-ttu-id="a728a-166">Zadejte lokalizované prostředky pro jazyků a kultur, které podporujete</span><span class="sxs-lookup"><span data-stu-id="a728a-166">Provide localized resources for the languages and cultures you support</span></span>  

### <a name="supportedcultures-and-supporteduicultures"></a><span data-ttu-id="a728a-167">SupportedCultures a SupportedUICultures</span><span class="sxs-lookup"><span data-stu-id="a728a-167">SupportedCultures and SupportedUICultures</span></span>

<span data-ttu-id="a728a-168">ASP.NET Core můžete zadat hodnoty dvou jazykové verze, `SupportedCultures` a `SupportedUICultures`.</span><span class="sxs-lookup"><span data-stu-id="a728a-168">ASP.NET Core allows you to specify two culture values, `SupportedCultures` and `SupportedUICultures`.</span></span> <span data-ttu-id="a728a-169">[CultureInfo](https://docs.microsoft.com/dotnet/api/system.globalization.cultureinfo) objekt pro `SupportedCultures` určuje výsledky funkcí závislých na jazykové verzi, jako je například datum, čas, číslo a formátování měny.</span><span class="sxs-lookup"><span data-stu-id="a728a-169">The [CultureInfo](https://docs.microsoft.com/dotnet/api/system.globalization.cultureinfo) object for `SupportedCultures` determines the results of culture-dependent functions, such as date, time, number, and currency formatting.</span></span> <span data-ttu-id="a728a-170">`SupportedCultures`také určuje pořadí řazení textu, konvence velká a malá písmena a porovnání řetězců.</span><span class="sxs-lookup"><span data-stu-id="a728a-170">`SupportedCultures` also determines the sorting order of text, casing conventions, and string comparisons.</span></span> <span data-ttu-id="a728a-171">V tématu [CultureInfo.CurrentCulture](https://docs.microsoft.com/dotnet/api/system.stringcomparer.currentculture#System_StringComparer_CurrentCulture) Další informace o tom, jak server získá jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="a728a-171">See [CultureInfo.CurrentCulture](https://docs.microsoft.com/dotnet/api/system.stringcomparer.currentculture#System_StringComparer_CurrentCulture) for more info on how the server gets the Culture.</span></span> <span data-ttu-id="a728a-172">`SupportedUICultures` Určuje, který překládá řetězce (z *RESX* soubory) jsou vyhledávat pomocí [ResourceManager](https://docs.microsoft.com/dotnet/api/system.resources.resourcemanager).</span><span class="sxs-lookup"><span data-stu-id="a728a-172">The `SupportedUICultures` determines which translates strings (from *.resx* files) are looked up by the [ResourceManager](https://docs.microsoft.com/dotnet/api/system.resources.resourcemanager).</span></span> <span data-ttu-id="a728a-173">`ResourceManager` Jednoduše vyhledá specifické pro jazykovou verzi řetězce, které je dáno `CurrentUICulture`.</span><span class="sxs-lookup"><span data-stu-id="a728a-173">The `ResourceManager` simply looks up culture-specific strings that's determined by `CurrentUICulture`.</span></span> <span data-ttu-id="a728a-174">Každé vlákno v rozhraní .NET má `CurrentCulture` a `CurrentUICulture` objekty.</span><span class="sxs-lookup"><span data-stu-id="a728a-174">Every thread in .NET has `CurrentCulture` and `CurrentUICulture` objects.</span></span> <span data-ttu-id="a728a-175">ASP.NET Core zkontroluje tyto hodnoty při vykreslování funkcí závislých na jazykové verzi.</span><span class="sxs-lookup"><span data-stu-id="a728a-175">ASP.NET Core inspects these values when rendering culture-dependent functions.</span></span> <span data-ttu-id="a728a-176">Pokud jazykové verze aktuálního vlákna je nastavena na "en US" (angličtina, USA), například `DateTime.Now.ToLongDateString()` zobrazí "Čtvrtek, února 18 2016", ale pokud `CurrentCulture` je nastaven na "es-ES" (španělština, Španělsko) bude výstup "jueves, de smluvních 18 de 2016".</span><span class="sxs-lookup"><span data-stu-id="a728a-176">For example, if the current thread's culture is set to "en-US" (English, United States), `DateTime.Now.ToLongDateString()` displays "Thursday, February 18, 2016", but if `CurrentCulture` is set to "es-ES" (Spanish, Spain) the output will be "jueves, 18 de febrero de 2016".</span></span>

## <a name="resource-files"></a><span data-ttu-id="a728a-177">Soubory prostředků</span><span class="sxs-lookup"><span data-stu-id="a728a-177">Resource files</span></span>

<span data-ttu-id="a728a-178">Soubor prostředků je užitečné mechanismus pro oddělení lokalizovatelný řetězce z kódu.</span><span class="sxs-lookup"><span data-stu-id="a728a-178">A resource file is a useful mechanism for separating localizable strings from code.</span></span> <span data-ttu-id="a728a-179">Přeložené řetězce pro jiné než výchozí jazyk izolují *RESX* soubory prostředků.</span><span class="sxs-lookup"><span data-stu-id="a728a-179">Translated strings for the non-default language are isolated *.resx* resource files.</span></span> <span data-ttu-id="a728a-180">Například můžete chtít vytvořit španělské zdrojový soubor s názvem *Welcome.es.resx* obsahující přeložit řetězce.</span><span class="sxs-lookup"><span data-stu-id="a728a-180">For example, you might want to create Spanish resource file named *Welcome.es.resx* containing translated strings.</span></span> <span data-ttu-id="a728a-181">"es" je kód jazyka pro španělštinu.</span><span class="sxs-lookup"><span data-stu-id="a728a-181">"es" is the language code for Spanish.</span></span> <span data-ttu-id="a728a-182">K vytvoření tohoto souboru prostředků v sadě Visual Studio:</span><span class="sxs-lookup"><span data-stu-id="a728a-182">To create this resource file in Visual Studio:</span></span>

1. <span data-ttu-id="a728a-183">V **Průzkumníku řešení**, klikněte pravým tlačítkem na složku, která bude obsahovat soubor prostředků > **přidat** > **novou položku**.</span><span class="sxs-lookup"><span data-stu-id="a728a-183">In **Solution Explorer**, right click on the folder which will contain the resource file > **Add** > **New Item**.</span></span>

    ![Vnořené kontextové nabídky: V Průzkumníku řešení Kontextová nabídka je otevřen pro prostředky.](localization/_static/newi.png)

2. <span data-ttu-id="a728a-186">V **vyhledávání – nainstalované šablony** zadejte "prostředek" a název souboru.</span><span class="sxs-lookup"><span data-stu-id="a728a-186">In the **Search installed templates** box, enter "resource" and name the file.</span></span>

    ![Přidat novou položku – dialogové okno](localization/_static/res.png)

3. <span data-ttu-id="a728a-188">Zadejte hodnotu klíče (nativní string) **název** sloupce a přeložené řetězce v **hodnotu** sloupce.</span><span class="sxs-lookup"><span data-stu-id="a728a-188">Enter the key value (native string) in the **Name** column and the translated string in the **Value** column.</span></span>

    ![Welcome.ES.resx soubor (soubor úvodní prostředků pro španělštinu) slovem Hello ve sloupci Název a word Hola (Hello ve španělštině) ve sloupci Hodnota](localization/_static/hola.png)

    <span data-ttu-id="a728a-190">Visual Studio zobrazí *Welcome.es.resx* souboru.</span><span class="sxs-lookup"><span data-stu-id="a728a-190">Visual Studio shows the *Welcome.es.resx* file.</span></span>

    ![Průzkumník řešení zobrazující souboru prostředků úvodní Španělština (es)](localization/_static/se.png)

<a name="error"></a>

<span data-ttu-id="a728a-192">Pokud používáte verzi sady Visual Studio 2017 Preview 15.3, získáte v editoru prostředků indikátor chyby.</span><span class="sxs-lookup"><span data-stu-id="a728a-192">If you are using Visual Studio 2017 Preview version 15.3, you'll get an error indicator in the resource editor.</span></span> <span data-ttu-id="a728a-193">Odeberte *ResXFileCodeGenerator* z hodnoty *Custom Tool* mřížky vlastnosti, aby se tato chybová zpráva:</span><span class="sxs-lookup"><span data-stu-id="a728a-193">Remove the *ResXFileCodeGenerator*  value from the *Custom Tool* properties grid to prevent this error message:</span></span>

![Resx editoru](localization/_static/err.png)

<span data-ttu-id="a728a-195">Alternativně můžete tuto chybu ignorovat.</span><span class="sxs-lookup"><span data-stu-id="a728a-195">Alternatively, you can ignore this error.</span></span> <span data-ttu-id="a728a-196">Věříme, chcete-li v příští verzi.</span><span class="sxs-lookup"><span data-stu-id="a728a-196">We hope to fix this in the next release.</span></span>

## <a name="resource-file-naming"></a><span data-ttu-id="a728a-197">Pojmenovávání souborů prostředků</span><span class="sxs-lookup"><span data-stu-id="a728a-197">Resource file naming</span></span>

<span data-ttu-id="a728a-198">Prostředky jsou pojmenované pro název úplné typu jejich třídy minus název sestavení.</span><span class="sxs-lookup"><span data-stu-id="a728a-198">Resources are named for the full type name of their class minus the assembly name.</span></span> <span data-ttu-id="a728a-199">Například francouzštině prostředků v projektu, jehož hlavní sestavení `LocalizationWebsite.Web.dll` pro třídu `LocalizationWebsite.Web.Startup` by se jmenovala *Startup.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="a728a-199">For example, a French resource in a project whose main assembly is `LocalizationWebsite.Web.dll` for the class `LocalizationWebsite.Web.Startup` would be named *Startup.fr.resx*.</span></span> <span data-ttu-id="a728a-200">Prostředek pro třídu `LocalizationWebsite.Web.Controllers.HomeController` by se jmenovala *Controllers.HomeController.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="a728a-200">A resource for the class `LocalizationWebsite.Web.Controllers.HomeController` would be named *Controllers.HomeController.fr.resx*.</span></span> <span data-ttu-id="a728a-201">Pokud cílovou třídu oboru názvů není stejný jako název sestavení je nutné název úplné typu.</span><span class="sxs-lookup"><span data-stu-id="a728a-201">If your targeted class's namespace isn't the same as the assembly name you will need the full type name.</span></span> <span data-ttu-id="a728a-202">Například v ukázkovém projektu prostředků pro typ `ExtraNamespace.Tools` by se jmenovala *ExtraNamespace.Tools.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="a728a-202">For example, in the sample project a resource for the type `ExtraNamespace.Tools` would be named *ExtraNamespace.Tools.fr.resx*.</span></span>

<span data-ttu-id="a728a-203">V ukázkovém projektu `ConfigureServices` metoda nastaví `ResourcesPath` "Zdroje", takže projektu relativní cesta k souboru francouzštině prostředek domovské řadičem je *Resources/Controllers.HomeController.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="a728a-203">In the sample project, the `ConfigureServices` method sets the `ResourcesPath` to "Resources", so the project relative path for the home controller's French resource file is *Resources/Controllers.HomeController.fr.resx*.</span></span> <span data-ttu-id="a728a-204">Složky můžete alternativně použít k uspořádání souborů prostředků.</span><span class="sxs-lookup"><span data-stu-id="a728a-204">Alternatively, you can use folders to organize resource files.</span></span> <span data-ttu-id="a728a-205">Pro domácí řadič, cesta bude *Resources/Controllers/HomeController.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="a728a-205">For the home controller, the path would be *Resources/Controllers/HomeController.fr.resx*.</span></span> <span data-ttu-id="a728a-206">Pokud nepoužijete `ResourcesPath` možnost, *RESX* by se dostala soubor v adresáři základní projektu.</span><span class="sxs-lookup"><span data-stu-id="a728a-206">If you don't use the `ResourcesPath` option, the *.resx* file would go in the project base directory.</span></span> <span data-ttu-id="a728a-207">Soubor prostředků pro `HomeController` by se jmenovala *Controllers.HomeController.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="a728a-207">The resource file for `HomeController` would be named *Controllers.HomeController.fr.resx*.</span></span> <span data-ttu-id="a728a-208">Možnost použití tečky nebo cesta zásady vytváření názvů závisí na tom, jak chcete uspořádání souborů prostředků.</span><span class="sxs-lookup"><span data-stu-id="a728a-208">The choice of using the dot or path naming convention depends on how you want to organize your resource files.</span></span>

| <span data-ttu-id="a728a-209">Název prostředku</span><span class="sxs-lookup"><span data-stu-id="a728a-209">Resource name</span></span> | <span data-ttu-id="a728a-210">Tečky nebo názvů cest</span><span class="sxs-lookup"><span data-stu-id="a728a-210">Dot or path naming</span></span> |
| ------------   | ------------- |
| <span data-ttu-id="a728a-211">Resources/Controllers.HomeController.fr.resx</span><span class="sxs-lookup"><span data-stu-id="a728a-211">Resources/Controllers.HomeController.fr.resx</span></span> | <span data-ttu-id="a728a-212">Tečka</span><span class="sxs-lookup"><span data-stu-id="a728a-212">Dot</span></span>  |
| <span data-ttu-id="a728a-213">Resources/Controllers/HomeController.fr.resx</span><span class="sxs-lookup"><span data-stu-id="a728a-213">Resources/Controllers/HomeController.fr.resx</span></span>  | <span data-ttu-id="a728a-214">Cesta</span><span class="sxs-lookup"><span data-stu-id="a728a-214">Path</span></span> |
|    |     |

<span data-ttu-id="a728a-215">Soubory prostředků pomocí `@inject IViewLocalizer` v zobrazení syntaxe Razor podle podobný Princip.</span><span class="sxs-lookup"><span data-stu-id="a728a-215">Resource files using `@inject IViewLocalizer` in Razor views follow a similar pattern.</span></span> <span data-ttu-id="a728a-216">Soubor prostředků pro zobrazení může mít název pomocí pojmenování tečkou nebo názvů cest.</span><span class="sxs-lookup"><span data-stu-id="a728a-216">The resource file for a view can be named using either dot naming or path naming.</span></span> <span data-ttu-id="a728a-217">Soubory prostředků zobrazení syntaxe Razor napodobovat cestu k souboru jejich přidružené zobrazení.</span><span class="sxs-lookup"><span data-stu-id="a728a-217">Razor view resource files mimic the path of their associated view file.</span></span> <span data-ttu-id="a728a-218">Za předpokladu, že nastaví `ResourcesPath` Chcete-li "Zdroje", soubor francouzštině prostředků související s *Views/Home/About.cshtml* zobrazení může být buď z následujících akcí:</span><span class="sxs-lookup"><span data-stu-id="a728a-218">Assuming we set the `ResourcesPath` to "Resources", the French resource file associated with the *Views/Home/About.cshtml* view could be either of the following:</span></span>

* <span data-ttu-id="a728a-219">Resources/Views/Home/About.fr.resx</span><span class="sxs-lookup"><span data-stu-id="a728a-219">Resources/Views/Home/About.fr.resx</span></span>

* <span data-ttu-id="a728a-220">Resources/Views.Home.About.fr.resx</span><span class="sxs-lookup"><span data-stu-id="a728a-220">Resources/Views.Home.About.fr.resx</span></span>

<span data-ttu-id="a728a-221">Pokud nepoužijete `ResourcesPath` možnost, *RESX* soubor pro zobrazení by nacházet ve stejné složce jako zobrazení.</span><span class="sxs-lookup"><span data-stu-id="a728a-221">If you don't use the `ResourcesPath` option, the *.resx* file for a view would be located in the same folder as the view.</span></span>

## <a name="culture-fallback-behavior"></a><span data-ttu-id="a728a-222">Chování záložní jazykovou verzi</span><span class="sxs-lookup"><span data-stu-id="a728a-222">Culture fallback behavior</span></span>

<span data-ttu-id="a728a-223">Jako příklad Pokud odeberete označení culture ".fr" a budete mít jazykové verze nastavte na francouzštinu, výchozí soubor prostředků je pro čtení a jsou lokalizované řetězce.</span><span class="sxs-lookup"><span data-stu-id="a728a-223">As an example, if you remove the ".fr" culture designator and you have the culture set to French, the default resource file is read and strings are localized.</span></span> <span data-ttu-id="a728a-224">Správce prostředků označí výchozí nebo záložní prostředku pro Pokud nic splňuje vaše požadovanou jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="a728a-224">The Resource manager designates a default or fallback resource for when nothing meets your requested culture.</span></span> <span data-ttu-id="a728a-225">Pokud chcete právě vracet klíč chybí prostředek pro požadovanou jazykovou verzi můžete nesmí mít výchozí soubor prostředků.</span><span class="sxs-lookup"><span data-stu-id="a728a-225">If you want to just return the key when missing a resource for the requested culture you must not have a default resource file.</span></span>

### <a name="generate-resource-files-with-visual-studio"></a><span data-ttu-id="a728a-226">Generovat soubory prostředků pomocí sady Visual Studio</span><span class="sxs-lookup"><span data-stu-id="a728a-226">Generate resource files with Visual Studio</span></span>

<span data-ttu-id="a728a-227">Pokud vytvoříte soubor prostředků v sadě Visual Studio bez jazykové verzi v názvu souboru (například *Welcome.resx*), s vlastností pro každý řetězec třída C# vytvoří sada Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a728a-227">If you create a resource file in Visual Studio without a culture in the file name (for example, *Welcome.resx*), Visual Studio will create a C# class with a property for each string.</span></span> <span data-ttu-id="a728a-228">Který je obvykle není co chcete s ASP.NET Core; Obvykle nebudete mít výchozí *RESX* souboru prostředků (A *RESX* soubor bez název jazykové verze).</span><span class="sxs-lookup"><span data-stu-id="a728a-228">That's usually not what you want with ASP.NET Core; you typically don't have a default *.resx* resource file (A *.resx* file without the culture name).</span></span> <span data-ttu-id="a728a-229">Doporučujeme vám vytvořit *RESX* soubor s názvem jazykové verze (například *Welcome.fr.resx*).</span><span class="sxs-lookup"><span data-stu-id="a728a-229">We suggest you create the *.resx* file with a culture name (for example *Welcome.fr.resx*).</span></span> <span data-ttu-id="a728a-230">Při vytváření *RESX* soubor s názvem jazykovou verzi sady Visual Studio nebude generovat soubor třídy.</span><span class="sxs-lookup"><span data-stu-id="a728a-230">When you create a *.resx* file with a culture name, Visual Studio won't generate the class file.</span></span> <span data-ttu-id="a728a-231">Očekáváme, že se celá řada vývojářů **není** vytvořte soubor výchozí jazyk prostředků.</span><span class="sxs-lookup"><span data-stu-id="a728a-231">We anticipate that many developers will **not** create a default language resource file.</span></span>

### <a name="add-other-cultures"></a><span data-ttu-id="a728a-232">Přidání nových jazykových verzí</span><span class="sxs-lookup"><span data-stu-id="a728a-232">Add Other Cultures</span></span>

<span data-ttu-id="a728a-233">Každá kombinace jazyka a jazykovou verzi (jiné než výchozí jazyk) vyžaduje jedinečný soubor prostředků.</span><span class="sxs-lookup"><span data-stu-id="a728a-233">Each language and culture combination (other than the default language) requires a unique resource file.</span></span> <span data-ttu-id="a728a-234">Soubory prostředků jiných jazykových verzí a národní prostředí vytvoříte tak, že vytvoříte nové soubory prostředků, ve kterých jsou ISO kód jazyka součástí názvu souboru (například **en-us**, **fr-ca**, a  **en-gb**).</span><span class="sxs-lookup"><span data-stu-id="a728a-234">You create resource files for different cultures and locales by creating new resource files in which the ISO language codes are part of the file name (for example, **en-us**, **fr-ca**, and **en-gb**).</span></span> <span data-ttu-id="a728a-235">Tyto kódy ISO jsou umístěny mezi název souboru a *RESX* souboru příponu názvu, jako v *Welcome.es MX.resx* (španělština/Mexico).</span><span class="sxs-lookup"><span data-stu-id="a728a-235">These ISO codes are placed between the file name and the *.resx* file name extension, as in *Welcome.es-MX.resx* (Spanish/Mexico).</span></span> <span data-ttu-id="a728a-236">Chcete-li zadat neutrální jazyk, odeberte kód země (`MX` v předchozím příkladu).</span><span class="sxs-lookup"><span data-stu-id="a728a-236">To specify a culturally neutral language, remove the country code (`MX` in the preceding example).</span></span> <span data-ttu-id="a728a-237">Název souboru jazykově neutrální španělské prostředku je *Welcome.es.resx*.</span><span class="sxs-lookup"><span data-stu-id="a728a-237">The culturally neutral Spanish resource file name is *Welcome.es.resx*.</span></span>

## <a name="implement-a-strategy-to-select-the-languageculture-for-each-request"></a><span data-ttu-id="a728a-238">Implementace strategie pro vyberte jazyk nebo jazykovou verzi pro každý požadavek</span><span class="sxs-lookup"><span data-stu-id="a728a-238">Implement a strategy to select the language/culture for each request</span></span>  

### <a name="configure-localization"></a><span data-ttu-id="a728a-239">Konfigurace lokalizace</span><span class="sxs-lookup"><span data-stu-id="a728a-239">Configure localization</span></span>

<span data-ttu-id="a728a-240">Lokalizace je nakonfigurovaný v `ConfigureServices` metoda:</span><span class="sxs-lookup"><span data-stu-id="a728a-240">Localization is configured in the `ConfigureServices` method:</span></span>

[!code-csharp[Main](localization/sample/Localization/Program.cs?name=snippet1)]

* <span data-ttu-id="a728a-241">`AddLocalization`Přidá službu lokalizaci ke kontejneru služby.</span><span class="sxs-lookup"><span data-stu-id="a728a-241">`AddLocalization` Adds the localization services to the services container.</span></span> <span data-ttu-id="a728a-242">Kód výše také nastaví prostředky cesta k "Zdroje".</span><span class="sxs-lookup"><span data-stu-id="a728a-242">The code above also sets the resources path to "Resources".</span></span>

* <span data-ttu-id="a728a-243">`AddViewLocalization`Přidává podporu pro lokalizované zobrazit soubory.</span><span class="sxs-lookup"><span data-stu-id="a728a-243">`AddViewLocalization` Adds support for localized view files.</span></span> <span data-ttu-id="a728a-244">V této ukázkové zobrazení lokalizace založen na příponě souboru zobrazení.</span><span class="sxs-lookup"><span data-stu-id="a728a-244">In this sample view localization is based on the view file suffix.</span></span> <span data-ttu-id="a728a-245">Například "fr" v *Index.fr.cshtml* souboru.</span><span class="sxs-lookup"><span data-stu-id="a728a-245">For example "fr" in the *Index.fr.cshtml* file.</span></span>

* <span data-ttu-id="a728a-246">`AddDataAnnotationsLocalization`Přidává podporu pro lokalizované `DataAnnotations` ověření zprávy prostřednictvím `IStringLocalizer` abstrakce.</span><span class="sxs-lookup"><span data-stu-id="a728a-246">`AddDataAnnotationsLocalization` Adds support for localized `DataAnnotations` validation messages through `IStringLocalizer` abstractions.</span></span>

### <a name="localization-middleware"></a><span data-ttu-id="a728a-247">Lokalizace middlewaru</span><span class="sxs-lookup"><span data-stu-id="a728a-247">Localization middleware</span></span>

<span data-ttu-id="a728a-248">Aktuální jazykovou verzi na vyžádání je nastavena v lokalizace [Middleware](middleware.md).</span><span class="sxs-lookup"><span data-stu-id="a728a-248">The current culture on a request is set in the localization [Middleware](middleware.md).</span></span> <span data-ttu-id="a728a-249">Lokalizace middlewaru je povolena v `Configure` metodu *Program.cs* souboru.</span><span class="sxs-lookup"><span data-stu-id="a728a-249">The localization middleware is enabled in the `Configure` method of *Program.cs* file.</span></span> <span data-ttu-id="a728a-250">Všimněte si, lokalizace middleware musí být nakonfigurovaná před veškerý middleware, která může kontrola jazyková verze požadavku (například `app.UseMvcWithDefaultRoute()`).</span><span class="sxs-lookup"><span data-stu-id="a728a-250">Note, the localization middleware must be configured before any middleware which might check the request culture (for example, `app.UseMvcWithDefaultRoute()`).</span></span>

[!code-csharp[Main](localization/sample/Localization/Program.cs?name=snippet2)]

<span data-ttu-id="a728a-251">`UseRequestLocalization`inicializuje `RequestLocalizationOptions` objektu.</span><span class="sxs-lookup"><span data-stu-id="a728a-251">`UseRequestLocalization` initializes a `RequestLocalizationOptions` object.</span></span> <span data-ttu-id="a728a-252">U každého požadavku seznamu z `RequestCultureProvider` v `RequestLocalizationOptions` je výčet a první zprostředkovatele, který můžete určit úspěšně jazykovou verzi požadavku se používá.</span><span class="sxs-lookup"><span data-stu-id="a728a-252">On every request the list of `RequestCultureProvider` in the `RequestLocalizationOptions` is enumerated and the first provider that can successfully determine the request culture is used.</span></span> <span data-ttu-id="a728a-253">Výchozí zprostředkovatele pocházet z `RequestLocalizationOptions` třídy:</span><span class="sxs-lookup"><span data-stu-id="a728a-253">The default providers come from the `RequestLocalizationOptions` class:</span></span>

1. `QueryStringRequestCultureProvider`
2. `CookieRequestCultureProvider`
3. `AcceptLanguageHeaderRequestCultureProvider`

<span data-ttu-id="a728a-254">Výchozím seznamu přejde od nejvíce po nejméně specifická.</span><span class="sxs-lookup"><span data-stu-id="a728a-254">The default list goes from most specific to least specific.</span></span> <span data-ttu-id="a728a-255">Později v článku uvidíme, jak můžete změnit pořadí a dokonce přidat vlastní jazykové verze zprostředkovatele.</span><span class="sxs-lookup"><span data-stu-id="a728a-255">Later in the article we'll see how you can change the order and even add a custom culture provider.</span></span> <span data-ttu-id="a728a-256">Pokud žádná z zprostředkovatele můžete určit, k žádosti o jazykové verzi, `DefaultRequestCulture` se používá.</span><span class="sxs-lookup"><span data-stu-id="a728a-256">If none of the providers can determine the request culture, the `DefaultRequestCulture` is used.</span></span>

### <a name="querystringrequestcultureprovider"></a><span data-ttu-id="a728a-257">QueryStringRequestCultureProvider</span><span class="sxs-lookup"><span data-stu-id="a728a-257">QueryStringRequestCultureProvider</span></span>

<span data-ttu-id="a728a-258">Některé aplikace bude používat řetězec dotazu nastavit [jazykovou verzi a jazyková verze uživatelského rozhraní](https://msdn.microsoft.com/library/system.globalization.cultureinfo.aspx).</span><span class="sxs-lookup"><span data-stu-id="a728a-258">Some apps will use a query string to set the [culture and UI culture](https://msdn.microsoft.com/library/system.globalization.cultureinfo.aspx).</span></span> <span data-ttu-id="a728a-259">Pro aplikace, které používají soubor cookie nebo přístup hlavičky Accept-Language přidání na adresu URL, řetězec dotazu je vhodný pro ladění a testování kódu.</span><span class="sxs-lookup"><span data-stu-id="a728a-259">For apps that use the cookie or Accept-Language header approach, adding a query string to the URL is useful for debugging and testing code.</span></span> <span data-ttu-id="a728a-260">Ve výchozím nastavení `QueryStringRequestCultureProvider` je registrován jako první lokalizace zprostředkovatele v `RequestCultureProvider` seznamu.</span><span class="sxs-lookup"><span data-stu-id="a728a-260">By default, the `QueryStringRequestCultureProvider` is registered as the first localization provider in the `RequestCultureProvider` list.</span></span> <span data-ttu-id="a728a-261">Předávání parametrů řetězce dotazu `culture` a `ui-culture`.</span><span class="sxs-lookup"><span data-stu-id="a728a-261">You pass the query string parameters `culture` and `ui-culture`.</span></span> <span data-ttu-id="a728a-262">Následující příklad nastaví Španělština/Mexico konkrétní jazykové verze (jazyk a oblast):</span><span class="sxs-lookup"><span data-stu-id="a728a-262">The following example sets the specific culture (language and region) to Spanish/Mexico:</span></span>

   `http://localhost:5000/?culture=es-MX&ui-culture=es-MX`

<span data-ttu-id="a728a-263">Pokud předáte pouze v jednom ze dvou (`culture` nebo `ui-culture`), nastaví obě hodnoty pomocí jeden, je předaná zprostředkovateli řetězec dotazu.</span><span class="sxs-lookup"><span data-stu-id="a728a-263">If you only pass in one of the two (`culture` or `ui-culture`), the query string provider will set both values using the one you passed in.</span></span> <span data-ttu-id="a728a-264">Například nastavit právě jazykovou verzi nastaví i `Culture` a `UICulture`:</span><span class="sxs-lookup"><span data-stu-id="a728a-264">For example, setting just the culture will set both the `Culture` and the `UICulture`:</span></span>

   `http://localhost:5000/?culture=es-MX`

### <a name="cookierequestcultureprovider"></a><span data-ttu-id="a728a-265">CookieRequestCultureProvider</span><span class="sxs-lookup"><span data-stu-id="a728a-265">CookieRequestCultureProvider</span></span>

<span data-ttu-id="a728a-266">Produkční aplikace bude často poskytují mechanismus nastavit jazykovou verzi pomocí souboru cookie jazykovou verzi ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="a728a-266">Production apps will often provide a mechanism to set the culture with the ASP.NET Core culture cookie.</span></span> <span data-ttu-id="a728a-267">Použití `MakeCookieValue` metodu pro vytvoření souboru cookie.</span><span class="sxs-lookup"><span data-stu-id="a728a-267">Use the `MakeCookieValue` method to create a cookie.</span></span>

<span data-ttu-id="a728a-268">`CookieRequestCultureProvider` `DefaultCookieName` Vrátí výchozí název souboru cookie použít ke sledování uživatel upřednostňované jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="a728a-268">The `CookieRequestCultureProvider` `DefaultCookieName` returns the default cookie name used to track the user’s preferred culture information.</span></span> <span data-ttu-id="a728a-269">Výchozí název souboru cookie je ". AspNetCore.Culture".</span><span class="sxs-lookup"><span data-stu-id="a728a-269">The default cookie  name is ".AspNetCore.Culture".</span></span>

<span data-ttu-id="a728a-270">Formát souboru cookie je `c=%LANGCODE%|uic=%LANGCODE%`, kde `c` je `Culture` a `uic` je `UICulture`, například:</span><span class="sxs-lookup"><span data-stu-id="a728a-270">The cookie format is `c=%LANGCODE%|uic=%LANGCODE%`, where `c` is `Culture` and `uic` is `UICulture`, for example:</span></span>

    c=en-UK|uic=en-US

<span data-ttu-id="a728a-271">Pokud zadáte jenom jeden z informace o jazykové a jazyková verze uživatelského rozhraní, použije se zadanou jazykovou verzi pro informace o jazykové a jazyková verze uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="a728a-271">If you only specify one of culture info and UI culture, the specified culture will be used for both culture info and UI culture.</span></span>

### <a name="the-accept-language-http-header"></a><span data-ttu-id="a728a-272">Hlavička Accept-Language HTTP</span><span class="sxs-lookup"><span data-stu-id="a728a-272">The Accept-Language HTTP header</span></span>

<span data-ttu-id="a728a-273">[Hlavičky Accept-Language](https://www.w3.org/International/questions/qa-accept-lang-locales) je možné nastavit v většina prohlížečů a byl původně určený k zadejte jazyk pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="a728a-273">The [Accept-Language header](https://www.w3.org/International/questions/qa-accept-lang-locales) is settable in most browsers and was originally intended to specify the user's language.</span></span> <span data-ttu-id="a728a-274">Toto nastavení určuje, co prohlížeče byla nastavena k odeslání, nebo dědí ze základního operačního systému.</span><span class="sxs-lookup"><span data-stu-id="a728a-274">This setting indicates what the browser has been set to send or has inherited from the underlying operating system.</span></span> <span data-ttu-id="a728a-275">Hlavičku Accept-Language HTTP z prohlížeče požadavku není spolehlivý způsob zjistit upřednostňovaný jazyk uživatele (viz [nastavení jazykové předvolby v prohlížeči](https://www.w3.org/International/questions/qa-lang-priorities.en.php)).</span><span class="sxs-lookup"><span data-stu-id="a728a-275">The Accept-Language HTTP header from a browser request isn't an infallible way to detect the user's preferred language (see [Setting language preferences in a browser](https://www.w3.org/International/questions/qa-lang-priorities.en.php)).</span></span> <span data-ttu-id="a728a-276">Produkční aplikace by měla obsahovat způsob, jak uživatelům přizpůsobit si sami vyberou jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="a728a-276">A production app should include a way for a user to customize their choice of culture.</span></span>

### <a name="set-the-accept-language-http-header-in-ie"></a><span data-ttu-id="a728a-277">Nastavit hlavičku Accept-Language HTTP v aplikaci Internet Explorer</span><span class="sxs-lookup"><span data-stu-id="a728a-277">Set the Accept-Language HTTP header in IE</span></span>

1. <span data-ttu-id="a728a-278">V zařízeních ikonu, klepněte na **Možnosti Internetu**.</span><span class="sxs-lookup"><span data-stu-id="a728a-278">From the gear icon, tap **Internet Options**.</span></span>

2. <span data-ttu-id="a728a-279">Klepněte na **jazyky**.</span><span class="sxs-lookup"><span data-stu-id="a728a-279">Tap **Languages**.</span></span>

    ![Možnosti Internetu](localization/_static/lang.png)

3. <span data-ttu-id="a728a-281">Klepněte na **nastavit předvolby jazyka**.</span><span class="sxs-lookup"><span data-stu-id="a728a-281">Tap **Set Language Preferences**.</span></span>

4. <span data-ttu-id="a728a-282">Klepněte na **přidat jazyk**.</span><span class="sxs-lookup"><span data-stu-id="a728a-282">Tap **Add a language**.</span></span>

5. <span data-ttu-id="a728a-283">Přidáte jazyk.</span><span class="sxs-lookup"><span data-stu-id="a728a-283">Add the language.</span></span>

6. <span data-ttu-id="a728a-284">Klepněte na jazyk a potom klepněte na **nahoru**.</span><span class="sxs-lookup"><span data-stu-id="a728a-284">Tap the language, then tap **Move Up**.</span></span>

### <a name="use-a-custom-provider"></a><span data-ttu-id="a728a-285">Použití vlastního zprostředkovatele</span><span class="sxs-lookup"><span data-stu-id="a728a-285">Use a custom provider</span></span>

<span data-ttu-id="a728a-286">Předpokládejme, že chcete zákazníkům ukládat jejich jazyce a jazykové verzi v databázích máte.</span><span class="sxs-lookup"><span data-stu-id="a728a-286">Suppose you want to let your customers store their language and culture in your databases.</span></span> <span data-ttu-id="a728a-287">Můžete napsat zprostředkovatele k vyhledání tyto hodnoty pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="a728a-287">You could write a provider to look up these values for the user.</span></span> <span data-ttu-id="a728a-288">Následující kód ukazuje, jak přidat vlastního zprostředkovatele:</span><span class="sxs-lookup"><span data-stu-id="a728a-288">The following code shows how to add a custom provider:</span></span>

```csharp
private const string enUSCulture = "en-US";

services.Configure<RequestLocalizationOptions>(options =>
{
    var supportedCultures = new[]
    {
        new CultureInfo(enUSCulture),
        new CultureInfo("fr")
    };

    options.DefaultRequestCulture = new RequestCulture(culture: enUSCulture, uiCulture: enUSCulture);
    options.SupportedCultures = supportedCultures;
    options.SupportedUICultures = supportedCultures;

    options.RequestCultureProviders.Insert(0, new CustomRequestCultureProvider(async context =>
    {
        // My custom request culture logic
        return new ProviderCultureResult("en");
    }));
});
```

<span data-ttu-id="a728a-289">Použití `RequestLocalizationOptions` chcete přidat nebo odebrat lokalizace zprostředkovatele.</span><span class="sxs-lookup"><span data-stu-id="a728a-289">Use `RequestLocalizationOptions` to add or remove localization providers.</span></span>

### <a name="set-the-culture-programmatically"></a><span data-ttu-id="a728a-290">Nastavit jazykovou verzi prostřednictvím kódu programu</span><span class="sxs-lookup"><span data-stu-id="a728a-290">Set the culture programmatically</span></span>

<span data-ttu-id="a728a-291">Tato ukázka **Localization.StarterWeb** projektu na [Githubu](https://github.com/aspnet/entropy) obsahuje uživatelského rozhraní nastavit `Culture`.</span><span class="sxs-lookup"><span data-stu-id="a728a-291">This sample **Localization.StarterWeb** project on [GitHub](https://github.com/aspnet/entropy) contains UI to set the `Culture`.</span></span> <span data-ttu-id="a728a-292">*Views/Shared/_SelectLanguagePartial.cshtml* souboru můžete vybrat ze seznamu podporovaných jazykových verzí jazyková verze:</span><span class="sxs-lookup"><span data-stu-id="a728a-292">The *Views/Shared/_SelectLanguagePartial.cshtml* file allows you to select the culture from the list of supported cultures:</span></span>

[!code-cshtml[Main](localization/sample/Localization/Views/Shared/_SelectLanguagePartial.cshtml)]

<span data-ttu-id="a728a-293">*Views/Shared/_SelectLanguagePartial.cshtml* se přidá soubor `footer` rozložení souboru, bude k dispozici u všech zobrazení:</span><span class="sxs-lookup"><span data-stu-id="a728a-293">The *Views/Shared/_SelectLanguagePartial.cshtml* file is added to the `footer` section of the layout file so it will be available to all views:</span></span>

[!code-cshtml[Main](localization/sample/Localization/Views/Shared/_Layout.cshtml?range=43-56&highlight=10)]

<span data-ttu-id="a728a-294">`SetLanguage` Metoda nastaví jazykovou verzi souboru cookie.</span><span class="sxs-lookup"><span data-stu-id="a728a-294">The `SetLanguage` method sets the culture cookie.</span></span>

[!code-csharp[Main](localization/sample/Localization/Controllers/HomeController.cs?range=57-67)]

<span data-ttu-id="a728a-295">Nelze připojit *_SelectLanguagePartial.cshtml* na ukázkový kód pro tento projekt.</span><span class="sxs-lookup"><span data-stu-id="a728a-295">You can't plug in the *_SelectLanguagePartial.cshtml* to sample code for this project.</span></span> <span data-ttu-id="a728a-296">**Localization.StarterWeb** projektu na [Githubu](https://github.com/aspnet/entropy) má kód, které jsou předávány `RequestLocalizationOptions` k částečné prostřednictvím Razor [vkládání závislostí](dependency-injection.md) kontejneru.</span><span class="sxs-lookup"><span data-stu-id="a728a-296">The **Localization.StarterWeb** project on [GitHub](https://github.com/aspnet/entropy) has code to flow the `RequestLocalizationOptions` to a Razor partial through the [Dependency Injection](dependency-injection.md) container.</span></span>

## <a name="globalization-and-localization-terms"></a><span data-ttu-id="a728a-297">Globalizace a lokalizace podmínky</span><span class="sxs-lookup"><span data-stu-id="a728a-297">Globalization and localization terms</span></span>

<span data-ttu-id="a728a-298">Proces lokalizace aplikace taky vyžaduje základní znalost relevantní znakových sad, které jsou běžně používaný v vývoj moderních softwaru a pochopení problémů, souvisejících s nimi.</span><span class="sxs-lookup"><span data-stu-id="a728a-298">The process of localizing your app also requires a basic understanding of relevant character sets commonly used in modern software development and an understanding of the issues associated with them.</span></span> <span data-ttu-id="a728a-299">I když všechny počítače ukládání textu čísla (kódy), uložení různých systémů stejný text použití různých čísel.</span><span class="sxs-lookup"><span data-stu-id="a728a-299">Although all computers store text as numbers (codes), different systems store the same text using different numbers.</span></span> <span data-ttu-id="a728a-300">Proces lokalizace odkazuje na překladu aplikace uživatelského rozhraní (UI) pro konkrétní jazykové verze nebo národní prostředí.</span><span class="sxs-lookup"><span data-stu-id="a728a-300">The localization process refers to translating the app user interface (UI) for a specific culture/locale.</span></span>

<span data-ttu-id="a728a-301">[Lokalizovatelnost](https://docs.microsoft.com/dotnet/standard/globalization-localization/localizability-review) je dílčí proces pro ověření, že globalizovaná aplikace je připravena k lokalizaci.</span><span class="sxs-lookup"><span data-stu-id="a728a-301">[Localizability](https://docs.microsoft.com/dotnet/standard/globalization-localization/localizability-review) is an intermediate process for verifying that a globalized app is ready for localization.</span></span>

<span data-ttu-id="a728a-302">[RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) formátu pro název jazykové verze je `<languagecode2>-<country/regioncode2>`, kde `<languagecode2>` je kód jazyka a `<country/regioncode2>` je subkulturu kód.</span><span class="sxs-lookup"><span data-stu-id="a728a-302">The [RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) format for the culture name is `<languagecode2>-<country/regioncode2>`, where `<languagecode2>` is the language code and `<country/regioncode2>` is the subculture code.</span></span> <span data-ttu-id="a728a-303">Například `es-CL` pro španělština (základě), `en-US` pro angličtinu (Spojené státy), a `en-AU` pro angličtinu (Austrálie).</span><span class="sxs-lookup"><span data-stu-id="a728a-303">For example, `es-CL` for Spanish (Chile), `en-US` for English (United States), and `en-AU` for English (Australia).</span></span> <span data-ttu-id="a728a-304">[RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) je kombinací ISO 639 malá jazykovou verzi dvoupísmenným kódem související s jazykem a ISO 3166 velká subkulturu dvoupísmenným kódem přidružené zemi či oblasti.</span><span class="sxs-lookup"><span data-stu-id="a728a-304">[RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) is a combination of an ISO 639 two-letter lowercase culture code associated with a language and an ISO 3166 two-letter uppercase subculture code associated with a country or region.</span></span> <span data-ttu-id="a728a-305">V tématu [název jazykové verze jazyka](https://msdn.microsoft.com/library/ee825488(v=cs.20).aspx).</span><span class="sxs-lookup"><span data-stu-id="a728a-305">See [Language Culture Name](https://msdn.microsoft.com/library/ee825488(v=cs.20).aspx).</span></span>

<span data-ttu-id="a728a-306">Internacionalizace často zkratka "I18N".</span><span class="sxs-lookup"><span data-stu-id="a728a-306">Internationalization is often abbreviated to "I18N".</span></span> <span data-ttu-id="a728a-307">Zkratka přebírá první a poslední písmena a počet písmena mezi nimi, takže 18 znamená počet písmena mezi první "I" a poslední "N".</span><span class="sxs-lookup"><span data-stu-id="a728a-307">The abbreviation takes the first and last letters and the number of letters between them, so 18 stands for the number of letters between the first "I" and the last "N".</span></span> <span data-ttu-id="a728a-308">Totéž platí i pro (G11N) globalizace a lokalizace (L10N).</span><span class="sxs-lookup"><span data-stu-id="a728a-308">The same applies to Globalization (G11N), and Localization (L10N).</span></span>

<span data-ttu-id="a728a-309">Podmínky:</span><span class="sxs-lookup"><span data-stu-id="a728a-309">Terms:</span></span>

* <span data-ttu-id="a728a-310">Globalizace (G11N): Proces převedení aplikace podporují různé jazyky a oblasti.</span><span class="sxs-lookup"><span data-stu-id="a728a-310">Globalization (G11N): The process of making an app support different languages and regions.</span></span>
* <span data-ttu-id="a728a-311">Lokalizace (L10N): Proces přizpůsobení aplikace pro daný jazyk a oblast.</span><span class="sxs-lookup"><span data-stu-id="a728a-311">Localization (L10N): The process of customizing an app for a given language and region.</span></span>
* <span data-ttu-id="a728a-312">Internacionalizace (I18N): Popisuje globalizace a lokalizace.</span><span class="sxs-lookup"><span data-stu-id="a728a-312">Internationalization (I18N): Describes both globalization and localization.</span></span>
* <span data-ttu-id="a728a-313">Jazyková verze: Je jazyk a volitelně oblast.</span><span class="sxs-lookup"><span data-stu-id="a728a-313">Culture: It's a language and, optionally, a region.</span></span>
* <span data-ttu-id="a728a-314">Neutrální jazykové verze: jazyková verze, která má určený jazyk, ale není v oblasti.</span><span class="sxs-lookup"><span data-stu-id="a728a-314">Neutral culture: A culture that has a specified language, but not a region.</span></span> <span data-ttu-id="a728a-315">(například "en", "es")</span><span class="sxs-lookup"><span data-stu-id="a728a-315">(for example "en", "es")</span></span>
* <span data-ttu-id="a728a-316">Konkrétní jazykové verze: jazyková verze, která má zadaný jazyk a oblast.</span><span class="sxs-lookup"><span data-stu-id="a728a-316">Specific culture: A culture that has a specified language and region.</span></span> <span data-ttu-id="a728a-317">(pro příklad "en US", "en-GB", "es-CL")</span><span class="sxs-lookup"><span data-stu-id="a728a-317">(for example "en-US", "en-GB", "es-CL")</span></span>
* <span data-ttu-id="a728a-318">Nadřazená jazyková verze: neutrální jazykovou verzi, která obsahuje konkrétní jazykové verze.</span><span class="sxs-lookup"><span data-stu-id="a728a-318">Parent culture: The neutral culture that contains a specific culture.</span></span> <span data-ttu-id="a728a-319">(například "en" je nadřazenou jazykovou verzi "en US" a "en-GB")</span><span class="sxs-lookup"><span data-stu-id="a728a-319">(for example, "en" is the parent culture of "en-US" and "en-GB")</span></span>
* <span data-ttu-id="a728a-320">Národní prostředí: Národního prostředí je stejný jako jazykovou verzi.</span><span class="sxs-lookup"><span data-stu-id="a728a-320">Locale: A locale is the same as a culture.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="a728a-321">Další zdroje</span><span class="sxs-lookup"><span data-stu-id="a728a-321">Additional resources</span></span>

* <span data-ttu-id="a728a-322">[Projekt Localization.StarterWeb](https://github.com/aspnet/entropy) použít v článku.</span><span class="sxs-lookup"><span data-stu-id="a728a-322">[Localization.StarterWeb project](https://github.com/aspnet/entropy) used in the article.</span></span>
* [<span data-ttu-id="a728a-323">Soubory prostředků v sadě Visual Studio</span><span class="sxs-lookup"><span data-stu-id="a728a-323">Resource Files in Visual Studio</span></span>](https://docs.microsoft.com/cpp/windows/resource-files-visual-studio)
* [<span data-ttu-id="a728a-324">Prostředky v soubory RESX</span><span class="sxs-lookup"><span data-stu-id="a728a-324">Resources in .resx Files</span></span>](https://docs.microsoft.com/dotnet/framework/resources/working-with-resx-files-programmatically)
