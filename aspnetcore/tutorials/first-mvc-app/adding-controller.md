---
title: Přidání ovladače do aplikace Core MVC ASP.NET
author: rick-anderson
description: Přečtěte si, jak přidat ovladač do jednoduché aplikace ASP.NET Core MVC.
ms.author: riande
ms.date: 08/05/2017
uid: tutorials/first-mvc-app/adding-controller
ms.openlocfilehash: fb670902b0dafa7dce2b3372e550095387844936
ms.sourcegitcommit: f7886fd2e219db9d7ce27b16c0dc5901e658d64e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/06/2020
ms.locfileid: "78666990"
---
# <a name="add-a-controller-to-an-aspnet-core-mvc-app"></a><span data-ttu-id="df694-103">Přidání ovladače do aplikace Core MVC ASP.NET</span><span class="sxs-lookup"><span data-stu-id="df694-103">Add a controller to an ASP.NET Core MVC app</span></span>

<span data-ttu-id="df694-104">Autor: [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="df694-104">By [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

::: moniker range=">= aspnetcore-3.0"

<span data-ttu-id="df694-105">Model-View-Controller (MVC) architektonický vzor odděluje aplikaci do tří hlavních součástí: **M**odel, **V**tj. a **C**ontroller.</span><span class="sxs-lookup"><span data-stu-id="df694-105">The Model-View-Controller (MVC) architectural pattern separates an app into three main components: **M**odel, **V**iew, and **C**ontroller.</span></span> <span data-ttu-id="df694-106">Vzor MVC vám pomůže vytvářet aplikace, které jsou více testovatelné a snadněji aktualizovatelné než tradiční monolitické aplikace.</span><span class="sxs-lookup"><span data-stu-id="df694-106">The MVC pattern helps you create apps that are more testable and easier to update than traditional monolithic apps.</span></span> <span data-ttu-id="df694-107">Aplikace založené na MVC obsahují:</span><span class="sxs-lookup"><span data-stu-id="df694-107">MVC-based apps contain:</span></span>

* <span data-ttu-id="df694-108">**M**odels: Třídy, které představují data aplikace.</span><span class="sxs-lookup"><span data-stu-id="df694-108">**M**odels: Classes that represent the data of the app.</span></span> <span data-ttu-id="df694-109">Třídy modelu používají logiku ověření k vynucení obchodních pravidel pro tato data.</span><span class="sxs-lookup"><span data-stu-id="df694-109">The model classes use validation logic to enforce business rules for that data.</span></span> <span data-ttu-id="df694-110">Objekty modelu obvykle načítají a ukládají stav modelu v databázi.</span><span class="sxs-lookup"><span data-stu-id="df694-110">Typically, model objects retrieve and store model state in a database.</span></span> <span data-ttu-id="df694-111">V tomto kurzu `Movie` model načte filmová data z databáze, poskytuje je do zobrazení nebo jej aktualizuje.</span><span class="sxs-lookup"><span data-stu-id="df694-111">In this tutorial, a `Movie` model retrieves movie data from a database, provides it to the view or updates it.</span></span> <span data-ttu-id="df694-112">Aktualizovaná data jsou zapsána do databáze.</span><span class="sxs-lookup"><span data-stu-id="df694-112">Updated data is written to a database.</span></span>

* <span data-ttu-id="df694-113">**V**iews: Zobrazení jsou součásti, které zobrazují uživatelské rozhraní aplikace (UI).</span><span class="sxs-lookup"><span data-stu-id="df694-113">**V**iews: Views are the components that display the app's user interface (UI).</span></span> <span data-ttu-id="df694-114">Obecně platí, že toto uI zobrazí data modelu.</span><span class="sxs-lookup"><span data-stu-id="df694-114">Generally, this UI displays the model data.</span></span>

* <span data-ttu-id="df694-115">**C**ontrollers: Třídy, které zpracovávají požadavky prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="df694-115">**C**ontrollers: Classes that handle browser requests.</span></span> <span data-ttu-id="df694-116">Načítají data modelu a šablony zobrazení volání, které vracejí odpověď.</span><span class="sxs-lookup"><span data-stu-id="df694-116">They retrieve model data and call view templates that return a response.</span></span> <span data-ttu-id="df694-117">V aplikaci MVC zobrazení zobrazuje pouze informace; ovladač zpracovává a reaguje na vstup a interakci uživatele.</span><span class="sxs-lookup"><span data-stu-id="df694-117">In an MVC app, the view only displays information; the controller handles and responds to user input and interaction.</span></span> <span data-ttu-id="df694-118">Například řadič zpracovává hodnoty směrování dat a řetězce dotazu a předá tyto hodnoty modelu.</span><span class="sxs-lookup"><span data-stu-id="df694-118">For example, the controller handles route data and query-string values, and passes these values to the model.</span></span> <span data-ttu-id="df694-119">Model může použít tyto hodnoty k dotazování databáze.</span><span class="sxs-lookup"><span data-stu-id="df694-119">The model might use these values to query the database.</span></span> <span data-ttu-id="df694-120">Například `https://localhost:5001/Home/Privacy` má data `Home` trasy (kontroleru) a `Privacy` (metoda akce pro volání na domácím řadiči).</span><span class="sxs-lookup"><span data-stu-id="df694-120">For example, `https://localhost:5001/Home/Privacy` has route data of `Home` (the controller) and `Privacy` (the action method to call on the home controller).</span></span> <span data-ttu-id="df694-121">`https://localhost:5001/Movies/Edit/5`je požadavek na úpravu filmu pomocí ID=5 pomocí filmového ovladače.</span><span class="sxs-lookup"><span data-stu-id="df694-121">`https://localhost:5001/Movies/Edit/5` is a request to edit the movie with ID=5 using the movie controller.</span></span> <span data-ttu-id="df694-122">Data trasy jsou vysvětlena dále v kurzu.</span><span class="sxs-lookup"><span data-stu-id="df694-122">Route data is explained later in the tutorial.</span></span>

<span data-ttu-id="df694-123">Vzor MVC pomáhá vytvářet aplikace, které oddělují různé aspekty aplikace (vstupní logika, obchodní logika a logika uživatelského rozhraní) a zároveň poskytují volné párování mezi těmito prvky.</span><span class="sxs-lookup"><span data-stu-id="df694-123">The MVC pattern helps you create apps that separate the different aspects of the app (input logic, business logic, and UI logic), while providing a loose coupling between these elements.</span></span> <span data-ttu-id="df694-124">Vzor určuje, kde by měl být každý druh logiky umístěn v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="df694-124">The pattern specifies where each kind of logic should be located in the app.</span></span> <span data-ttu-id="df694-125">Logika ui patří do zobrazení.</span><span class="sxs-lookup"><span data-stu-id="df694-125">The UI logic belongs in the view.</span></span> <span data-ttu-id="df694-126">Vstupní logika patří do řadiče.</span><span class="sxs-lookup"><span data-stu-id="df694-126">Input logic belongs in the controller.</span></span> <span data-ttu-id="df694-127">Obchodní logika patří do modelu.</span><span class="sxs-lookup"><span data-stu-id="df694-127">Business logic belongs in the model.</span></span> <span data-ttu-id="df694-128">Toto oddělení pomáhá spravovat složitost při vytváření aplikace, protože umožňuje pracovat na jednom aspektu implementace najednou bez dopadu na kód jiného.</span><span class="sxs-lookup"><span data-stu-id="df694-128">This separation helps you manage complexity when you build an app, because it enables you to work on one aspect of the implementation at a time without impacting the code of another.</span></span> <span data-ttu-id="df694-129">Můžete například pracovat na kódu zobrazení bez v závislosti na kódu obchodní logiky.</span><span class="sxs-lookup"><span data-stu-id="df694-129">For example, you can work on the view code without depending on the business logic code.</span></span>

<span data-ttu-id="df694-130">Tyto koncepty pokrýváme v této sérii kurzů a ukážeme vám, jak je používat k vytvoření filmové aplikace.</span><span class="sxs-lookup"><span data-stu-id="df694-130">We cover these concepts in this tutorial series and show you how to use them to build a movie app.</span></span> <span data-ttu-id="df694-131">Projekt MVC obsahuje složky pro *řadiče* a *zobrazení*.</span><span class="sxs-lookup"><span data-stu-id="df694-131">The MVC project contains folders for the *Controllers* and *Views*.</span></span>

## <a name="add-a-controller"></a><span data-ttu-id="df694-132">Přidání kontroleru</span><span class="sxs-lookup"><span data-stu-id="df694-132">Add a controller</span></span>

# <a name="visual-studio"></a>[<span data-ttu-id="df694-133">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="df694-133">Visual Studio</span></span>](#tab/visual-studio)

* <span data-ttu-id="df694-134">V **Průzkumníku řešení**klepněte pravým tlačítkem myši na **položku Řadiče > kontextová nabídka Přidat > řadiče.**
  ![](adding-controller/_static/add_controller.png)</span><span class="sxs-lookup"><span data-stu-id="df694-134">In **Solution Explorer**, right-click **Controllers > Add > Controller**
![Contextual menu](adding-controller/_static/add_controller.png)</span></span>

* <span data-ttu-id="df694-135">V dialogovém okně **Přidat písmo** vyberte **Ovladač MVC – prázdný.**</span><span class="sxs-lookup"><span data-stu-id="df694-135">In the **Add Scaffold** dialog box, select **MVC Controller - Empty**</span></span>

  ![Přidejte řadič MVC a pojmenujte jej](adding-controller/_static/ac.png)

* <span data-ttu-id="df694-137">V **dialogovém okně Přidat prázdný řadič MVC**zadejte **HelloWorldController** a vyberte **PŘIDAT**.</span><span class="sxs-lookup"><span data-stu-id="df694-137">In the **Add Empty MVC Controller dialog**, enter **HelloWorldController** and select **ADD**.</span></span>

# <a name="visual-studio-code"></a>[<span data-ttu-id="df694-138">Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="df694-138">Visual Studio Code</span></span>](#tab/visual-studio-code)

<span data-ttu-id="df694-139">Vyberte ikonu **EXPLORER** a potom klepněte na ovladače (po kliknutí pravým tlačítkem myši) **> nový soubor** a pojmenujte nový soubor *HelloWorldController.cs*.</span><span class="sxs-lookup"><span data-stu-id="df694-139">Select the **EXPLORER** icon and then control-click (right-click) **Controllers > New File** and name the new file *HelloWorldController.cs*.</span></span>

  ![Kontextová nabídka](~/tutorials/first-mvc-app-xplat/adding-controller/_static/new_file.png)

# <a name="visual-studio-for-mac"></a>[<span data-ttu-id="df694-141">Visual Studio pro Mac</span><span class="sxs-lookup"><span data-stu-id="df694-141">Visual Studio for Mac</span></span>](#tab/visual-studio-mac)

<span data-ttu-id="df694-142">V **Průzkumníku řešení**klepněte pravým tlačítkem myši na **položku Řadiče > přidat > nový soubor**.</span><span class="sxs-lookup"><span data-stu-id="df694-142">In **Solution Explorer**, right-click **Controllers > Add > New File**.</span></span>
<span data-ttu-id="df694-143">![Kontextová nabídka](~/tutorials/first-mvc-app-mac/adding-controller/_static/add_controller.png)</span><span class="sxs-lookup"><span data-stu-id="df694-143">![Contextual menu](~/tutorials/first-mvc-app-mac/adding-controller/_static/add_controller.png)</span></span>

<span data-ttu-id="df694-144">Vyberte **ASP.NET třídu řadiče jádra** a **MVC**.</span><span class="sxs-lookup"><span data-stu-id="df694-144">Select **ASP.NET Core** and **MVC Controller Class**.</span></span>

<span data-ttu-id="df694-145">Pojmenujte řadič **HelloWorldController**.</span><span class="sxs-lookup"><span data-stu-id="df694-145">Name the controller **HelloWorldController**.</span></span>

![Přidejte řadič MVC a pojmenujte jej](~/tutorials/first-mvc-app-mac/adding-controller/_static/ac.png)

---

<span data-ttu-id="df694-147">Nahraďte obsah *controllers/HelloWorldController.cs* následujícím:</span><span class="sxs-lookup"><span data-stu-id="df694-147">Replace the contents of *Controllers/HelloWorldController.cs* with the following:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_1)]

<span data-ttu-id="df694-148">Každá `public` metoda v řadiči je volatelná jako koncový bod HTTP.</span><span class="sxs-lookup"><span data-stu-id="df694-148">Every `public` method in a controller is callable as an HTTP endpoint.</span></span> <span data-ttu-id="df694-149">Ve výše uvedeném vzorku obě metody vrátí řetězec.</span><span class="sxs-lookup"><span data-stu-id="df694-149">In the sample above, both methods return a string.</span></span> <span data-ttu-id="df694-150">Všimněte si komentáře předcházející jednotlivé metody.</span><span class="sxs-lookup"><span data-stu-id="df694-150">Note the comments preceding each method.</span></span>

<span data-ttu-id="df694-151">Koncový bod HTTP je cílitelná adresa URL `https://localhost:5001/HelloWorld`ve webové aplikaci, `HTTPS`například , a kombinuje použitý protokol: , `localhost:5001` síťové umístění `HelloWorld`webového serveru (včetně portu TCP): a cílový identifikátor URI .</span><span class="sxs-lookup"><span data-stu-id="df694-151">An HTTP endpoint is a targetable URL in the web application, such as `https://localhost:5001/HelloWorld`, and combines the protocol used: `HTTPS`, the network location of the web server (including the TCP port): `localhost:5001` and the target URI `HelloWorld`.</span></span>

<span data-ttu-id="df694-152">První komentář uvádí, že se jedná o metodu `/HelloWorld/` [HTTP GET,](https://www.w3schools.com/tags/ref_httpmethods.asp) která je vyvolána připojením k základní adrese URL.</span><span class="sxs-lookup"><span data-stu-id="df694-152">The first comment states this is an [HTTP GET](https://www.w3schools.com/tags/ref_httpmethods.asp) method that's invoked by appending `/HelloWorld/` to the base URL.</span></span> <span data-ttu-id="df694-153">Druhý komentář určuje metodu [HTTP GET,](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) která je `/HelloWorld/Welcome/` vyvolána připojením k adrese URL.</span><span class="sxs-lookup"><span data-stu-id="df694-153">The second comment specifies an [HTTP GET](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) method that's invoked by appending `/HelloWorld/Welcome/` to the URL.</span></span> <span data-ttu-id="df694-154">Později v tutoriálu generování uživatelského stroji `HTTP POST` se používá ke generování metod, které aktualizují data.</span><span class="sxs-lookup"><span data-stu-id="df694-154">Later on in the tutorial the scaffolding engine is used to generate `HTTP POST` methods which update data.</span></span>

<span data-ttu-id="df694-155">Spusťte aplikaci v režimu bez ladění a připojte "HelloWorld" k cestě v adresním řádku.</span><span class="sxs-lookup"><span data-stu-id="df694-155">Run the app in non-debug mode and append "HelloWorld" to the path in the address bar.</span></span> <span data-ttu-id="df694-156">Metoda `Index` vrátí řetězec.</span><span class="sxs-lookup"><span data-stu-id="df694-156">The `Index` method returns a string.</span></span>

![Okno prohlížeče zobrazující odpověď aplikace Toto je moje výchozí akce](~/tutorials/first-mvc-app/adding-controller/_static/hell1.png)

<span data-ttu-id="df694-158">MVC vyvolá třídy kontroleru (a metody akce v nich) v závislosti na příchozí adrese URL.</span><span class="sxs-lookup"><span data-stu-id="df694-158">MVC invokes controller classes (and the action methods within them) depending on the incoming URL.</span></span> <span data-ttu-id="df694-159">Výchozí [logika směrování adres URL](xref:mvc/controllers/routing) používaná mvc používá formát, jako je tento k určení, jaký kód vyvolat:</span><span class="sxs-lookup"><span data-stu-id="df694-159">The default [URL routing logic](xref:mvc/controllers/routing) used by MVC uses a format like this to determine what code to invoke:</span></span>

`/[Controller]/[ActionName]/[Parameters]`

<span data-ttu-id="df694-160">Formát směrování je nastaven `Configure` v metodě v *Startup.cs* souboru.</span><span class="sxs-lookup"><span data-stu-id="df694-160">The routing format is set in the `Configure` method in *Startup.cs* file.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie3/Startup.cs?name=snippet_1&highlight=5)]

<span data-ttu-id="df694-161">Když přejdete do aplikace a nezadáte žádné segmenty URL, výchozí nastavení "Home" řadič a "Index" metoda zadaná v řádku šablony zvýrazněné výše.</span><span class="sxs-lookup"><span data-stu-id="df694-161">When you browse to the app and don't supply any URL segments, it defaults to the "Home" controller and the "Index" method specified in the template line highlighted above.</span></span>

<span data-ttu-id="df694-162">První segment adresy URL určuje třídu řadiče ke spuštění.</span><span class="sxs-lookup"><span data-stu-id="df694-162">The first URL segment determines the controller class to run.</span></span> <span data-ttu-id="df694-163">Takže `localhost:{PORT}/HelloWorld` mapy **helloworld**controller třídy.</span><span class="sxs-lookup"><span data-stu-id="df694-163">So `localhost:{PORT}/HelloWorld` maps to the **HelloWorld**Controller class.</span></span> <span data-ttu-id="df694-164">Druhá část segmentu URL určuje metodu akce ve třídě.</span><span class="sxs-lookup"><span data-stu-id="df694-164">The second part of the URL segment determines the action method on the class.</span></span> <span data-ttu-id="df694-165">Tak `localhost:{PORT}/HelloWorld/Index` by `Index` způsobit spuštění `HelloWorldController` metody třídy.</span><span class="sxs-lookup"><span data-stu-id="df694-165">So `localhost:{PORT}/HelloWorld/Index` would cause the `Index` method of the `HelloWorldController` class to run.</span></span> <span data-ttu-id="df694-166">Všimněte si, že `localhost:{PORT}/HelloWorld` jste `Index` museli pouze procházet a metoda byla volána ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="df694-166">Notice that you only had to browse to `localhost:{PORT}/HelloWorld` and the `Index` method was called by default.</span></span> <span data-ttu-id="df694-167">Je to `Index` proto, že je výchozí metoda, která bude volána na řadiči, pokud název metody není explicitně zadán.</span><span class="sxs-lookup"><span data-stu-id="df694-167">That's because `Index` is the default method that will be called on a controller if a method name isn't explicitly specified.</span></span> <span data-ttu-id="df694-168">Třetí část segmentu URL `id`( ) je pro data trasy.</span><span class="sxs-lookup"><span data-stu-id="df694-168">The third part of the URL segment ( `id`) is for route data.</span></span> <span data-ttu-id="df694-169">Data trasy jsou vysvětlena dále v kurzu.</span><span class="sxs-lookup"><span data-stu-id="df694-169">Route data is explained later in the tutorial.</span></span>

<span data-ttu-id="df694-170">Přejděte na `https://localhost:{PORT}/HelloWorld/Welcome`.</span><span class="sxs-lookup"><span data-stu-id="df694-170">Browse to `https://localhost:{PORT}/HelloWorld/Welcome`.</span></span> <span data-ttu-id="df694-171">Metoda `Welcome` spustí a vrátí `This is the Welcome action method...`řetězec .</span><span class="sxs-lookup"><span data-stu-id="df694-171">The `Welcome` method runs and returns the string `This is the Welcome action method...`.</span></span> <span data-ttu-id="df694-172">Pro tuto adresu URL `HelloWorld` `Welcome` je a je metoda akce.</span><span class="sxs-lookup"><span data-stu-id="df694-172">For this URL, the controller is `HelloWorld` and `Welcome` is the action method.</span></span> <span data-ttu-id="df694-173">Část adresy URL `[Parameters]` jste ještě nepoužili.</span><span class="sxs-lookup"><span data-stu-id="df694-173">You haven't used the `[Parameters]` part of the URL yet.</span></span>

![Okno prohlížeče zobrazující odpověď aplikace Toto je metoda uvítací akce](~/tutorials/first-mvc-app/adding-controller/_static/welcome.png)

<span data-ttu-id="df694-175">Upravte kód tak, aby předává některé informace o parametrech z adresy URL do řadiče.</span><span class="sxs-lookup"><span data-stu-id="df694-175">Modify the code to pass some parameter information from the URL to the controller.</span></span> <span data-ttu-id="df694-176">Například, `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span><span class="sxs-lookup"><span data-stu-id="df694-176">For example, `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span></span> <span data-ttu-id="df694-177">Změňte `Welcome` metodu tak, aby zahrnovala dva parametry, jak je znázorněno v následujícím kódu.</span><span class="sxs-lookup"><span data-stu-id="df694-177">Change the `Welcome` method to include two parameters as shown in the following code.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_2)]

<span data-ttu-id="df694-178">Předcházející kód:</span><span class="sxs-lookup"><span data-stu-id="df694-178">The preceding code:</span></span>

* <span data-ttu-id="df694-179">Používá c# volitelné parametr funkce k `numTimes` označení, že parametr výchozí 1, pokud žádná hodnota je předána pro tento parametr.</span><span class="sxs-lookup"><span data-stu-id="df694-179">Uses the C# optional-parameter feature to indicate that the `numTimes` parameter defaults to 1 if no value is passed for that parameter.</span></span> <!-- remove for simplified -->
* <span data-ttu-id="df694-180">Používá `HtmlEncoder.Default.Encode` se k ochraně aplikace před škodlivým vstupem (jmenovitě JavaScript).</span><span class="sxs-lookup"><span data-stu-id="df694-180">Uses `HtmlEncoder.Default.Encode` to protect the app from malicious input (namely JavaScript).</span></span>
* <span data-ttu-id="df694-181">Používá [interpolované řetězce](/dotnet/articles/csharp/language-reference/keywords/interpolated-strings) `$"Hello {name}, NumTimes is: {numTimes}"`v .</span><span class="sxs-lookup"><span data-stu-id="df694-181">Uses [Interpolated Strings](/dotnet/articles/csharp/language-reference/keywords/interpolated-strings) in `$"Hello {name}, NumTimes is: {numTimes}"`.</span></span> <!-- remove for simplified -->

<span data-ttu-id="df694-182">Spusťte aplikaci a přejděte na:</span><span class="sxs-lookup"><span data-stu-id="df694-182">Run the app and browse to:</span></span>

   `https://localhost:{PORT}/HelloWorld/Welcome?name=Rick&numtimes=4`

<span data-ttu-id="df694-183">(Nahraďte `{PORT}` číslem portu.) Můžete vyzkoušet různé `name` `numtimes` hodnoty pro a v adrese URL.</span><span class="sxs-lookup"><span data-stu-id="df694-183">(Replace `{PORT}` with your port number.) You can try different values for `name` and `numtimes` in the URL.</span></span> <span data-ttu-id="df694-184">Systém [vazby modelu](xref:mvc/models/model-binding) MVC automaticky mapuje pojmenované parametry z řetězce dotazu v adresním řádku na parametry ve vaší metodě.</span><span class="sxs-lookup"><span data-stu-id="df694-184">The MVC [model binding](xref:mvc/models/model-binding) system automatically maps the named parameters from the query string in the address bar to parameters in your method.</span></span> <span data-ttu-id="df694-185">Další informace naleznete [v tématu Vazba modelu.](xref:mvc/models/model-binding)</span><span class="sxs-lookup"><span data-stu-id="df694-185">See [Model Binding](xref:mvc/models/model-binding) for more information.</span></span>

![Okno prohlížeče zobrazující odpověď aplikace Hello Rick, NumTimes je\: 4](~/tutorials/first-mvc-app/adding-controller/_static/rick4.png)

<span data-ttu-id="df694-187">Na obrázku výše se`Parameters`segment URL ( ) `name` `numTimes` nepoužívá, parametry a jsou předány v [řetězci dotazu](https://wikipedia.org/wiki/Query_string).</span><span class="sxs-lookup"><span data-stu-id="df694-187">In the image above, the URL segment (`Parameters`) isn't used, the `name` and `numTimes` parameters are passed in the [query string](https://wikipedia.org/wiki/Query_string).</span></span> <span data-ttu-id="df694-188">`?` (otazník) ve výše uvedené adrese URL je oddělovač a následuje řetězec dotazu.</span><span class="sxs-lookup"><span data-stu-id="df694-188">The `?` (question mark) in the above URL is a separator, and the query string follows.</span></span> <span data-ttu-id="df694-189">Znak `&` odděluje dvojice polí a hodnot.</span><span class="sxs-lookup"><span data-stu-id="df694-189">The `&` character separates field-value pairs.</span></span>

<span data-ttu-id="df694-190">Nahraďte metodu `Welcome` následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="df694-190">Replace the `Welcome` method with the following code:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_3)]

<span data-ttu-id="df694-191">Spusťte aplikaci a zadejte následující adresu URL:`https://localhost:{PORT}/HelloWorld/Welcome/3?name=Rick`</span><span class="sxs-lookup"><span data-stu-id="df694-191">Run the app and enter the following URL: `https://localhost:{PORT}/HelloWorld/Welcome/3?name=Rick`</span></span>

<span data-ttu-id="df694-192">Tentokrát třetí segment URL odpovídal parametru `id`trasy .</span><span class="sxs-lookup"><span data-stu-id="df694-192">This time the third URL segment matched the route parameter `id`.</span></span> <span data-ttu-id="df694-193">Metoda `Welcome` obsahuje parametr, `id` který odpovídá šabloně `MapControllerRoute` adresy URL v metodě.</span><span class="sxs-lookup"><span data-stu-id="df694-193">The `Welcome` method contains a parameter `id` that matched the URL template in the `MapControllerRoute` method.</span></span> <span data-ttu-id="df694-194">Koncové `?` (in `id?`) označuje, že `id` parametr je volitelný.</span><span class="sxs-lookup"><span data-stu-id="df694-194">The trailing `?` (in `id?`) indicates the `id` parameter is optional.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie3/Startup.cs?name=snippet_1&highlight=5)]

<span data-ttu-id="df694-195">V těchto příkladech regulátor dělá "VC" část MVC - to znamená, **že V**tj a **C**ontroller práce.</span><span class="sxs-lookup"><span data-stu-id="df694-195">In these examples the controller has been doing the "VC" portion of MVC - that is, the **V**iew and the **C**ontroller work.</span></span> <span data-ttu-id="df694-196">Řadič vrací HTML přímo.</span><span class="sxs-lookup"><span data-stu-id="df694-196">The controller is returning HTML directly.</span></span> <span data-ttu-id="df694-197">Obecně nechcete, aby řadiče vracet HTML přímo, protože to se stává velmi těžkopádné kód a udržovat.</span><span class="sxs-lookup"><span data-stu-id="df694-197">Generally you don't want controllers returning HTML directly, since that becomes very cumbersome to code and maintain.</span></span> <span data-ttu-id="df694-198">Místo toho obvykle používáte samostatný soubor šablony zobrazení Razor ke generování odpovědi HTML.</span><span class="sxs-lookup"><span data-stu-id="df694-198">Instead you typically use a separate Razor view template file to generate the HTML response.</span></span> <span data-ttu-id="df694-199">Můžete to udělat v dalším tutoriálu.</span><span class="sxs-lookup"><span data-stu-id="df694-199">You do that in the next tutorial.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="df694-200">[Předchozí](start-mvc.md)
> [další](adding-view.md)</span><span class="sxs-lookup"><span data-stu-id="df694-200">[Previous](start-mvc.md)
[Next](adding-view.md)</span></span>

::: moniker-end

::: moniker range="< aspnetcore-3.0"

<span data-ttu-id="df694-201">Model-View-Controller (MVC) architektonický vzor odděluje aplikaci do tří hlavních součástí: **M**odel, **V**tj. a **C**ontroller.</span><span class="sxs-lookup"><span data-stu-id="df694-201">The Model-View-Controller (MVC) architectural pattern separates an app into three main components: **M**odel, **V**iew, and **C**ontroller.</span></span> <span data-ttu-id="df694-202">Vzor MVC vám pomůže vytvářet aplikace, které jsou více testovatelné a snadněji aktualizovatelné než tradiční monolitické aplikace.</span><span class="sxs-lookup"><span data-stu-id="df694-202">The MVC pattern helps you create apps that are more testable and easier to update than traditional monolithic apps.</span></span> <span data-ttu-id="df694-203">Aplikace založené na MVC obsahují:</span><span class="sxs-lookup"><span data-stu-id="df694-203">MVC-based apps contain:</span></span>

* <span data-ttu-id="df694-204">**M**odels: Třídy, které představují data aplikace.</span><span class="sxs-lookup"><span data-stu-id="df694-204">**M**odels: Classes that represent the data of the app.</span></span> <span data-ttu-id="df694-205">Třídy modelu používají logiku ověření k vynucení obchodních pravidel pro tato data.</span><span class="sxs-lookup"><span data-stu-id="df694-205">The model classes use validation logic to enforce business rules for that data.</span></span> <span data-ttu-id="df694-206">Objekty modelu obvykle načítají a ukládají stav modelu v databázi.</span><span class="sxs-lookup"><span data-stu-id="df694-206">Typically, model objects retrieve and store model state in a database.</span></span> <span data-ttu-id="df694-207">V tomto kurzu `Movie` model načte filmová data z databáze, poskytuje je do zobrazení nebo jej aktualizuje.</span><span class="sxs-lookup"><span data-stu-id="df694-207">In this tutorial, a `Movie` model retrieves movie data from a database, provides it to the view or updates it.</span></span> <span data-ttu-id="df694-208">Aktualizovaná data jsou zapsána do databáze.</span><span class="sxs-lookup"><span data-stu-id="df694-208">Updated data is written to a database.</span></span>

* <span data-ttu-id="df694-209">**V**iews: Zobrazení jsou součásti, které zobrazují uživatelské rozhraní aplikace (UI).</span><span class="sxs-lookup"><span data-stu-id="df694-209">**V**iews: Views are the components that display the app's user interface (UI).</span></span> <span data-ttu-id="df694-210">Obecně platí, že toto uI zobrazí data modelu.</span><span class="sxs-lookup"><span data-stu-id="df694-210">Generally, this UI displays the model data.</span></span>

* <span data-ttu-id="df694-211">**C**ontrollers: Třídy, které zpracovávají požadavky prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="df694-211">**C**ontrollers: Classes that handle browser requests.</span></span> <span data-ttu-id="df694-212">Načítají data modelu a šablony zobrazení volání, které vracejí odpověď.</span><span class="sxs-lookup"><span data-stu-id="df694-212">They retrieve model data and call view templates that return a response.</span></span> <span data-ttu-id="df694-213">V aplikaci MVC zobrazení zobrazuje pouze informace; ovladač zpracovává a reaguje na vstup a interakci uživatele.</span><span class="sxs-lookup"><span data-stu-id="df694-213">In an MVC app, the view only displays information; the controller handles and responds to user input and interaction.</span></span> <span data-ttu-id="df694-214">Například řadič zpracovává hodnoty směrování dat a řetězce dotazu a předá tyto hodnoty modelu.</span><span class="sxs-lookup"><span data-stu-id="df694-214">For example, the controller handles route data and query-string values, and passes these values to the model.</span></span> <span data-ttu-id="df694-215">Model může použít tyto hodnoty k dotazování databáze.</span><span class="sxs-lookup"><span data-stu-id="df694-215">The model might use these values to query the database.</span></span> <span data-ttu-id="df694-216">Například `https://localhost:5001/Home/About` má data `Home` trasy (kontroleru) a `About` (metoda akce pro volání na domácím řadiči).</span><span class="sxs-lookup"><span data-stu-id="df694-216">For example, `https://localhost:5001/Home/About` has route data of `Home` (the controller) and `About` (the action method to call on the home controller).</span></span> <span data-ttu-id="df694-217">`https://localhost:5001/Movies/Edit/5`je požadavek na úpravu filmu pomocí ID=5 pomocí filmového ovladače.</span><span class="sxs-lookup"><span data-stu-id="df694-217">`https://localhost:5001/Movies/Edit/5` is a request to edit the movie with ID=5 using the movie controller.</span></span> <span data-ttu-id="df694-218">Data trasy jsou vysvětlena dále v kurzu.</span><span class="sxs-lookup"><span data-stu-id="df694-218">Route data is explained later in the tutorial.</span></span>

<span data-ttu-id="df694-219">Vzor MVC pomáhá vytvářet aplikace, které oddělují různé aspekty aplikace (vstupní logika, obchodní logika a logika uživatelského rozhraní) a zároveň poskytují volné párování mezi těmito prvky.</span><span class="sxs-lookup"><span data-stu-id="df694-219">The MVC pattern helps you create apps that separate the different aspects of the app (input logic, business logic, and UI logic), while providing a loose coupling between these elements.</span></span> <span data-ttu-id="df694-220">Vzor určuje, kde by měl být každý druh logiky umístěn v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="df694-220">The pattern specifies where each kind of logic should be located in the app.</span></span> <span data-ttu-id="df694-221">Logika ui patří do zobrazení.</span><span class="sxs-lookup"><span data-stu-id="df694-221">The UI logic belongs in the view.</span></span> <span data-ttu-id="df694-222">Vstupní logika patří do řadiče.</span><span class="sxs-lookup"><span data-stu-id="df694-222">Input logic belongs in the controller.</span></span> <span data-ttu-id="df694-223">Obchodní logika patří do modelu.</span><span class="sxs-lookup"><span data-stu-id="df694-223">Business logic belongs in the model.</span></span> <span data-ttu-id="df694-224">Toto oddělení pomáhá spravovat složitost při vytváření aplikace, protože umožňuje pracovat na jednom aspektu implementace najednou bez dopadu na kód jiného.</span><span class="sxs-lookup"><span data-stu-id="df694-224">This separation helps you manage complexity when you build an app, because it enables you to work on one aspect of the implementation at a time without impacting the code of another.</span></span> <span data-ttu-id="df694-225">Můžete například pracovat na kódu zobrazení bez v závislosti na kódu obchodní logiky.</span><span class="sxs-lookup"><span data-stu-id="df694-225">For example, you can work on the view code without depending on the business logic code.</span></span>

<span data-ttu-id="df694-226">Tyto koncepty pokrýváme v této sérii kurzů a ukážeme vám, jak je používat k vytvoření filmové aplikace.</span><span class="sxs-lookup"><span data-stu-id="df694-226">We cover these concepts in this tutorial series and show you how to use them to build a movie app.</span></span> <span data-ttu-id="df694-227">Projekt MVC obsahuje složky pro *řadiče* a *zobrazení*.</span><span class="sxs-lookup"><span data-stu-id="df694-227">The MVC project contains folders for the *Controllers* and *Views*.</span></span>

## <a name="add-a-controller"></a><span data-ttu-id="df694-228">Přidání kontroleru</span><span class="sxs-lookup"><span data-stu-id="df694-228">Add a controller</span></span>

# <a name="visual-studio"></a>[<span data-ttu-id="df694-229">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="df694-229">Visual Studio</span></span>](#tab/visual-studio)

* <span data-ttu-id="df694-230">V **Průzkumníku řešení**klepněte pravým tlačítkem myši na **položku Řadiče > kontextová nabídka Přidat > řadiče.**
  ![](adding-controller/_static/add_controller.png)</span><span class="sxs-lookup"><span data-stu-id="df694-230">In **Solution Explorer**, right-click **Controllers > Add > Controller**
![Contextual menu](adding-controller/_static/add_controller.png)</span></span>

* <span data-ttu-id="df694-231">V dialogovém okně **Přidat písmo** vyberte **Ovladač MVC – prázdný.**</span><span class="sxs-lookup"><span data-stu-id="df694-231">In the **Add Scaffold** dialog box, select **MVC Controller - Empty**</span></span>

  ![Přidejte řadič MVC a pojmenujte jej](adding-controller/_static/ac.png)

* <span data-ttu-id="df694-233">V **dialogovém okně Přidat prázdný řadič MVC**zadejte **HelloWorldController** a vyberte **PŘIDAT**.</span><span class="sxs-lookup"><span data-stu-id="df694-233">In the **Add Empty MVC Controller dialog**, enter **HelloWorldController** and select **ADD**.</span></span>

# <a name="visual-studio-code"></a>[<span data-ttu-id="df694-234">Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="df694-234">Visual Studio Code</span></span>](#tab/visual-studio-code)

<span data-ttu-id="df694-235">Vyberte ikonu **EXPLORER** a potom klepněte na ovladače (po kliknutí pravým tlačítkem myši) **> nový soubor** a pojmenujte nový soubor *HelloWorldController.cs*.</span><span class="sxs-lookup"><span data-stu-id="df694-235">Select the **EXPLORER** icon and then control-click (right-click) **Controllers > New File** and name the new file *HelloWorldController.cs*.</span></span>

  ![Kontextová nabídka](~/tutorials/first-mvc-app-xplat/adding-controller/_static/new_file.png)

# <a name="visual-studio-for-mac"></a>[<span data-ttu-id="df694-237">Visual Studio pro Mac</span><span class="sxs-lookup"><span data-stu-id="df694-237">Visual Studio for Mac</span></span>](#tab/visual-studio-mac)

<span data-ttu-id="df694-238">V **Průzkumníku řešení**klepněte pravým tlačítkem myši na **položku Řadiče > přidat > nový soubor**.</span><span class="sxs-lookup"><span data-stu-id="df694-238">In **Solution Explorer**, right-click **Controllers > Add > New File**.</span></span>
<span data-ttu-id="df694-239">![Kontextová nabídka](~/tutorials/first-mvc-app-mac/adding-controller/_static/add_controller.png)</span><span class="sxs-lookup"><span data-stu-id="df694-239">![Contextual menu](~/tutorials/first-mvc-app-mac/adding-controller/_static/add_controller.png)</span></span>

<span data-ttu-id="df694-240">Vyberte **ASP.NET třídu řadiče jádra** a **MVC**.</span><span class="sxs-lookup"><span data-stu-id="df694-240">Select **ASP.NET Core** and **MVC Controller Class**.</span></span>

<span data-ttu-id="df694-241">Pojmenujte řadič **HelloWorldController**.</span><span class="sxs-lookup"><span data-stu-id="df694-241">Name the controller **HelloWorldController**.</span></span>

![Přidejte řadič MVC a pojmenujte jej](~/tutorials/first-mvc-app-mac/adding-controller/_static/ac.png)

---

<span data-ttu-id="df694-243">Nahraďte obsah *controllers/HelloWorldController.cs* následujícím:</span><span class="sxs-lookup"><span data-stu-id="df694-243">Replace the contents of *Controllers/HelloWorldController.cs* with the following:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_1)]

<span data-ttu-id="df694-244">Každá `public` metoda v řadiči je volatelná jako koncový bod HTTP.</span><span class="sxs-lookup"><span data-stu-id="df694-244">Every `public` method in a controller is callable as an HTTP endpoint.</span></span> <span data-ttu-id="df694-245">Ve výše uvedeném vzorku obě metody vrátí řetězec.</span><span class="sxs-lookup"><span data-stu-id="df694-245">In the sample above, both methods return a string.</span></span> <span data-ttu-id="df694-246">Všimněte si komentáře předcházející jednotlivé metody.</span><span class="sxs-lookup"><span data-stu-id="df694-246">Note the comments preceding each method.</span></span>

<span data-ttu-id="df694-247">Koncový bod HTTP je cílitelná adresa URL `https://localhost:5001/HelloWorld`ve webové aplikaci, `HTTPS`například , a kombinuje použitý protokol: , `localhost:5001` síťové umístění `HelloWorld`webového serveru (včetně portu TCP): a cílový identifikátor URI .</span><span class="sxs-lookup"><span data-stu-id="df694-247">An HTTP endpoint is a targetable URL in the web application, such as `https://localhost:5001/HelloWorld`, and combines the protocol used: `HTTPS`, the network location of the web server (including the TCP port): `localhost:5001` and the target URI `HelloWorld`.</span></span>

<span data-ttu-id="df694-248">První komentář uvádí, že se jedná o metodu `/HelloWorld/` [HTTP GET,](https://www.w3schools.com/tags/ref_httpmethods.asp) která je vyvolána připojením k základní adrese URL.</span><span class="sxs-lookup"><span data-stu-id="df694-248">The first comment states this is an [HTTP GET](https://www.w3schools.com/tags/ref_httpmethods.asp) method that's invoked by appending `/HelloWorld/` to the base URL.</span></span> <span data-ttu-id="df694-249">Druhý komentář určuje metodu [HTTP GET,](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) která je `/HelloWorld/Welcome/` vyvolána připojením k adrese URL.</span><span class="sxs-lookup"><span data-stu-id="df694-249">The second comment specifies an [HTTP GET](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) method that's invoked by appending `/HelloWorld/Welcome/` to the URL.</span></span> <span data-ttu-id="df694-250">Později v tutoriálu generování uživatelského stroji `HTTP POST` se používá ke generování metod, které aktualizují data.</span><span class="sxs-lookup"><span data-stu-id="df694-250">Later on in the tutorial the scaffolding engine is used to generate `HTTP POST` methods which update data.</span></span>

<span data-ttu-id="df694-251">Spusťte aplikaci v režimu bez ladění a připojte "HelloWorld" k cestě v adresním řádku.</span><span class="sxs-lookup"><span data-stu-id="df694-251">Run the app in non-debug mode and append "HelloWorld" to the path in the address bar.</span></span> <span data-ttu-id="df694-252">Metoda `Index` vrátí řetězec.</span><span class="sxs-lookup"><span data-stu-id="df694-252">The `Index` method returns a string.</span></span>

![Okno prohlížeče zobrazující odpověď aplikace Toto je moje výchozí akce](~/tutorials/first-mvc-app/adding-controller/_static/hell1.png)

<span data-ttu-id="df694-254">MVC vyvolá třídy kontroleru (a metody akce v nich) v závislosti na příchozí adrese URL.</span><span class="sxs-lookup"><span data-stu-id="df694-254">MVC invokes controller classes (and the action methods within them) depending on the incoming URL.</span></span> <span data-ttu-id="df694-255">Výchozí [logika směrování adres URL](xref:mvc/controllers/routing) používaná mvc používá formát, jako je tento k určení, jaký kód vyvolat:</span><span class="sxs-lookup"><span data-stu-id="df694-255">The default [URL routing logic](xref:mvc/controllers/routing) used by MVC uses a format like this to determine what code to invoke:</span></span>

`/[Controller]/[ActionName]/[Parameters]`

<span data-ttu-id="df694-256">Formát směrování je nastaven `Configure` v metodě v *Startup.cs* souboru.</span><span class="sxs-lookup"><span data-stu-id="df694-256">The routing format is set in the `Configure` method in *Startup.cs* file.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]

<!-- 
Add link to explain lambda.
Remove link for simplified tutorial.
-->

<span data-ttu-id="df694-257">Když přejdete do aplikace a nezadáte žádné segmenty URL, výchozí nastavení "Home" řadič a "Index" metoda zadaná v řádku šablony zvýrazněné výše.</span><span class="sxs-lookup"><span data-stu-id="df694-257">When you browse to the app and don't supply any URL segments, it defaults to the "Home" controller and the "Index" method specified in the template line highlighted above.</span></span>

<span data-ttu-id="df694-258">První segment adresy URL určuje třídu řadiče ke spuštění.</span><span class="sxs-lookup"><span data-stu-id="df694-258">The first URL segment determines the controller class to run.</span></span> <span data-ttu-id="df694-259">Takže `localhost:{PORT}/HelloWorld` mapy `HelloWorldController` do třídy.</span><span class="sxs-lookup"><span data-stu-id="df694-259">So `localhost:{PORT}/HelloWorld` maps to the `HelloWorldController` class.</span></span> <span data-ttu-id="df694-260">Druhá část segmentu URL určuje metodu akce ve třídě.</span><span class="sxs-lookup"><span data-stu-id="df694-260">The second part of the URL segment determines the action method on the class.</span></span> <span data-ttu-id="df694-261">Tak `localhost:{PORT}/HelloWorld/Index` by `Index` způsobit spuštění `HelloWorldController` metody třídy.</span><span class="sxs-lookup"><span data-stu-id="df694-261">So `localhost:{PORT}/HelloWorld/Index` would cause the `Index` method of the `HelloWorldController` class to run.</span></span> <span data-ttu-id="df694-262">Všimněte si, že `localhost:{PORT}/HelloWorld` jste `Index` museli pouze procházet a metoda byla volána ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="df694-262">Notice that you only had to browse to `localhost:{PORT}/HelloWorld` and the `Index` method was called by default.</span></span> <span data-ttu-id="df694-263">Důvodem `Index` je výchozí metoda, která bude volána na řadiči, pokud název metody není explicitně zadán.</span><span class="sxs-lookup"><span data-stu-id="df694-263">This is because `Index` is the default method that will be called on a controller if a method name isn't explicitly specified.</span></span> <span data-ttu-id="df694-264">Třetí část segmentu URL `id`( ) je pro data trasy.</span><span class="sxs-lookup"><span data-stu-id="df694-264">The third part of the URL segment ( `id`) is for route data.</span></span> <span data-ttu-id="df694-265">Data trasy jsou vysvětlena dále v kurzu.</span><span class="sxs-lookup"><span data-stu-id="df694-265">Route data is explained later in the tutorial.</span></span>

<span data-ttu-id="df694-266">Přejděte na `https://localhost:{PORT}/HelloWorld/Welcome`.</span><span class="sxs-lookup"><span data-stu-id="df694-266">Browse to `https://localhost:{PORT}/HelloWorld/Welcome`.</span></span> <span data-ttu-id="df694-267">Metoda `Welcome` spustí a vrátí `This is the Welcome action method...`řetězec .</span><span class="sxs-lookup"><span data-stu-id="df694-267">The `Welcome` method runs and returns the string `This is the Welcome action method...`.</span></span> <span data-ttu-id="df694-268">Pro tuto adresu URL `HelloWorld` `Welcome` je a je metoda akce.</span><span class="sxs-lookup"><span data-stu-id="df694-268">For this URL, the controller is `HelloWorld` and `Welcome` is the action method.</span></span> <span data-ttu-id="df694-269">Část adresy URL `[Parameters]` jste ještě nepoužili.</span><span class="sxs-lookup"><span data-stu-id="df694-269">You haven't used the `[Parameters]` part of the URL yet.</span></span>

![Okno prohlížeče zobrazující odpověď aplikace Toto je metoda uvítací akce](~/tutorials/first-mvc-app/adding-controller/_static/welcome.png)

<span data-ttu-id="df694-271">Upravte kód tak, aby předává některé informace o parametrech z adresy URL do řadiče.</span><span class="sxs-lookup"><span data-stu-id="df694-271">Modify the code to pass some parameter information from the URL to the controller.</span></span> <span data-ttu-id="df694-272">Například, `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span><span class="sxs-lookup"><span data-stu-id="df694-272">For example, `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span></span> <span data-ttu-id="df694-273">Změňte `Welcome` metodu tak, aby zahrnovala dva parametry, jak je znázorněno v následujícím kódu.</span><span class="sxs-lookup"><span data-stu-id="df694-273">Change the `Welcome` method to include two parameters as shown in the following code.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_2)]

<span data-ttu-id="df694-274">Předcházející kód:</span><span class="sxs-lookup"><span data-stu-id="df694-274">The preceding code:</span></span>

* <span data-ttu-id="df694-275">Používá c# volitelné parametr funkce k `numTimes` označení, že parametr výchozí 1, pokud žádná hodnota je předána pro tento parametr.</span><span class="sxs-lookup"><span data-stu-id="df694-275">Uses the C# optional-parameter feature to indicate that the `numTimes` parameter defaults to 1 if no value is passed for that parameter.</span></span> <!-- remove for simplified -->
* <span data-ttu-id="df694-276">Používá `HtmlEncoder.Default.Encode` se k ochraně aplikace před škodlivým vstupem (jmenovitě JavaScript).</span><span class="sxs-lookup"><span data-stu-id="df694-276">Uses `HtmlEncoder.Default.Encode` to protect the app from malicious input (namely JavaScript).</span></span>
* <span data-ttu-id="df694-277">Používá [interpolované řetězce](/dotnet/articles/csharp/language-reference/keywords/interpolated-strings) `$"Hello {name}, NumTimes is: {numTimes}"`v .</span><span class="sxs-lookup"><span data-stu-id="df694-277">Uses [Interpolated Strings](/dotnet/articles/csharp/language-reference/keywords/interpolated-strings) in `$"Hello {name}, NumTimes is: {numTimes}"`.</span></span> <!-- remove for simplified -->

<span data-ttu-id="df694-278">Spusťte aplikaci a přejděte na:</span><span class="sxs-lookup"><span data-stu-id="df694-278">Run the app and browse to:</span></span>

   `https://localhost:{PORT}/HelloWorld/Welcome?name=Rick&numtimes=4`

<span data-ttu-id="df694-279">(Nahraďte `{PORT}` číslem portu.) Můžete vyzkoušet různé `name` `numtimes` hodnoty pro a v adrese URL.</span><span class="sxs-lookup"><span data-stu-id="df694-279">(Replace `{PORT}` with your port number.) You can try different values for `name` and `numtimes` in the URL.</span></span> <span data-ttu-id="df694-280">Systém [vazby modelu](xref:mvc/models/model-binding) MVC automaticky mapuje pojmenované parametry z řetězce dotazu v adresním řádku na parametry ve vaší metodě.</span><span class="sxs-lookup"><span data-stu-id="df694-280">The MVC [model binding](xref:mvc/models/model-binding) system automatically maps the named parameters from the query string in the address bar to parameters in your method.</span></span> <span data-ttu-id="df694-281">Další informace naleznete [v tématu Vazba modelu.](xref:mvc/models/model-binding)</span><span class="sxs-lookup"><span data-stu-id="df694-281">See [Model Binding](xref:mvc/models/model-binding) for more information.</span></span>

![Okno prohlížeče zobrazující odpověď aplikace Hello Rick, NumTimes je\: 4](~/tutorials/first-mvc-app/adding-controller/_static/rick4.png)

<span data-ttu-id="df694-283">Na obrázku výše se`Parameters`segment URL ( ) `name` `numTimes` nepoužívá, parametry a jsou předány v [řetězci dotazu](https://wikipedia.org/wiki/Query_string).</span><span class="sxs-lookup"><span data-stu-id="df694-283">In the image above, the URL segment (`Parameters`) isn't used, the `name` and `numTimes` parameters are passed in the [query string](https://wikipedia.org/wiki/Query_string).</span></span> <span data-ttu-id="df694-284">`?` (otazník) ve výše uvedené adrese URL je oddělovač a následuje řetězec dotazu.</span><span class="sxs-lookup"><span data-stu-id="df694-284">The `?` (question mark) in the above URL is a separator, and the query string follows.</span></span> <span data-ttu-id="df694-285">Znak `&` odděluje dvojice polí a hodnot.</span><span class="sxs-lookup"><span data-stu-id="df694-285">The `&` character separates field-value pairs.</span></span>

<span data-ttu-id="df694-286">Nahraďte metodu `Welcome` následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="df694-286">Replace the `Welcome` method with the following code:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_3)]

<span data-ttu-id="df694-287">Spusťte aplikaci a zadejte následující adresu URL:`https://localhost:{PORT}/HelloWorld/Welcome/3?name=Rick`</span><span class="sxs-lookup"><span data-stu-id="df694-287">Run the app and enter the following URL: `https://localhost:{PORT}/HelloWorld/Welcome/3?name=Rick`</span></span>

<span data-ttu-id="df694-288">Tentokrát třetí segment URL odpovídal parametru `id`trasy .</span><span class="sxs-lookup"><span data-stu-id="df694-288">This time the third URL segment matched the route parameter `id`.</span></span> <span data-ttu-id="df694-289">Metoda `Welcome` obsahuje parametr, `id` který odpovídá šabloně `MapRoute` adresy URL v metodě.</span><span class="sxs-lookup"><span data-stu-id="df694-289">The `Welcome` method contains a parameter `id` that matched the URL template in the `MapRoute` method.</span></span> <span data-ttu-id="df694-290">Koncové `?` (in `id?`) označuje, že `id` parametr je volitelný.</span><span class="sxs-lookup"><span data-stu-id="df694-290">The trailing `?` (in `id?`) indicates the `id` parameter is optional.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]

<span data-ttu-id="df694-291">V těchto příkladech řadič provádí část "VC" MVC - to znamená, že zobrazení a kontrolor práce.</span><span class="sxs-lookup"><span data-stu-id="df694-291">In these examples the controller has been doing the "VC" portion of MVC - that is, the view and controller work.</span></span> <span data-ttu-id="df694-292">Řadič vrací HTML přímo.</span><span class="sxs-lookup"><span data-stu-id="df694-292">The controller is returning HTML directly.</span></span> <span data-ttu-id="df694-293">Obecně nechcete, aby řadiče vracet HTML přímo, protože to se stává velmi těžkopádné kód a udržovat.</span><span class="sxs-lookup"><span data-stu-id="df694-293">Generally you don't want controllers returning HTML directly, since that becomes very cumbersome to code and maintain.</span></span> <span data-ttu-id="df694-294">Místo toho obvykle používáte samostatný soubor šablony zobrazení Razor, který pomáhá generovat odpověď HTML.</span><span class="sxs-lookup"><span data-stu-id="df694-294">Instead you typically use a separate Razor view template file to help generate the HTML response.</span></span> <span data-ttu-id="df694-295">Můžete to udělat v dalším tutoriálu.</span><span class="sxs-lookup"><span data-stu-id="df694-295">You do that in the next tutorial.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="df694-296">[Předchozí](start-mvc.md)
> [další](adding-view.md)</span><span class="sxs-lookup"><span data-stu-id="df694-296">[Previous](start-mvc.md)
[Next](adding-view.md)</span></span>

::: moniker-end
