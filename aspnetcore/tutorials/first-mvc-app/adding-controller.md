---
title: Přidání kontroleru do aplikace ASP.NET Core MVC
author: rick-anderson
description: Naučte se, jak přidat kontroler do jednoduché aplikace ASP.NET Core MVC.
ms.author: riande
ms.date: 08/05/2017
no-loc:
- Blazor
- Identity
- Let's Encrypt
- Razor
- SignalR
uid: tutorials/first-mvc-app/adding-controller
ms.openlocfilehash: ce6248854c738733f75c40ed8ec6100f35ab4971
ms.sourcegitcommit: 70e5f982c218db82aa54aa8b8d96b377cfc7283f
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/04/2020
ms.locfileid: "82776308"
---
# <a name="add-a-controller-to-an-aspnet-core-mvc-app"></a><span data-ttu-id="d1e66-103">Přidání kontroleru do aplikace ASP.NET Core MVC</span><span class="sxs-lookup"><span data-stu-id="d1e66-103">Add a controller to an ASP.NET Core MVC app</span></span>

<span data-ttu-id="d1e66-104">Autor: [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="d1e66-104">By [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

::: moniker range=">= aspnetcore-3.0"

<span data-ttu-id="d1e66-105">Architektonický vzor architektury MVC (Model-View-Controller) odděluje aplikaci na tři hlavní komponenty: **M**Odel, **V a v** **C**ontroller.</span><span class="sxs-lookup"><span data-stu-id="d1e66-105">The Model-View-Controller (MVC) architectural pattern separates an app into three main components: **M**odel, **V**iew, and **C**ontroller.</span></span> <span data-ttu-id="d1e66-106">Vzor MVC vám pomůže vytvářet aplikace, které jsou více testovatelné a snáze aktualizovat než tradiční aplikace monolitické.</span><span class="sxs-lookup"><span data-stu-id="d1e66-106">The MVC pattern helps you create apps that are more testable and easier to update than traditional monolithic apps.</span></span> <span data-ttu-id="d1e66-107">Aplikace založené na MVC obsahují:</span><span class="sxs-lookup"><span data-stu-id="d1e66-107">MVC-based apps contain:</span></span>

* <span data-ttu-id="d1e66-108">**M**Odels: třídy, které reprezentují data aplikace.</span><span class="sxs-lookup"><span data-stu-id="d1e66-108">**M**odels: Classes that represent the data of the app.</span></span> <span data-ttu-id="d1e66-109">Třídy modelu používají ověřovací logiku k vyhodnocování obchodních pravidel pro tato data.</span><span class="sxs-lookup"><span data-stu-id="d1e66-109">The model classes use validation logic to enforce business rules for that data.</span></span> <span data-ttu-id="d1e66-110">Objekty modelu obvykle načítají a ukládají stav modelu v databázi.</span><span class="sxs-lookup"><span data-stu-id="d1e66-110">Typically, model objects retrieve and store model state in a database.</span></span> <span data-ttu-id="d1e66-111">V tomto kurzu `Movie` model načte z databáze filmové data a poskytne ho zobrazení nebo aktualizuje.</span><span class="sxs-lookup"><span data-stu-id="d1e66-111">In this tutorial, a `Movie` model retrieves movie data from a database, provides it to the view or updates it.</span></span> <span data-ttu-id="d1e66-112">Aktualizovaná data jsou zapsána do databáze.</span><span class="sxs-lookup"><span data-stu-id="d1e66-112">Updated data is written to a database.</span></span>

* <span data-ttu-id="d1e66-113">**V**Iews: zobrazení jsou komponenty, které zobrazují uživatelské rozhraní (UI) aplikace.</span><span class="sxs-lookup"><span data-stu-id="d1e66-113">**V**iews: Views are the components that display the app's user interface (UI).</span></span> <span data-ttu-id="d1e66-114">Obecně toto uživatelské rozhraní zobrazuje data modelu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-114">Generally, this UI displays the model data.</span></span>

* <span data-ttu-id="d1e66-115">**C**Ontrollers: třídy, které zpracovávají požadavky prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="d1e66-115">**C**ontrollers: Classes that handle browser requests.</span></span> <span data-ttu-id="d1e66-116">Načítají data modelu a šablony zobrazení volání, které vracejí odpověď.</span><span class="sxs-lookup"><span data-stu-id="d1e66-116">They retrieve model data and call view templates that return a response.</span></span> <span data-ttu-id="d1e66-117">V aplikaci MVC zobrazení zobrazuje pouze informace; kontroler zpracovává a reaguje na vstupy a interakce uživatele.</span><span class="sxs-lookup"><span data-stu-id="d1e66-117">In an MVC app, the view only displays information; the controller handles and responds to user input and interaction.</span></span> <span data-ttu-id="d1e66-118">Například kontroler zpracovává směrování dat a hodnot řetězce dotazu a předá tyto hodnoty do modelu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-118">For example, the controller handles route data and query-string values, and passes these values to the model.</span></span> <span data-ttu-id="d1e66-119">Model může tyto hodnoty použít k dotazování databáze.</span><span class="sxs-lookup"><span data-stu-id="d1e66-119">The model might use these values to query the database.</span></span> <span data-ttu-id="d1e66-120">Například `https://localhost:5001/Home/Privacy` má směrovací údaje `Home` (Controller) a `Privacy` (metoda akce, která má být volána na domovský kontroler).</span><span class="sxs-lookup"><span data-stu-id="d1e66-120">For example, `https://localhost:5001/Home/Privacy` has route data of `Home` (the controller) and `Privacy` (the action method to call on the home controller).</span></span> <span data-ttu-id="d1e66-121">`https://localhost:5001/Movies/Edit/5`je požadavek na úpravu filmu s ID = 5 pomocí kontroleru filmů.</span><span class="sxs-lookup"><span data-stu-id="d1e66-121">`https://localhost:5001/Movies/Edit/5` is a request to edit the movie with ID=5 using the movie controller.</span></span> <span data-ttu-id="d1e66-122">Údaje o trasách jsou vysvětleny dále v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-122">Route data is explained later in the tutorial.</span></span>

<span data-ttu-id="d1e66-123">Vzor MVC vám pomůže vytvářet aplikace, které oddělují různé aspekty aplikace (vstupní logika, obchodní logika a logika uživatelského rozhraní), a současně poskytuje volné spojení mezi těmito prvky.</span><span class="sxs-lookup"><span data-stu-id="d1e66-123">The MVC pattern helps you create apps that separate the different aspects of the app (input logic, business logic, and UI logic), while providing a loose coupling between these elements.</span></span> <span data-ttu-id="d1e66-124">Vzor určuje, kde by měl být každý druh logiky umístěný v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="d1e66-124">The pattern specifies where each kind of logic should be located in the app.</span></span> <span data-ttu-id="d1e66-125">Logika uživatelského rozhraní patří do zobrazení.</span><span class="sxs-lookup"><span data-stu-id="d1e66-125">The UI logic belongs in the view.</span></span> <span data-ttu-id="d1e66-126">Vstupní logika patří do kontroleru.</span><span class="sxs-lookup"><span data-stu-id="d1e66-126">Input logic belongs in the controller.</span></span> <span data-ttu-id="d1e66-127">Obchodní logika patří do modelu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-127">Business logic belongs in the model.</span></span> <span data-ttu-id="d1e66-128">Toto oddělení vám pomůže se správou složitosti při sestavování aplikace, protože umožňuje pracovat na jednom aspektu implementace v čase, aniž by to mělo vliv na jiný kód.</span><span class="sxs-lookup"><span data-stu-id="d1e66-128">This separation helps you manage complexity when you build an app, because it enables you to work on one aspect of the implementation at a time without impacting the code of another.</span></span> <span data-ttu-id="d1e66-129">Můžete například pracovat s kódem zobrazení bez závislosti na kódu obchodní logiky.</span><span class="sxs-lookup"><span data-stu-id="d1e66-129">For example, you can work on the view code without depending on the business logic code.</span></span>

<span data-ttu-id="d1e66-130">Tyto koncepty popisujeme v této sérii kurzů a ukážeme vám, jak je použít k vytvoření filmové aplikace.</span><span class="sxs-lookup"><span data-stu-id="d1e66-130">We cover these concepts in this tutorial series and show you how to use them to build a movie app.</span></span> <span data-ttu-id="d1e66-131">Projekt MVC obsahuje složky pro *řadiče* a *zobrazení*.</span><span class="sxs-lookup"><span data-stu-id="d1e66-131">The MVC project contains folders for the *Controllers* and *Views*.</span></span>

## <a name="add-a-controller"></a><span data-ttu-id="d1e66-132">Přidání kontroleru</span><span class="sxs-lookup"><span data-stu-id="d1e66-132">Add a controller</span></span>

# <a name="visual-studio"></a>[<span data-ttu-id="d1e66-133">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d1e66-133">Visual Studio</span></span>](#tab/visual-studio)

* <span data-ttu-id="d1e66-134">V **Průzkumník řešení**klikněte pravým tlačítkem na **řadiče > přidat >**
  ![místní nabídku.](adding-controller/_static/add_controller.png)</span><span class="sxs-lookup"><span data-stu-id="d1e66-134">In **Solution Explorer**, right-click **Controllers > Add > Controller**
![Contextual menu](adding-controller/_static/add_controller.png)</span></span>

* <span data-ttu-id="d1e66-135">V dialogovém okně **Přidat generování uživatelského rozhraní** vyberte možnost **kontroler MVC – prázdné** .</span><span class="sxs-lookup"><span data-stu-id="d1e66-135">In the **Add Scaffold** dialog box, select **MVC Controller - Empty**</span></span>

  ![Přidat kontroler MVC a pojmenovat](adding-controller/_static/ac.png)

* <span data-ttu-id="d1e66-137">V **dialogovém okně Přidat prázdný řadič MVC**zadejte **HelloWorldController** a vyberte **Přidat**.</span><span class="sxs-lookup"><span data-stu-id="d1e66-137">In the **Add Empty MVC Controller dialog**, enter **HelloWorldController** and select **ADD**.</span></span>

# <a name="visual-studio-code"></a>[<span data-ttu-id="d1e66-138">Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="d1e66-138">Visual Studio Code</span></span>](#tab/visual-studio-code)

<span data-ttu-id="d1e66-139">Vyberte ikonu **Průzkumníka** a potom klikněte na řídicí panel (klikněte pravým tlačítkem myši) **> nový soubor** a pojmenujte nový soubor *HelloWorldController.cs*.</span><span class="sxs-lookup"><span data-stu-id="d1e66-139">Select the **EXPLORER** icon and then control-click (right-click) **Controllers > New File** and name the new file *HelloWorldController.cs*.</span></span>

  ![Kontextová nabídka](~/tutorials/first-mvc-app-xplat/adding-controller/_static/new_file.png)

# <a name="visual-studio-for-mac"></a>[<span data-ttu-id="d1e66-141">Visual Studio pro Mac</span><span class="sxs-lookup"><span data-stu-id="d1e66-141">Visual Studio for Mac</span></span>](#tab/visual-studio-mac)

<span data-ttu-id="d1e66-142">V **Průzkumník řešení**klikněte pravým tlačítkem na **řadiče > přidat > nový soubor**.</span><span class="sxs-lookup"><span data-stu-id="d1e66-142">In **Solution Explorer**, right-click **Controllers > Add > New File**.</span></span>
<span data-ttu-id="d1e66-143">![Kontextová nabídka](~/tutorials/first-mvc-app-mac/adding-controller/_static/add_controller.png)</span><span class="sxs-lookup"><span data-stu-id="d1e66-143">![Contextual menu](~/tutorials/first-mvc-app-mac/adding-controller/_static/add_controller.png)</span></span>

<span data-ttu-id="d1e66-144">Vyberte **ASP.NET Core** a **třídu kontroleru MVC**.</span><span class="sxs-lookup"><span data-stu-id="d1e66-144">Select **ASP.NET Core** and **MVC Controller Class**.</span></span>

<span data-ttu-id="d1e66-145">Pojmenujte kontroler **HelloWorldController**.</span><span class="sxs-lookup"><span data-stu-id="d1e66-145">Name the controller **HelloWorldController**.</span></span>

![Přidat kontroler MVC a pojmenovat](~/tutorials/first-mvc-app-mac/adding-controller/_static/ac.png)

---

<span data-ttu-id="d1e66-147">Obsah *Controllers/HelloWorldController. cs* nahraďte následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="d1e66-147">Replace the contents of *Controllers/HelloWorldController.cs* with the following:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_1)]

<span data-ttu-id="d1e66-148">Každá `public` metoda v kontroleru se může volat jako koncový bod HTTP.</span><span class="sxs-lookup"><span data-stu-id="d1e66-148">Every `public` method in a controller is callable as an HTTP endpoint.</span></span> <span data-ttu-id="d1e66-149">V ukázce výše obě metody vrací řetězec.</span><span class="sxs-lookup"><span data-stu-id="d1e66-149">In the sample above, both methods return a string.</span></span> <span data-ttu-id="d1e66-150">Všimněte si komentářů před jednotlivými metodami.</span><span class="sxs-lookup"><span data-stu-id="d1e66-150">Note the comments preceding each method.</span></span>

<span data-ttu-id="d1e66-151">Koncový bod `https://localhost:5001/HelloWorld`http je cílová adresa URL ve webové aplikaci, například a kombinuje použitý protokol: `HTTPS`, síťové umístění webového serveru (včetně portu TCP): `localhost:5001` a cílový identifikátor URI. `HelloWorld`</span><span class="sxs-lookup"><span data-stu-id="d1e66-151">An HTTP endpoint is a targetable URL in the web application, such as `https://localhost:5001/HelloWorld`, and combines the protocol used: `HTTPS`, the network location of the web server (including the TCP port): `localhost:5001` and the target URI `HelloWorld`.</span></span>

<span data-ttu-id="d1e66-152">První komentář uvádí metodu [HTTP GET](https://www.w3schools.com/tags/ref_httpmethods.asp) , která je vyvolána připojením `/HelloWorld/` k základní adrese URL.</span><span class="sxs-lookup"><span data-stu-id="d1e66-152">The first comment states this is an [HTTP GET](https://www.w3schools.com/tags/ref_httpmethods.asp) method that's invoked by appending `/HelloWorld/` to the base URL.</span></span> <span data-ttu-id="d1e66-153">Druhý komentář určuje metodu [HTTP GET](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) , která je vyvolána připojením `/HelloWorld/Welcome/` k adrese URL.</span><span class="sxs-lookup"><span data-stu-id="d1e66-153">The second comment specifies an [HTTP GET](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) method that's invoked by appending `/HelloWorld/Welcome/` to the URL.</span></span> <span data-ttu-id="d1e66-154">Později v tomto kurzu se modul generování uživatelského rozhraní používá ke generování `HTTP POST` metod, které aktualizují data.</span><span class="sxs-lookup"><span data-stu-id="d1e66-154">Later on in the tutorial the scaffolding engine is used to generate `HTTP POST` methods which update data.</span></span>

<span data-ttu-id="d1e66-155">Spusťte aplikaci v režimu bez ladění a přidejte "HelloWorld" do cesty na adresním řádku.</span><span class="sxs-lookup"><span data-stu-id="d1e66-155">Run the app in non-debug mode and append "HelloWorld" to the path in the address bar.</span></span> <span data-ttu-id="d1e66-156">`Index` Metoda vrátí řetězec.</span><span class="sxs-lookup"><span data-stu-id="d1e66-156">The `Index` method returns a string.</span></span>

![Okno prohlížeče zobrazující odezvu aplikace na toto je moje výchozí akce.](~/tutorials/first-mvc-app/adding-controller/_static/hell1.png)

<span data-ttu-id="d1e66-158">MVC vyvolá třídy kontroleru (a metody akcí v nich) v závislosti na příchozí adrese URL.</span><span class="sxs-lookup"><span data-stu-id="d1e66-158">MVC invokes controller classes (and the action methods within them) depending on the incoming URL.</span></span> <span data-ttu-id="d1e66-159">Výchozí [logika směrování adres URL](xref:mvc/controllers/routing) , kterou používá MVC, používá formát podobný tomuto: k určení kódu, který se má vyvolat:</span><span class="sxs-lookup"><span data-stu-id="d1e66-159">The default [URL routing logic](xref:mvc/controllers/routing) used by MVC uses a format like this to determine what code to invoke:</span></span>

`/[Controller]/[ActionName]/[Parameters]`

<span data-ttu-id="d1e66-160">Formát směrování je nastaven v `Configure` metodě v souboru *Startup.cs* .</span><span class="sxs-lookup"><span data-stu-id="d1e66-160">The routing format is set in the `Configure` method in *Startup.cs* file.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie3/Startup.cs?name=snippet_1&highlight=5)]

<span data-ttu-id="d1e66-161">Když přejdete do aplikace a nezadáte žádné segmenty adresy URL, použije se výchozí řídicí řadič a metoda "index" zadaná na řádku šablony, který se výše zvýrazní.</span><span class="sxs-lookup"><span data-stu-id="d1e66-161">When you browse to the app and don't supply any URL segments, it defaults to the "Home" controller and the "Index" method specified in the template line highlighted above.</span></span>

<span data-ttu-id="d1e66-162">První segment adresy URL určuje třídu kontroleru, která se má spustit.</span><span class="sxs-lookup"><span data-stu-id="d1e66-162">The first URL segment determines the controller class to run.</span></span> <span data-ttu-id="d1e66-163">Proto `localhost:{PORT}/HelloWorld` se namapuje na třídu kontroleru **HelloWorld**.</span><span class="sxs-lookup"><span data-stu-id="d1e66-163">So `localhost:{PORT}/HelloWorld` maps to the **HelloWorld**Controller class.</span></span> <span data-ttu-id="d1e66-164">Druhá část segmentu adresy URL určuje metodu Action třídy.</span><span class="sxs-lookup"><span data-stu-id="d1e66-164">The second part of the URL segment determines the action method on the class.</span></span> <span data-ttu-id="d1e66-165">Takže `localhost:{PORT}/HelloWorld/Index` by to způsobilo, `Index` že `HelloWorldController` se metoda třídy spustí.</span><span class="sxs-lookup"><span data-stu-id="d1e66-165">So `localhost:{PORT}/HelloWorld/Index` would cause the `Index` method of the `HelloWorldController` class to run.</span></span> <span data-ttu-id="d1e66-166">Všimněte si, že jste museli procházet `localhost:{PORT}/HelloWorld` pouze a `Index` metoda byla volána ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="d1e66-166">Notice that you only had to browse to `localhost:{PORT}/HelloWorld` and the `Index` method was called by default.</span></span> <span data-ttu-id="d1e66-167">To je proto `Index` , že je výchozí metoda, která bude volána na řadiči, pokud není explicitně zadán název metody.</span><span class="sxs-lookup"><span data-stu-id="d1e66-167">That's because `Index` is the default method that will be called on a controller if a method name isn't explicitly specified.</span></span> <span data-ttu-id="d1e66-168">Třetí část segmentu adresy URL ( `id`) je určena pro data trasy.</span><span class="sxs-lookup"><span data-stu-id="d1e66-168">The third part of the URL segment ( `id`) is for route data.</span></span> <span data-ttu-id="d1e66-169">Údaje o trasách jsou vysvětleny dále v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-169">Route data is explained later in the tutorial.</span></span>

<span data-ttu-id="d1e66-170">Přejděte na `https://localhost:{PORT}/HelloWorld/Welcome`.</span><span class="sxs-lookup"><span data-stu-id="d1e66-170">Browse to `https://localhost:{PORT}/HelloWorld/Welcome`.</span></span> <span data-ttu-id="d1e66-171">Metoda `Welcome` se spustí a vrátí řetězec `This is the Welcome action method...`.</span><span class="sxs-lookup"><span data-stu-id="d1e66-171">The `Welcome` method runs and returns the string `This is the Welcome action method...`.</span></span> <span data-ttu-id="d1e66-172">Pro tuto adresu URL kontroler je `HelloWorld` a `Welcome` je metodou Action.</span><span class="sxs-lookup"><span data-stu-id="d1e66-172">For this URL, the controller is `HelloWorld` and `Welcome` is the action method.</span></span> <span data-ttu-id="d1e66-173">Ještě jste nepoužili `[Parameters]` část této adresy URL.</span><span class="sxs-lookup"><span data-stu-id="d1e66-173">You haven't used the `[Parameters]` part of the URL yet.</span></span>

![Okno prohlížeče ukazující odezvu aplikace na toto je metoda akce Welcome](~/tutorials/first-mvc-app/adding-controller/_static/welcome.png)

<span data-ttu-id="d1e66-175">Upravte kód tak, aby předával některé informace o parametrech z adresy URL kontroleru.</span><span class="sxs-lookup"><span data-stu-id="d1e66-175">Modify the code to pass some parameter information from the URL to the controller.</span></span> <span data-ttu-id="d1e66-176">Například, `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span><span class="sxs-lookup"><span data-stu-id="d1e66-176">For example, `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span></span> <span data-ttu-id="d1e66-177">Změňte `Welcome` metodu tak, aby zahrnovala dva parametry, jak je znázorněno v následujícím kódu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-177">Change the `Welcome` method to include two parameters as shown in the following code.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_2)]

<span data-ttu-id="d1e66-178">Předcházející kód:</span><span class="sxs-lookup"><span data-stu-id="d1e66-178">The preceding code:</span></span>

* <span data-ttu-id="d1e66-179">Používá funkci volitelného parametru jazyka C# k označení toho, `numTimes` že parametr je výchozí hodnota 1, pokud není pro tento parametr předána žádná hodnota.</span><span class="sxs-lookup"><span data-stu-id="d1e66-179">Uses the C# optional-parameter feature to indicate that the `numTimes` parameter defaults to 1 if no value is passed for that parameter.</span></span> <!-- remove for simplified -->
* <span data-ttu-id="d1e66-180">Nástroj `HtmlEncoder.Default.Encode` používá k ochraně aplikace před škodlivým vstupem (konkrétně JavaScript).</span><span class="sxs-lookup"><span data-stu-id="d1e66-180">Uses `HtmlEncoder.Default.Encode` to protect the app from malicious input (namely JavaScript).</span></span>
* <span data-ttu-id="d1e66-181">Používá [interpolované řetězce](/dotnet/articles/csharp/language-reference/keywords/interpolated-strings) v `$"Hello {name}, NumTimes is: {numTimes}"`.</span><span class="sxs-lookup"><span data-stu-id="d1e66-181">Uses [Interpolated Strings](/dotnet/articles/csharp/language-reference/keywords/interpolated-strings) in `$"Hello {name}, NumTimes is: {numTimes}"`.</span></span> <!-- remove for simplified -->

<span data-ttu-id="d1e66-182">Spusťte aplikaci a přejděte do:</span><span class="sxs-lookup"><span data-stu-id="d1e66-182">Run the app and browse to:</span></span>

   `https://localhost:{PORT}/HelloWorld/Welcome?name=Rick&numtimes=4`

<span data-ttu-id="d1e66-183">(Nahraďte `{PORT}` číslem portu.) Můžete zkusit použít jiné hodnoty pro `name` a `numtimes` v adrese URL.</span><span class="sxs-lookup"><span data-stu-id="d1e66-183">(Replace `{PORT}` with your port number.) You can try different values for `name` and `numtimes` in the URL.</span></span> <span data-ttu-id="d1e66-184">Systém [vazby modelu](xref:mvc/models/model-binding) MVC automaticky mapuje pojmenované parametry z řetězce dotazu v adresním řádku na parametry v metodě.</span><span class="sxs-lookup"><span data-stu-id="d1e66-184">The MVC [model binding](xref:mvc/models/model-binding) system automatically maps the named parameters from the query string in the address bar to parameters in your method.</span></span> <span data-ttu-id="d1e66-185">Další informace najdete v tématu [vazba modelu](xref:mvc/models/model-binding) .</span><span class="sxs-lookup"><span data-stu-id="d1e66-185">See [Model Binding](xref:mvc/models/model-binding) for more information.</span></span>

![Okno prohlížeče zobrazující odezvu aplikace Hello Rick, NumTimes je\: 4](~/tutorials/first-mvc-app/adding-controller/_static/rick4.png)

<span data-ttu-id="d1e66-187">Na obrázku výše se nepoužívá segment adresy URL`Parameters`(), parametry `name` a `numTimes` jsou předány v [řetězci dotazu](https://wikipedia.org/wiki/Query_string).</span><span class="sxs-lookup"><span data-stu-id="d1e66-187">In the image above, the URL segment (`Parameters`) isn't used, the `name` and `numTimes` parameters are passed in the [query string](https://wikipedia.org/wiki/Query_string).</span></span> <span data-ttu-id="d1e66-188">`?` (Otazník) na výše uvedené adrese URL je oddělovač a následuje řetězec dotazu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-188">The `?` (question mark) in the above URL is a separator, and the query string follows.</span></span> <span data-ttu-id="d1e66-189">`&` Znak odděluje páry pole a hodnota.</span><span class="sxs-lookup"><span data-stu-id="d1e66-189">The `&` character separates field-value pairs.</span></span>

<span data-ttu-id="d1e66-190">Nahraďte metodu `Welcome` následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="d1e66-190">Replace the `Welcome` method with the following code:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_3)]

<span data-ttu-id="d1e66-191">Spusťte aplikaci a zadejte následující adresu URL:`https://localhost:{PORT}/HelloWorld/Welcome/3?name=Rick`</span><span class="sxs-lookup"><span data-stu-id="d1e66-191">Run the app and enter the following URL: `https://localhost:{PORT}/HelloWorld/Welcome/3?name=Rick`</span></span>

<span data-ttu-id="d1e66-192">Tentokrát se třetí segment adresy URL shodoval s parametrem `id`trasy.</span><span class="sxs-lookup"><span data-stu-id="d1e66-192">This time the third URL segment matched the route parameter `id`.</span></span> <span data-ttu-id="d1e66-193">`Welcome` Metoda obsahuje parametr `id` , který se shoduje se šablonou adresy URL `MapControllerRoute` v metodě.</span><span class="sxs-lookup"><span data-stu-id="d1e66-193">The `Welcome` method contains a parameter `id` that matched the URL template in the `MapControllerRoute` method.</span></span> <span data-ttu-id="d1e66-194">Koncový znak `?` (v `id?`) značí, že `id` parametr je nepovinný.</span><span class="sxs-lookup"><span data-stu-id="d1e66-194">The trailing `?` (in `id?`) indicates the `id` parameter is optional.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie3/Startup.cs?name=snippet_1&highlight=5)]

<span data-ttu-id="d1e66-195">V těchto příkladech kontroler provedl "VC" část MVC – to znamená, **že v obrazovém panelu a**v **C**ontroller Work.</span><span class="sxs-lookup"><span data-stu-id="d1e66-195">In these examples the controller has been doing the "VC" portion of MVC - that is, the **V**iew and the **C**ontroller work.</span></span> <span data-ttu-id="d1e66-196">Kontroler přímo vrací HTML.</span><span class="sxs-lookup"><span data-stu-id="d1e66-196">The controller is returning HTML directly.</span></span> <span data-ttu-id="d1e66-197">Obecně nechcete, aby řadiče vracely kód HTML přímo, protože to může být velmi náročné na kód a údržbu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-197">Generally you don't want controllers returning HTML directly, since that becomes very cumbersome to code and maintain.</span></span> <span data-ttu-id="d1e66-198">Místo toho k vygenerování odpovědi HTML obvykle používáte samostatný soubor šablony zobrazení Razor.</span><span class="sxs-lookup"><span data-stu-id="d1e66-198">Instead you typically use a separate Razor view template file to generate the HTML response.</span></span> <span data-ttu-id="d1e66-199">Provedete to v dalším kurzu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-199">You do that in the next tutorial.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="d1e66-200">[Předchozí](start-mvc.md)
> [Další](adding-view.md)</span><span class="sxs-lookup"><span data-stu-id="d1e66-200">[Previous](start-mvc.md)
[Next](adding-view.md)</span></span>

::: moniker-end

::: moniker range="< aspnetcore-3.0"

<span data-ttu-id="d1e66-201">Architektonický vzor architektury MVC (Model-View-Controller) odděluje aplikaci na tři hlavní komponenty: **M**Odel, **V a v** **C**ontroller.</span><span class="sxs-lookup"><span data-stu-id="d1e66-201">The Model-View-Controller (MVC) architectural pattern separates an app into three main components: **M**odel, **V**iew, and **C**ontroller.</span></span> <span data-ttu-id="d1e66-202">Vzor MVC vám pomůže vytvářet aplikace, které jsou více testovatelné a snáze aktualizovat než tradiční aplikace monolitické.</span><span class="sxs-lookup"><span data-stu-id="d1e66-202">The MVC pattern helps you create apps that are more testable and easier to update than traditional monolithic apps.</span></span> <span data-ttu-id="d1e66-203">Aplikace založené na MVC obsahují:</span><span class="sxs-lookup"><span data-stu-id="d1e66-203">MVC-based apps contain:</span></span>

* <span data-ttu-id="d1e66-204">**M**Odels: třídy, které reprezentují data aplikace.</span><span class="sxs-lookup"><span data-stu-id="d1e66-204">**M**odels: Classes that represent the data of the app.</span></span> <span data-ttu-id="d1e66-205">Třídy modelu používají ověřovací logiku k vyhodnocování obchodních pravidel pro tato data.</span><span class="sxs-lookup"><span data-stu-id="d1e66-205">The model classes use validation logic to enforce business rules for that data.</span></span> <span data-ttu-id="d1e66-206">Objekty modelu obvykle načítají a ukládají stav modelu v databázi.</span><span class="sxs-lookup"><span data-stu-id="d1e66-206">Typically, model objects retrieve and store model state in a database.</span></span> <span data-ttu-id="d1e66-207">V tomto kurzu `Movie` model načte z databáze filmové data a poskytne ho zobrazení nebo aktualizuje.</span><span class="sxs-lookup"><span data-stu-id="d1e66-207">In this tutorial, a `Movie` model retrieves movie data from a database, provides it to the view or updates it.</span></span> <span data-ttu-id="d1e66-208">Aktualizovaná data jsou zapsána do databáze.</span><span class="sxs-lookup"><span data-stu-id="d1e66-208">Updated data is written to a database.</span></span>

* <span data-ttu-id="d1e66-209">**V**Iews: zobrazení jsou komponenty, které zobrazují uživatelské rozhraní (UI) aplikace.</span><span class="sxs-lookup"><span data-stu-id="d1e66-209">**V**iews: Views are the components that display the app's user interface (UI).</span></span> <span data-ttu-id="d1e66-210">Obecně toto uživatelské rozhraní zobrazuje data modelu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-210">Generally, this UI displays the model data.</span></span>

* <span data-ttu-id="d1e66-211">**C**Ontrollers: třídy, které zpracovávají požadavky prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="d1e66-211">**C**ontrollers: Classes that handle browser requests.</span></span> <span data-ttu-id="d1e66-212">Načítají data modelu a šablony zobrazení volání, které vracejí odpověď.</span><span class="sxs-lookup"><span data-stu-id="d1e66-212">They retrieve model data and call view templates that return a response.</span></span> <span data-ttu-id="d1e66-213">V aplikaci MVC zobrazení zobrazuje pouze informace; kontroler zpracovává a reaguje na vstupy a interakce uživatele.</span><span class="sxs-lookup"><span data-stu-id="d1e66-213">In an MVC app, the view only displays information; the controller handles and responds to user input and interaction.</span></span> <span data-ttu-id="d1e66-214">Například kontroler zpracovává směrování dat a hodnot řetězce dotazu a předá tyto hodnoty do modelu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-214">For example, the controller handles route data and query-string values, and passes these values to the model.</span></span> <span data-ttu-id="d1e66-215">Model může tyto hodnoty použít k dotazování databáze.</span><span class="sxs-lookup"><span data-stu-id="d1e66-215">The model might use these values to query the database.</span></span> <span data-ttu-id="d1e66-216">Například `https://localhost:5001/Home/About` má směrovací údaje `Home` (Controller) a `About` (metoda akce, která má být volána na domovský kontroler).</span><span class="sxs-lookup"><span data-stu-id="d1e66-216">For example, `https://localhost:5001/Home/About` has route data of `Home` (the controller) and `About` (the action method to call on the home controller).</span></span> <span data-ttu-id="d1e66-217">`https://localhost:5001/Movies/Edit/5`je požadavek na úpravu filmu s ID = 5 pomocí kontroleru filmů.</span><span class="sxs-lookup"><span data-stu-id="d1e66-217">`https://localhost:5001/Movies/Edit/5` is a request to edit the movie with ID=5 using the movie controller.</span></span> <span data-ttu-id="d1e66-218">Údaje o trasách jsou vysvětleny dále v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-218">Route data is explained later in the tutorial.</span></span>

<span data-ttu-id="d1e66-219">Vzor MVC vám pomůže vytvářet aplikace, které oddělují různé aspekty aplikace (vstupní logika, obchodní logika a logika uživatelského rozhraní), a současně poskytuje volné spojení mezi těmito prvky.</span><span class="sxs-lookup"><span data-stu-id="d1e66-219">The MVC pattern helps you create apps that separate the different aspects of the app (input logic, business logic, and UI logic), while providing a loose coupling between these elements.</span></span> <span data-ttu-id="d1e66-220">Vzor určuje, kde by měl být každý druh logiky umístěný v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="d1e66-220">The pattern specifies where each kind of logic should be located in the app.</span></span> <span data-ttu-id="d1e66-221">Logika uživatelského rozhraní patří do zobrazení.</span><span class="sxs-lookup"><span data-stu-id="d1e66-221">The UI logic belongs in the view.</span></span> <span data-ttu-id="d1e66-222">Vstupní logika patří do kontroleru.</span><span class="sxs-lookup"><span data-stu-id="d1e66-222">Input logic belongs in the controller.</span></span> <span data-ttu-id="d1e66-223">Obchodní logika patří do modelu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-223">Business logic belongs in the model.</span></span> <span data-ttu-id="d1e66-224">Toto oddělení vám pomůže se správou složitosti při sestavování aplikace, protože umožňuje pracovat na jednom aspektu implementace v čase, aniž by to mělo vliv na jiný kód.</span><span class="sxs-lookup"><span data-stu-id="d1e66-224">This separation helps you manage complexity when you build an app, because it enables you to work on one aspect of the implementation at a time without impacting the code of another.</span></span> <span data-ttu-id="d1e66-225">Můžete například pracovat s kódem zobrazení bez závislosti na kódu obchodní logiky.</span><span class="sxs-lookup"><span data-stu-id="d1e66-225">For example, you can work on the view code without depending on the business logic code.</span></span>

<span data-ttu-id="d1e66-226">Tyto koncepty popisujeme v této sérii kurzů a ukážeme vám, jak je použít k vytvoření filmové aplikace.</span><span class="sxs-lookup"><span data-stu-id="d1e66-226">We cover these concepts in this tutorial series and show you how to use them to build a movie app.</span></span> <span data-ttu-id="d1e66-227">Projekt MVC obsahuje složky pro *řadiče* a *zobrazení*.</span><span class="sxs-lookup"><span data-stu-id="d1e66-227">The MVC project contains folders for the *Controllers* and *Views*.</span></span>

## <a name="add-a-controller"></a><span data-ttu-id="d1e66-228">Přidání kontroleru</span><span class="sxs-lookup"><span data-stu-id="d1e66-228">Add a controller</span></span>

# <a name="visual-studio"></a>[<span data-ttu-id="d1e66-229">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d1e66-229">Visual Studio</span></span>](#tab/visual-studio)

* <span data-ttu-id="d1e66-230">V **Průzkumník řešení**klikněte pravým tlačítkem na **řadiče > přidat >**
  ![místní nabídku.](adding-controller/_static/add_controller.png)</span><span class="sxs-lookup"><span data-stu-id="d1e66-230">In **Solution Explorer**, right-click **Controllers > Add > Controller**
![Contextual menu](adding-controller/_static/add_controller.png)</span></span>

* <span data-ttu-id="d1e66-231">V dialogovém okně **Přidat generování uživatelského rozhraní** vyberte možnost **kontroler MVC – prázdné** .</span><span class="sxs-lookup"><span data-stu-id="d1e66-231">In the **Add Scaffold** dialog box, select **MVC Controller - Empty**</span></span>

  ![Přidat kontroler MVC a pojmenovat](adding-controller/_static/ac.png)

* <span data-ttu-id="d1e66-233">V **dialogovém okně Přidat prázdný řadič MVC**zadejte **HelloWorldController** a vyberte **Přidat**.</span><span class="sxs-lookup"><span data-stu-id="d1e66-233">In the **Add Empty MVC Controller dialog**, enter **HelloWorldController** and select **ADD**.</span></span>

# <a name="visual-studio-code"></a>[<span data-ttu-id="d1e66-234">Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="d1e66-234">Visual Studio Code</span></span>](#tab/visual-studio-code)

<span data-ttu-id="d1e66-235">Vyberte ikonu **Průzkumníka** a potom klikněte na řídicí panel (klikněte pravým tlačítkem myši) **> nový soubor** a pojmenujte nový soubor *HelloWorldController.cs*.</span><span class="sxs-lookup"><span data-stu-id="d1e66-235">Select the **EXPLORER** icon and then control-click (right-click) **Controllers > New File** and name the new file *HelloWorldController.cs*.</span></span>

  ![Kontextová nabídka](~/tutorials/first-mvc-app-xplat/adding-controller/_static/new_file.png)

# <a name="visual-studio-for-mac"></a>[<span data-ttu-id="d1e66-237">Visual Studio pro Mac</span><span class="sxs-lookup"><span data-stu-id="d1e66-237">Visual Studio for Mac</span></span>](#tab/visual-studio-mac)

<span data-ttu-id="d1e66-238">V **Průzkumník řešení**klikněte pravým tlačítkem na **řadiče > přidat > nový soubor**.</span><span class="sxs-lookup"><span data-stu-id="d1e66-238">In **Solution Explorer**, right-click **Controllers > Add > New File**.</span></span>
<span data-ttu-id="d1e66-239">![Kontextová nabídka](~/tutorials/first-mvc-app-mac/adding-controller/_static/add_controller.png)</span><span class="sxs-lookup"><span data-stu-id="d1e66-239">![Contextual menu](~/tutorials/first-mvc-app-mac/adding-controller/_static/add_controller.png)</span></span>

<span data-ttu-id="d1e66-240">Vyberte **ASP.NET Core** a **třídu kontroleru MVC**.</span><span class="sxs-lookup"><span data-stu-id="d1e66-240">Select **ASP.NET Core** and **MVC Controller Class**.</span></span>

<span data-ttu-id="d1e66-241">Pojmenujte kontroler **HelloWorldController**.</span><span class="sxs-lookup"><span data-stu-id="d1e66-241">Name the controller **HelloWorldController**.</span></span>

![Přidat kontroler MVC a pojmenovat](~/tutorials/first-mvc-app-mac/adding-controller/_static/ac.png)

---

<span data-ttu-id="d1e66-243">Obsah *Controllers/HelloWorldController. cs* nahraďte následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="d1e66-243">Replace the contents of *Controllers/HelloWorldController.cs* with the following:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_1)]

<span data-ttu-id="d1e66-244">Každá `public` metoda v kontroleru se může volat jako koncový bod HTTP.</span><span class="sxs-lookup"><span data-stu-id="d1e66-244">Every `public` method in a controller is callable as an HTTP endpoint.</span></span> <span data-ttu-id="d1e66-245">V ukázce výše obě metody vrací řetězec.</span><span class="sxs-lookup"><span data-stu-id="d1e66-245">In the sample above, both methods return a string.</span></span> <span data-ttu-id="d1e66-246">Všimněte si komentářů před jednotlivými metodami.</span><span class="sxs-lookup"><span data-stu-id="d1e66-246">Note the comments preceding each method.</span></span>

<span data-ttu-id="d1e66-247">Koncový bod `https://localhost:5001/HelloWorld`http je cílová adresa URL ve webové aplikaci, například a kombinuje použitý protokol: `HTTPS`, síťové umístění webového serveru (včetně portu TCP): `localhost:5001` a cílový identifikátor URI. `HelloWorld`</span><span class="sxs-lookup"><span data-stu-id="d1e66-247">An HTTP endpoint is a targetable URL in the web application, such as `https://localhost:5001/HelloWorld`, and combines the protocol used: `HTTPS`, the network location of the web server (including the TCP port): `localhost:5001` and the target URI `HelloWorld`.</span></span>

<span data-ttu-id="d1e66-248">První komentář uvádí metodu [HTTP GET](https://www.w3schools.com/tags/ref_httpmethods.asp) , která je vyvolána připojením `/HelloWorld/` k základní adrese URL.</span><span class="sxs-lookup"><span data-stu-id="d1e66-248">The first comment states this is an [HTTP GET](https://www.w3schools.com/tags/ref_httpmethods.asp) method that's invoked by appending `/HelloWorld/` to the base URL.</span></span> <span data-ttu-id="d1e66-249">Druhý komentář určuje metodu [HTTP GET](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) , která je vyvolána připojením `/HelloWorld/Welcome/` k adrese URL.</span><span class="sxs-lookup"><span data-stu-id="d1e66-249">The second comment specifies an [HTTP GET](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) method that's invoked by appending `/HelloWorld/Welcome/` to the URL.</span></span> <span data-ttu-id="d1e66-250">Později v tomto kurzu se modul generování uživatelského rozhraní používá ke generování `HTTP POST` metod, které aktualizují data.</span><span class="sxs-lookup"><span data-stu-id="d1e66-250">Later on in the tutorial the scaffolding engine is used to generate `HTTP POST` methods which update data.</span></span>

<span data-ttu-id="d1e66-251">Spusťte aplikaci v režimu bez ladění a přidejte "HelloWorld" do cesty na adresním řádku.</span><span class="sxs-lookup"><span data-stu-id="d1e66-251">Run the app in non-debug mode and append "HelloWorld" to the path in the address bar.</span></span> <span data-ttu-id="d1e66-252">`Index` Metoda vrátí řetězec.</span><span class="sxs-lookup"><span data-stu-id="d1e66-252">The `Index` method returns a string.</span></span>

![Okno prohlížeče zobrazující odezvu aplikace na toto je moje výchozí akce.](~/tutorials/first-mvc-app/adding-controller/_static/hell1.png)

<span data-ttu-id="d1e66-254">MVC vyvolá třídy kontroleru (a metody akcí v nich) v závislosti na příchozí adrese URL.</span><span class="sxs-lookup"><span data-stu-id="d1e66-254">MVC invokes controller classes (and the action methods within them) depending on the incoming URL.</span></span> <span data-ttu-id="d1e66-255">Výchozí [logika směrování adres URL](xref:mvc/controllers/routing) , kterou používá MVC, používá formát podobný tomuto: k určení kódu, který se má vyvolat:</span><span class="sxs-lookup"><span data-stu-id="d1e66-255">The default [URL routing logic](xref:mvc/controllers/routing) used by MVC uses a format like this to determine what code to invoke:</span></span>

`/[Controller]/[ActionName]/[Parameters]`

<span data-ttu-id="d1e66-256">Formát směrování je nastaven v `Configure` metodě v souboru *Startup.cs* .</span><span class="sxs-lookup"><span data-stu-id="d1e66-256">The routing format is set in the `Configure` method in *Startup.cs* file.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]

<!-- 
Add link to explain lambda.
Remove link for simplified tutorial.
-->

<span data-ttu-id="d1e66-257">Když přejdete do aplikace a nezadáte žádné segmenty adresy URL, použije se výchozí řídicí řadič a metoda "index" zadaná na řádku šablony, který se výše zvýrazní.</span><span class="sxs-lookup"><span data-stu-id="d1e66-257">When you browse to the app and don't supply any URL segments, it defaults to the "Home" controller and the "Index" method specified in the template line highlighted above.</span></span>

<span data-ttu-id="d1e66-258">První segment adresy URL určuje třídu kontroleru, která se má spustit.</span><span class="sxs-lookup"><span data-stu-id="d1e66-258">The first URL segment determines the controller class to run.</span></span> <span data-ttu-id="d1e66-259">Proto `localhost:{PORT}/HelloWorld` se mapuje na `HelloWorldController` třídu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-259">So `localhost:{PORT}/HelloWorld` maps to the `HelloWorldController` class.</span></span> <span data-ttu-id="d1e66-260">Druhá část segmentu adresy URL určuje metodu Action třídy.</span><span class="sxs-lookup"><span data-stu-id="d1e66-260">The second part of the URL segment determines the action method on the class.</span></span> <span data-ttu-id="d1e66-261">Takže `localhost:{PORT}/HelloWorld/Index` by to způsobilo, `Index` že `HelloWorldController` se metoda třídy spustí.</span><span class="sxs-lookup"><span data-stu-id="d1e66-261">So `localhost:{PORT}/HelloWorld/Index` would cause the `Index` method of the `HelloWorldController` class to run.</span></span> <span data-ttu-id="d1e66-262">Všimněte si, že jste museli procházet `localhost:{PORT}/HelloWorld` pouze a `Index` metoda byla volána ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="d1e66-262">Notice that you only had to browse to `localhost:{PORT}/HelloWorld` and the `Index` method was called by default.</span></span> <span data-ttu-id="d1e66-263">Důvodem je, `Index` že je výchozí metoda, která bude volána na řadiči, pokud není explicitně zadán název metody.</span><span class="sxs-lookup"><span data-stu-id="d1e66-263">This is because `Index` is the default method that will be called on a controller if a method name isn't explicitly specified.</span></span> <span data-ttu-id="d1e66-264">Třetí část segmentu adresy URL ( `id`) je určena pro data trasy.</span><span class="sxs-lookup"><span data-stu-id="d1e66-264">The third part of the URL segment ( `id`) is for route data.</span></span> <span data-ttu-id="d1e66-265">Údaje o trasách jsou vysvětleny dále v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-265">Route data is explained later in the tutorial.</span></span>

<span data-ttu-id="d1e66-266">Přejděte na `https://localhost:{PORT}/HelloWorld/Welcome`.</span><span class="sxs-lookup"><span data-stu-id="d1e66-266">Browse to `https://localhost:{PORT}/HelloWorld/Welcome`.</span></span> <span data-ttu-id="d1e66-267">Metoda `Welcome` se spustí a vrátí řetězec `This is the Welcome action method...`.</span><span class="sxs-lookup"><span data-stu-id="d1e66-267">The `Welcome` method runs and returns the string `This is the Welcome action method...`.</span></span> <span data-ttu-id="d1e66-268">Pro tuto adresu URL kontroler je `HelloWorld` a `Welcome` je metodou Action.</span><span class="sxs-lookup"><span data-stu-id="d1e66-268">For this URL, the controller is `HelloWorld` and `Welcome` is the action method.</span></span> <span data-ttu-id="d1e66-269">Ještě jste nepoužili `[Parameters]` část této adresy URL.</span><span class="sxs-lookup"><span data-stu-id="d1e66-269">You haven't used the `[Parameters]` part of the URL yet.</span></span>

![Okno prohlížeče ukazující odezvu aplikace na toto je metoda akce Welcome](~/tutorials/first-mvc-app/adding-controller/_static/welcome.png)

<span data-ttu-id="d1e66-271">Upravte kód tak, aby předával některé informace o parametrech z adresy URL kontroleru.</span><span class="sxs-lookup"><span data-stu-id="d1e66-271">Modify the code to pass some parameter information from the URL to the controller.</span></span> <span data-ttu-id="d1e66-272">Například, `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span><span class="sxs-lookup"><span data-stu-id="d1e66-272">For example, `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span></span> <span data-ttu-id="d1e66-273">Změňte `Welcome` metodu tak, aby zahrnovala dva parametry, jak je znázorněno v následujícím kódu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-273">Change the `Welcome` method to include two parameters as shown in the following code.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_2)]

<span data-ttu-id="d1e66-274">Předcházející kód:</span><span class="sxs-lookup"><span data-stu-id="d1e66-274">The preceding code:</span></span>

* <span data-ttu-id="d1e66-275">Používá funkci volitelného parametru jazyka C# k označení toho, `numTimes` že parametr je výchozí hodnota 1, pokud není pro tento parametr předána žádná hodnota.</span><span class="sxs-lookup"><span data-stu-id="d1e66-275">Uses the C# optional-parameter feature to indicate that the `numTimes` parameter defaults to 1 if no value is passed for that parameter.</span></span> <!-- remove for simplified -->
* <span data-ttu-id="d1e66-276">Nástroj `HtmlEncoder.Default.Encode` používá k ochraně aplikace před škodlivým vstupem (konkrétně JavaScript).</span><span class="sxs-lookup"><span data-stu-id="d1e66-276">Uses `HtmlEncoder.Default.Encode` to protect the app from malicious input (namely JavaScript).</span></span>
* <span data-ttu-id="d1e66-277">Používá [interpolované řetězce](/dotnet/articles/csharp/language-reference/keywords/interpolated-strings) v `$"Hello {name}, NumTimes is: {numTimes}"`.</span><span class="sxs-lookup"><span data-stu-id="d1e66-277">Uses [Interpolated Strings](/dotnet/articles/csharp/language-reference/keywords/interpolated-strings) in `$"Hello {name}, NumTimes is: {numTimes}"`.</span></span> <!-- remove for simplified -->

<span data-ttu-id="d1e66-278">Spusťte aplikaci a přejděte do:</span><span class="sxs-lookup"><span data-stu-id="d1e66-278">Run the app and browse to:</span></span>

   `https://localhost:{PORT}/HelloWorld/Welcome?name=Rick&numtimes=4`

<span data-ttu-id="d1e66-279">(Nahraďte `{PORT}` číslem portu.) Můžete zkusit použít jiné hodnoty pro `name` a `numtimes` v adrese URL.</span><span class="sxs-lookup"><span data-stu-id="d1e66-279">(Replace `{PORT}` with your port number.) You can try different values for `name` and `numtimes` in the URL.</span></span> <span data-ttu-id="d1e66-280">Systém [vazby modelu](xref:mvc/models/model-binding) MVC automaticky mapuje pojmenované parametry z řetězce dotazu v adresním řádku na parametry v metodě.</span><span class="sxs-lookup"><span data-stu-id="d1e66-280">The MVC [model binding](xref:mvc/models/model-binding) system automatically maps the named parameters from the query string in the address bar to parameters in your method.</span></span> <span data-ttu-id="d1e66-281">Další informace najdete v tématu [vazba modelu](xref:mvc/models/model-binding) .</span><span class="sxs-lookup"><span data-stu-id="d1e66-281">See [Model Binding](xref:mvc/models/model-binding) for more information.</span></span>

![Okno prohlížeče zobrazující odezvu aplikace Hello Rick, NumTimes je\: 4](~/tutorials/first-mvc-app/adding-controller/_static/rick4.png)

<span data-ttu-id="d1e66-283">Na obrázku výše se nepoužívá segment adresy URL`Parameters`(), parametry `name` a `numTimes` jsou předány v [řetězci dotazu](https://wikipedia.org/wiki/Query_string).</span><span class="sxs-lookup"><span data-stu-id="d1e66-283">In the image above, the URL segment (`Parameters`) isn't used, the `name` and `numTimes` parameters are passed in the [query string](https://wikipedia.org/wiki/Query_string).</span></span> <span data-ttu-id="d1e66-284">`?` (Otazník) na výše uvedené adrese URL je oddělovač a následuje řetězec dotazu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-284">The `?` (question mark) in the above URL is a separator, and the query string follows.</span></span> <span data-ttu-id="d1e66-285">`&` Znak odděluje páry pole a hodnota.</span><span class="sxs-lookup"><span data-stu-id="d1e66-285">The `&` character separates field-value pairs.</span></span>

<span data-ttu-id="d1e66-286">Nahraďte metodu `Welcome` následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="d1e66-286">Replace the `Welcome` method with the following code:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_3)]

<span data-ttu-id="d1e66-287">Spusťte aplikaci a zadejte následující adresu URL:`https://localhost:{PORT}/HelloWorld/Welcome/3?name=Rick`</span><span class="sxs-lookup"><span data-stu-id="d1e66-287">Run the app and enter the following URL: `https://localhost:{PORT}/HelloWorld/Welcome/3?name=Rick`</span></span>

<span data-ttu-id="d1e66-288">Tentokrát se třetí segment adresy URL shodoval s parametrem `id`trasy.</span><span class="sxs-lookup"><span data-stu-id="d1e66-288">This time the third URL segment matched the route parameter `id`.</span></span> <span data-ttu-id="d1e66-289">`Welcome` Metoda obsahuje parametr `id` , který se shoduje se šablonou adresy URL `MapRoute` v metodě.</span><span class="sxs-lookup"><span data-stu-id="d1e66-289">The `Welcome` method contains a parameter `id` that matched the URL template in the `MapRoute` method.</span></span> <span data-ttu-id="d1e66-290">Koncový znak `?` (v `id?`) značí, že `id` parametr je nepovinný.</span><span class="sxs-lookup"><span data-stu-id="d1e66-290">The trailing `?` (in `id?`) indicates the `id` parameter is optional.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]

<span data-ttu-id="d1e66-291">V těchto příkladech kontroler provedl "VC" část MVC – to znamená, že zobrazení a kontroler funguje.</span><span class="sxs-lookup"><span data-stu-id="d1e66-291">In these examples the controller has been doing the "VC" portion of MVC - that is, the view and controller work.</span></span> <span data-ttu-id="d1e66-292">Kontroler přímo vrací HTML.</span><span class="sxs-lookup"><span data-stu-id="d1e66-292">The controller is returning HTML directly.</span></span> <span data-ttu-id="d1e66-293">Obecně nechcete, aby řadiče vracely kód HTML přímo, protože to může být velmi náročné na kód a údržbu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-293">Generally you don't want controllers returning HTML directly, since that becomes very cumbersome to code and maintain.</span></span> <span data-ttu-id="d1e66-294">Místo toho se obvykle používá samostatný Razor soubor šablony zobrazení, pomocí kterého lze generovat odpověď HTML.</span><span class="sxs-lookup"><span data-stu-id="d1e66-294">Instead you typically use a separate Razor view template file to help generate the HTML response.</span></span> <span data-ttu-id="d1e66-295">Provedete to v dalším kurzu.</span><span class="sxs-lookup"><span data-stu-id="d1e66-295">You do that in the next tutorial.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="d1e66-296">[Předchozí](start-mvc.md)
> [Další](adding-view.md)</span><span class="sxs-lookup"><span data-stu-id="d1e66-296">[Previous](start-mvc.md)
[Next](adding-view.md)</span></span>

::: moniker-end
