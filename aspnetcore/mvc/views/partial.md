---
title: Částečná zobrazení v ASP.NET Core
author: ardalis
description: Zjistěte, jak je částečné zobrazení zobrazení, který je vykreslen v rámci jiného zobrazení a kdy by měly být použity v aplikacích ASP.NET Core.
manager: wpickett
ms.author: riande
ms.date: 03/14/2018
ms.prod: asp.net-core
ms.technology: aspnet
ms.topic: article
uid: mvc/views/partial
ms.openlocfilehash: 3deaaeb666e5443d0784f2ac6977e58e1b25d711
ms.sourcegitcommit: 71b93b42cbce8a9b1a12c4d88391e75a4dfb6162
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/20/2018
ms.locfileid: "30000899"
---
# <a name="partial-views-in-aspnet-core"></a><span data-ttu-id="def54-103">Částečná zobrazení v ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="def54-103">Partial Views in ASP.NET Core</span></span>

<span data-ttu-id="def54-104">Podle [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), [Rick Anderson](https://twitter.com/RickAndMSFT), a [Scott Sauber](https://twitter.com/scottsauber)</span><span class="sxs-lookup"><span data-stu-id="def54-104">By [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), [Rick Anderson](https://twitter.com/RickAndMSFT), and [Scott Sauber](https://twitter.com/scottsauber)</span></span>

<span data-ttu-id="def54-105">Jádro ASP.NET MVC podporuje částečné zobrazení, která jsou užitečné, když máte opakovaně použitelné částí webových stránek, které chcete sdílet mezi různá zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-105">ASP.NET Core MVC supports partial views, which are useful when you have reusable parts of web pages you want to share between different views.</span></span>

<span data-ttu-id="def54-106">[Zobrazit nebo stáhnout ukázkový kód](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([stažení](xref:tutorials/index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="def54-106">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([how to download](xref:tutorials/index#how-to-download-a-sample))</span></span>

## <a name="what-are-partial-views"></a><span data-ttu-id="def54-107">Jaké jsou částečné zobrazení?</span><span class="sxs-lookup"><span data-stu-id="def54-107">What are Partial Views?</span></span>

<span data-ttu-id="def54-108">Částečné zobrazení je zobrazení, který je vykreslen v rámci jiného zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-108">A partial view is a view that's rendered within another view.</span></span> <span data-ttu-id="def54-109">Výstup ve formátu HTML generované provádění částečné zobrazení vykreslením do zobrazení volání (nebo nadřazené).</span><span class="sxs-lookup"><span data-stu-id="def54-109">The HTML output generated by executing the partial view is rendered into the calling (or parent) view.</span></span> <span data-ttu-id="def54-110">Podobně jako zobrazení, částečná zobrazení použít *.cshtml* příponu souboru.</span><span class="sxs-lookup"><span data-stu-id="def54-110">Like views, partial views use the *.cshtml* file extension.</span></span>

## <a name="when-should-i-use-partial-views"></a><span data-ttu-id="def54-111">Kdy použít částečné zobrazení?</span><span class="sxs-lookup"><span data-stu-id="def54-111">When Should I Use Partial Views?</span></span>

<span data-ttu-id="def54-112">Částečná zobrazení jsou účinný způsob rozdělení velké zobrazení do menší součásti.</span><span class="sxs-lookup"><span data-stu-id="def54-112">Partial views are an effective way of breaking up large views into smaller components.</span></span> <span data-ttu-id="def54-113">Můžou snížit duplicitních zobrazení obsahu a umožňují zobrazení prvků znovu použít.</span><span class="sxs-lookup"><span data-stu-id="def54-113">They can reduce duplication of view content and allow view elements to be reused.</span></span> <span data-ttu-id="def54-114">Společné prvky rozložení musí být zadán v [_Layout.cshtml](layout.md).</span><span class="sxs-lookup"><span data-stu-id="def54-114">Common layout elements should be specified in [_Layout.cshtml](layout.md).</span></span> <span data-ttu-id="def54-115">Opakovaně použitelný obsah bez rozložení můžete zapouzdřený do částečné zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-115">Non-layout reusable content can be encapsulated into partial views.</span></span>

<span data-ttu-id="def54-116">Pokud máte komplexní stránky skládá z několika logických částí, může být užitečné pro práci s každého jednotlivého jako vlastní částečné zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-116">If you have a complex page made up of several logical pieces, it can be helpful to work with each piece as its own partial view.</span></span> <span data-ttu-id="def54-117">Každá část stránky lze zobrazit izolovaně od zbytku stránky a zobrazení pro vlastní stránky se mnohem jednodušší, protože pouze obsahuje celkový strukturu stránky a volání k vykreslení částečných zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-117">Each piece of the page can be viewed in isolation from the rest of the page, and the view for the page itself becomes much simpler since it only contains the overall page structure and calls to render the partial views.</span></span>

<span data-ttu-id="def54-118">Tip: Použijte [nemáte opakujte sami Princip](http://deviq.com/don-t-repeat-yourself/) v zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-118">Tip: Follow the [Don't Repeat Yourself Principle](http://deviq.com/don-t-repeat-yourself/) in your views.</span></span>

## <a name="declaring-partial-views"></a><span data-ttu-id="def54-119">Deklarování částečné zobrazení</span><span class="sxs-lookup"><span data-stu-id="def54-119">Declaring Partial Views</span></span>

<span data-ttu-id="def54-120">Částečná zobrazení vzniknou podobně jako ostatní zobrazení: vytváření *.cshtml* souboru v rámci *zobrazení* složky.</span><span class="sxs-lookup"><span data-stu-id="def54-120">Partial views are created like any other view: you create a *.cshtml* file within the *Views* folder.</span></span> <span data-ttu-id="def54-121">Není žádný sémantického rozdíl mezi částečné zobrazení a zobrazení regulární – se pouze vykreslují odlišně.</span><span class="sxs-lookup"><span data-stu-id="def54-121">There's no semantic difference between a partial view and a regular view - they're just rendered differently.</span></span> <span data-ttu-id="def54-122">Máte zobrazení, které se vrátí přímo před vytvořením řadiče `ViewResult`, a stejnou zobrazení lze použít jako částečné zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-122">You can have a view that's returned directly from a controller's `ViewResult`, and the same view can be used as a partial view.</span></span> <span data-ttu-id="def54-123">Hlavní rozdíl mezi způsobu vykreslení zobrazení a částečné zobrazení je, že částečná zobrazení nespouštět *soubor _ViewStart.cshtml* (při zobrazení - další informace o *soubor _ViewStart.cshtml* v [rozložení ](layout.md)).</span><span class="sxs-lookup"><span data-stu-id="def54-123">The main difference between how a view and a partial view are rendered is that partial views don't run *_ViewStart.cshtml* (while views do - learn more about *_ViewStart.cshtml* in [Layout](layout.md)).</span></span>

## <a name="referencing-a-partial-view"></a><span data-ttu-id="def54-124">Odkazování na částečné zobrazení</span><span class="sxs-lookup"><span data-stu-id="def54-124">Referencing a Partial View</span></span>

<span data-ttu-id="def54-125">Z v rámci zobrazení stránky, existuje několik způsobů ve kterých můžete vykreslení částečného zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-125">From within a view page, there are several ways in which you can render a partial view.</span></span> <span data-ttu-id="def54-126">Osvědčeným postupem je použít `Html.PartialAsync`, která vrátí `IHtmlString` a můžete odkazovat pomocí prefixu volání s `@`:</span><span class="sxs-lookup"><span data-stu-id="def54-126">The best practice is to use `Html.PartialAsync`, which returns an `IHtmlString` and can be referenced by prefixing the call with `@`:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=8)]

<span data-ttu-id="def54-127">Můžete vykreslení částečného zobrazení s `RenderPartialAsync`.</span><span class="sxs-lookup"><span data-stu-id="def54-127">You can render a partial view with `RenderPartialAsync`.</span></span> <span data-ttu-id="def54-128">Tato metoda není vrácení výsledku; je-li datové proudy vykreslené výstup přímo do odpovědi.</span><span class="sxs-lookup"><span data-stu-id="def54-128">This method doesn't return a result; it streams the rendered output directly to the response.</span></span> <span data-ttu-id="def54-129">Protože se nevrací výsledek, musí být volána v rámci bloku kódu Razor:</span><span class="sxs-lookup"><span data-stu-id="def54-129">Because it doesn't return a result, it must be called within a Razor code block:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=11-13)]

<span data-ttu-id="def54-130">Protože proudů výsledek přímo, `RenderPartialAsync` může v některých scénářích líp fungovat.</span><span class="sxs-lookup"><span data-stu-id="def54-130">Because it streams the result directly, `RenderPartialAsync` may perform better in some scenarios.</span></span> <span data-ttu-id="def54-131">Je však doporučeno, abyste používali `PartialAsync`.</span><span class="sxs-lookup"><span data-stu-id="def54-131">However, it's recommended you use `PartialAsync`.</span></span>

<span data-ttu-id="def54-132">Přestože jsou synchronní ekvivalenty `Html.PartialAsync` (`Html.Partial`) a `Html.RenderPartialAsync` (`Html.RenderPartial`), použijte synchronní ekvivalenty není doporučeno, protože existují scénáře, kde budou zablokování.</span><span class="sxs-lookup"><span data-stu-id="def54-132">While there are synchronous equivalents of `Html.PartialAsync` (`Html.Partial`) and `Html.RenderPartialAsync` (`Html.RenderPartial`), use of the synchronous equivalents isn't recommended because there are scenarios where they deadlock.</span></span> <span data-ttu-id="def54-133">Synchronní metody není k dispozici v budoucích verzích.</span><span class="sxs-lookup"><span data-stu-id="def54-133">The synchronous methods will be unavailable in future versions.</span></span>

> [!NOTE]
> <span data-ttu-id="def54-134">Pokud vaše zobrazení musí ke spouštění kódu, je použití vzoru doporučené [zobrazení součást](view-components.md) místo částečné zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-134">If your views need to execute code, the recommended pattern is to use a [view component](view-components.md) instead of a partial view.</span></span>

### <a name="partial-view-discovery"></a><span data-ttu-id="def54-135">Částečné zobrazení zjišťování</span><span class="sxs-lookup"><span data-stu-id="def54-135">Partial View Discovery</span></span>

<span data-ttu-id="def54-136">Při odkazování na částečné zobrazení, můžete odkazovat na umístění, několika způsoby:</span><span class="sxs-lookup"><span data-stu-id="def54-136">When referencing a partial view, you can refer to its location in several ways:</span></span>

```cshtml
// Uses a view in current folder with this name
// If none is found, searches the Shared folder
@await Html.PartialAsync("ViewName")

// A view with this name must be in the same folder
@await Html.PartialAsync("ViewName.cshtml")

// Locate the view based on the application root
// Paths that start with "/" or "~/" refer to the application root
@await Html.PartialAsync("~/Views/Folder/ViewName.cshtml")
@await Html.PartialAsync("/Views/Folder/ViewName.cshtml")

// Locate the view using relative paths
@await Html.PartialAsync("../Account/LoginPartial.cshtml")
```

<span data-ttu-id="def54-137">Může mít různé částečná zobrazení se stejným názvem v jiné zobrazení složky.</span><span class="sxs-lookup"><span data-stu-id="def54-137">You can have different partial views with the same name in different view folders.</span></span> <span data-ttu-id="def54-138">Při odkazování na zobrazení podle názvu (bez přípony souboru), použije zobrazení v každé složky ve stejné složce s nimi částečné zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-138">When referencing the views by name (without file extension), views in each folder will use the partial view in the same folder with them.</span></span> <span data-ttu-id="def54-139">Můžete také zadat výchozí částečné zobrazení chcete použít, v jeho umístění *sdílené* složky.</span><span class="sxs-lookup"><span data-stu-id="def54-139">You can also specify a default partial view to use, placing it in the *Shared* folder.</span></span> <span data-ttu-id="def54-140">Sdílené částečné zobrazení použije všechna zobrazení, které nemají své vlastní verzi částečné zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-140">The shared partial view will be used by any views that don't have their own version of the partial view.</span></span> <span data-ttu-id="def54-141">Můžete mít výchozí částečné zobrazení (v *sdílené*), který přepsat částečné zobrazení se stejným názvem ve stejné složce jako nadřazeného zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-141">You can have a default partial view (in *Shared*), which is overridden by a partial view with the same name in the same folder as the parent view.</span></span>

<span data-ttu-id="def54-142">Částečná zobrazení může být *zřetězené*.</span><span class="sxs-lookup"><span data-stu-id="def54-142">Partial views can be *chained*.</span></span> <span data-ttu-id="def54-143">To znamená částečné zobrazení můžete volat jiné částečné zobrazení, (, dokud nevytvoříte smyčku).</span><span class="sxs-lookup"><span data-stu-id="def54-143">That is, a partial view can call another partial view (as long as you don't create a loop).</span></span> <span data-ttu-id="def54-144">V každém zobrazení či částečné zobrazení relativní cesty vždy jsou relativní vzhledem k zobrazení tohoto zobrazení, není kořenovou nebo nadřazené.</span><span class="sxs-lookup"><span data-stu-id="def54-144">Within each view or partial view, relative paths are always relative to that view, not the root or parent view.</span></span>

> [!NOTE]
> <span data-ttu-id="def54-145">Pokud je deklarovat [Razor](razor.md) `section` v částečné zobrazení, nebude viditelná pro jeho nadřazených položek; bude omezena na částečné zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-145">If you declare a [Razor](razor.md) `section` in a partial view, it will not be visible to its parent(s); it will be limited to the partial view.</span></span>

## <a name="accessing-data-from-partial-views"></a><span data-ttu-id="def54-146">Přístup k datům z částečné zobrazení</span><span class="sxs-lookup"><span data-stu-id="def54-146">Accessing Data From Partial Views</span></span>

<span data-ttu-id="def54-147">Při vytváření instance částečného zobrazení získá kopii nadřazeného zobrazení zůstanou `ViewData` slovníku.</span><span class="sxs-lookup"><span data-stu-id="def54-147">When a partial view is instantiated, it gets a copy of the parent view's `ViewData` dictionary.</span></span> <span data-ttu-id="def54-148">Aktualizace provedené v datech v rámci částečné zobrazení nejsou zachována pro nadřazené zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-148">Updates made to the data within the partial view are not persisted to the parent view.</span></span> <span data-ttu-id="def54-149">`ViewData` změnit v částečné zobrazení bude ztracena, jakmile vrátí částečné zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-149">`ViewData` changed in a partial view is lost when the partial view returns.</span></span>

<span data-ttu-id="def54-150">Můžete předat instanci `ViewDataDictionary` částečného zobrazení:</span><span class="sxs-lookup"><span data-stu-id="def54-150">You can pass an instance of `ViewDataDictionary` to the partial view:</span></span>

```cshtml
@await Html.PartialAsync("PartialName", customViewData)
```

<span data-ttu-id="def54-151">Model můžete předat také do částečné zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-151">You can also pass a model into a partial view.</span></span> <span data-ttu-id="def54-152">To může být modelu zobrazení stránky nebo vlastní objekt.</span><span class="sxs-lookup"><span data-stu-id="def54-152">This can be the page's view model or a custom object.</span></span> <span data-ttu-id="def54-153">Můžete předat modelu pro `PartialAsync` nebo `RenderPartialAsync`:</span><span class="sxs-lookup"><span data-stu-id="def54-153">You can pass a model to `PartialAsync` or `RenderPartialAsync`:</span></span>

```cshtml
@await Html.PartialAsync("PartialName", viewModel)
```

<span data-ttu-id="def54-154">Můžete předat instanci `ViewDataDictionary` a modelu zobrazení pro částečné zobrazení:</span><span class="sxs-lookup"><span data-stu-id="def54-154">You can pass an instance of `ViewDataDictionary` and a view model to a partial view:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml?range=15-16)]

<span data-ttu-id="def54-155">Kód níže ukazuje *Views/Articles/Read.cshtml* zobrazení, která obsahuje dvě částečné zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-155">The markup below shows the *Views/Articles/Read.cshtml* view which contains two partial views.</span></span> <span data-ttu-id="def54-156">Druhý částečné zobrazení předává v modelu a `ViewData` částečného zobrazení.</span><span class="sxs-lookup"><span data-stu-id="def54-156">The second partial view passes in a model and `ViewData` to the partial view.</span></span> <span data-ttu-id="def54-157">Můžete předat nové `ViewData` slovníku a přitom zachovat stávající `ViewData` Pokud použijete konstruktor přetížení `ViewDataDictionary` zvýrazněná níže:</span><span class="sxs-lookup"><span data-stu-id="def54-157">You can pass new `ViewData` dictionary while retaining the existing `ViewData` if you use the constructor overload of the `ViewDataDictionary` highlighted below:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml)]

<span data-ttu-id="def54-158">*Zobrazení nebo sdílené nebo AuthorPartial*:</span><span class="sxs-lookup"><span data-stu-id="def54-158">*Views/Shared/AuthorPartial*:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Shared/AuthorPartial.cshtml)]

<span data-ttu-id="def54-159">*ArticleSection* částečné:</span><span class="sxs-lookup"><span data-stu-id="def54-159">The *ArticleSection* partial:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/ArticleSection.cshtml)]

<span data-ttu-id="def54-160">Za běhu, jsou vykreslovány částečné do nadřazeného zobrazení, které se zobrazí v rámci sdílený *_Layout.cshtml*</span><span class="sxs-lookup"><span data-stu-id="def54-160">At runtime, the partials are rendered into the parent view, which itself is rendered within the shared *_Layout.cshtml*</span></span>

![výstup částečné zobrazení](partial/_static/output.png)
