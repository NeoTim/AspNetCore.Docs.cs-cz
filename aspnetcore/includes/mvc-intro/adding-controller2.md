<span data-ttu-id="f6420-101">Nahraďte obsah *Controllers/HelloWorldController.cs* následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="f6420-101">Replace the contents of *Controllers/HelloWorldController.cs* with the following:</span></span>

<span data-ttu-id="f6420-102">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_1)]</span><span class="sxs-lookup"><span data-stu-id="f6420-102">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_1)]</span></span>

<span data-ttu-id="f6420-103">Každý `public` metoda v kontroleru je možné volat jako koncový bod HTTP.</span><span class="sxs-lookup"><span data-stu-id="f6420-103">Every `public` method in a controller is callable as an HTTP endpoint.</span></span> <span data-ttu-id="f6420-104">V ukázce výše obě metody vrátí řetězec.</span><span class="sxs-lookup"><span data-stu-id="f6420-104">In the sample above, both methods return a string.</span></span>  <span data-ttu-id="f6420-105">Poznámka: před každou metodu komentáře.</span><span class="sxs-lookup"><span data-stu-id="f6420-105">Note the comments preceding each method.</span></span>

<span data-ttu-id="f6420-106">Koncový bod HTTP je targetable adresy URL ve webové aplikaci, například `http://localhost:1234/HelloWorld`a kombinuje protokol použitý: `HTTP`, umístění v síti webového serveru (včetně TCP port): `localhost:1234` a cílový identifikátor URI `HelloWorld`.</span><span class="sxs-lookup"><span data-stu-id="f6420-106">An HTTP endpoint is a targetable URL in the web application, such as `http://localhost:1234/HelloWorld`, and combines the protocol used: `HTTP`, the network location of the web server (including the TCP port): `localhost:1234` and the target URI `HelloWorld`.</span></span>

<span data-ttu-id="f6420-107">První komentář stavy, jedná se [HTTP GET](https://www.w3schools.com/tags/ref_httpmethods.asp) metody, která je volána připojením "/HelloWorld/" pro základní adresu URL.</span><span class="sxs-lookup"><span data-stu-id="f6420-107">The first comment states this is an [HTTP GET](https://www.w3schools.com/tags/ref_httpmethods.asp) method that is invoked by appending "/HelloWorld/" to the base URL.</span></span> <span data-ttu-id="f6420-108">Určuje druhý komentář [HTTP GET](http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) metody, která je volána připojením "/ HelloWorld/Vítá /" na adresu URL.</span><span class="sxs-lookup"><span data-stu-id="f6420-108">The second comment specifies an [HTTP GET](http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) method that is invoked by appending "/HelloWorld/Welcome/" to the URL.</span></span> <span data-ttu-id="f6420-109">Později v tomto kurzu použijete modul generování uživatelského rozhraní pro generování `HTTP POST` metody.</span><span class="sxs-lookup"><span data-stu-id="f6420-109">Later on in the tutorial you'll use the scaffolding engine to generate `HTTP POST` methods.</span></span>

<span data-ttu-id="f6420-110">Spuštění aplikace v režimu bez ladění a připojte "HelloWorld" na cestu v panelu Adresa.</span><span class="sxs-lookup"><span data-stu-id="f6420-110">Run the app in non-debug mode and append "HelloWorld" to the path in the address bar.</span></span> <span data-ttu-id="f6420-111">`Index` Metoda vrátí řetězec.</span><span class="sxs-lookup"><span data-stu-id="f6420-111">The `Index` method returns a string.</span></span>

![Okno prohlížeče zobrazující odpověď aplikací tohoto objektu je můj výchozí akci.](../../tutorials/first-mvc-app/adding-controller/_static/hell1.png)

<span data-ttu-id="f6420-113">Rozhraní MVC volá třídy controller (a metody akce v nich), v závislosti na adresy URL příchozích.</span><span class="sxs-lookup"><span data-stu-id="f6420-113">MVC invokes controller classes (and the action methods within them) depending on the incoming URL.</span></span> <span data-ttu-id="f6420-114">Výchozí hodnota [směrování URL logic](../../mvc/controllers/routing.md) používá MVC používá tento formát pro určení kódu, která bude vyvolána:</span><span class="sxs-lookup"><span data-stu-id="f6420-114">The default [URL routing logic](../../mvc/controllers/routing.md) used by MVC uses a format like this to determine what code to invoke:</span></span>

`/[Controller]/[ActionName]/[Parameters]`

<span data-ttu-id="f6420-115">Nastavení formátu pro směrování v *Startup.cs* souboru.</span><span class="sxs-lookup"><span data-stu-id="f6420-115">You set the format for routing in the *Startup.cs* file.</span></span>

<span data-ttu-id="f6420-116">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]</span><span class="sxs-lookup"><span data-stu-id="f6420-116">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]</span></span>

<span data-ttu-id="f6420-117">Při spuštění aplikace a useanymigrationsubnet všechny segmenty adres URL, výchozí hodnota řadičem "Domů" a "Index" metoda zadaný v řádku šablony uvedených výše.</span><span class="sxs-lookup"><span data-stu-id="f6420-117">When you run the app and don't supply any URL segments, it defaults to the "Home" controller and the "Index" method specified in the template line highlighted above.</span></span>

<span data-ttu-id="f6420-118">První segment adresy URL určuje třídy kontroleru ke spuštění.</span><span class="sxs-lookup"><span data-stu-id="f6420-118">The first URL segment determines the controller class to run.</span></span> <span data-ttu-id="f6420-119">Proto `localhost:xxxx/HelloWorld` se mapuje `HelloWorldController` třídy.</span><span class="sxs-lookup"><span data-stu-id="f6420-119">So `localhost:xxxx/HelloWorld` maps to the `HelloWorldController` class.</span></span> <span data-ttu-id="f6420-120">Druhá část adresy URL, který určuje metody akce v třídě.</span><span class="sxs-lookup"><span data-stu-id="f6420-120">The second part of the URL segment determines the action method on the class.</span></span> <span data-ttu-id="f6420-121">Proto `localhost:xxxx/HelloWorld/Index` by způsobilo `Index` metodu `HelloWorldController` třídy ke spuštění.</span><span class="sxs-lookup"><span data-stu-id="f6420-121">So `localhost:xxxx/HelloWorld/Index` would cause the `Index` method of the `HelloWorldController` class to run.</span></span> <span data-ttu-id="f6420-122">Všimněte si, že jste museli vyhledejte `localhost:xxxx/HelloWorld` a `Index` byla volána metoda ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="f6420-122">Notice that you only had to browse to `localhost:xxxx/HelloWorld` and the `Index` method was called by default.</span></span> <span data-ttu-id="f6420-123">Důvodem je, že `Index` je výchozí metodou, který bude volán na řadič, pokud není výslovně zadán název metody.</span><span class="sxs-lookup"><span data-stu-id="f6420-123">This is because `Index` is the default method that will be called on a controller if a method name is not explicitly specified.</span></span> <span data-ttu-id="f6420-124">Třetí součást segment adresy URL ( `id`) je pro data trasy.</span><span class="sxs-lookup"><span data-stu-id="f6420-124">The third part of the URL segment ( `id`) is for route data.</span></span> <span data-ttu-id="f6420-125">Zobrazí se data trasy později v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="f6420-125">You'll see route data later on in this tutorial.</span></span>

<span data-ttu-id="f6420-126">Přejděte do `http://localhost:xxxx/HelloWorld/Welcome`.</span><span class="sxs-lookup"><span data-stu-id="f6420-126">Browse to `http://localhost:xxxx/HelloWorld/Welcome`.</span></span> <span data-ttu-id="f6420-127">`Welcome` Metoda spustí a vrátí řetězec "Toto je metoda úvodní akce...".</span><span class="sxs-lookup"><span data-stu-id="f6420-127">The `Welcome` method runs and returns the string "This is the Welcome action method...".</span></span> <span data-ttu-id="f6420-128">Pro tuto adresu URL, že je řadič `HelloWorld` a `Welcome` je metoda akce.</span><span class="sxs-lookup"><span data-stu-id="f6420-128">For this URL, the controller is `HelloWorld` and `Welcome` is the action method.</span></span> <span data-ttu-id="f6420-129">Nebyly použity `[Parameters]` součástí ještě adresu URL.</span><span class="sxs-lookup"><span data-stu-id="f6420-129">You haven't used the `[Parameters]` part of the URL yet.</span></span>

![Okno prohlížeče zobrazující odpověď aplikací tohoto objektu je metoda úvodní akce](../../tutorials/first-mvc-app/adding-controller/_static/welcome.png)

<span data-ttu-id="f6420-131">Upravte kód, který předat některé informace o parametrech z adresy URL kontroleru.</span><span class="sxs-lookup"><span data-stu-id="f6420-131">Modify the code to pass some parameter information from the URL to the controller.</span></span> <span data-ttu-id="f6420-132">Například `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span><span class="sxs-lookup"><span data-stu-id="f6420-132">For example, `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span></span> <span data-ttu-id="f6420-133">Změna `Welcome` tak, aby zahrnoval dva parametry, jak je znázorněno v následujícím kódu.</span><span class="sxs-lookup"><span data-stu-id="f6420-133">Change the `Welcome` method to include two parameters as shown in the following code.</span></span> 

<span data-ttu-id="f6420-134">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_2)]</span><span class="sxs-lookup"><span data-stu-id="f6420-134">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_2)]</span></span>

<span data-ttu-id="f6420-135">Předchozí kód:</span><span class="sxs-lookup"><span data-stu-id="f6420-135">The preceding code:</span></span>

* <span data-ttu-id="f6420-136">Používá funkci volitelný parametr C# k označení, že `numTimes` parametr výchozí hodnotu 1, pokud pro tento parametr není předána žádná hodnota.</span><span class="sxs-lookup"><span data-stu-id="f6420-136">Uses the C# optional-parameter feature to indicate that the `numTimes` parameter defaults to 1 if no value is passed for that parameter.</span></span>
* <span data-ttu-id="f6420-137">Používá`HtmlEncoder.Default.Encode` k ochraně aplikace před zlými úmysly vstup (konkrétně JavaScript).</span><span class="sxs-lookup"><span data-stu-id="f6420-137">Uses`HtmlEncoder.Default.Encode` to protect the app from malicious input (namely JavaScript).</span></span> 
* <span data-ttu-id="f6420-138">Používá [interpolované řetězce](https://docs.microsoft.com/dotnet/articles/csharp/language-reference/keywords/interpolated-strings).</span><span class="sxs-lookup"><span data-stu-id="f6420-138">Uses [Interpolated Strings](https://docs.microsoft.com/dotnet/articles/csharp/language-reference/keywords/interpolated-strings).</span></span>

<span data-ttu-id="f6420-139">Spuštění aplikace a přejděte do:</span><span class="sxs-lookup"><span data-stu-id="f6420-139">Run your app and browse to:</span></span>

   `http://localhost:xxxx/HelloWorld/Welcome?name=Rick&numtimes=4`

<span data-ttu-id="f6420-140">(Nahraďte xxxx vaše číslo portu.) Můžete použít různé hodnoty pro `name` a `numtimes` v adrese URL.</span><span class="sxs-lookup"><span data-stu-id="f6420-140">(Replace xxxx with your port number.) You can try different values for `name` and `numtimes` in  the URL.</span></span> <span data-ttu-id="f6420-141">MVC [model vazby](../../mvc/models/model-binding.md) systému automaticky mapuje pojmenované parametry z řetězce dotazu v panelu Adresa parametry ve své metodě.</span><span class="sxs-lookup"><span data-stu-id="f6420-141">The MVC [model binding](../../mvc/models/model-binding.md) system automatically maps the named parameters from  the query string in the address bar to parameters in your method.</span></span> <span data-ttu-id="f6420-142">V tématu [vazby modelu](../../mvc/models/model-binding.md) Další informace.</span><span class="sxs-lookup"><span data-stu-id="f6420-142">See [Model Binding](../../mvc/models/model-binding.md) for more information.</span></span>

![Okno prohlížeče zobrazující odpověď aplikace z Hello Rick, je NumTimes: 4](../../tutorials/first-mvc-app/adding-controller/_static/rick4.png)

<span data-ttu-id="f6420-144">Na obrázku výš, segment adresy URL (`Parameters`) se nepoužívá, `name` a `numTimes` parametry se jí předávají jako [řetězce dotazu](https://wikipedia.org/wiki/Query_string).</span><span class="sxs-lookup"><span data-stu-id="f6420-144">In the image above, the URL segment (`Parameters`) is not used, the `name` and `numTimes` parameters are passed as [query strings](https://wikipedia.org/wiki/Query_string).</span></span> <span data-ttu-id="f6420-145">`?` (Otazník) v výše uvedenou adresu URL je oddělovač a postupujte podle řetězce dotazu.</span><span class="sxs-lookup"><span data-stu-id="f6420-145">The `?` (question mark) in the above URL is a separator, and the query strings follow.</span></span> <span data-ttu-id="f6420-146">`&` Odděluje řetězce dotazu.</span><span class="sxs-lookup"><span data-stu-id="f6420-146">The `&` character separates query strings.</span></span>

<span data-ttu-id="f6420-147">Nahraďte `Welcome` metoda následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="f6420-147">Replace the `Welcome` method with the following code:</span></span>

<span data-ttu-id="f6420-148">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_3)]</span><span class="sxs-lookup"><span data-stu-id="f6420-148">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_3)]</span></span>

<span data-ttu-id="f6420-149">Spusťte aplikaci a zadejte následující adresu URL:`http://localhost:xxx/HelloWorld/Welcome/3?name=Rick`</span><span class="sxs-lookup"><span data-stu-id="f6420-149">Run the app and enter the following URL:  `http://localhost:xxx/HelloWorld/Welcome/3?name=Rick`</span></span>

![Okno prohlížeče zobrazující odpověď aplikace z Hello Rick, ID: 3](../../tutorials/first-mvc-app/adding-controller/_static/rick_routedata.png)

<span data-ttu-id="f6420-151">Tentokrát třetí segment adresy URL odpovídá parametru trasy `id`.</span><span class="sxs-lookup"><span data-stu-id="f6420-151">This time the third URL segment  matched the route parameter `id`.</span></span> <span data-ttu-id="f6420-152">`Welcome` Metoda obsahuje parametr `id` odpovídající zadaným šablony adresa URL `MapRoute` metoda.</span><span class="sxs-lookup"><span data-stu-id="f6420-152">The `Welcome`  method contains a parameter  `id` that matched the URL template in the `MapRoute` method.</span></span> <span data-ttu-id="f6420-153">Konci `?` (v `id?`) označuje `id` parametr je nepovinný.</span><span class="sxs-lookup"><span data-stu-id="f6420-153">The trailing `?`  (in `id?`) indicates the `id` parameter is optional.</span></span>

<span data-ttu-id="f6420-154">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]</span><span class="sxs-lookup"><span data-stu-id="f6420-154">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]</span></span>

<span data-ttu-id="f6420-155">V těchto příkladech řadičem má byla to část "VC" MVC – to znamená, zobrazení a kontroler fungovat.</span><span class="sxs-lookup"><span data-stu-id="f6420-155">In these examples the controller has been doing the "VC" portion  of MVC - that is, the view and controller work.</span></span> <span data-ttu-id="f6420-156">Řadičem přímo vrací HTML.</span><span class="sxs-lookup"><span data-stu-id="f6420-156">The controller is returning HTML  directly.</span></span> <span data-ttu-id="f6420-157">Obecně nechcete, aby řadiče vrácení HTML přímo, vzhledem k tomu, který se stane velmi náročná code a údržbu.</span><span class="sxs-lookup"><span data-stu-id="f6420-157">Generally you don't want controllers returning HTML directly, since  that becomes very cumbersome to code and maintain.</span></span> <span data-ttu-id="f6420-158">Místo toho můžete obvykle použít samostatný soubor šablony zobrazení syntaxe Razor při generování odpovědi HTML.</span><span class="sxs-lookup"><span data-stu-id="f6420-158">Instead you typically use a separate Razor view template file to help generate the HTML response.</span></span> <span data-ttu-id="f6420-159">Můžete to udělat v dalším kurzu.</span><span class="sxs-lookup"><span data-stu-id="f6420-159">You do that in the next tutorial.</span></span>
