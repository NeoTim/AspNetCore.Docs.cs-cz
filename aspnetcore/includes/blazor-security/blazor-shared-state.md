<span data-ttu-id="d9736-101">Blazor serverové aplikace jsou v paměti serveru v provozu.</span><span class="sxs-lookup"><span data-stu-id="d9736-101">Blazor server apps live in server memory.</span></span> <span data-ttu-id="d9736-102">To znamená, že v rámci jednoho procesu je hostováno více aplikací.</span><span class="sxs-lookup"><span data-stu-id="d9736-102">That means that there are multiple apps hosted within the same process.</span></span> <span data-ttu-id="d9736-103">Pro každou relaci aplikace Blazor spustí okruh s vlastním oborem typu DI Container.</span><span class="sxs-lookup"><span data-stu-id="d9736-103">For each app session, Blazor starts a circuit with its own DI container scope.</span></span> <span data-ttu-id="d9736-104">To znamená, že vymezené služby jsou pro každou relaci Blazor jedinečné.</span><span class="sxs-lookup"><span data-stu-id="d9736-104">That means that scoped services are unique per Blazor session.</span></span>

> [!WARNING]
> <span data-ttu-id="d9736-105">Nedoporučujeme, aby se aplikace na stejném stavu sdílené složky na stejném serveru používaly, pokud se nepoužije extrémní péče, protože to může způsobit ohrožení zabezpečení, jako je například nevracení stavu uživatele napříč okruhy.</span><span class="sxs-lookup"><span data-stu-id="d9736-105">We don't recommend apps on the same server share state using singleton services unless extreme care is taken, as this can introduce security vulnerabilities, such as leaking user state across circuits.</span></span>

<span data-ttu-id="d9736-106">V aplikacích Blazor můžete použít stavové služby typu Singleton, pokud jsou pro ně konkrétně navržené.</span><span class="sxs-lookup"><span data-stu-id="d9736-106">You can use stateful singleton services in Blazor apps if they are specifically designed for it.</span></span> <span data-ttu-id="d9736-107">Například je možné použít mezipaměť paměti jako typ singleton, protože pro přístup k dané položce vyžaduje klíč, za předpokladu, že uživatelé nemají kontrolu nad tím, jaké klíče mezipaměti jsou používány.</span><span class="sxs-lookup"><span data-stu-id="d9736-107">For example, it's ok to use a memory cache as a singleton because it requires a key to access a given entry, assuming users don't have control of what cache keys are used.</span></span>

<span data-ttu-id="d9736-108">**Z bezpečnostních důvodů navíc nesmíte v aplikacích Blazor používat <xref:Microsoft.AspNetCore.Http.IHttpContextAccessor> .**</span><span class="sxs-lookup"><span data-stu-id="d9736-108">**Additionally, again for security reasons, you must not use <xref:Microsoft.AspNetCore.Http.IHttpContextAccessor> within Blazor apps.**</span></span> <span data-ttu-id="d9736-109">Aplikace Blazor běží mimo kontext kanálu ASP.NET Core a není zaručena <xref:Microsoft.AspNetCore.Http.HttpContext> <xref:Microsoft.AspNetCore.Http.IHttpContextAccessor>, že by měla být k dispozici v rámci, ani zaručit, že by měla být v kontextu spuštěná aplikace Blazor.</span><span class="sxs-lookup"><span data-stu-id="d9736-109">Blazor apps run outside of the context of the ASP.NET Core pipeline and the <xref:Microsoft.AspNetCore.Http.HttpContext> isn't guaranteed to be available within the <xref:Microsoft.AspNetCore.Http.IHttpContextAccessor>, nor it is guaranteed to be holding the context that started the Blazor app.</span></span>

<span data-ttu-id="d9736-110">Doporučeným způsobem, jak předat stav žádosti do aplikace Blazor, je prostřednictvím parametrů kořenové součásti při počátečním vykreslování aplikace:</span><span class="sxs-lookup"><span data-stu-id="d9736-110">The recommended way to pass request state to the Blazor app is through parameters to the root component in the initial rendering of the app:</span></span>

* <span data-ttu-id="d9736-111">Definujte třídu se všemi daty, která chcete předat aplikaci Blazor.</span><span class="sxs-lookup"><span data-stu-id="d9736-111">Define a class with all the data you want to pass to the Blazor app.</span></span>
* <span data-ttu-id="d9736-112">Naplňte tato data ze stránky Razor pomocí <xref:Microsoft.AspNetCore.Http.HttpContext> dostupného času.</span><span class="sxs-lookup"><span data-stu-id="d9736-112">Populate that data from the Razor page using the <xref:Microsoft.AspNetCore.Http.HttpContext> available at that time.</span></span>
* <span data-ttu-id="d9736-113">Předejte data do aplikace Blazor jako parametr do kořenové součásti (aplikace).</span><span class="sxs-lookup"><span data-stu-id="d9736-113">Pass the data to the Blazor app as a parameter to the root component (App).</span></span>
* <span data-ttu-id="d9736-114">Definujte v kořenové součásti parametr, který bude obsahovat data předávaná do aplikace.</span><span class="sxs-lookup"><span data-stu-id="d9736-114">Define a parameter in the root component to hold the data being passed to the app.</span></span>
* <span data-ttu-id="d9736-115">Použijte data specifická pro uživatele v rámci aplikace. případně můžete tato data zkopírovat do vymezené služby v rámci <xref:Microsoft.AspNetCore.Components.ComponentBase.OnInitializedAsync%2A> , aby ji bylo možné použít v rámci aplikace.</span><span class="sxs-lookup"><span data-stu-id="d9736-115">Use the user-specific data within the app; or alternatively, copy that data into a scoped service within <xref:Microsoft.AspNetCore.Components.ComponentBase.OnInitializedAsync%2A> so that it can be used across the app.</span></span>

<span data-ttu-id="d9736-116">Další informace a příklady kódu naleznete v tématu <xref:security/blazor/server/additional-scenarios#pass-tokens-to-a-blazor-server-app>.</span><span class="sxs-lookup"><span data-stu-id="d9736-116">For more information and example code, see <xref:security/blazor/server/additional-scenarios#pass-tokens-to-a-blazor-server-app>.</span></span>
